{"version":3,"sources":["webpack:///./node_modules/monaco-editor/esm/vs/platform/configuration/common/configurationRegistry.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/contextview/browser/contextViewService.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/contextkey/common/contextkeys.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/files/common/files.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/accessibility/common/accessibility.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/actions/common/menuService.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/contextkey/common/contextkey.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/contextview/browser/contextView.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/extensions/common/extensions.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/browser/contextScopedHistoryWidget.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/contextview/browser/contextMenuHandler.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/contextview/browser/contextMenuService.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/editor/common/editor.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/actions/common/actions.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/commands/common/commands.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/configuration/common/configurationModels.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/accessibility/common/accessibilityService.js","webpack:///./node_modules/monaco-editor/esm/vs/nls.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/dialogs/common/dialogs.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/clipboard/common/clipboardService.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/contextkey/browser/contextKeyService.js","webpack:///./node_modules/monaco-editor/esm/vs/platform/configuration/common/configuration.js"],"names":["Extensions","Configuration","allSettings","properties","patternProperties","applicationSettings","machineSettings","machineOverridableSettings","windowSettings","resourceSettings","resourceLanguageSettingsSchemaId","contributionRegistry","as","JSONContribution","ConfigurationRegistry","this","overrideIdentifiers","Set","_onDidSchemaChange","_onDidUpdateConfiguration","defaultOverridesConfigurationNode","id","title","configurationContributors","resourceLanguageSettingsSchema","additionalProperties","errorMessage","allowTrailingCommas","allowComments","configurationProperties","excludedConfigurationProperties","registerSchema","prototype","registerConfiguration","configuration","validate","registerConfigurations","configurations","_this","forEach","push","apply","validateAndRegisterProperties","registerJSONConfiguration","fire","registerOverrideIdentifiers","_i","overrideIdentifiers_1","length","overrideIdentifier","add","updateOverridePropertyPatternKey","scope","propertyKeys","key","validateProperty","property","defaultValue","default","getDefaultValue","type","OVERRIDE_PROPERTY_PATTERN","test","undefined","hasOwnProperty","included","subNodes","allOf","subNodes_1","node","getConfigurationProperties","register","_a","_b","overrideIdentifierProperty","resourceLanguagePropertiesSchema","description","$ref","OVERRIDE_PROPERTY","RegExp","t","Array","isArray","configurationRegistry","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","p","__","constructor","create","__decorate","decorators","target","desc","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","ContextViewService","_super","layoutService","call","contextView","_register","container","layout","onLayout","setContainer","showContextView","delegate","show","hideContextView","data","hide","InputFocusedContextKey","FileKind","IAccessibilityService","CONTEXT_ACCESSIBILITY_MODE_ENABLED","MenuService","_commandService","createMenu","contextKeyService","Menu","_id","_contextKeyService","_onDidChange","_dispoables","_menuGroups","_contextKeys","_build","debounce","filter","onDidChangeMenu","menuId","onDidChangeContext","last","event","affectsSome","e","dispose","clear","group","menuItems","getMenuItems","sort","_compareMenuItems","menuItems_1","item","groupName","_fillInKbExprKeys","when","command","precondition","toggled","getActions","options","result","items","activeActions","items_1","contextMatchesRules","action","alt","exp","set","keys","a","aGroup","bGroup","value","localeCompare","aPrio","order","bPrio","_compareTitles","aStr","bStr","ContextKeyExpr","has","ContextKeyDefinedExpr","equals","ContextKeyEqualsExpr","regex","ContextKeyRegexExpr","not","ContextKeyNotExpr","and","expr","ContextKeyAndExpr","or","ContextKeyOrExpr","deserialize","serialized","strict","_deserializeOrExpression","pieces","split","map","_deserializeAndExpression","_deserializeOne","serializedOne","trim","indexOf","ContextKeyNotEqualsExpr","_deserializeValue","_deserializeRegexValue","substr","serializedValue","m","exec","Error","console","warn","start","end","lastIndexOf","slice","caseIgnoreFlag","cmp","aType","getType","bType","other","evaluate","context","getValue","negate","regexp","thisSource","source","otherSource","ContextKeyNotRegexExpr","_actual","actual","_expr","_normalizeArr","len","arr","concat","terminals","LEFT","shift","RIGHT","all","_c","left","_d","_e","right","unshift","RawContextKey","_defaultValue","bindTo","createKey","getContextKeyValue","toNegated","IContextKeyService","SET_CONTEXT_COMMAND_ID","IContextViewService","IContextMenuService","ExtensionIdentifier","_lower","toLowerCase","toKey","HistoryNavigationWidgetContext","HistoryNavigationEnablementContext","bindContextScopedWidget","widget","contextKey","createWidgetScopedContextKeyService","createScoped","getContextScopedWidget","getContext","document","activeElement","createAndBindHistoryNavigationWidgetScopedContextKeyService","scopedContextKeyService","historyNavigationEnablement","ContextScopedFindInput","contextViewProvider","showFindOptions","inputBox","element","historyNavigator","ContextScopedReplaceInput","showReplaceOptions","registerCommandAndKeybindingRule","weight","primary","secondary","handler","accessor","arg2","get","historyInputBox","showPreviousValue","showNextValue","ContextMenuHandler","contextViewService","telemetryService","notificationService","keybindingService","themeService","focusToReturn","block","blockMouse","configure","showContextMenu","menu","actions","getAnchor","canRelayout","anchorAlignment","render","className","getMenuClassName","appendChild","menuDisposables","actionRunner","onDidBeforeRun","onActionRun","onDidRun","onDidActionRun","actionViewItemProvider","getActionViewItem","getActionsContext","getKeyBinding","lookupKeybinding","onDidCancel","onDidBlur","window","BLUR","MOUSE_DOWN","defaultPrevented","rightButton","parentElement","focus","autoSelectFirstItem","onHide","didCancel","publicLog2","from","error","ContextMenuService","_onDidContextMenu","contextMenuHandler","EditorOpenContext","__spreadArrays","s","il","k","j","jl","isIMenuItem","IMenuService","MenuRegistry","class_1","_commands","Map","_menuItems","_onDidChangeMenu","addCommand","delete","getCommand","getCommands","appendMenuItem","array","idx","splice","_appendImplicitItems","temp","temp_1","ExecuteCommandAction","label","run","args","executeCommand","SubmenuItemAction","MenuItemAction","commandService","_cssClass","_enabled","_checked","Boolean","_options","runArgs","arg","shouldForwardArgs","ICommandService","CommandsRegistry","_onDidRegisterCommand","onDidRegisterCommand","registerCommand","idOrCommand","constraints_1","constraint","actualHandler_1","commands","removeFn","ret","isEmpty","registerCommandAlias","oldId","newId","list","iterator","next","ConfigurationModel","_contents","_keys","_overrides","isFrozen","checkAndFreeze","enumerable","configurable","section","contents","getOverrideValue","overrideContents","getContentsForOverrideIdentifer","override","identifier","contentsForKey","overrideContentsForKey","mergeContents","overrides","merge","others","others_1","_loop_1","otherOverride","o","identifiers","this_1","freeze","toJSON","setValue","addKey","removeValue","removeKey","index","DefaultConfigurationModel","message","_defaultConfiguration","_localUserConfiguration","_remoteUserConfiguration","_workspaceConfiguration","_folderConfigurations","_memoryConfiguration","_memoryConfigurationByResource","_freeze","_workspaceConsolidatedConfiguration","_foldersConsolidatedConfigurations","_userConfiguration","workspace","consolidateConfigurationModel","getConsolidateConfigurationModel","updateValue","memoryConfiguration","resource","inspect","folderConfigurationModel","getFolderConfigurationModelForResource","memoryConfigurationModel","userValue","userConfiguration","userLocalValue","localUserConfiguration","userRemoteValue","remoteUserConfiguration","workspaceValue","workspaceFolderValue","memoryValue","user","userLocal","userRemote","workspaceFolder","memory","configurationModel","getConsolidatedConfigurationModelForResource","consolidateConfiguration","getWorkspaceConsolidatedConfiguration","root","getFolder","getFolderConsolidatedConfiguration","uri","memoryConfigurationForResource","folder","folderConsolidatedConfiguration","workspaceConsolidateConfiguration","folderConfiguration","AccessibilityService","_configurationService","_accessibilitySupport","_onDidChangeScreenReaderOptimized","_accessibilityModeEnabledContext","updateContextKey","isScreenReaderOptimized","onDidChangeConfiguration","affectsConfiguration","onDidChangeScreenReaderOptimized","config","getAccessibilitySupport","_format","replace","match","rest","localize","IDialogService","IClipboardService","KEYBINDING_CONTEXT_ATTR","Context","parent","_parent","_value","NullContext","INSTANCE","ConfigAwareContextValuesContainer","emitter","_values","_listener","allKeys","ArrayContextKeyChangeEvent","changedKeys","affectedKeys","configKey","_keyPrefix","configValue","ContextKey","service","_service","_key","reset","setContext","removeContext","SimpleContextKeyChangeEvent","CompositeContextKeyChangeEvent","events","AbstractContextKeyService","myContextId","_onDidChangeContext","input","_isDisposed","_myContextId","bufferChangeEvents","callback","pause","resume","domNode","ScopedContextKeyService","rules","getContextValuesContainer","myContext","findContextAttr","ContextKeyService","configurationService","_contexts","_toDispose","_lastContextId","contextId","createChildContext","parentContextId","disposeContext","_domNode","setAttribute","String","removeAttribute","any","hasAttribute","attr","getAttribute","parseInt","NaN","contextValue","IConfigurationService","toValuesTree","conflictReporter","addToValueTree","settingsTreeRoot","segments","pop","curr","obj","join","JSON","stringify","removeFromValueTree","valueTree","doRemoveFromValueTree","first","getConfigurationValue","settingPath","accessSetting","path","current","path_1","component","getConfigurationKeys","getDefaultValues","valueTreeRoot","overrideIdentifierFromKey","substring","getMigratedSettingValue","currentSettingName","legacySettingName","setting","legacySetting"],"mappings":"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","file":"js/chunk-vendors~57c220dc.994a036a.js","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport * as nls from '../../../nls.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { Registry } from '../../registry/common/platform.js';\r\nimport * as types from '../../../base/common/types.js';\r\nimport { Extensions as JSONExtensions } from '../../jsonschemas/common/jsonContributionRegistry.js';\r\nimport { values } from '../../../base/common/map.js';\r\nexport var Extensions = {\r\n    Configuration: 'base.contributions.configuration'\r\n};\r\nexport var allSettings = { properties: {}, patternProperties: {} };\r\nexport var applicationSettings = { properties: {}, patternProperties: {} };\r\nexport var machineSettings = { properties: {}, patternProperties: {} };\r\nexport var machineOverridableSettings = { properties: {}, patternProperties: {} };\r\nexport var windowSettings = { properties: {}, patternProperties: {} };\r\nexport var resourceSettings = { properties: {}, patternProperties: {} };\r\nexport var resourceLanguageSettingsSchemaId = 'vscode://schemas/settings/resourceLanguage';\r\nvar contributionRegistry = Registry.as(JSONExtensions.JSONContribution);\r\nvar ConfigurationRegistry = /** @class */ (function () {\r\n    function ConfigurationRegistry() {\r\n        this.overrideIdentifiers = new Set();\r\n        this._onDidSchemaChange = new Emitter();\r\n        this._onDidUpdateConfiguration = new Emitter();\r\n        this.defaultOverridesConfigurationNode = {\r\n            id: 'defaultOverrides',\r\n            title: nls.localize('defaultConfigurations.title', \"Default Configuration Overrides\"),\r\n            properties: {}\r\n        };\r\n        this.configurationContributors = [this.defaultOverridesConfigurationNode];\r\n        this.resourceLanguageSettingsSchema = { properties: {}, patternProperties: {}, additionalProperties: false, errorMessage: 'Unknown editor configuration setting', allowTrailingCommas: true, allowComments: true };\r\n        this.configurationProperties = {};\r\n        this.excludedConfigurationProperties = {};\r\n        contributionRegistry.registerSchema(resourceLanguageSettingsSchemaId, this.resourceLanguageSettingsSchema);\r\n    }\r\n    ConfigurationRegistry.prototype.registerConfiguration = function (configuration, validate) {\r\n        if (validate === void 0) { validate = true; }\r\n        this.registerConfigurations([configuration], validate);\r\n    };\r\n    ConfigurationRegistry.prototype.registerConfigurations = function (configurations, validate) {\r\n        var _this = this;\r\n        if (validate === void 0) { validate = true; }\r\n        var properties = [];\r\n        configurations.forEach(function (configuration) {\r\n            properties.push.apply(properties, _this.validateAndRegisterProperties(configuration, validate)); // fills in defaults\r\n            _this.configurationContributors.push(configuration);\r\n            _this.registerJSONConfiguration(configuration);\r\n        });\r\n        contributionRegistry.registerSchema(resourceLanguageSettingsSchemaId, this.resourceLanguageSettingsSchema);\r\n        this._onDidSchemaChange.fire();\r\n        this._onDidUpdateConfiguration.fire(properties);\r\n    };\r\n    ConfigurationRegistry.prototype.registerOverrideIdentifiers = function (overrideIdentifiers) {\r\n        for (var _i = 0, overrideIdentifiers_1 = overrideIdentifiers; _i < overrideIdentifiers_1.length; _i++) {\r\n            var overrideIdentifier = overrideIdentifiers_1[_i];\r\n            this.overrideIdentifiers.add(overrideIdentifier);\r\n        }\r\n        this.updateOverridePropertyPatternKey();\r\n    };\r\n    ConfigurationRegistry.prototype.validateAndRegisterProperties = function (configuration, validate, scope) {\r\n        if (validate === void 0) { validate = true; }\r\n        if (scope === void 0) { scope = 3 /* WINDOW */; }\r\n        scope = types.isUndefinedOrNull(configuration.scope) ? scope : configuration.scope;\r\n        var propertyKeys = [];\r\n        var properties = configuration.properties;\r\n        if (properties) {\r\n            for (var key in properties) {\r\n                if (validate && validateProperty(key)) {\r\n                    delete properties[key];\r\n                    continue;\r\n                }\r\n                // fill in default values\r\n                var property = properties[key];\r\n                var defaultValue = property.default;\r\n                if (types.isUndefined(defaultValue)) {\r\n                    property.default = getDefaultValue(property.type);\r\n                }\r\n                if (OVERRIDE_PROPERTY_PATTERN.test(key)) {\r\n                    property.scope = undefined; // No scope for overridable properties `[${identifier}]`\r\n                }\r\n                else {\r\n                    property.scope = types.isUndefinedOrNull(property.scope) ? scope : property.scope;\r\n                }\r\n                // Add to properties maps\r\n                // Property is included by default if 'included' is unspecified\r\n                if (properties[key].hasOwnProperty('included') && !properties[key].included) {\r\n                    this.excludedConfigurationProperties[key] = properties[key];\r\n                    delete properties[key];\r\n                    continue;\r\n                }\r\n                else {\r\n                    this.configurationProperties[key] = properties[key];\r\n                }\r\n                propertyKeys.push(key);\r\n            }\r\n        }\r\n        var subNodes = configuration.allOf;\r\n        if (subNodes) {\r\n            for (var _i = 0, subNodes_1 = subNodes; _i < subNodes_1.length; _i++) {\r\n                var node = subNodes_1[_i];\r\n                propertyKeys.push.apply(propertyKeys, this.validateAndRegisterProperties(node, validate, scope));\r\n            }\r\n        }\r\n        return propertyKeys;\r\n    };\r\n    ConfigurationRegistry.prototype.getConfigurationProperties = function () {\r\n        return this.configurationProperties;\r\n    };\r\n    ConfigurationRegistry.prototype.registerJSONConfiguration = function (configuration) {\r\n        var _this = this;\r\n        var register = function (configuration) {\r\n            var properties = configuration.properties;\r\n            if (properties) {\r\n                for (var key in properties) {\r\n                    allSettings.properties[key] = properties[key];\r\n                    switch (properties[key].scope) {\r\n                        case 1 /* APPLICATION */:\r\n                            applicationSettings.properties[key] = properties[key];\r\n                            break;\r\n                        case 2 /* MACHINE */:\r\n                            machineSettings.properties[key] = properties[key];\r\n                            break;\r\n                        case 6 /* MACHINE_OVERRIDABLE */:\r\n                            machineOverridableSettings.properties[key] = properties[key];\r\n                            break;\r\n                        case 3 /* WINDOW */:\r\n                            windowSettings.properties[key] = properties[key];\r\n                            break;\r\n                        case 4 /* RESOURCE */:\r\n                            resourceSettings.properties[key] = properties[key];\r\n                            break;\r\n                        case 5 /* LANGUAGE_OVERRIDABLE */:\r\n                            resourceSettings.properties[key] = properties[key];\r\n                            _this.resourceLanguageSettingsSchema.properties[key] = properties[key];\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n            var subNodes = configuration.allOf;\r\n            if (subNodes) {\r\n                subNodes.forEach(register);\r\n            }\r\n        };\r\n        register(configuration);\r\n    };\r\n    ConfigurationRegistry.prototype.updateOverridePropertyPatternKey = function () {\r\n        var _a;\r\n        for (var _i = 0, _b = values(this.overrideIdentifiers); _i < _b.length; _i++) {\r\n            var overrideIdentifier = _b[_i];\r\n            var overrideIdentifierProperty = \"[\" + overrideIdentifier + \"]\";\r\n            var resourceLanguagePropertiesSchema = {\r\n                type: 'object',\r\n                description: nls.localize('overrideSettings.defaultDescription', \"Configure editor settings to be overridden for a language.\"),\r\n                errorMessage: nls.localize('overrideSettings.errorMessage', \"This setting does not support per-language configuration.\"),\r\n                $ref: resourceLanguageSettingsSchemaId,\r\n                default: (_a = this.defaultOverridesConfigurationNode.properties[overrideIdentifierProperty]) === null || _a === void 0 ? void 0 : _a.default\r\n            };\r\n            allSettings.properties[overrideIdentifierProperty] = resourceLanguagePropertiesSchema;\r\n            applicationSettings.properties[overrideIdentifierProperty] = resourceLanguagePropertiesSchema;\r\n            machineSettings.properties[overrideIdentifierProperty] = resourceLanguagePropertiesSchema;\r\n            machineOverridableSettings.properties[overrideIdentifierProperty] = resourceLanguagePropertiesSchema;\r\n            windowSettings.properties[overrideIdentifierProperty] = resourceLanguagePropertiesSchema;\r\n            resourceSettings.properties[overrideIdentifierProperty] = resourceLanguagePropertiesSchema;\r\n        }\r\n        this._onDidSchemaChange.fire();\r\n    };\r\n    return ConfigurationRegistry;\r\n}());\r\nvar OVERRIDE_PROPERTY = '\\\\[.*\\\\]$';\r\nexport var OVERRIDE_PROPERTY_PATTERN = new RegExp(OVERRIDE_PROPERTY);\r\nexport function getDefaultValue(type) {\r\n    var t = Array.isArray(type) ? type[0] : type;\r\n    switch (t) {\r\n        case 'boolean':\r\n            return false;\r\n        case 'integer':\r\n        case 'number':\r\n            return 0;\r\n        case 'string':\r\n            return '';\r\n        case 'array':\r\n            return [];\r\n        case 'object':\r\n            return {};\r\n        default:\r\n            return null;\r\n    }\r\n}\r\nvar configurationRegistry = new ConfigurationRegistry();\r\nRegistry.add(Extensions.Configuration, configurationRegistry);\r\nexport function validateProperty(property) {\r\n    if (OVERRIDE_PROPERTY_PATTERN.test(property)) {\r\n        return nls.localize('config.property.languageDefault', \"Cannot register '{0}'. This matches property pattern '\\\\\\\\[.*\\\\\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.\", property);\r\n    }\r\n    if (configurationRegistry.getConfigurationProperties()[property] !== undefined) {\r\n        return nls.localize('config.property.duplicate', \"Cannot register '{0}'. This property is already registered.\", property);\r\n    }\r\n    return null;\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { ContextView } from '../../../base/browser/ui/contextview/contextview.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { ILayoutService } from '../../layout/browser/layoutService.js';\r\nvar ContextViewService = /** @class */ (function (_super) {\r\n    __extends(ContextViewService, _super);\r\n    function ContextViewService(layoutService) {\r\n        var _this = _super.call(this) || this;\r\n        _this.layoutService = layoutService;\r\n        _this.contextView = _this._register(new ContextView(layoutService.container));\r\n        _this.layout();\r\n        _this._register(layoutService.onLayout(function () { return _this.layout(); }));\r\n        return _this;\r\n    }\r\n    // ContextView\r\n    ContextViewService.prototype.setContainer = function (container) {\r\n        this.contextView.setContainer(container);\r\n    };\r\n    ContextViewService.prototype.showContextView = function (delegate) {\r\n        this.contextView.show(delegate);\r\n    };\r\n    ContextViewService.prototype.layout = function () {\r\n        this.contextView.layout();\r\n    };\r\n    ContextViewService.prototype.hideContextView = function (data) {\r\n        this.contextView.hide(data);\r\n    };\r\n    ContextViewService = __decorate([\r\n        __param(0, ILayoutService)\r\n    ], ContextViewService);\r\n    return ContextViewService;\r\n}(Disposable));\r\nexport { ContextViewService };\r\n","export var InputFocusedContextKey = 'inputFocus';\r\n","export var FileKind;\r\n(function (FileKind) {\r\n    FileKind[FileKind[\"FILE\"] = 0] = \"FILE\";\r\n    FileKind[FileKind[\"FOLDER\"] = 1] = \"FOLDER\";\r\n    FileKind[FileKind[\"ROOT_FOLDER\"] = 2] = \"ROOT_FOLDER\";\r\n})(FileKind || (FileKind = {}));\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\r\nimport { RawContextKey } from '../../contextkey/common/contextkey.js';\r\nexport var IAccessibilityService = createDecorator('accessibilityService');\r\nexport var CONTEXT_ACCESSIBILITY_MODE_ENABLED = new RawContextKey('accessibilityModeEnabled', false);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { Emitter, Event } from '../../../base/common/event.js';\r\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { isIMenuItem, MenuItemAction, MenuRegistry, SubmenuItemAction } from './actions.js';\r\nimport { ICommandService } from '../../commands/common/commands.js';\r\nimport { IContextKeyService } from '../../contextkey/common/contextkey.js';\r\nvar MenuService = /** @class */ (function () {\r\n    function MenuService(_commandService) {\r\n        this._commandService = _commandService;\r\n        //\r\n    }\r\n    MenuService.prototype.createMenu = function (id, contextKeyService) {\r\n        return new Menu(id, this._commandService, contextKeyService);\r\n    };\r\n    MenuService = __decorate([\r\n        __param(0, ICommandService)\r\n    ], MenuService);\r\n    return MenuService;\r\n}());\r\nexport { MenuService };\r\nvar Menu = /** @class */ (function () {\r\n    function Menu(_id, _commandService, _contextKeyService) {\r\n        var _this = this;\r\n        this._id = _id;\r\n        this._commandService = _commandService;\r\n        this._contextKeyService = _contextKeyService;\r\n        this._onDidChange = new Emitter();\r\n        this._dispoables = new DisposableStore();\r\n        this._menuGroups = [];\r\n        this._contextKeys = new Set();\r\n        this._build();\r\n        // rebuild this menu whenever the menu registry reports an\r\n        // event for this MenuId\r\n        this._dispoables.add(Event.debounce(Event.filter(MenuRegistry.onDidChangeMenu, function (menuId) { return menuId === _this._id; }), function () { }, 50)(this._build, this));\r\n        // when context keys change we need to check if the menu also\r\n        // has changed\r\n        this._dispoables.add(Event.debounce(this._contextKeyService.onDidChangeContext, function (last, event) { return last || event.affectsSome(_this._contextKeys); }, 50)(function (e) { return e && _this._onDidChange.fire(undefined); }, this));\r\n    }\r\n    Menu.prototype.dispose = function () {\r\n        this._dispoables.dispose();\r\n        this._onDidChange.dispose();\r\n    };\r\n    Menu.prototype._build = function () {\r\n        // reset\r\n        this._menuGroups.length = 0;\r\n        this._contextKeys.clear();\r\n        var menuItems = MenuRegistry.getMenuItems(this._id);\r\n        var group;\r\n        menuItems.sort(Menu._compareMenuItems);\r\n        for (var _i = 0, menuItems_1 = menuItems; _i < menuItems_1.length; _i++) {\r\n            var item = menuItems_1[_i];\r\n            // group by groupId\r\n            var groupName = item.group || '';\r\n            if (!group || group[0] !== groupName) {\r\n                group = [groupName, []];\r\n                this._menuGroups.push(group);\r\n            }\r\n            group[1].push(item);\r\n            // keep keys for eventing\r\n            Menu._fillInKbExprKeys(item.when, this._contextKeys);\r\n            // keep precondition keys for event if applicable\r\n            if (isIMenuItem(item) && item.command.precondition) {\r\n                Menu._fillInKbExprKeys(item.command.precondition, this._contextKeys);\r\n            }\r\n            // keep toggled keys for event if applicable\r\n            if (isIMenuItem(item) && item.command.toggled) {\r\n                Menu._fillInKbExprKeys(item.command.toggled, this._contextKeys);\r\n            }\r\n        }\r\n        this._onDidChange.fire(this);\r\n    };\r\n    Menu.prototype.getActions = function (options) {\r\n        var result = [];\r\n        for (var _i = 0, _a = this._menuGroups; _i < _a.length; _i++) {\r\n            var group = _a[_i];\r\n            var id = group[0], items = group[1];\r\n            var activeActions = [];\r\n            for (var _b = 0, items_1 = items; _b < items_1.length; _b++) {\r\n                var item = items_1[_b];\r\n                if (this._contextKeyService.contextMatchesRules(item.when)) {\r\n                    var action = isIMenuItem(item)\r\n                        ? new MenuItemAction(item.command, item.alt, options, this._contextKeyService, this._commandService)\r\n                        : new SubmenuItemAction(item);\r\n                    activeActions.push(action);\r\n                }\r\n            }\r\n            if (activeActions.length > 0) {\r\n                result.push([id, activeActions]);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    Menu._fillInKbExprKeys = function (exp, set) {\r\n        if (exp) {\r\n            for (var _i = 0, _a = exp.keys(); _i < _a.length; _i++) {\r\n                var key = _a[_i];\r\n                set.add(key);\r\n            }\r\n        }\r\n    };\r\n    Menu._compareMenuItems = function (a, b) {\r\n        var aGroup = a.group;\r\n        var bGroup = b.group;\r\n        if (aGroup !== bGroup) {\r\n            // Falsy groups come last\r\n            if (!aGroup) {\r\n                return 1;\r\n            }\r\n            else if (!bGroup) {\r\n                return -1;\r\n            }\r\n            // 'navigation' group comes first\r\n            if (aGroup === 'navigation') {\r\n                return -1;\r\n            }\r\n            else if (bGroup === 'navigation') {\r\n                return 1;\r\n            }\r\n            // lexical sort for groups\r\n            var value = aGroup.localeCompare(bGroup);\r\n            if (value !== 0) {\r\n                return value;\r\n            }\r\n        }\r\n        // sort on priority - default is 0\r\n        var aPrio = a.order || 0;\r\n        var bPrio = b.order || 0;\r\n        if (aPrio < bPrio) {\r\n            return -1;\r\n        }\r\n        else if (aPrio > bPrio) {\r\n            return 1;\r\n        }\r\n        // sort on titles\r\n        return Menu._compareTitles(isIMenuItem(a) ? a.command.title : a.title, isIMenuItem(b) ? b.command.title : b.title);\r\n    };\r\n    Menu._compareTitles = function (a, b) {\r\n        var aStr = typeof a === 'string' ? a : a.value;\r\n        var bStr = typeof b === 'string' ? b : b.value;\r\n        return aStr.localeCompare(bStr);\r\n    };\r\n    Menu = __decorate([\r\n        __param(1, ICommandService),\r\n        __param(2, IContextKeyService)\r\n    ], Menu);\r\n    return Menu;\r\n}());\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { isFalsyOrWhitespace } from '../../../base/common/strings.js';\r\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\r\nvar ContextKeyExpr = /** @class */ (function () {\r\n    function ContextKeyExpr() {\r\n    }\r\n    ContextKeyExpr.has = function (key) {\r\n        return ContextKeyDefinedExpr.create(key);\r\n    };\r\n    ContextKeyExpr.equals = function (key, value) {\r\n        return ContextKeyEqualsExpr.create(key, value);\r\n    };\r\n    ContextKeyExpr.regex = function (key, value) {\r\n        return ContextKeyRegexExpr.create(key, value);\r\n    };\r\n    ContextKeyExpr.not = function (key) {\r\n        return ContextKeyNotExpr.create(key);\r\n    };\r\n    ContextKeyExpr.and = function () {\r\n        var expr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            expr[_i] = arguments[_i];\r\n        }\r\n        return ContextKeyAndExpr.create(expr);\r\n    };\r\n    ContextKeyExpr.or = function () {\r\n        var expr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            expr[_i] = arguments[_i];\r\n        }\r\n        return ContextKeyOrExpr.create(expr);\r\n    };\r\n    ContextKeyExpr.deserialize = function (serialized, strict) {\r\n        if (strict === void 0) { strict = false; }\r\n        if (!serialized) {\r\n            return undefined;\r\n        }\r\n        return this._deserializeOrExpression(serialized, strict);\r\n    };\r\n    ContextKeyExpr._deserializeOrExpression = function (serialized, strict) {\r\n        var _this = this;\r\n        var pieces = serialized.split('||');\r\n        return ContextKeyOrExpr.create(pieces.map(function (p) { return _this._deserializeAndExpression(p, strict); }));\r\n    };\r\n    ContextKeyExpr._deserializeAndExpression = function (serialized, strict) {\r\n        var _this = this;\r\n        var pieces = serialized.split('&&');\r\n        return ContextKeyAndExpr.create(pieces.map(function (p) { return _this._deserializeOne(p, strict); }));\r\n    };\r\n    ContextKeyExpr._deserializeOne = function (serializedOne, strict) {\r\n        serializedOne = serializedOne.trim();\r\n        if (serializedOne.indexOf('!=') >= 0) {\r\n            var pieces = serializedOne.split('!=');\r\n            return ContextKeyNotEqualsExpr.create(pieces[0].trim(), this._deserializeValue(pieces[1], strict));\r\n        }\r\n        if (serializedOne.indexOf('==') >= 0) {\r\n            var pieces = serializedOne.split('==');\r\n            return ContextKeyEqualsExpr.create(pieces[0].trim(), this._deserializeValue(pieces[1], strict));\r\n        }\r\n        if (serializedOne.indexOf('=~') >= 0) {\r\n            var pieces = serializedOne.split('=~');\r\n            return ContextKeyRegexExpr.create(pieces[0].trim(), this._deserializeRegexValue(pieces[1], strict));\r\n        }\r\n        if (/^\\!\\s*/.test(serializedOne)) {\r\n            return ContextKeyNotExpr.create(serializedOne.substr(1).trim());\r\n        }\r\n        return ContextKeyDefinedExpr.create(serializedOne);\r\n    };\r\n    ContextKeyExpr._deserializeValue = function (serializedValue, strict) {\r\n        serializedValue = serializedValue.trim();\r\n        if (serializedValue === 'true') {\r\n            return true;\r\n        }\r\n        if (serializedValue === 'false') {\r\n            return false;\r\n        }\r\n        var m = /^'([^']*)'$/.exec(serializedValue);\r\n        if (m) {\r\n            return m[1].trim();\r\n        }\r\n        return serializedValue;\r\n    };\r\n    ContextKeyExpr._deserializeRegexValue = function (serializedValue, strict) {\r\n        if (isFalsyOrWhitespace(serializedValue)) {\r\n            if (strict) {\r\n                throw new Error('missing regexp-value for =~-expression');\r\n            }\r\n            else {\r\n                console.warn('missing regexp-value for =~-expression');\r\n            }\r\n            return null;\r\n        }\r\n        var start = serializedValue.indexOf('/');\r\n        var end = serializedValue.lastIndexOf('/');\r\n        if (start === end || start < 0 /* || to < 0 */) {\r\n            if (strict) {\r\n                throw new Error(\"bad regexp-value '\" + serializedValue + \"', missing /-enclosure\");\r\n            }\r\n            else {\r\n                console.warn(\"bad regexp-value '\" + serializedValue + \"', missing /-enclosure\");\r\n            }\r\n            return null;\r\n        }\r\n        var value = serializedValue.slice(start + 1, end);\r\n        var caseIgnoreFlag = serializedValue[end + 1] === 'i' ? 'i' : '';\r\n        try {\r\n            return new RegExp(value, caseIgnoreFlag);\r\n        }\r\n        catch (e) {\r\n            if (strict) {\r\n                throw new Error(\"bad regexp-value '\" + serializedValue + \"', parse error: \" + e);\r\n            }\r\n            else {\r\n                console.warn(\"bad regexp-value '\" + serializedValue + \"', parse error: \" + e);\r\n            }\r\n            return null;\r\n        }\r\n    };\r\n    return ContextKeyExpr;\r\n}());\r\nexport { ContextKeyExpr };\r\nfunction cmp(a, b) {\r\n    var aType = a.getType();\r\n    var bType = b.getType();\r\n    if (aType !== bType) {\r\n        return aType - bType;\r\n    }\r\n    switch (aType) {\r\n        case 1 /* Defined */:\r\n            return a.cmp(b);\r\n        case 2 /* Not */:\r\n            return a.cmp(b);\r\n        case 3 /* Equals */:\r\n            return a.cmp(b);\r\n        case 4 /* NotEquals */:\r\n            return a.cmp(b);\r\n        case 6 /* Regex */:\r\n            return a.cmp(b);\r\n        case 7 /* NotRegex */:\r\n            return a.cmp(b);\r\n        case 5 /* And */:\r\n            return a.cmp(b);\r\n        default:\r\n            throw new Error('Unknown ContextKeyExpr!');\r\n    }\r\n}\r\nvar ContextKeyDefinedExpr = /** @class */ (function () {\r\n    function ContextKeyDefinedExpr(key) {\r\n        this.key = key;\r\n    }\r\n    ContextKeyDefinedExpr.create = function (key) {\r\n        return new ContextKeyDefinedExpr(key);\r\n    };\r\n    ContextKeyDefinedExpr.prototype.getType = function () {\r\n        return 1 /* Defined */;\r\n    };\r\n    ContextKeyDefinedExpr.prototype.cmp = function (other) {\r\n        if (this.key < other.key) {\r\n            return -1;\r\n        }\r\n        if (this.key > other.key) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    };\r\n    ContextKeyDefinedExpr.prototype.equals = function (other) {\r\n        if (other instanceof ContextKeyDefinedExpr) {\r\n            return (this.key === other.key);\r\n        }\r\n        return false;\r\n    };\r\n    ContextKeyDefinedExpr.prototype.evaluate = function (context) {\r\n        return (!!context.getValue(this.key));\r\n    };\r\n    ContextKeyDefinedExpr.prototype.keys = function () {\r\n        return [this.key];\r\n    };\r\n    ContextKeyDefinedExpr.prototype.negate = function () {\r\n        return ContextKeyNotExpr.create(this.key);\r\n    };\r\n    return ContextKeyDefinedExpr;\r\n}());\r\nexport { ContextKeyDefinedExpr };\r\nvar ContextKeyEqualsExpr = /** @class */ (function () {\r\n    function ContextKeyEqualsExpr(key, value) {\r\n        this.key = key;\r\n        this.value = value;\r\n    }\r\n    ContextKeyEqualsExpr.create = function (key, value) {\r\n        if (typeof value === 'boolean') {\r\n            if (value) {\r\n                return ContextKeyDefinedExpr.create(key);\r\n            }\r\n            return ContextKeyNotExpr.create(key);\r\n        }\r\n        return new ContextKeyEqualsExpr(key, value);\r\n    };\r\n    ContextKeyEqualsExpr.prototype.getType = function () {\r\n        return 3 /* Equals */;\r\n    };\r\n    ContextKeyEqualsExpr.prototype.cmp = function (other) {\r\n        if (this.key < other.key) {\r\n            return -1;\r\n        }\r\n        if (this.key > other.key) {\r\n            return 1;\r\n        }\r\n        if (this.value < other.value) {\r\n            return -1;\r\n        }\r\n        if (this.value > other.value) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    };\r\n    ContextKeyEqualsExpr.prototype.equals = function (other) {\r\n        if (other instanceof ContextKeyEqualsExpr) {\r\n            return (this.key === other.key && this.value === other.value);\r\n        }\r\n        return false;\r\n    };\r\n    ContextKeyEqualsExpr.prototype.evaluate = function (context) {\r\n        // Intentional ==\r\n        // eslint-disable-next-line eqeqeq\r\n        return (context.getValue(this.key) == this.value);\r\n    };\r\n    ContextKeyEqualsExpr.prototype.keys = function () {\r\n        return [this.key];\r\n    };\r\n    ContextKeyEqualsExpr.prototype.negate = function () {\r\n        return ContextKeyNotEqualsExpr.create(this.key, this.value);\r\n    };\r\n    return ContextKeyEqualsExpr;\r\n}());\r\nexport { ContextKeyEqualsExpr };\r\nvar ContextKeyNotEqualsExpr = /** @class */ (function () {\r\n    function ContextKeyNotEqualsExpr(key, value) {\r\n        this.key = key;\r\n        this.value = value;\r\n    }\r\n    ContextKeyNotEqualsExpr.create = function (key, value) {\r\n        if (typeof value === 'boolean') {\r\n            if (value) {\r\n                return ContextKeyNotExpr.create(key);\r\n            }\r\n            return ContextKeyDefinedExpr.create(key);\r\n        }\r\n        return new ContextKeyNotEqualsExpr(key, value);\r\n    };\r\n    ContextKeyNotEqualsExpr.prototype.getType = function () {\r\n        return 4 /* NotEquals */;\r\n    };\r\n    ContextKeyNotEqualsExpr.prototype.cmp = function (other) {\r\n        if (this.key < other.key) {\r\n            return -1;\r\n        }\r\n        if (this.key > other.key) {\r\n            return 1;\r\n        }\r\n        if (this.value < other.value) {\r\n            return -1;\r\n        }\r\n        if (this.value > other.value) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    };\r\n    ContextKeyNotEqualsExpr.prototype.equals = function (other) {\r\n        if (other instanceof ContextKeyNotEqualsExpr) {\r\n            return (this.key === other.key && this.value === other.value);\r\n        }\r\n        return false;\r\n    };\r\n    ContextKeyNotEqualsExpr.prototype.evaluate = function (context) {\r\n        // Intentional !=\r\n        // eslint-disable-next-line eqeqeq\r\n        return (context.getValue(this.key) != this.value);\r\n    };\r\n    ContextKeyNotEqualsExpr.prototype.keys = function () {\r\n        return [this.key];\r\n    };\r\n    ContextKeyNotEqualsExpr.prototype.negate = function () {\r\n        return ContextKeyEqualsExpr.create(this.key, this.value);\r\n    };\r\n    return ContextKeyNotEqualsExpr;\r\n}());\r\nexport { ContextKeyNotEqualsExpr };\r\nvar ContextKeyNotExpr = /** @class */ (function () {\r\n    function ContextKeyNotExpr(key) {\r\n        this.key = key;\r\n    }\r\n    ContextKeyNotExpr.create = function (key) {\r\n        return new ContextKeyNotExpr(key);\r\n    };\r\n    ContextKeyNotExpr.prototype.getType = function () {\r\n        return 2 /* Not */;\r\n    };\r\n    ContextKeyNotExpr.prototype.cmp = function (other) {\r\n        if (this.key < other.key) {\r\n            return -1;\r\n        }\r\n        if (this.key > other.key) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    };\r\n    ContextKeyNotExpr.prototype.equals = function (other) {\r\n        if (other instanceof ContextKeyNotExpr) {\r\n            return (this.key === other.key);\r\n        }\r\n        return false;\r\n    };\r\n    ContextKeyNotExpr.prototype.evaluate = function (context) {\r\n        return (!context.getValue(this.key));\r\n    };\r\n    ContextKeyNotExpr.prototype.keys = function () {\r\n        return [this.key];\r\n    };\r\n    ContextKeyNotExpr.prototype.negate = function () {\r\n        return ContextKeyDefinedExpr.create(this.key);\r\n    };\r\n    return ContextKeyNotExpr;\r\n}());\r\nexport { ContextKeyNotExpr };\r\nvar ContextKeyRegexExpr = /** @class */ (function () {\r\n    function ContextKeyRegexExpr(key, regexp) {\r\n        this.key = key;\r\n        this.regexp = regexp;\r\n        //\r\n    }\r\n    ContextKeyRegexExpr.create = function (key, regexp) {\r\n        return new ContextKeyRegexExpr(key, regexp);\r\n    };\r\n    ContextKeyRegexExpr.prototype.getType = function () {\r\n        return 6 /* Regex */;\r\n    };\r\n    ContextKeyRegexExpr.prototype.cmp = function (other) {\r\n        if (this.key < other.key) {\r\n            return -1;\r\n        }\r\n        if (this.key > other.key) {\r\n            return 1;\r\n        }\r\n        var thisSource = this.regexp ? this.regexp.source : '';\r\n        var otherSource = other.regexp ? other.regexp.source : '';\r\n        if (thisSource < otherSource) {\r\n            return -1;\r\n        }\r\n        if (thisSource > otherSource) {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    };\r\n    ContextKeyRegexExpr.prototype.equals = function (other) {\r\n        if (other instanceof ContextKeyRegexExpr) {\r\n            var thisSource = this.regexp ? this.regexp.source : '';\r\n            var otherSource = other.regexp ? other.regexp.source : '';\r\n            return (this.key === other.key && thisSource === otherSource);\r\n        }\r\n        return false;\r\n    };\r\n    ContextKeyRegexExpr.prototype.evaluate = function (context) {\r\n        var value = context.getValue(this.key);\r\n        return this.regexp ? this.regexp.test(value) : false;\r\n    };\r\n    ContextKeyRegexExpr.prototype.keys = function () {\r\n        return [this.key];\r\n    };\r\n    ContextKeyRegexExpr.prototype.negate = function () {\r\n        return ContextKeyNotRegexExpr.create(this);\r\n    };\r\n    return ContextKeyRegexExpr;\r\n}());\r\nexport { ContextKeyRegexExpr };\r\nvar ContextKeyNotRegexExpr = /** @class */ (function () {\r\n    function ContextKeyNotRegexExpr(_actual) {\r\n        this._actual = _actual;\r\n        //\r\n    }\r\n    ContextKeyNotRegexExpr.create = function (actual) {\r\n        return new ContextKeyNotRegexExpr(actual);\r\n    };\r\n    ContextKeyNotRegexExpr.prototype.getType = function () {\r\n        return 7 /* NotRegex */;\r\n    };\r\n    ContextKeyNotRegexExpr.prototype.cmp = function (other) {\r\n        return this._actual.cmp(other._actual);\r\n    };\r\n    ContextKeyNotRegexExpr.prototype.equals = function (other) {\r\n        if (other instanceof ContextKeyNotRegexExpr) {\r\n            return this._actual.equals(other._actual);\r\n        }\r\n        return false;\r\n    };\r\n    ContextKeyNotRegexExpr.prototype.evaluate = function (context) {\r\n        return !this._actual.evaluate(context);\r\n    };\r\n    ContextKeyNotRegexExpr.prototype.keys = function () {\r\n        return this._actual.keys();\r\n    };\r\n    ContextKeyNotRegexExpr.prototype.negate = function () {\r\n        return this._actual;\r\n    };\r\n    return ContextKeyNotRegexExpr;\r\n}());\r\nexport { ContextKeyNotRegexExpr };\r\nvar ContextKeyAndExpr = /** @class */ (function () {\r\n    function ContextKeyAndExpr(expr) {\r\n        this.expr = expr;\r\n    }\r\n    ContextKeyAndExpr.create = function (_expr) {\r\n        var expr = ContextKeyAndExpr._normalizeArr(_expr);\r\n        if (expr.length === 0) {\r\n            return undefined;\r\n        }\r\n        if (expr.length === 1) {\r\n            return expr[0];\r\n        }\r\n        return new ContextKeyAndExpr(expr);\r\n    };\r\n    ContextKeyAndExpr.prototype.getType = function () {\r\n        return 5 /* And */;\r\n    };\r\n    ContextKeyAndExpr.prototype.cmp = function (other) {\r\n        if (this.expr.length < other.expr.length) {\r\n            return -1;\r\n        }\r\n        if (this.expr.length > other.expr.length) {\r\n            return 1;\r\n        }\r\n        for (var i = 0, len = this.expr.length; i < len; i++) {\r\n            var r = cmp(this.expr[i], other.expr[i]);\r\n            if (r !== 0) {\r\n                return r;\r\n            }\r\n        }\r\n        return 0;\r\n    };\r\n    ContextKeyAndExpr.prototype.equals = function (other) {\r\n        if (other instanceof ContextKeyAndExpr) {\r\n            if (this.expr.length !== other.expr.length) {\r\n                return false;\r\n            }\r\n            for (var i = 0, len = this.expr.length; i < len; i++) {\r\n                if (!this.expr[i].equals(other.expr[i])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    ContextKeyAndExpr.prototype.evaluate = function (context) {\r\n        for (var i = 0, len = this.expr.length; i < len; i++) {\r\n            if (!this.expr[i].evaluate(context)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    ContextKeyAndExpr._normalizeArr = function (arr) {\r\n        var expr = [];\r\n        if (arr) {\r\n            for (var i = 0, len = arr.length; i < len; i++) {\r\n                var e = arr[i];\r\n                if (!e) {\r\n                    continue;\r\n                }\r\n                if (e instanceof ContextKeyAndExpr) {\r\n                    expr = expr.concat(e.expr);\r\n                    continue;\r\n                }\r\n                if (e instanceof ContextKeyOrExpr) {\r\n                    // Not allowed, because we don't have parens!\r\n                    throw new Error(\"It is not allowed to have an or expression here due to lack of parens! For example \\\"a && (b||c)\\\" is not supported, use \\\"(a&&b) || (a&&c)\\\" instead.\");\r\n                }\r\n                expr.push(e);\r\n            }\r\n            expr.sort(cmp);\r\n        }\r\n        return expr;\r\n    };\r\n    ContextKeyAndExpr.prototype.keys = function () {\r\n        var result = [];\r\n        for (var _i = 0, _a = this.expr; _i < _a.length; _i++) {\r\n            var expr = _a[_i];\r\n            result.push.apply(result, expr.keys());\r\n        }\r\n        return result;\r\n    };\r\n    ContextKeyAndExpr.prototype.negate = function () {\r\n        var result = [];\r\n        for (var _i = 0, _a = this.expr; _i < _a.length; _i++) {\r\n            var expr = _a[_i];\r\n            result.push(expr.negate());\r\n        }\r\n        return ContextKeyOrExpr.create(result);\r\n    };\r\n    return ContextKeyAndExpr;\r\n}());\r\nexport { ContextKeyAndExpr };\r\nvar ContextKeyOrExpr = /** @class */ (function () {\r\n    function ContextKeyOrExpr(expr) {\r\n        this.expr = expr;\r\n    }\r\n    ContextKeyOrExpr.create = function (_expr) {\r\n        var expr = ContextKeyOrExpr._normalizeArr(_expr);\r\n        if (expr.length === 0) {\r\n            return undefined;\r\n        }\r\n        if (expr.length === 1) {\r\n            return expr[0];\r\n        }\r\n        return new ContextKeyOrExpr(expr);\r\n    };\r\n    ContextKeyOrExpr.prototype.getType = function () {\r\n        return 8 /* Or */;\r\n    };\r\n    ContextKeyOrExpr.prototype.equals = function (other) {\r\n        if (other instanceof ContextKeyOrExpr) {\r\n            if (this.expr.length !== other.expr.length) {\r\n                return false;\r\n            }\r\n            for (var i = 0, len = this.expr.length; i < len; i++) {\r\n                if (!this.expr[i].equals(other.expr[i])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    ContextKeyOrExpr.prototype.evaluate = function (context) {\r\n        for (var i = 0, len = this.expr.length; i < len; i++) {\r\n            if (this.expr[i].evaluate(context)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    ContextKeyOrExpr._normalizeArr = function (arr) {\r\n        var expr = [];\r\n        if (arr) {\r\n            for (var i = 0, len = arr.length; i < len; i++) {\r\n                var e = arr[i];\r\n                if (!e) {\r\n                    continue;\r\n                }\r\n                if (e instanceof ContextKeyOrExpr) {\r\n                    expr = expr.concat(e.expr);\r\n                    continue;\r\n                }\r\n                expr.push(e);\r\n            }\r\n            expr.sort(cmp);\r\n        }\r\n        return expr;\r\n    };\r\n    ContextKeyOrExpr.prototype.keys = function () {\r\n        var result = [];\r\n        for (var _i = 0, _a = this.expr; _i < _a.length; _i++) {\r\n            var expr = _a[_i];\r\n            result.push.apply(result, expr.keys());\r\n        }\r\n        return result;\r\n    };\r\n    ContextKeyOrExpr.prototype.negate = function () {\r\n        var result = [];\r\n        for (var _i = 0, _a = this.expr; _i < _a.length; _i++) {\r\n            var expr = _a[_i];\r\n            result.push(expr.negate());\r\n        }\r\n        var terminals = function (node) {\r\n            if (node instanceof ContextKeyOrExpr) {\r\n                return node.expr;\r\n            }\r\n            return [node];\r\n        };\r\n        // We don't support parens, so here we distribute the AND over the OR terminals\r\n        // We always take the first 2 AND pairs and distribute them\r\n        while (result.length > 1) {\r\n            var LEFT = result.shift();\r\n            var RIGHT = result.shift();\r\n            var all = [];\r\n            for (var _b = 0, _c = terminals(LEFT); _b < _c.length; _b++) {\r\n                var left = _c[_b];\r\n                for (var _d = 0, _e = terminals(RIGHT); _d < _e.length; _d++) {\r\n                    var right = _e[_d];\r\n                    all.push(ContextKeyExpr.and(left, right));\r\n                }\r\n            }\r\n            result.unshift(ContextKeyExpr.or.apply(ContextKeyExpr, all));\r\n        }\r\n        return result[0];\r\n    };\r\n    return ContextKeyOrExpr;\r\n}());\r\nexport { ContextKeyOrExpr };\r\nvar RawContextKey = /** @class */ (function (_super) {\r\n    __extends(RawContextKey, _super);\r\n    function RawContextKey(key, defaultValue) {\r\n        var _this = _super.call(this, key) || this;\r\n        _this._defaultValue = defaultValue;\r\n        return _this;\r\n    }\r\n    RawContextKey.prototype.bindTo = function (target) {\r\n        return target.createKey(this.key, this._defaultValue);\r\n    };\r\n    RawContextKey.prototype.getValue = function (target) {\r\n        return target.getContextKeyValue(this.key);\r\n    };\r\n    RawContextKey.prototype.toNegated = function () {\r\n        return ContextKeyExpr.not(this.key);\r\n    };\r\n    return RawContextKey;\r\n}(ContextKeyDefinedExpr));\r\nexport { RawContextKey };\r\nexport var IContextKeyService = createDecorator('contextKeyService');\r\nexport var SET_CONTEXT_COMMAND_ID = 'setContext';\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\r\nexport var IContextViewService = createDecorator('contextViewService');\r\nexport var IContextMenuService = createDecorator('contextMenuService');\r\n","/**\r\n * **!Do not construct directly!**\r\n *\r\n * **!Only static methods because it gets serialized!**\r\n *\r\n * This represents the \"canonical\" version for an extension identifier. Extension ids\r\n * have to be case-insensitive (due to the marketplace), but we must ensure case\r\n * preservation because the extension API is already public at this time.\r\n *\r\n * For example, given an extension with the publisher `\"Hello\"` and the name `\"World\"`,\r\n * its canonical extension identifier is `\"Hello.World\"`. This extension could be\r\n * referenced in some other extension's dependencies using the string `\"hello.world\"`.\r\n *\r\n * To make matters more complicated, an extension can optionally have an UUID. When two\r\n * extensions have the same UUID, they are considered equal even if their identifier is different.\r\n */\r\nvar ExtensionIdentifier = /** @class */ (function () {\r\n    function ExtensionIdentifier(value) {\r\n        this.value = value;\r\n        this._lower = value.toLowerCase();\r\n    }\r\n    /**\r\n     * Gives the value by which to index (for equality).\r\n     */\r\n    ExtensionIdentifier.toKey = function (id) {\r\n        if (typeof id === 'string') {\r\n            return id.toLowerCase();\r\n        }\r\n        return id._lower;\r\n    };\r\n    return ExtensionIdentifier;\r\n}());\r\nexport { ExtensionIdentifier };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { IContextKeyService, ContextKeyExpr, RawContextKey } from '../contextkey/common/contextkey.js';\r\nimport { FindInput } from '../../base/browser/ui/findinput/findInput.js';\r\nimport { KeybindingsRegistry } from '../keybinding/common/keybindingsRegistry.js';\r\nimport { ReplaceInput } from '../../base/browser/ui/findinput/replaceInput.js';\r\nexport var HistoryNavigationWidgetContext = 'historyNavigationWidget';\r\nexport var HistoryNavigationEnablementContext = 'historyNavigationEnabled';\r\nfunction bindContextScopedWidget(contextKeyService, widget, contextKey) {\r\n    new RawContextKey(contextKey, widget).bindTo(contextKeyService);\r\n}\r\nfunction createWidgetScopedContextKeyService(contextKeyService, widget) {\r\n    return contextKeyService.createScoped(widget.target);\r\n}\r\nfunction getContextScopedWidget(contextKeyService, contextKey) {\r\n    return contextKeyService.getContext(document.activeElement).getValue(contextKey);\r\n}\r\nexport function createAndBindHistoryNavigationWidgetScopedContextKeyService(contextKeyService, widget) {\r\n    var scopedContextKeyService = createWidgetScopedContextKeyService(contextKeyService, widget);\r\n    bindContextScopedWidget(scopedContextKeyService, widget, HistoryNavigationWidgetContext);\r\n    var historyNavigationEnablement = new RawContextKey(HistoryNavigationEnablementContext, true).bindTo(scopedContextKeyService);\r\n    return { scopedContextKeyService: scopedContextKeyService, historyNavigationEnablement: historyNavigationEnablement };\r\n}\r\nvar ContextScopedFindInput = /** @class */ (function (_super) {\r\n    __extends(ContextScopedFindInput, _super);\r\n    function ContextScopedFindInput(container, contextViewProvider, options, contextKeyService, showFindOptions) {\r\n        if (showFindOptions === void 0) { showFindOptions = false; }\r\n        var _this = _super.call(this, container, contextViewProvider, showFindOptions, options) || this;\r\n        _this._register(createAndBindHistoryNavigationWidgetScopedContextKeyService(contextKeyService, { target: _this.inputBox.element, historyNavigator: _this.inputBox }).scopedContextKeyService);\r\n        return _this;\r\n    }\r\n    ContextScopedFindInput = __decorate([\r\n        __param(3, IContextKeyService)\r\n    ], ContextScopedFindInput);\r\n    return ContextScopedFindInput;\r\n}(FindInput));\r\nexport { ContextScopedFindInput };\r\nvar ContextScopedReplaceInput = /** @class */ (function (_super) {\r\n    __extends(ContextScopedReplaceInput, _super);\r\n    function ContextScopedReplaceInput(container, contextViewProvider, options, contextKeyService, showReplaceOptions) {\r\n        if (showReplaceOptions === void 0) { showReplaceOptions = false; }\r\n        var _this = _super.call(this, container, contextViewProvider, showReplaceOptions, options) || this;\r\n        _this._register(createAndBindHistoryNavigationWidgetScopedContextKeyService(contextKeyService, { target: _this.inputBox.element, historyNavigator: _this.inputBox }).scopedContextKeyService);\r\n        return _this;\r\n    }\r\n    ContextScopedReplaceInput = __decorate([\r\n        __param(3, IContextKeyService)\r\n    ], ContextScopedReplaceInput);\r\n    return ContextScopedReplaceInput;\r\n}(ReplaceInput));\r\nexport { ContextScopedReplaceInput };\r\nKeybindingsRegistry.registerCommandAndKeybindingRule({\r\n    id: 'history.showPrevious',\r\n    weight: 200 /* WorkbenchContrib */,\r\n    when: ContextKeyExpr.and(ContextKeyExpr.has(HistoryNavigationWidgetContext), ContextKeyExpr.equals(HistoryNavigationEnablementContext, true)),\r\n    primary: 16 /* UpArrow */,\r\n    secondary: [512 /* Alt */ | 16 /* UpArrow */],\r\n    handler: function (accessor, arg2) {\r\n        var widget = getContextScopedWidget(accessor.get(IContextKeyService), HistoryNavigationWidgetContext);\r\n        if (widget) {\r\n            var historyInputBox = widget.historyNavigator;\r\n            historyInputBox.showPreviousValue();\r\n        }\r\n    }\r\n});\r\nKeybindingsRegistry.registerCommandAndKeybindingRule({\r\n    id: 'history.showNext',\r\n    weight: 200 /* WorkbenchContrib */,\r\n    when: ContextKeyExpr.and(ContextKeyExpr.has(HistoryNavigationWidgetContext), ContextKeyExpr.equals(HistoryNavigationEnablementContext, true)),\r\n    primary: 18 /* DownArrow */,\r\n    secondary: [512 /* Alt */ | 18 /* DownArrow */],\r\n    handler: function (accessor, arg2) {\r\n        var widget = getContextScopedWidget(accessor.get(IContextKeyService), HistoryNavigationWidgetContext);\r\n        if (widget) {\r\n            var historyInputBox = widget.historyNavigator;\r\n            historyInputBox.showNextValue();\r\n        }\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './contextMenuHandler.css';\r\nimport { ActionRunner } from '../../../base/common/actions.js';\r\nimport { combinedDisposable, DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { Menu } from '../../../base/browser/ui/menu/menu.js';\r\nimport { EventType, $, removeNode } from '../../../base/browser/dom.js';\r\nimport { attachMenuStyler } from '../../theme/common/styler.js';\r\nimport { domEvent } from '../../../base/browser/event.js';\r\nimport { StandardMouseEvent } from '../../../base/browser/mouseEvent.js';\r\nvar ContextMenuHandler = /** @class */ (function () {\r\n    function ContextMenuHandler(contextViewService, telemetryService, notificationService, keybindingService, themeService) {\r\n        this.contextViewService = contextViewService;\r\n        this.telemetryService = telemetryService;\r\n        this.notificationService = notificationService;\r\n        this.keybindingService = keybindingService;\r\n        this.themeService = themeService;\r\n        this.focusToReturn = null;\r\n        this.block = null;\r\n        this.options = { blockMouse: true };\r\n    }\r\n    ContextMenuHandler.prototype.configure = function (options) {\r\n        this.options = options;\r\n    };\r\n    ContextMenuHandler.prototype.showContextMenu = function (delegate) {\r\n        var _this = this;\r\n        var actions = delegate.getActions();\r\n        if (!actions.length) {\r\n            return; // Don't render an empty context menu\r\n        }\r\n        this.focusToReturn = document.activeElement;\r\n        var menu;\r\n        this.contextViewService.showContextView({\r\n            getAnchor: function () { return delegate.getAnchor(); },\r\n            canRelayout: false,\r\n            anchorAlignment: delegate.anchorAlignment,\r\n            render: function (container) {\r\n                var className = delegate.getMenuClassName ? delegate.getMenuClassName() : '';\r\n                if (className) {\r\n                    container.className += ' ' + className;\r\n                }\r\n                // Render invisible div to block mouse interaction in the rest of the UI\r\n                if (_this.options.blockMouse) {\r\n                    _this.block = container.appendChild($('.context-view-block'));\r\n                }\r\n                var menuDisposables = new DisposableStore();\r\n                var actionRunner = delegate.actionRunner || new ActionRunner();\r\n                actionRunner.onDidBeforeRun(_this.onActionRun, _this, menuDisposables);\r\n                actionRunner.onDidRun(_this.onDidActionRun, _this, menuDisposables);\r\n                menu = new Menu(container, actions, {\r\n                    actionViewItemProvider: delegate.getActionViewItem,\r\n                    context: delegate.getActionsContext ? delegate.getActionsContext() : null,\r\n                    actionRunner: actionRunner,\r\n                    getKeyBinding: delegate.getKeyBinding ? delegate.getKeyBinding : function (action) { return _this.keybindingService.lookupKeybinding(action.id); }\r\n                });\r\n                menuDisposables.add(attachMenuStyler(menu, _this.themeService));\r\n                menu.onDidCancel(function () { return _this.contextViewService.hideContextView(true); }, null, menuDisposables);\r\n                menu.onDidBlur(function () { return _this.contextViewService.hideContextView(true); }, null, menuDisposables);\r\n                domEvent(window, EventType.BLUR)(function () { _this.contextViewService.hideContextView(true); }, null, menuDisposables);\r\n                domEvent(window, EventType.MOUSE_DOWN)(function (e) {\r\n                    if (e.defaultPrevented) {\r\n                        return;\r\n                    }\r\n                    var event = new StandardMouseEvent(e);\r\n                    var element = event.target;\r\n                    // Don't do anything as we are likely creating a context menu\r\n                    if (event.rightButton) {\r\n                        return;\r\n                    }\r\n                    while (element) {\r\n                        if (element === container) {\r\n                            return;\r\n                        }\r\n                        element = element.parentElement;\r\n                    }\r\n                    _this.contextViewService.hideContextView(true);\r\n                }, null, menuDisposables);\r\n                return combinedDisposable(menuDisposables, menu);\r\n            },\r\n            focus: function () {\r\n                if (menu) {\r\n                    menu.focus(!!delegate.autoSelectFirstItem);\r\n                }\r\n            },\r\n            onHide: function (didCancel) {\r\n                if (delegate.onHide) {\r\n                    delegate.onHide(!!didCancel);\r\n                }\r\n                if (_this.block) {\r\n                    removeNode(_this.block);\r\n                    _this.block = null;\r\n                }\r\n                if (_this.focusToReturn) {\r\n                    _this.focusToReturn.focus();\r\n                }\r\n            }\r\n        });\r\n    };\r\n    ContextMenuHandler.prototype.onActionRun = function (e) {\r\n        if (this.telemetryService) {\r\n            this.telemetryService.publicLog2('workbenchActionExecuted', { id: e.action.id, from: 'contextMenu' });\r\n        }\r\n        this.contextViewService.hideContextView(false);\r\n        // Restore focus here\r\n        if (this.focusToReturn) {\r\n            this.focusToReturn.focus();\r\n        }\r\n    };\r\n    ContextMenuHandler.prototype.onDidActionRun = function (e) {\r\n        if (e.error && this.notificationService) {\r\n            this.notificationService.error(e.error);\r\n        }\r\n    };\r\n    return ContextMenuHandler;\r\n}());\r\nexport { ContextMenuHandler };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { ContextMenuHandler } from './contextMenuHandler.js';\r\nimport { IContextViewService } from './contextView.js';\r\nimport { ITelemetryService } from '../../telemetry/common/telemetry.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { INotificationService } from '../../notification/common/notification.js';\r\nimport { IThemeService } from '../../theme/common/themeService.js';\r\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nvar ContextMenuService = /** @class */ (function (_super) {\r\n    __extends(ContextMenuService, _super);\r\n    function ContextMenuService(telemetryService, notificationService, contextViewService, keybindingService, themeService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._onDidContextMenu = _this._register(new Emitter());\r\n        _this.contextMenuHandler = new ContextMenuHandler(contextViewService, telemetryService, notificationService, keybindingService, themeService);\r\n        return _this;\r\n    }\r\n    ContextMenuService.prototype.configure = function (options) {\r\n        this.contextMenuHandler.configure(options);\r\n    };\r\n    // ContextMenu\r\n    ContextMenuService.prototype.showContextMenu = function (delegate) {\r\n        this.contextMenuHandler.showContextMenu(delegate);\r\n        this._onDidContextMenu.fire();\r\n    };\r\n    ContextMenuService = __decorate([\r\n        __param(0, ITelemetryService),\r\n        __param(1, INotificationService),\r\n        __param(2, IContextViewService),\r\n        __param(3, IKeybindingService),\r\n        __param(4, IThemeService)\r\n    ], ContextMenuService);\r\n    return ContextMenuService;\r\n}(Disposable));\r\nexport { ContextMenuService };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nexport var EditorOpenContext;\r\n(function (EditorOpenContext) {\r\n    /**\r\n     * Default: the editor is opening via a programmatic call\r\n     * to the editor service API.\r\n     */\r\n    EditorOpenContext[EditorOpenContext[\"API\"] = 0] = \"API\";\r\n    /**\r\n     * Indicates that a user action triggered the opening, e.g.\r\n     * via mouse or keyboard use.\r\n     */\r\n    EditorOpenContext[EditorOpenContext[\"USER\"] = 1] = \"USER\";\r\n})(EditorOpenContext || (EditorOpenContext = {}));\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nimport { Action } from '../../../base/common/actions.js';\r\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\r\nimport { IContextKeyService } from '../../contextkey/common/contextkey.js';\r\nimport { ICommandService } from '../../commands/common/commands.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nexport function isIMenuItem(item) {\r\n    return item.command !== undefined;\r\n}\r\nexport var IMenuService = createDecorator('menuService');\r\nexport var MenuRegistry = new /** @class */ (function () {\r\n    function class_1() {\r\n        this._commands = new Map();\r\n        this._menuItems = new Map();\r\n        this._onDidChangeMenu = new Emitter();\r\n        this.onDidChangeMenu = this._onDidChangeMenu.event;\r\n    }\r\n    class_1.prototype.addCommand = function (command) {\r\n        var _this = this;\r\n        this._commands.set(command.id, command);\r\n        this._onDidChangeMenu.fire(0 /* CommandPalette */);\r\n        return {\r\n            dispose: function () {\r\n                if (_this._commands.delete(command.id)) {\r\n                    _this._onDidChangeMenu.fire(0 /* CommandPalette */);\r\n                }\r\n            }\r\n        };\r\n    };\r\n    class_1.prototype.getCommand = function (id) {\r\n        return this._commands.get(id);\r\n    };\r\n    class_1.prototype.getCommands = function () {\r\n        var map = new Map();\r\n        this._commands.forEach(function (value, key) { return map.set(key, value); });\r\n        return map;\r\n    };\r\n    class_1.prototype.appendMenuItem = function (id, item) {\r\n        var _this = this;\r\n        var array = this._menuItems.get(id);\r\n        if (!array) {\r\n            array = [item];\r\n            this._menuItems.set(id, array);\r\n        }\r\n        else {\r\n            array.push(item);\r\n        }\r\n        this._onDidChangeMenu.fire(id);\r\n        return {\r\n            dispose: function () {\r\n                var idx = array.indexOf(item);\r\n                if (idx >= 0) {\r\n                    array.splice(idx, 1);\r\n                    _this._onDidChangeMenu.fire(id);\r\n                }\r\n            }\r\n        };\r\n    };\r\n    class_1.prototype.getMenuItems = function (id) {\r\n        var result = (this._menuItems.get(id) || []).slice(0);\r\n        if (id === 0 /* CommandPalette */) {\r\n            // CommandPalette is special because it shows\r\n            // all commands by default\r\n            this._appendImplicitItems(result);\r\n        }\r\n        return result;\r\n    };\r\n    class_1.prototype._appendImplicitItems = function (result) {\r\n        var set = new Set();\r\n        var temp = result.filter(function (item) { return isIMenuItem(item); });\r\n        for (var _i = 0, temp_1 = temp; _i < temp_1.length; _i++) {\r\n            var _a = temp_1[_i], command = _a.command, alt = _a.alt;\r\n            set.add(command.id);\r\n            if (alt) {\r\n                set.add(alt.id);\r\n            }\r\n        }\r\n        this._commands.forEach(function (command, id) {\r\n            if (!set.has(id)) {\r\n                result.push({ command: command });\r\n            }\r\n        });\r\n    };\r\n    return class_1;\r\n}());\r\nvar ExecuteCommandAction = /** @class */ (function (_super) {\r\n    __extends(ExecuteCommandAction, _super);\r\n    function ExecuteCommandAction(id, label, _commandService) {\r\n        var _this = _super.call(this, id, label) || this;\r\n        _this._commandService = _commandService;\r\n        return _this;\r\n    }\r\n    ExecuteCommandAction.prototype.run = function () {\r\n        var _a;\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        return (_a = this._commandService).executeCommand.apply(_a, __spreadArrays([this.id], args));\r\n    };\r\n    ExecuteCommandAction = __decorate([\r\n        __param(2, ICommandService)\r\n    ], ExecuteCommandAction);\r\n    return ExecuteCommandAction;\r\n}(Action));\r\nexport { ExecuteCommandAction };\r\nvar SubmenuItemAction = /** @class */ (function (_super) {\r\n    __extends(SubmenuItemAction, _super);\r\n    function SubmenuItemAction(item) {\r\n        var _this = this;\r\n        typeof item.title === 'string' ? _this = _super.call(this, '', item.title, 'submenu') || this : _this = _super.call(this, '', item.title.value, 'submenu') || this;\r\n        _this.item = item;\r\n        return _this;\r\n    }\r\n    return SubmenuItemAction;\r\n}(Action));\r\nexport { SubmenuItemAction };\r\nvar MenuItemAction = /** @class */ (function (_super) {\r\n    __extends(MenuItemAction, _super);\r\n    function MenuItemAction(item, alt, options, contextKeyService, commandService) {\r\n        var _this = this;\r\n        typeof item.title === 'string' ? _this = _super.call(this, item.id, item.title, commandService) || this : _this = _super.call(this, item.id, item.title.value, commandService) || this;\r\n        _this._cssClass = undefined;\r\n        _this._enabled = !item.precondition || contextKeyService.contextMatchesRules(item.precondition);\r\n        _this._checked = Boolean(item.toggled && contextKeyService.contextMatchesRules(item.toggled));\r\n        _this._options = options || {};\r\n        _this.item = item;\r\n        _this.alt = alt ? new MenuItemAction(alt, undefined, _this._options, contextKeyService, commandService) : undefined;\r\n        return _this;\r\n    }\r\n    MenuItemAction.prototype.dispose = function () {\r\n        if (this.alt) {\r\n            this.alt.dispose();\r\n        }\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    MenuItemAction.prototype.run = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var runArgs = [];\r\n        if (this._options.arg) {\r\n            runArgs = __spreadArrays(runArgs, [this._options.arg]);\r\n        }\r\n        if (this._options.shouldForwardArgs) {\r\n            runArgs = __spreadArrays(runArgs, args);\r\n        }\r\n        return _super.prototype.run.apply(this, runArgs);\r\n    };\r\n    MenuItemAction = __decorate([\r\n        __param(3, IContextKeyService),\r\n        __param(4, ICommandService)\r\n    ], MenuItemAction);\r\n    return MenuItemAction;\r\n}(ExecuteCommandAction));\r\nexport { MenuItemAction };\r\n//#endregion\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nimport { toDisposable } from '../../../base/common/lifecycle.js';\r\nimport { validateConstraints } from '../../../base/common/types.js';\r\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { LinkedList } from '../../../base/common/linkedList.js';\r\nimport { keys } from '../../../base/common/map.js';\r\nexport var ICommandService = createDecorator('commandService');\r\nexport var CommandsRegistry = new /** @class */ (function () {\r\n    function class_1() {\r\n        this._commands = new Map();\r\n        this._onDidRegisterCommand = new Emitter();\r\n        this.onDidRegisterCommand = this._onDidRegisterCommand.event;\r\n    }\r\n    class_1.prototype.registerCommand = function (idOrCommand, handler) {\r\n        var _this = this;\r\n        if (!idOrCommand) {\r\n            throw new Error(\"invalid command\");\r\n        }\r\n        if (typeof idOrCommand === 'string') {\r\n            if (!handler) {\r\n                throw new Error(\"invalid command\");\r\n            }\r\n            return this.registerCommand({ id: idOrCommand, handler: handler });\r\n        }\r\n        // add argument validation if rich command metadata is provided\r\n        if (idOrCommand.description) {\r\n            var constraints_1 = [];\r\n            for (var _i = 0, _a = idOrCommand.description.args; _i < _a.length; _i++) {\r\n                var arg = _a[_i];\r\n                constraints_1.push(arg.constraint);\r\n            }\r\n            var actualHandler_1 = idOrCommand.handler;\r\n            idOrCommand.handler = function (accessor) {\r\n                var args = [];\r\n                for (var _i = 1; _i < arguments.length; _i++) {\r\n                    args[_i - 1] = arguments[_i];\r\n                }\r\n                validateConstraints(args, constraints_1);\r\n                return actualHandler_1.apply(void 0, __spreadArrays([accessor], args));\r\n            };\r\n        }\r\n        // find a place to store the command\r\n        var id = idOrCommand.id;\r\n        var commands = this._commands.get(id);\r\n        if (!commands) {\r\n            commands = new LinkedList();\r\n            this._commands.set(id, commands);\r\n        }\r\n        var removeFn = commands.unshift(idOrCommand);\r\n        var ret = toDisposable(function () {\r\n            removeFn();\r\n            var command = _this._commands.get(id);\r\n            if (command === null || command === void 0 ? void 0 : command.isEmpty()) {\r\n                _this._commands.delete(id);\r\n            }\r\n        });\r\n        // tell the world about this command\r\n        this._onDidRegisterCommand.fire(id);\r\n        return ret;\r\n    };\r\n    class_1.prototype.registerCommandAlias = function (oldId, newId) {\r\n        return CommandsRegistry.registerCommand(oldId, function (accessor) {\r\n            var _a;\r\n            var args = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                args[_i - 1] = arguments[_i];\r\n            }\r\n            return (_a = accessor.get(ICommandService)).executeCommand.apply(_a, __spreadArrays([newId], args));\r\n        });\r\n    };\r\n    class_1.prototype.getCommand = function (id) {\r\n        var list = this._commands.get(id);\r\n        if (!list || list.isEmpty()) {\r\n            return undefined;\r\n        }\r\n        return list.iterator().next().value;\r\n    };\r\n    class_1.prototype.getCommands = function () {\r\n        var result = new Map();\r\n        for (var _i = 0, _a = keys(this._commands); _i < _a.length; _i++) {\r\n            var key = _a[_i];\r\n            var command = this.getCommand(key);\r\n            if (command) {\r\n                result.set(key, command);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    return class_1;\r\n}());\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nimport { ResourceMap } from '../../../base/common/map.js';\r\nimport * as arrays from '../../../base/common/arrays.js';\r\nimport * as types from '../../../base/common/types.js';\r\nimport * as objects from '../../../base/common/objects.js';\r\nimport { OVERRIDE_PROPERTY_PATTERN } from './configurationRegistry.js';\r\nimport { overrideIdentifierFromKey, addToValueTree, toValuesTree, getConfigurationValue, getDefaultValues, getConfigurationKeys, removeFromValueTree } from './configuration.js';\r\nvar ConfigurationModel = /** @class */ (function () {\r\n    function ConfigurationModel(_contents, _keys, _overrides) {\r\n        if (_contents === void 0) { _contents = {}; }\r\n        if (_keys === void 0) { _keys = []; }\r\n        if (_overrides === void 0) { _overrides = []; }\r\n        this._contents = _contents;\r\n        this._keys = _keys;\r\n        this._overrides = _overrides;\r\n        this.isFrozen = false;\r\n    }\r\n    Object.defineProperty(ConfigurationModel.prototype, \"contents\", {\r\n        get: function () {\r\n            return this.checkAndFreeze(this._contents);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ConfigurationModel.prototype, \"overrides\", {\r\n        get: function () {\r\n            return this.checkAndFreeze(this._overrides);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ConfigurationModel.prototype, \"keys\", {\r\n        get: function () {\r\n            return this.checkAndFreeze(this._keys);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ConfigurationModel.prototype.isEmpty = function () {\r\n        return this._keys.length === 0 && Object.keys(this._contents).length === 0 && this._overrides.length === 0;\r\n    };\r\n    ConfigurationModel.prototype.getValue = function (section) {\r\n        return section ? getConfigurationValue(this.contents, section) : this.contents;\r\n    };\r\n    ConfigurationModel.prototype.getOverrideValue = function (section, overrideIdentifier) {\r\n        var overrideContents = this.getContentsForOverrideIdentifer(overrideIdentifier);\r\n        return overrideContents\r\n            ? section ? getConfigurationValue(overrideContents, section) : overrideContents\r\n            : undefined;\r\n    };\r\n    ConfigurationModel.prototype.override = function (identifier) {\r\n        var overrideContents = this.getContentsForOverrideIdentifer(identifier);\r\n        if (!overrideContents || typeof overrideContents !== 'object' || !Object.keys(overrideContents).length) {\r\n            // If there are no valid overrides, return self\r\n            return this;\r\n        }\r\n        var contents = {};\r\n        for (var _i = 0, _a = arrays.distinct(__spreadArrays(Object.keys(this.contents), Object.keys(overrideContents))); _i < _a.length; _i++) {\r\n            var key = _a[_i];\r\n            var contentsForKey = this.contents[key];\r\n            var overrideContentsForKey = overrideContents[key];\r\n            // If there are override contents for the key, clone and merge otherwise use base contents\r\n            if (overrideContentsForKey) {\r\n                // Clone and merge only if base contents and override contents are of type object otherwise just override\r\n                if (typeof contentsForKey === 'object' && typeof overrideContentsForKey === 'object') {\r\n                    contentsForKey = objects.deepClone(contentsForKey);\r\n                    this.mergeContents(contentsForKey, overrideContentsForKey);\r\n                }\r\n                else {\r\n                    contentsForKey = overrideContentsForKey;\r\n                }\r\n            }\r\n            contents[key] = contentsForKey;\r\n        }\r\n        return new ConfigurationModel(contents, this.keys, this.overrides);\r\n    };\r\n    ConfigurationModel.prototype.merge = function () {\r\n        var others = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            others[_i] = arguments[_i];\r\n        }\r\n        var contents = objects.deepClone(this.contents);\r\n        var overrides = objects.deepClone(this.overrides);\r\n        var keys = __spreadArrays(this.keys);\r\n        for (var _a = 0, others_1 = others; _a < others_1.length; _a++) {\r\n            var other = others_1[_a];\r\n            this.mergeContents(contents, other.contents);\r\n            var _loop_1 = function (otherOverride) {\r\n                var override = overrides.filter(function (o) { return arrays.equals(o.identifiers, otherOverride.identifiers); })[0];\r\n                if (override) {\r\n                    this_1.mergeContents(override.contents, otherOverride.contents);\r\n                }\r\n                else {\r\n                    overrides.push(objects.deepClone(otherOverride));\r\n                }\r\n            };\r\n            var this_1 = this;\r\n            for (var _b = 0, _c = other.overrides; _b < _c.length; _b++) {\r\n                var otherOverride = _c[_b];\r\n                _loop_1(otherOverride);\r\n            }\r\n            for (var _d = 0, _e = other.keys; _d < _e.length; _d++) {\r\n                var key = _e[_d];\r\n                if (keys.indexOf(key) === -1) {\r\n                    keys.push(key);\r\n                }\r\n            }\r\n        }\r\n        return new ConfigurationModel(contents, keys, overrides);\r\n    };\r\n    ConfigurationModel.prototype.freeze = function () {\r\n        this.isFrozen = true;\r\n        return this;\r\n    };\r\n    ConfigurationModel.prototype.mergeContents = function (source, target) {\r\n        for (var _i = 0, _a = Object.keys(target); _i < _a.length; _i++) {\r\n            var key = _a[_i];\r\n            if (key in source) {\r\n                if (types.isObject(source[key]) && types.isObject(target[key])) {\r\n                    this.mergeContents(source[key], target[key]);\r\n                    continue;\r\n                }\r\n            }\r\n            source[key] = objects.deepClone(target[key]);\r\n        }\r\n    };\r\n    ConfigurationModel.prototype.checkAndFreeze = function (data) {\r\n        if (this.isFrozen && !Object.isFrozen(data)) {\r\n            return objects.deepFreeze(data);\r\n        }\r\n        return data;\r\n    };\r\n    ConfigurationModel.prototype.getContentsForOverrideIdentifer = function (identifier) {\r\n        for (var _i = 0, _a = this.overrides; _i < _a.length; _i++) {\r\n            var override = _a[_i];\r\n            if (override.identifiers.indexOf(identifier) !== -1) {\r\n                return override.contents;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    ConfigurationModel.prototype.toJSON = function () {\r\n        return {\r\n            contents: this.contents,\r\n            overrides: this.overrides,\r\n            keys: this.keys\r\n        };\r\n    };\r\n    // Update methods\r\n    ConfigurationModel.prototype.setValue = function (key, value) {\r\n        this.addKey(key);\r\n        addToValueTree(this.contents, key, value, function (e) { throw new Error(e); });\r\n    };\r\n    ConfigurationModel.prototype.removeValue = function (key) {\r\n        if (this.removeKey(key)) {\r\n            removeFromValueTree(this.contents, key);\r\n        }\r\n    };\r\n    ConfigurationModel.prototype.addKey = function (key) {\r\n        var index = this.keys.length;\r\n        for (var i = 0; i < index; i++) {\r\n            if (key.indexOf(this.keys[i]) === 0) {\r\n                index = i;\r\n            }\r\n        }\r\n        this.keys.splice(index, 1, key);\r\n    };\r\n    ConfigurationModel.prototype.removeKey = function (key) {\r\n        var index = this.keys.indexOf(key);\r\n        if (index !== -1) {\r\n            this.keys.splice(index, 1);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return ConfigurationModel;\r\n}());\r\nexport { ConfigurationModel };\r\nvar DefaultConfigurationModel = /** @class */ (function (_super) {\r\n    __extends(DefaultConfigurationModel, _super);\r\n    function DefaultConfigurationModel() {\r\n        var _this = this;\r\n        var contents = getDefaultValues();\r\n        var keys = getConfigurationKeys();\r\n        var overrides = [];\r\n        for (var _i = 0, _a = Object.keys(contents); _i < _a.length; _i++) {\r\n            var key = _a[_i];\r\n            if (OVERRIDE_PROPERTY_PATTERN.test(key)) {\r\n                overrides.push({\r\n                    identifiers: [overrideIdentifierFromKey(key).trim()],\r\n                    keys: Object.keys(contents[key]),\r\n                    contents: toValuesTree(contents[key], function (message) { return console.error(\"Conflict in default settings file: \" + message); }),\r\n                });\r\n            }\r\n        }\r\n        _this = _super.call(this, contents, keys, overrides) || this;\r\n        return _this;\r\n    }\r\n    return DefaultConfigurationModel;\r\n}(ConfigurationModel));\r\nexport { DefaultConfigurationModel };\r\nvar Configuration = /** @class */ (function () {\r\n    function Configuration(_defaultConfiguration, _localUserConfiguration, _remoteUserConfiguration, _workspaceConfiguration, _folderConfigurations, _memoryConfiguration, _memoryConfigurationByResource, _freeze) {\r\n        if (_remoteUserConfiguration === void 0) { _remoteUserConfiguration = new ConfigurationModel(); }\r\n        if (_workspaceConfiguration === void 0) { _workspaceConfiguration = new ConfigurationModel(); }\r\n        if (_folderConfigurations === void 0) { _folderConfigurations = new ResourceMap(); }\r\n        if (_memoryConfiguration === void 0) { _memoryConfiguration = new ConfigurationModel(); }\r\n        if (_memoryConfigurationByResource === void 0) { _memoryConfigurationByResource = new ResourceMap(); }\r\n        if (_freeze === void 0) { _freeze = true; }\r\n        this._defaultConfiguration = _defaultConfiguration;\r\n        this._localUserConfiguration = _localUserConfiguration;\r\n        this._remoteUserConfiguration = _remoteUserConfiguration;\r\n        this._workspaceConfiguration = _workspaceConfiguration;\r\n        this._folderConfigurations = _folderConfigurations;\r\n        this._memoryConfiguration = _memoryConfiguration;\r\n        this._memoryConfigurationByResource = _memoryConfigurationByResource;\r\n        this._freeze = _freeze;\r\n        this._workspaceConsolidatedConfiguration = null;\r\n        this._foldersConsolidatedConfigurations = new ResourceMap();\r\n        this._userConfiguration = null;\r\n    }\r\n    Configuration.prototype.getValue = function (section, overrides, workspace) {\r\n        var consolidateConfigurationModel = this.getConsolidateConfigurationModel(overrides, workspace);\r\n        return consolidateConfigurationModel.getValue(section);\r\n    };\r\n    Configuration.prototype.updateValue = function (key, value, overrides) {\r\n        if (overrides === void 0) { overrides = {}; }\r\n        var memoryConfiguration;\r\n        if (overrides.resource) {\r\n            memoryConfiguration = this._memoryConfigurationByResource.get(overrides.resource);\r\n            if (!memoryConfiguration) {\r\n                memoryConfiguration = new ConfigurationModel();\r\n                this._memoryConfigurationByResource.set(overrides.resource, memoryConfiguration);\r\n            }\r\n        }\r\n        else {\r\n            memoryConfiguration = this._memoryConfiguration;\r\n        }\r\n        if (value === undefined) {\r\n            memoryConfiguration.removeValue(key);\r\n        }\r\n        else {\r\n            memoryConfiguration.setValue(key, value);\r\n        }\r\n        if (!overrides.resource) {\r\n            this._workspaceConsolidatedConfiguration = null;\r\n        }\r\n    };\r\n    Configuration.prototype.inspect = function (key, overrides, workspace) {\r\n        var consolidateConfigurationModel = this.getConsolidateConfigurationModel(overrides, workspace);\r\n        var folderConfigurationModel = this.getFolderConfigurationModelForResource(overrides.resource, workspace);\r\n        var memoryConfigurationModel = overrides.resource ? this._memoryConfigurationByResource.get(overrides.resource) || this._memoryConfiguration : this._memoryConfiguration;\r\n        var defaultValue = overrides.overrideIdentifier ? this._defaultConfiguration.freeze().override(overrides.overrideIdentifier).getValue(key) : this._defaultConfiguration.freeze().getValue(key);\r\n        var userValue = overrides.overrideIdentifier ? this.userConfiguration.freeze().override(overrides.overrideIdentifier).getValue(key) : this.userConfiguration.freeze().getValue(key);\r\n        var userLocalValue = overrides.overrideIdentifier ? this.localUserConfiguration.freeze().override(overrides.overrideIdentifier).getValue(key) : this.localUserConfiguration.freeze().getValue(key);\r\n        var userRemoteValue = overrides.overrideIdentifier ? this.remoteUserConfiguration.freeze().override(overrides.overrideIdentifier).getValue(key) : this.remoteUserConfiguration.freeze().getValue(key);\r\n        var workspaceValue = workspace ? overrides.overrideIdentifier ? this._workspaceConfiguration.freeze().override(overrides.overrideIdentifier).getValue(key) : this._workspaceConfiguration.freeze().getValue(key) : undefined; //Check on workspace exists or not because _workspaceConfiguration is never null\r\n        var workspaceFolderValue = folderConfigurationModel ? overrides.overrideIdentifier ? folderConfigurationModel.freeze().override(overrides.overrideIdentifier).getValue(key) : folderConfigurationModel.freeze().getValue(key) : undefined;\r\n        var memoryValue = overrides.overrideIdentifier ? memoryConfigurationModel.override(overrides.overrideIdentifier).getValue(key) : memoryConfigurationModel.getValue(key);\r\n        var value = consolidateConfigurationModel.getValue(key);\r\n        var overrideIdentifiers = arrays.distinct(arrays.flatten(consolidateConfigurationModel.overrides.map(function (override) { return override.identifiers; }))).filter(function (overrideIdentifier) { return consolidateConfigurationModel.getOverrideValue(key, overrideIdentifier) !== undefined; });\r\n        return {\r\n            defaultValue: defaultValue,\r\n            userValue: userValue,\r\n            userLocalValue: userLocalValue,\r\n            userRemoteValue: userRemoteValue,\r\n            workspaceValue: workspaceValue,\r\n            workspaceFolderValue: workspaceFolderValue,\r\n            memoryValue: memoryValue,\r\n            value: value,\r\n            default: defaultValue !== undefined ? { value: this._defaultConfiguration.freeze().getValue(key), override: overrides.overrideIdentifier ? this._defaultConfiguration.freeze().getOverrideValue(key, overrides.overrideIdentifier) : undefined } : undefined,\r\n            user: userValue !== undefined ? { value: this.userConfiguration.freeze().getValue(key), override: overrides.overrideIdentifier ? this.userConfiguration.freeze().getOverrideValue(key, overrides.overrideIdentifier) : undefined } : undefined,\r\n            userLocal: userLocalValue !== undefined ? { value: this.localUserConfiguration.freeze().getValue(key), override: overrides.overrideIdentifier ? this.localUserConfiguration.freeze().getOverrideValue(key, overrides.overrideIdentifier) : undefined } : undefined,\r\n            userRemote: userRemoteValue !== undefined ? { value: this.remoteUserConfiguration.freeze().getValue(key), override: overrides.overrideIdentifier ? this.remoteUserConfiguration.freeze().getOverrideValue(key, overrides.overrideIdentifier) : undefined } : undefined,\r\n            workspace: workspaceValue !== undefined ? { value: this._workspaceConfiguration.freeze().getValue(key), override: overrides.overrideIdentifier ? this._workspaceConfiguration.freeze().getOverrideValue(key, overrides.overrideIdentifier) : undefined } : undefined,\r\n            workspaceFolder: workspaceFolderValue !== undefined ? { value: folderConfigurationModel === null || folderConfigurationModel === void 0 ? void 0 : folderConfigurationModel.freeze().getValue(key), override: overrides.overrideIdentifier ? folderConfigurationModel === null || folderConfigurationModel === void 0 ? void 0 : folderConfigurationModel.freeze().getOverrideValue(key, overrides.overrideIdentifier) : undefined } : undefined,\r\n            memory: memoryValue !== undefined ? { value: memoryConfigurationModel.getValue(key), override: overrides.overrideIdentifier ? memoryConfigurationModel.getOverrideValue(key, overrides.overrideIdentifier) : undefined } : undefined,\r\n            overrideIdentifiers: overrideIdentifiers.length ? overrideIdentifiers : undefined\r\n        };\r\n    };\r\n    Object.defineProperty(Configuration.prototype, \"userConfiguration\", {\r\n        get: function () {\r\n            if (!this._userConfiguration) {\r\n                this._userConfiguration = this._remoteUserConfiguration.isEmpty() ? this._localUserConfiguration : this._localUserConfiguration.merge(this._remoteUserConfiguration);\r\n                if (this._freeze) {\r\n                    this._userConfiguration.freeze();\r\n                }\r\n            }\r\n            return this._userConfiguration;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Configuration.prototype, \"localUserConfiguration\", {\r\n        get: function () {\r\n            return this._localUserConfiguration;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Configuration.prototype, \"remoteUserConfiguration\", {\r\n        get: function () {\r\n            return this._remoteUserConfiguration;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Configuration.prototype.getConsolidateConfigurationModel = function (overrides, workspace) {\r\n        var configurationModel = this.getConsolidatedConfigurationModelForResource(overrides, workspace);\r\n        return overrides.overrideIdentifier ? configurationModel.override(overrides.overrideIdentifier) : configurationModel;\r\n    };\r\n    Configuration.prototype.getConsolidatedConfigurationModelForResource = function (_a, workspace) {\r\n        var resource = _a.resource;\r\n        var consolidateConfiguration = this.getWorkspaceConsolidatedConfiguration();\r\n        if (workspace && resource) {\r\n            var root = workspace.getFolder(resource);\r\n            if (root) {\r\n                consolidateConfiguration = this.getFolderConsolidatedConfiguration(root.uri) || consolidateConfiguration;\r\n            }\r\n            var memoryConfigurationForResource = this._memoryConfigurationByResource.get(resource);\r\n            if (memoryConfigurationForResource) {\r\n                consolidateConfiguration = consolidateConfiguration.merge(memoryConfigurationForResource);\r\n            }\r\n        }\r\n        return consolidateConfiguration;\r\n    };\r\n    Configuration.prototype.getWorkspaceConsolidatedConfiguration = function () {\r\n        if (!this._workspaceConsolidatedConfiguration) {\r\n            this._workspaceConsolidatedConfiguration = this._defaultConfiguration.merge(this.userConfiguration, this._workspaceConfiguration, this._memoryConfiguration);\r\n            if (this._freeze) {\r\n                this._workspaceConfiguration = this._workspaceConfiguration.freeze();\r\n            }\r\n        }\r\n        return this._workspaceConsolidatedConfiguration;\r\n    };\r\n    Configuration.prototype.getFolderConsolidatedConfiguration = function (folder) {\r\n        var folderConsolidatedConfiguration = this._foldersConsolidatedConfigurations.get(folder);\r\n        if (!folderConsolidatedConfiguration) {\r\n            var workspaceConsolidateConfiguration = this.getWorkspaceConsolidatedConfiguration();\r\n            var folderConfiguration = this._folderConfigurations.get(folder);\r\n            if (folderConfiguration) {\r\n                folderConsolidatedConfiguration = workspaceConsolidateConfiguration.merge(folderConfiguration);\r\n                if (this._freeze) {\r\n                    folderConsolidatedConfiguration = folderConsolidatedConfiguration.freeze();\r\n                }\r\n                this._foldersConsolidatedConfigurations.set(folder, folderConsolidatedConfiguration);\r\n            }\r\n            else {\r\n                folderConsolidatedConfiguration = workspaceConsolidateConfiguration;\r\n            }\r\n        }\r\n        return folderConsolidatedConfiguration;\r\n    };\r\n    Configuration.prototype.getFolderConfigurationModelForResource = function (resource, workspace) {\r\n        if (workspace && resource) {\r\n            var root = workspace.getFolder(resource);\r\n            if (root) {\r\n                return this._folderConfigurations.get(root.uri);\r\n            }\r\n        }\r\n        return undefined;\r\n    };\r\n    return Configuration;\r\n}());\r\nexport { Configuration };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { CONTEXT_ACCESSIBILITY_MODE_ENABLED } from './accessibility.js';\r\nimport { Emitter } from '../../../base/common/event.js';\r\nimport { IContextKeyService } from '../../contextkey/common/contextkey.js';\r\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\r\nvar AccessibilityService = /** @class */ (function (_super) {\r\n    __extends(AccessibilityService, _super);\r\n    function AccessibilityService(_contextKeyService, _configurationService) {\r\n        var _this = _super.call(this) || this;\r\n        _this._contextKeyService = _contextKeyService;\r\n        _this._configurationService = _configurationService;\r\n        _this._accessibilitySupport = 0 /* Unknown */;\r\n        _this._onDidChangeScreenReaderOptimized = new Emitter();\r\n        _this._accessibilityModeEnabledContext = CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(_this._contextKeyService);\r\n        var updateContextKey = function () { return _this._accessibilityModeEnabledContext.set(_this.isScreenReaderOptimized()); };\r\n        _this._register(_this._configurationService.onDidChangeConfiguration(function (e) {\r\n            if (e.affectsConfiguration('editor.accessibilitySupport')) {\r\n                updateContextKey();\r\n                _this._onDidChangeScreenReaderOptimized.fire();\r\n            }\r\n        }));\r\n        updateContextKey();\r\n        _this.onDidChangeScreenReaderOptimized(function () { return updateContextKey(); });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AccessibilityService.prototype, \"onDidChangeScreenReaderOptimized\", {\r\n        get: function () {\r\n            return this._onDidChangeScreenReaderOptimized.event;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AccessibilityService.prototype.isScreenReaderOptimized = function () {\r\n        var config = this._configurationService.getValue('editor.accessibilitySupport');\r\n        return config === 'on' || (config === 'auto' && this._accessibilitySupport === 2 /* Enabled */);\r\n    };\r\n    AccessibilityService.prototype.getAccessibilitySupport = function () {\r\n        return this._accessibilitySupport;\r\n    };\r\n    AccessibilityService = __decorate([\r\n        __param(0, IContextKeyService),\r\n        __param(1, IConfigurationService)\r\n    ], AccessibilityService);\r\n    return AccessibilityService;\r\n}(Disposable));\r\nexport { AccessibilityService };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nfunction _format(message, args) {\r\n    var result;\r\n    if (args.length === 0) {\r\n        result = message;\r\n    }\r\n    else {\r\n        result = message.replace(/\\{(\\d+)\\}/g, function (match, rest) {\r\n            var index = rest[0];\r\n            return typeof args[index] !== 'undefined' ? args[index] : match;\r\n        });\r\n    }\r\n    return result;\r\n}\r\nexport function localize(data, message) {\r\n    var args = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        args[_i - 2] = arguments[_i];\r\n    }\r\n    return _format(message, args);\r\n}\r\n","import { createDecorator } from '../../instantiation/common/instantiation.js';\r\nexport var IDialogService = createDecorator('dialogService');\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\r\nexport var IClipboardService = createDecorator('clipboardService');\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport { Event, PauseableEmitter } from '../../../base/common/event.js';\r\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { keys } from '../../../base/common/map.js';\r\nimport { CommandsRegistry } from '../../commands/common/commands.js';\r\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\r\nimport { IContextKeyService, SET_CONTEXT_COMMAND_ID } from '../common/contextkey.js';\r\nimport { KeybindingResolver } from '../../keybinding/common/keybindingResolver.js';\r\nvar KEYBINDING_CONTEXT_ATTR = 'data-keybinding-context';\r\nvar Context = /** @class */ (function () {\r\n    function Context(id, parent) {\r\n        this._id = id;\r\n        this._parent = parent;\r\n        this._value = Object.create(null);\r\n        this._value['_contextId'] = id;\r\n    }\r\n    Context.prototype.setValue = function (key, value) {\r\n        // console.log('SET ' + key + ' = ' + value + ' ON ' + this._id);\r\n        if (this._value[key] !== value) {\r\n            this._value[key] = value;\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    Context.prototype.removeValue = function (key) {\r\n        // console.log('REMOVE ' + key + ' FROM ' + this._id);\r\n        if (key in this._value) {\r\n            delete this._value[key];\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    Context.prototype.getValue = function (key) {\r\n        var ret = this._value[key];\r\n        if (typeof ret === 'undefined' && this._parent) {\r\n            return this._parent.getValue(key);\r\n        }\r\n        return ret;\r\n    };\r\n    return Context;\r\n}());\r\nexport { Context };\r\nvar NullContext = /** @class */ (function (_super) {\r\n    __extends(NullContext, _super);\r\n    function NullContext() {\r\n        return _super.call(this, -1, null) || this;\r\n    }\r\n    NullContext.prototype.setValue = function (key, value) {\r\n        return false;\r\n    };\r\n    NullContext.prototype.removeValue = function (key) {\r\n        return false;\r\n    };\r\n    NullContext.prototype.getValue = function (key) {\r\n        return undefined;\r\n    };\r\n    NullContext.INSTANCE = new NullContext();\r\n    return NullContext;\r\n}(Context));\r\nvar ConfigAwareContextValuesContainer = /** @class */ (function (_super) {\r\n    __extends(ConfigAwareContextValuesContainer, _super);\r\n    function ConfigAwareContextValuesContainer(id, _configurationService, emitter) {\r\n        var _this = _super.call(this, id, null) || this;\r\n        _this._configurationService = _configurationService;\r\n        _this._values = new Map();\r\n        _this._listener = _this._configurationService.onDidChangeConfiguration(function (event) {\r\n            if (event.source === 6 /* DEFAULT */) {\r\n                // new setting, reset everything\r\n                var allKeys = keys(_this._values);\r\n                _this._values.clear();\r\n                emitter.fire(new ArrayContextKeyChangeEvent(allKeys));\r\n            }\r\n            else {\r\n                var changedKeys = [];\r\n                for (var _i = 0, _a = event.affectedKeys; _i < _a.length; _i++) {\r\n                    var configKey = _a[_i];\r\n                    var contextKey = \"config.\" + configKey;\r\n                    if (_this._values.has(contextKey)) {\r\n                        _this._values.delete(contextKey);\r\n                        changedKeys.push(contextKey);\r\n                    }\r\n                }\r\n                emitter.fire(new ArrayContextKeyChangeEvent(changedKeys));\r\n            }\r\n        });\r\n        return _this;\r\n    }\r\n    ConfigAwareContextValuesContainer.prototype.dispose = function () {\r\n        this._listener.dispose();\r\n    };\r\n    ConfigAwareContextValuesContainer.prototype.getValue = function (key) {\r\n        if (key.indexOf(ConfigAwareContextValuesContainer._keyPrefix) !== 0) {\r\n            return _super.prototype.getValue.call(this, key);\r\n        }\r\n        if (this._values.has(key)) {\r\n            return this._values.get(key);\r\n        }\r\n        var configKey = key.substr(ConfigAwareContextValuesContainer._keyPrefix.length);\r\n        var configValue = this._configurationService.getValue(configKey);\r\n        var value = undefined;\r\n        switch (typeof configValue) {\r\n            case 'number':\r\n            case 'boolean':\r\n            case 'string':\r\n                value = configValue;\r\n                break;\r\n        }\r\n        this._values.set(key, value);\r\n        return value;\r\n    };\r\n    ConfigAwareContextValuesContainer.prototype.setValue = function (key, value) {\r\n        return _super.prototype.setValue.call(this, key, value);\r\n    };\r\n    ConfigAwareContextValuesContainer.prototype.removeValue = function (key) {\r\n        return _super.prototype.removeValue.call(this, key);\r\n    };\r\n    ConfigAwareContextValuesContainer._keyPrefix = 'config.';\r\n    return ConfigAwareContextValuesContainer;\r\n}(Context));\r\nvar ContextKey = /** @class */ (function () {\r\n    function ContextKey(service, key, defaultValue) {\r\n        this._service = service;\r\n        this._key = key;\r\n        this._defaultValue = defaultValue;\r\n        this.reset();\r\n    }\r\n    ContextKey.prototype.set = function (value) {\r\n        this._service.setContext(this._key, value);\r\n    };\r\n    ContextKey.prototype.reset = function () {\r\n        if (typeof this._defaultValue === 'undefined') {\r\n            this._service.removeContext(this._key);\r\n        }\r\n        else {\r\n            this._service.setContext(this._key, this._defaultValue);\r\n        }\r\n    };\r\n    ContextKey.prototype.get = function () {\r\n        return this._service.getContextKeyValue(this._key);\r\n    };\r\n    return ContextKey;\r\n}());\r\nvar SimpleContextKeyChangeEvent = /** @class */ (function () {\r\n    function SimpleContextKeyChangeEvent(key) {\r\n        this.key = key;\r\n    }\r\n    SimpleContextKeyChangeEvent.prototype.affectsSome = function (keys) {\r\n        return keys.has(this.key);\r\n    };\r\n    return SimpleContextKeyChangeEvent;\r\n}());\r\nvar ArrayContextKeyChangeEvent = /** @class */ (function () {\r\n    function ArrayContextKeyChangeEvent(keys) {\r\n        this.keys = keys;\r\n    }\r\n    ArrayContextKeyChangeEvent.prototype.affectsSome = function (keys) {\r\n        for (var _i = 0, _a = this.keys; _i < _a.length; _i++) {\r\n            var key = _a[_i];\r\n            if (keys.has(key)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    return ArrayContextKeyChangeEvent;\r\n}());\r\nvar CompositeContextKeyChangeEvent = /** @class */ (function () {\r\n    function CompositeContextKeyChangeEvent(events) {\r\n        this.events = events;\r\n    }\r\n    CompositeContextKeyChangeEvent.prototype.affectsSome = function (keys) {\r\n        for (var _i = 0, _a = this.events; _i < _a.length; _i++) {\r\n            var e = _a[_i];\r\n            if (e.affectsSome(keys)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    return CompositeContextKeyChangeEvent;\r\n}());\r\nvar AbstractContextKeyService = /** @class */ (function () {\r\n    function AbstractContextKeyService(myContextId) {\r\n        this._onDidChangeContext = new PauseableEmitter({ merge: function (input) { return new CompositeContextKeyChangeEvent(input); } });\r\n        this._isDisposed = false;\r\n        this._myContextId = myContextId;\r\n    }\r\n    AbstractContextKeyService.prototype.createKey = function (key, defaultValue) {\r\n        if (this._isDisposed) {\r\n            throw new Error(\"AbstractContextKeyService has been disposed\");\r\n        }\r\n        return new ContextKey(this, key, defaultValue);\r\n    };\r\n    Object.defineProperty(AbstractContextKeyService.prototype, \"onDidChangeContext\", {\r\n        get: function () {\r\n            return this._onDidChangeContext.event;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AbstractContextKeyService.prototype.bufferChangeEvents = function (callback) {\r\n        this._onDidChangeContext.pause();\r\n        try {\r\n            callback();\r\n        }\r\n        finally {\r\n            this._onDidChangeContext.resume();\r\n        }\r\n    };\r\n    AbstractContextKeyService.prototype.createScoped = function (domNode) {\r\n        if (this._isDisposed) {\r\n            throw new Error(\"AbstractContextKeyService has been disposed\");\r\n        }\r\n        return new ScopedContextKeyService(this, domNode);\r\n    };\r\n    AbstractContextKeyService.prototype.contextMatchesRules = function (rules) {\r\n        if (this._isDisposed) {\r\n            throw new Error(\"AbstractContextKeyService has been disposed\");\r\n        }\r\n        var context = this.getContextValuesContainer(this._myContextId);\r\n        var result = KeybindingResolver.contextMatchesRules(context, rules);\r\n        // console.group(rules.serialize() + ' -> ' + result);\r\n        // rules.keys().forEach(key => { console.log(key, ctx[key]); });\r\n        // console.groupEnd();\r\n        return result;\r\n    };\r\n    AbstractContextKeyService.prototype.getContextKeyValue = function (key) {\r\n        if (this._isDisposed) {\r\n            return undefined;\r\n        }\r\n        return this.getContextValuesContainer(this._myContextId).getValue(key);\r\n    };\r\n    AbstractContextKeyService.prototype.setContext = function (key, value) {\r\n        if (this._isDisposed) {\r\n            return;\r\n        }\r\n        var myContext = this.getContextValuesContainer(this._myContextId);\r\n        if (!myContext) {\r\n            return;\r\n        }\r\n        if (myContext.setValue(key, value)) {\r\n            this._onDidChangeContext.fire(new SimpleContextKeyChangeEvent(key));\r\n        }\r\n    };\r\n    AbstractContextKeyService.prototype.removeContext = function (key) {\r\n        if (this._isDisposed) {\r\n            return;\r\n        }\r\n        if (this.getContextValuesContainer(this._myContextId).removeValue(key)) {\r\n            this._onDidChangeContext.fire(new SimpleContextKeyChangeEvent(key));\r\n        }\r\n    };\r\n    AbstractContextKeyService.prototype.getContext = function (target) {\r\n        if (this._isDisposed) {\r\n            return NullContext.INSTANCE;\r\n        }\r\n        return this.getContextValuesContainer(findContextAttr(target));\r\n    };\r\n    return AbstractContextKeyService;\r\n}());\r\nexport { AbstractContextKeyService };\r\nvar ContextKeyService = /** @class */ (function (_super) {\r\n    __extends(ContextKeyService, _super);\r\n    function ContextKeyService(configurationService) {\r\n        var _this = _super.call(this, 0) || this;\r\n        _this._contexts = new Map();\r\n        _this._toDispose = new DisposableStore();\r\n        _this._lastContextId = 0;\r\n        var myContext = new ConfigAwareContextValuesContainer(_this._myContextId, configurationService, _this._onDidChangeContext);\r\n        _this._contexts.set(_this._myContextId, myContext);\r\n        _this._toDispose.add(myContext);\r\n        return _this;\r\n        // Uncomment this to see the contexts continuously logged\r\n        // let lastLoggedValue: string | null = null;\r\n        // setInterval(() => {\r\n        // \tlet values = Object.keys(this._contexts).map((key) => this._contexts[key]);\r\n        // \tlet logValue = values.map(v => JSON.stringify(v._value, null, '\\t')).join('\\n');\r\n        // \tif (lastLoggedValue !== logValue) {\r\n        // \t\tlastLoggedValue = logValue;\r\n        // \t\tconsole.log(lastLoggedValue);\r\n        // \t}\r\n        // }, 2000);\r\n    }\r\n    ContextKeyService.prototype.dispose = function () {\r\n        this._isDisposed = true;\r\n        this._toDispose.dispose();\r\n    };\r\n    ContextKeyService.prototype.getContextValuesContainer = function (contextId) {\r\n        if (this._isDisposed) {\r\n            return NullContext.INSTANCE;\r\n        }\r\n        return this._contexts.get(contextId) || NullContext.INSTANCE;\r\n    };\r\n    ContextKeyService.prototype.createChildContext = function (parentContextId) {\r\n        if (parentContextId === void 0) { parentContextId = this._myContextId; }\r\n        if (this._isDisposed) {\r\n            throw new Error(\"ContextKeyService has been disposed\");\r\n        }\r\n        var id = (++this._lastContextId);\r\n        this._contexts.set(id, new Context(id, this.getContextValuesContainer(parentContextId)));\r\n        return id;\r\n    };\r\n    ContextKeyService.prototype.disposeContext = function (contextId) {\r\n        if (!this._isDisposed) {\r\n            this._contexts.delete(contextId);\r\n        }\r\n    };\r\n    ContextKeyService = __decorate([\r\n        __param(0, IConfigurationService)\r\n    ], ContextKeyService);\r\n    return ContextKeyService;\r\n}(AbstractContextKeyService));\r\nexport { ContextKeyService };\r\nvar ScopedContextKeyService = /** @class */ (function (_super) {\r\n    __extends(ScopedContextKeyService, _super);\r\n    function ScopedContextKeyService(parent, domNode) {\r\n        var _this = _super.call(this, parent.createChildContext()) || this;\r\n        _this._parent = parent;\r\n        if (domNode) {\r\n            _this._domNode = domNode;\r\n            _this._domNode.setAttribute(KEYBINDING_CONTEXT_ATTR, String(_this._myContextId));\r\n        }\r\n        return _this;\r\n    }\r\n    ScopedContextKeyService.prototype.dispose = function () {\r\n        this._isDisposed = true;\r\n        this._parent.disposeContext(this._myContextId);\r\n        if (this._domNode) {\r\n            this._domNode.removeAttribute(KEYBINDING_CONTEXT_ATTR);\r\n            this._domNode = undefined;\r\n        }\r\n    };\r\n    Object.defineProperty(ScopedContextKeyService.prototype, \"onDidChangeContext\", {\r\n        get: function () {\r\n            return Event.any(this._parent.onDidChangeContext, this._onDidChangeContext.event);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ScopedContextKeyService.prototype.getContextValuesContainer = function (contextId) {\r\n        if (this._isDisposed) {\r\n            return NullContext.INSTANCE;\r\n        }\r\n        return this._parent.getContextValuesContainer(contextId);\r\n    };\r\n    ScopedContextKeyService.prototype.createChildContext = function (parentContextId) {\r\n        if (parentContextId === void 0) { parentContextId = this._myContextId; }\r\n        if (this._isDisposed) {\r\n            throw new Error(\"ScopedContextKeyService has been disposed\");\r\n        }\r\n        return this._parent.createChildContext(parentContextId);\r\n    };\r\n    ScopedContextKeyService.prototype.disposeContext = function (contextId) {\r\n        if (this._isDisposed) {\r\n            return;\r\n        }\r\n        this._parent.disposeContext(contextId);\r\n    };\r\n    return ScopedContextKeyService;\r\n}(AbstractContextKeyService));\r\nfunction findContextAttr(domNode) {\r\n    while (domNode) {\r\n        if (domNode.hasAttribute(KEYBINDING_CONTEXT_ATTR)) {\r\n            var attr = domNode.getAttribute(KEYBINDING_CONTEXT_ATTR);\r\n            if (attr) {\r\n                return parseInt(attr, 10);\r\n            }\r\n            return NaN;\r\n        }\r\n        domNode = domNode.parentElement;\r\n    }\r\n    return 0;\r\n}\r\nCommandsRegistry.registerCommand(SET_CONTEXT_COMMAND_ID, function (accessor, contextKey, contextValue) {\r\n    accessor.get(IContextKeyService).createKey(String(contextKey), contextValue);\r\n});\r\n","import { Registry } from '../../registry/common/platform.js';\r\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\r\nimport { Extensions } from './configurationRegistry.js';\r\nexport var IConfigurationService = createDecorator('configurationService');\r\nexport function toValuesTree(properties, conflictReporter) {\r\n    var root = Object.create(null);\r\n    for (var key in properties) {\r\n        addToValueTree(root, key, properties[key], conflictReporter);\r\n    }\r\n    return root;\r\n}\r\nexport function addToValueTree(settingsTreeRoot, key, value, conflictReporter) {\r\n    var segments = key.split('.');\r\n    var last = segments.pop();\r\n    var curr = settingsTreeRoot;\r\n    for (var i = 0; i < segments.length; i++) {\r\n        var s = segments[i];\r\n        var obj = curr[s];\r\n        switch (typeof obj) {\r\n            case 'undefined':\r\n                obj = curr[s] = Object.create(null);\r\n                break;\r\n            case 'object':\r\n                break;\r\n            default:\r\n                conflictReporter(\"Ignoring \" + key + \" as \" + segments.slice(0, i + 1).join('.') + \" is \" + JSON.stringify(obj));\r\n                return;\r\n        }\r\n        curr = obj;\r\n    }\r\n    if (typeof curr === 'object') {\r\n        curr[last] = value; // workaround https://github.com/Microsoft/vscode/issues/13606\r\n    }\r\n    else {\r\n        conflictReporter(\"Ignoring \" + key + \" as \" + segments.join('.') + \" is \" + JSON.stringify(curr));\r\n    }\r\n}\r\nexport function removeFromValueTree(valueTree, key) {\r\n    var segments = key.split('.');\r\n    doRemoveFromValueTree(valueTree, segments);\r\n}\r\nfunction doRemoveFromValueTree(valueTree, segments) {\r\n    var first = segments.shift();\r\n    if (segments.length === 0) {\r\n        // Reached last segment\r\n        delete valueTree[first];\r\n        return;\r\n    }\r\n    if (Object.keys(valueTree).indexOf(first) !== -1) {\r\n        var value = valueTree[first];\r\n        if (typeof value === 'object' && !Array.isArray(value)) {\r\n            doRemoveFromValueTree(value, segments);\r\n            if (Object.keys(value).length === 0) {\r\n                delete valueTree[first];\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * A helper function to get the configuration value with a specific settings path (e.g. config.some.setting)\r\n */\r\nexport function getConfigurationValue(config, settingPath, defaultValue) {\r\n    function accessSetting(config, path) {\r\n        var current = config;\r\n        for (var _i = 0, path_1 = path; _i < path_1.length; _i++) {\r\n            var component = path_1[_i];\r\n            if (typeof current !== 'object' || current === null) {\r\n                return undefined;\r\n            }\r\n            current = current[component];\r\n        }\r\n        return current;\r\n    }\r\n    var path = settingPath.split('.');\r\n    var result = accessSetting(config, path);\r\n    return typeof result === 'undefined' ? defaultValue : result;\r\n}\r\nexport function getConfigurationKeys() {\r\n    var properties = Registry.as(Extensions.Configuration).getConfigurationProperties();\r\n    return Object.keys(properties);\r\n}\r\nexport function getDefaultValues() {\r\n    var valueTreeRoot = Object.create(null);\r\n    var properties = Registry.as(Extensions.Configuration).getConfigurationProperties();\r\n    for (var key in properties) {\r\n        var value = properties[key].default;\r\n        addToValueTree(valueTreeRoot, key, value, function (message) { return console.error(\"Conflict in default settings: \" + message); });\r\n    }\r\n    return valueTreeRoot;\r\n}\r\nexport function overrideIdentifierFromKey(key) {\r\n    return key.substring(1, key.length - 1);\r\n}\r\nexport function getMigratedSettingValue(configurationService, currentSettingName, legacySettingName) {\r\n    var setting = configurationService.inspect(currentSettingName);\r\n    var legacySetting = configurationService.inspect(legacySettingName);\r\n    if (typeof setting.userValue !== 'undefined' || typeof setting.workspaceValue !== 'undefined' || typeof setting.workspaceFolderValue !== 'undefined') {\r\n        return setting.value;\r\n    }\r\n    else if (typeof legacySetting.userValue !== 'undefined' || typeof legacySetting.workspaceValue !== 'undefined' || typeof legacySetting.workspaceFolderValue !== 'undefined') {\r\n        return legacySetting.value;\r\n    }\r\n    else {\r\n        return setting.defaultValue;\r\n    }\r\n}\r\n"],"sourceRoot":""}