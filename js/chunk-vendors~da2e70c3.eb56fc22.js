(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~da2e70c3"],{"1f84":function(e,t,n){"use strict";n.r(t),n.d(t,"GotoDefinitionAtPositionEditorContribution",(function(){return O}));n("eb68");var i=n("dff7"),o=n("5fe7"),r=n("fdcc"),a=n("78bc"),s=n("5818"),c=n("6a89"),d=n("b707"),l=n("b2cc"),u=n("bd13"),h=n("a666"),f=n("b78f"),p=n("b7d0"),g=n("303e"),_=n("bc04"),v=n("f187"),m=n("6816"),b=n("7061"),y=n("ef8e"),w=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},k=function(e,t){return function(n,i){t(n,i,e)}},O=function(){function e(e,t,n){var i=this;this.textModelResolverService=t,this.modeService=n,this.toUnhook=new h["b"],this.toUnhookForKeyboard=new h["b"],this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e;var o=new m["a"](e);this.toUnhook.add(o),this.toUnhook.add(o.onMouseMoveOrRelevantKeyDown((function(e){var t=e[0],n=e[1];i.startFindDefinitionFromMouse(t,Object(y["n"])(n))}))),this.toUnhook.add(o.onExecute((function(e){i.isEnabled(e)&&i.gotoDefinition(e.target.position,e.hasSideBySideModifier).then((function(){i.removeLinkDecorations()}),(function(e){i.removeLinkDecorations(),Object(r["e"])(e)}))}))),this.toUnhook.add(o.onCancel((function(){i.removeLinkDecorations(),i.currentWordAtPosition=null})))}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.startFindDefinitionFromCursor=function(e){var t=this;return this.startFindDefinition(e).then((function(){t.toUnhookForKeyboard.add(t.editor.onDidChangeCursorPosition((function(){t.currentWordAtPosition=null,t.removeLinkDecorations(),t.toUnhookForKeyboard.clear()}))),t.toUnhookForKeyboard.add(t.editor.onKeyDown((function(e){e&&(t.currentWordAtPosition=null,t.removeLinkDecorations(),t.toUnhookForKeyboard.clear())})))}))},e.prototype.startFindDefinitionFromMouse=function(e,t){if(!(9===e.target.type&&this.linkDecorations.length>0)){if(!this.editor.hasModel()||!this.isEnabled(e,t))return this.currentWordAtPosition=null,void this.removeLinkDecorations();var n=e.target.position;this.startFindDefinition(n)}},e.prototype.startFindDefinition=function(e){var t,n=this;this.toUnhookForKeyboard.clear();var s=e?null===(t=this.editor.getModel())||void 0===t?void 0:t.getWordAtPosition(e):null;if(!s)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===s.startColumn&&this.currentWordAtPosition.endColumn===s.endColumn&&this.currentWordAtPosition.word===s.word)return Promise.resolve(0);this.currentWordAtPosition=s;var d=new _["a"](this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=Object(o["f"])((function(t){return n.findDefinition(e,t)})),this.previousPromise.then((function(t){if(t&&t.length&&d.validate(n.editor))if(t.length>1)n.addDecoration(new c["a"](e.lineNumber,s.startColumn,e.lineNumber,s.endColumn),(new a["a"]).appendText(i["a"]("multipleResults","Click to show {0} definitions.",t.length)));else{var o=t[0];if(!o.uri)return;n.textModelResolverService.createModelReference(o.uri).then((function(t){if(t.object&&t.object.textEditorModel){var i=t.object.textEditorModel,r=o.range.startLineNumber;if(r<1||r>i.getLineCount())t.dispose();else{var d,l=n.getPreviewValue(i,r,o);d=o.originSelectionRange?c["a"].lift(o.originSelectionRange):new c["a"](e.lineNumber,s.startColumn,e.lineNumber,s.endColumn);var u=n.modeService.getModeIdByFilepathOrFirstLine(i.uri);n.addDecoration(d,(new a["a"]).appendCodeblock(u||"",l)),t.dispose()}}else t.dispose()}))}else n.removeLinkDecorations()})).then(void 0,r["e"])},e.prototype.getPreviewValue=function(t,n,i){var o=i.targetSelectionRange?i.range:this.getPreviewRangeBasedOnBrackets(t,n),r=o.endLineNumber-o.startLineNumber;r>=e.MAX_SOURCE_PREVIEW_LINES&&(o=this.getPreviewRangeBasedOnIndentation(t,n));var a=this.stripIndentationFromPreviewRange(t,n,o);return a},e.prototype.stripIndentationFromPreviewRange=function(e,t,n){for(var i=e.getLineFirstNonWhitespaceColumn(t),o=i,r=t+1;r<n.endLineNumber;r++){var a=e.getLineFirstNonWhitespaceColumn(r);o=Math.min(o,a)}var s=e.getValueInRange(n).replace(new RegExp("^\\s{"+(o-1)+"}","gm"),"").trim();return s},e.prototype.getPreviewRangeBasedOnIndentation=function(t,n){for(var i=t.getLineFirstNonWhitespaceColumn(n),o=Math.min(t.getLineCount(),n+e.MAX_SOURCE_PREVIEW_LINES),r=n+1;r<o;r++){var a=t.getLineFirstNonWhitespaceColumn(r);if(i===a)break}return new c["a"](n,1,r+1,1)},e.prototype.getPreviewRangeBasedOnBrackets=function(t,n){var i=Math.min(t.getLineCount(),n+e.MAX_SOURCE_PREVIEW_LINES),o=[],r=!0,a=t.findNextBracket(new b["a"](n,1));while(null!==a){if(0===o.length)o.push(a);else{var s=o[o.length-1];if(s.open[0]===a.open[0]&&s.isOpen&&!a.isOpen?o.pop():o.push(a),0===o.length){if(!r)return new c["a"](n,1,a.range.endLineNumber+1,1);r=!1}}var d=t.getLineMaxColumn(n),l=a.range.endLineNumber,u=a.range.endColumn;if(d===a.range.endColumn&&(l++,u=1),l>i)return new c["a"](n,1,i+1,1);a=t.findNextBracket(new b["a"](l,u))}return new c["a"](n,1,i+1,1)},e.prototype.addDecoration=function(e,t){var n={range:e,options:{inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[n])},e.prototype.removeLinkDecorations=function(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))},e.prototype.isEnabled=function(e,t){return this.editor.hasModel()&&e.isNoneOrSingleMouseDown&&6===e.target.type&&(e.hasTriggerModifier||!!t&&t.keyCodeIsTriggerKey)&&d["f"].has(this.editor.getModel())},e.prototype.findDefinition=function(e,t){var n=this.editor.getModel();return n?Object(u["b"])(n,e,t):Promise.resolve(null)},e.prototype.gotoDefinition=function(e,t){var n=this;this.editor.setPosition(e);var i=new v["DefinitionAction"]({openToSide:t,openInPeek:!1,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0});return this.editor.invokeWithinContext((function(e){return i.run(e,n.editor)}))},e.prototype.dispose=function(){this.toUnhook.dispose()},e.ID="editor.contrib.gotodefinitionatposition",e.MAX_SOURCE_PREVIEW_LINES=8,e=w([k(1,f["a"]),k(2,s["a"])],e),e}();Object(l["h"])(O.ID,O),Object(p["e"])((function(e,t){var n=e.getColor(g["n"]);n&&t.addRule(".monaco-editor .goto-definition-link { color: "+n+" !important; }")}))},"29a1":function(e,t,n){},"418f":function(e,t,n){"use strict";n.d(t,"a",(function(){return ue}));var i=n("dff7"),o=n("fdcc"),r=n("a666"),a=n("5717"),s=n("0a0f"),c=n("4fc3"),d=n("fbba"),l=n("03e8"),u=n("f68e"),h=(n("29a1"),n("11f7")),f=n("ceb8"),p=n("308f"),g=n("b589"),_=n("82c9"),v=n("d379"),m=n("6a89"),b=n("b57f"),y=n("b78f"),w=n("c4e3"),k=n("3bfb"),O=n("47cb"),C=n("b7d0"),M=n("a6d7"),D=n("debc"),P=n("6dec"),S=n("7e93"),I=n("ee56"),R=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),x=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},E=function(e,t){return function(n,i){t(n,i,e)}},j=function(){function e(e){this._resolverService=e}return e.prototype.hasChildren=function(e){return e instanceof u["c"]||e instanceof u["a"]&&!e.failure},e.prototype.getChildren=function(e){if(e instanceof u["c"])return e.groups;if(e instanceof u["a"])return e.resolve(this._resolverService).then((function(e){return e.children}));throw new Error("bad tree")},e=x([E(0,y["a"])],e),e}(),T=function(){function e(){}return e.prototype.getHeight=function(){return 23},e.prototype.getTemplateId=function(e){return e instanceof u["a"]?F.id:W.id},e}(),N=function(){function e(e){this._keybindingService=e}return e.prototype.getKeyboardNavigationLabel=function(e){if(e instanceof u["b"]){var t=e.parent.preview,n=t&&t.preview(e.range);if(n)return n.value}return Object(_["b"])(e.uri)},e=x([E(0,P["a"])],e),e}(),L=function(){function e(){}return e.prototype.getId=function(e){return e instanceof u["b"]?e.id:e.uri},e}(),A=function(e){function t(t,n,i){var o=e.call(this)||this;o._uriLabel=n;var r=document.createElement("div");return h["f"](r,"reference-file"),o.file=o._register(new w["a"](r,{supportHighlights:!0})),o.badge=new k["a"](h["q"](r,h["a"](".count"))),o._register(Object(M["a"])(o.badge,i)),t.appendChild(r),o}return R(t,e),t.prototype.set=function(e,t){var n=Object(_["d"])(e.uri);this.file.setLabel(Object(D["a"])(e.uri),this._uriLabel.getUriLabel(n,{relative:!0}),{title:this._uriLabel.getUriLabel(e.uri),matches:t});var o=e.children.length;this.badge.setCount(o),e.failure?this.badge.setTitleFormat(Object(i["a"])("referencesFailre","Failed to resolve file.")):o>1?this.badge.setTitleFormat(Object(i["a"])("referencesCount","{0} references",o)):this.badge.setTitleFormat(Object(i["a"])("referenceCount","{0} reference",o))},t=x([E(1,O["a"]),E(2,C["c"])],t),t}(r["a"]),F=function(){function e(t){this._instantiationService=t,this.templateId=e.id}return e.prototype.renderTemplate=function(e){return this._instantiationService.createInstance(A,e)},e.prototype.renderElement=function(e,t,n){n.set(e.element,Object(S["c"])(e.filterData))},e.prototype.disposeTemplate=function(e){e.dispose()},e.id="FileReferencesRenderer",e=x([E(0,s["a"])],e),e}(),K=function(){function e(e){this.label=new I["a"](e,!1)}return e.prototype.set=function(e,t){var n=e.parent.preview,i=n&&n.preview(e.range);if(i){var o=i.value,r=i.highlight;t&&!S["a"].isDefault(t)?(h["Y"](this.label.element,"referenceMatch",!1),this.label.set(o,Object(S["c"])(t))):(h["Y"](this.label.element,"referenceMatch",!0),this.label.set(o,[r]))}else this.label.set(Object(_["b"])(e.uri)+":"+(e.range.startLineNumber+1)+":"+(e.range.startColumn+1))},e}(),W=function(){function e(){this.templateId=e.id}return e.prototype.renderTemplate=function(e){return new K(e)},e.prototype.renderElement=function(e,t,n){n.set(e.element,e.filterData)},e.prototype.disposeTemplate=function(){},e.id="OneReferenceRenderer",e}(),B=function(){function e(){}return e.prototype.getAriaLabel=function(e){return e.ariaMessage},e}(),G=n("93d9"),V=n("303e"),U=n("88d4"),H=n("e385"),z=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),q=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},J=function(e,t){return function(n,i){t(n,i,e)}},X=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function s(e){try{c(i["throw"](e))}catch(t){r(t)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((i=i.apply(e,t||[])).next())}))},Y=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return c([e,t])}}function c(r){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Z=function(){function e(e,t){var n=this;this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new r["b"],this._callOnModelChange=new r["b"],this._callOnDispose.add(this._editor.onDidChangeModel((function(){return n._onModelChanged()}))),this._onModelChanged()}return e.prototype.dispose=function(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()},e.prototype._onModelChanged=function(){this._callOnModelChange.clear();var e=this._editor.getModel();if(e)for(var t=0,n=this._model.groups;t<n.length;t++){var i=n[t];if(Object(_["e"])(i.uri,e.uri))return void this._addDecorations(i)}},e.prototype._addDecorations=function(t){var n=this;if(this._editor.hasModel()){this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations((function(e){return n._onDecorationChanged()})));for(var i=[],o=[],r=0,a=t.children.length;r<a;r++){var s=t.children[r];this._decorationIgnoreSet.has(s.id)||(i.push({range:s.range,options:e.DecorationOptions}),o.push(r))}var c=this._editor.deltaDecorations([],i);for(r=0;r<c.length;r++)this._decorations.set(c[r],t.children[o[r]])}},e.prototype._onDecorationChanged=function(){var e=this,t=[],n=this._editor.getModel();if(n){this._decorations.forEach((function(i,o){var r=n.getDecorationRange(o);if(r){var a=!1;if(!m["a"].equalsRange(r,i.range)){if(m["a"].spansMultipleLines(r))a=!0;else{var s=i.range.endColumn-i.range.startColumn,c=r.endColumn-r.startColumn;s!==c&&(a=!0)}a?(e._decorationIgnoreSet.add(i.id),t.push(o)):i.range=r}}}));for(var i=0,o=t.length;i<o;i++)this._decorations.delete(t[i]);this._editor.deltaDecorations(t,[])}},e.prototype.removeDecorations=function(){var e=[];this._decorations.forEach((function(t,n){e.push(n)})),this._editor.deltaDecorations(e,[]),this._decorations.clear()},e.DecorationOptions=b["a"].register({stickiness:1,className:"reference-decoration"}),e}(),$=function(){function e(){this.ratio=.7,this.heightInLines=18}return e.fromJSON=function(e){var t,n;try{var i=JSON.parse(e);t=i.ratio,n=i.heightInLines}catch(o){}return{ratio:t||.7,heightInLines:n||18}},e}(),Q=function(e){function t(t,n,i,o,a,s,c,d){var l=e.call(this,t,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0})||this;return l._defaultTreeKeyboardSupport=n,l.layoutData=i,l._textModelResolverService=a,l._instantiationService=s,l._peekViewService=c,l._uriLabel=d,l._disposeOnNewModel=new r["b"],l._callOnDispose=new r["b"],l._onDidSelectReference=new p["a"],l.onDidSelectReference=l._onDidSelectReference.event,l._dim={height:0,width:0},l._applyTheme(o.getTheme()),l._callOnDispose.add(o.onThemeChange(l._applyTheme.bind(l))),l._peekViewService.addExclusiveWidget(t,l),l.create(),l}return z(t,e),t.prototype.dispose=function(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),Object(r["f"])(this._preview),Object(r["f"])(this._previewNotAvailableMessage),Object(r["f"])(this._tree),Object(r["f"])(this._previewModelReference),this._splitView.dispose(),e.prototype.dispose.call(this)},t.prototype._applyTheme=function(e){var t=e.getColor(U["e"])||f["a"].transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(U["p"])||f["a"].transparent,primaryHeadingColor:e.getColor(U["q"]),secondaryHeadingColor:e.getColor(U["r"])})},t.prototype.show=function(t){this.editor.revealRangeInCenterIfOutsideViewport(t,0),e.prototype.show.call(this,t,this.layoutData.heightInLines||18)},t.prototype.focusOnReferenceTree=function(){this._tree.domFocus()},t.prototype.focusOnPreviewEditor=function(){this._preview.focus()},t.prototype.isPreviewEditorFocused=function(){return this._preview.hasTextFocus()},t.prototype._onTitleClick=function(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})},t.prototype._fillBody=function(e){var t=this;this.setCssClass("reference-zone-widget"),this._messageContainer=h["q"](e,h["a"]("div.messages")),h["J"](this._messageContainer),this._splitView=new H["b"](e,{orientation:1}),this._previewContainer=h["q"](e,h["a"]("div.preview.inline"));var n={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(v["a"],this._previewContainer,n,this.editor),h["J"](this._previewContainer),this._previewNotAvailableMessage=b["b"].createFromString(i["a"]("missingPreviewMessage","no preview available")),this._treeContainer=h["q"](e,h["a"]("div.ref-tree.inline"));var o={ariaLabel:i["a"]("treeAriaLabel","References"),keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new B,keyboardNavigationLabelProvider:this._instantiationService.createInstance(N),identityProvider:new L,overrideStyles:{listBackground:U["j"]}};this._tree=this._instantiationService.createInstance(G["c"],"ReferencesWidget",this._treeContainer,new T,[this._instantiationService.createInstance(F),this._instantiationService.createInstance(W)],this._instantiationService.createInstance(j),o),this._splitView.addView({onDidChange:p["b"].None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:function(e){t._preview.layout({height:t._dim.height,width:e})}},H["a"].Distribute),this._splitView.addView({onDidChange:p["b"].None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:function(e){t._treeContainer.style.height=t._dim.height+"px",t._treeContainer.style.width=e+"px",t._tree.layout(t._dim.height,e)}},H["a"].Distribute),this._disposables.add(this._splitView.onDidSashChange((function(){t._dim.width&&(t.layoutData.ratio=t._splitView.getViewSize(0)/t._dim.width)}),void 0));var r=function(e,n){e instanceof u["b"]&&("show"===n&&t._revealReference(e,!1),t._onDidSelectReference.fire({element:e,kind:n,source:"tree"}))};this._tree.onDidChangeFocus((function(e){r(e.elements[0],"show")})),this._tree.onDidOpen((function(e){e.browserEvent instanceof MouseEvent&&(e.browserEvent.ctrlKey||e.browserEvent.metaKey||e.browserEvent.altKey)?r(e.elements[0],"side"):e.browserEvent instanceof KeyboardEvent||e.browserEvent instanceof MouseEvent&&2===e.browserEvent.detail||2===e.browserEvent.tapCount?r(e.elements[0],"goto"):r(e.elements[0],"show")})),h["J"](this._treeContainer)},t.prototype._onWidth=function(e){this._dim&&this._doLayoutBody(this._dim.height,e)},t.prototype._doLayoutBody=function(t,n){e.prototype._doLayoutBody.call(this,t,n),this._dim={height:t,width:n},this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(n),this._splitView.resizeView(0,n*this.layoutData.ratio)},t.prototype.setSelection=function(e){var t=this;return this._revealReference(e,!0).then((function(){t._model&&(t._tree.setSelection([e]),t._tree.setFocus([e]))}))},t.prototype.setModel=function(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()},t.prototype._onNewModel=function(){var e=this;return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerHTML=i["a"]("noResults","No results"),h["X"](this._messageContainer),Promise.resolve(void 0)):(h["J"](this._messageContainer),this._decorationsManager=new Z(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange((function(t){return e._tree.rerender(t)}))),this._disposeOnNewModel.add(this._preview.onMouseDown((function(t){var n=t.event,i=t.target;if(2===n.detail){var o=e._getFocusedReference();o&&e._onDidSelectReference.fire({element:{uri:o.uri,range:i.range},kind:n.ctrlKey||n.metaKey||n.altKey?"side":"open",source:"editor"})}}))),h["f"](this.container,"results-loaded"),h["X"](this._treeContainer),h["X"](this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(1===this._model.groups.length?this._model.groups[0]:this._model)):Promise.resolve(void 0)},t.prototype._getFocusedReference=function(){var e=this._tree.getFocus()[0];return e instanceof u["b"]?e:e instanceof u["a"]&&e.children.length>0?e.children[0]:void 0},t.prototype._revealReference=function(e,t){return X(this,void 0,void 0,(function(){var n,o,a,s,c;return Y(this,(function(d){switch(d.label){case 0:return this._revealedReference===e?[2]:(this._revealedReference=e,e.uri.scheme!==g["b"].inMemory?this.setTitle(Object(_["c"])(e.uri),this._uriLabel.getUriLabel(Object(_["d"])(e.uri))):this.setTitle(i["a"]("peekView.alternateTitle","References")),n=this._textModelResolverService.createModelReference(e.uri),this._tree.getInput()!==e.parent?[3,1]:(this._tree.reveal(e),[3,3]));case 1:return t&&this._tree.reveal(e.parent),[4,this._tree.expand(e.parent)];case 2:d.sent(),this._tree.reveal(e),d.label=3;case 3:return[4,n];case 4:return o=d.sent(),this._model?(Object(r["f"])(this._previewModelReference),a=o.object,a?(s=this._preview.getModel()===a.textEditorModel?0:1,c=m["a"].lift(e.range).collapseToStart(),this._previewModelReference=o,this._preview.setModel(a.textEditorModel),this._preview.setSelection(c),this._preview.revealRangeInCenter(c,s)):(this._preview.setModel(this._previewNotAvailableMessage),o.dispose()),[2]):(o.dispose(),[2])}}))}))},t=q([J(3,C["c"]),J(4,y["a"]),J(5,s["a"]),J(6,U["a"]),J(7,O["a"])],t),t}(U["c"]);Object(C["e"])((function(e,t){var n=e.getColor(U["m"]);n&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: "+n+"; }");var i=e.getColor(U["h"]);i&&t.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: "+i+"; }");var o=e.getColor(U["i"]);o&&t.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid "+o+"; box-sizing: border-box; }");var r=e.getColor(V["b"]);r&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted "+r+"; box-sizing: border-box; }");var a=e.getColor(U["j"]);a&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree { background-color: "+a+"; }");var s=e.getColor(U["l"]);s&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree { color: "+s+"; }");var c=e.getColor(U["k"]);c&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .reference-file { color: "+c+"; }");var d=e.getColor(U["n"]);d&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: "+d+"; }");var l=e.getColor(U["o"]);l&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: "+l+" !important; }");var u=e.getColor(U["f"]);u&&t.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\tbackground-color: "+u+";}");var h=e.getColor(U["g"]);h&&t.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\tbackground-color: "+h+";}")}));var ee=n("7061"),te=n("b0cd"),ne=n("5fe7"),ie=n("9eb8"),oe=n("fe45"),re=n("9e74"),ae=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},se=function(e,t){return function(n,i){t(n,i,e)}},ce=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function s(e){try{c(i["throw"](e))}catch(t){r(t)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((i=i.apply(e,t||[])).next())}))},de=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return c([e,t])}}function c(r){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},le=new c["d"]("referenceSearchVisible",!1),ue=function(){function e(e,t,n,i,o,a,s,c){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=i,this._notificationService=o,this._instantiationService=a,this._storageService=s,this._configurationService=c,this._disposables=new r["b"],this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=le.bindTo(n)}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){this._referenceSearchVisible.reset(),this._disposables.dispose(),Object(r["f"])(this._widget),Object(r["f"])(this._model),this._widget=void 0,this._model=void 0},e.prototype.toggleWidget=function(e,t,n){var o,r=this;if(this._widget&&(o=this._widget.position),this.closeWidget(),!o||!e.containsPosition(o)){this._peekMode=n,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage((function(){r.closeWidget()}))),this._disposables.add(this._editor.onDidChangeModel((function(){r._ignoreModelChangeEvent||r.closeWidget()})));var a="peekViewLayout",s=$.fromJSON(this._storageService.get(a,0,"{}"));this._widget=this._instantiationService.createInstance(Q,this._editor,this._defaultTreeKeyboardSupport,s),this._widget.setTitle(i["a"]("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose((function(){t.cancel(),r._widget&&(r._storageService.store(a,JSON.stringify(r._widget.layoutData),0),r._widget=void 0),r.closeWidget()}))),this._disposables.add(this._widget.onDidSelectReference((function(e){var t=e.element,i=e.kind;if(t)switch(i){case"open":"editor"===e.source&&r._configurationService.getValue("editor.stablePeek")||r.openReference(t,!1);break;case"side":r.openReference(t,!0);break;case"goto":n?r._gotoReference(t):r.openReference(t,!1);break}})));var c=++this._requestIdPool;t.then((function(t){if(c===r._requestIdPool&&r._widget)return r._model&&r._model.dispose(),r._model=t,r._widget.setModel(r._model).then((function(){if(r._widget&&r._model&&r._editor.hasModel()){r._model.isEmpty?r._widget.setMetaTitle(""):r._widget.setMetaTitle(i["a"]("metaTitle.N","{0} ({1})",r._model.title,r._model.references.length));var t=r._editor.getModel().uri,n=new ee["a"](e.startLineNumber,e.startColumn),o=r._model.nearestReference(t,n);if(o)return r._widget.setSelection(o).then((function(){r._widget&&"editor"===r._editor.getOption(65)&&r._widget.focusOnPreviewEditor()}))}}))}),(function(e){r._notificationService.error(e)}))}},e.prototype.changeFocusBetweenPreviewAndReferences=function(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())},e.prototype.goToNextOrPreviousReference=function(e){return ce(this,void 0,void 0,(function(){var t,n,i,o,r;return de(this,(function(a){switch(a.label){case 0:return this._editor.hasModel()&&this._model&&this._widget?(t=this._widget.position,t?(n=this._model.nearestReference(this._editor.getModel().uri,t),n?(i=this._model.nextOrPreviousReference(n,e),o=this._editor.hasTextFocus(),r=this._widget.isPreviewEditorFocused(),[4,this._widget.setSelection(i)]):[2]):[2]):[2];case 1:return a.sent(),[4,this._gotoReference(i)];case 2:return a.sent(),o?this._editor.focus():this._widget&&r&&this._widget.focusOnPreviewEditor(),[2]}}))}))},e.prototype.closeWidget=function(e){void 0===e&&(e=!0),this._referenceSearchVisible.reset(),this._disposables.clear(),Object(r["f"])(this._widget),Object(r["f"])(this._model),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1},e.prototype._gotoReference=function(t){var n=this;this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;var i=m["a"].lift(t.range).collapseToStart();return this._editorService.openCodeEditor({resource:t.uri,options:{selection:i}},this._editor).then((function(t){var o;if(n._ignoreModelChangeEvent=!1,t&&n._widget)if(n._editor===t)n._widget.show(i),n._widget.focusOnReferenceTree();else{var r=e.get(t),a=n._model.clone();n.closeWidget(),t.focus(),r.toggleWidget(i,Object(ne["f"])((function(e){return Promise.resolve(a)})),null!==(o=n._peekMode)&&void 0!==o&&o)}else n.closeWidget()}),(function(e){n._ignoreModelChangeEvent=!1,Object(o["e"])(e)}))},e.prototype.openReference=function(e,t){t||this.closeWidget();var n=e.uri,i=e.range;this._editorService.openCodeEditor({resource:n,options:{selection:i}},this._editor,t)},e.ID="editor.contrib.referencesController",e=ae([se(2,c["c"]),se(3,a["a"]),se(4,te["a"]),se(5,s["a"]),se(6,l["a"]),se(7,d["a"])],e),e}();function he(e,t){var n=Object(U["d"])(e);if(n){var i=ue.get(n);i&&t(i)}}ie["a"].registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:Object(oe["a"])(2089,60),when:c["a"].or(le,U["b"].inPeekEditor),handler:function(e){he(e,(function(e){e.changeFocusBetweenPreviewAndReferences()}))}}),ie["a"].registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:c["a"].or(le,U["b"].inPeekEditor),handler:function(e){he(e,(function(e){e.goToNextOrPreviousReference(!0)}))}}),ie["a"].registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:c["a"].or(le,U["b"].inPeekEditor),handler:function(e){he(e,(function(e){e.goToNextOrPreviousReference(!1)}))}}),re["a"].registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),re["a"].registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),re["a"].registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),re["a"].registerCommand("closeReferenceSearch",(function(e){return he(e,(function(e){return e.closeWidget()}))})),ie["a"].registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:c["a"].and(U["b"].inPeekEditor,c["a"].not("config.editor.stablePeek"))}),ie["a"].registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:c["a"].and(le,c["a"].not("config.editor.stablePeek"))}),ie["a"].registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:c["a"].and(le,G["d"]),handler:function(e){var t,n=e.get(G["a"]),i=null===(t=n.lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(i)&&i[0]instanceof u["b"]&&he(e,(function(e){return e.openReference(i[0],!0)}))}}),re["a"].registerCommand("openReference",(function(e){var t,n=e.get(G["a"]),i=null===(t=n.lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(i)&&i[0]instanceof u["b"]&&he(e,(function(e){return e.openReference(i[0],!1)}))}))},6816:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("0f70"),o=n("a666"),r=n("308f"),a=n("30db"),s=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function c(e,t){return!!e[t]}var d=function(){function e(e,t){this.target=e.target,this.hasTriggerModifier=c(e.event,t.triggerModifier),this.hasSideBySideModifier=c(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=i["i"]||e.event.detail<=1}return e}(),l=function(){function e(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=c(e,t.triggerModifier)}return e}(),u=function(){function e(e,t,n,i){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=n,this.triggerSideBySideModifier=i}return e.prototype.equals=function(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier},e}();function h(e){return"altKey"===e?a["e"]?new u(57,"metaKey",6,"altKey"):new u(5,"ctrlKey",6,"altKey"):a["e"]?new u(6,"altKey",57,"metaKey"):new u(6,"altKey",5,"ctrlKey")}var f=function(e){function t(t){var n=e.call(this)||this;return n._onMouseMoveOrRelevantKeyDown=n._register(new r["a"]),n.onMouseMoveOrRelevantKeyDown=n._onMouseMoveOrRelevantKeyDown.event,n._onExecute=n._register(new r["a"]),n.onExecute=n._onExecute.event,n._onCancel=n._register(new r["a"]),n.onCancel=n._onCancel.event,n._editor=t,n._opts=h(n._editor.getOption(59)),n.lastMouseMoveEvent=null,n.hasTriggerKeyOnMouseDown=!1,n._register(n._editor.onDidChangeConfiguration((function(e){if(e.hasChanged(59)){var t=h(n._editor.getOption(59));if(n._opts.equals(t))return;n._opts=t,n.lastMouseMoveEvent=null,n.hasTriggerKeyOnMouseDown=!1,n._onCancel.fire()}}))),n._register(n._editor.onMouseMove((function(e){return n.onEditorMouseMove(new d(e,n._opts))}))),n._register(n._editor.onMouseDown((function(e){return n.onEditorMouseDown(new d(e,n._opts))}))),n._register(n._editor.onMouseUp((function(e){return n.onEditorMouseUp(new d(e,n._opts))}))),n._register(n._editor.onKeyDown((function(e){return n.onEditorKeyDown(new l(e,n._opts))}))),n._register(n._editor.onKeyUp((function(e){return n.onEditorKeyUp(new l(e,n._opts))}))),n._register(n._editor.onMouseDrag((function(){return n.resetHandler()}))),n._register(n._editor.onDidChangeCursorSelection((function(e){return n.onDidChangeCursorSelection(e)}))),n._register(n._editor.onDidChangeModel((function(e){return n.resetHandler()}))),n._register(n._editor.onDidChangeModelContent((function(){return n.resetHandler()}))),n._register(n._editor.onDidScrollChange((function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&n.resetHandler()}))),n}return s(t,e),t.prototype.onDidChangeCursorSelection=function(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this.resetHandler()},t.prototype.onEditorMouseMove=function(e){this.lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])},t.prototype.onEditorMouseDown=function(e){this.hasTriggerKeyOnMouseDown=e.hasTriggerModifier},t.prototype.onEditorMouseUp=function(e){this.hasTriggerKeyOnMouseDown&&this._onExecute.fire(e)},t.prototype.onEditorKeyDown=function(e){this.lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this.lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()},t.prototype.onEditorKeyUp=function(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()},t.prototype.resetHandler=function(){this.lastMouseMoveEvent=null,this.hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()},t}(o["a"])},"958f":function(e,t,n){"use strict";n.r(t),n.d(t,"MarkerController",(function(){return U})),n.d(t,"NextMarkerAction",(function(){return z}));var i=n("dff7"),o=n("308f"),r=n("a666"),a=n("4fc3"),s=n("b400"),c=n("6a89"),d=n("b2cc"),l=n("b7d0"),u=n("c101"),h=(n("fe86"),n("11f7")),f=n("303e"),p=n("ceb8"),g=n("1898"),_=n("debc"),v=n("e8e3"),m=n("88d4"),b=n("82c9"),y=n("4efb"),w=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),k=function(){function e(e,t,n,i){var o=this;this._openerService=i,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new r["b"],this._editor=t;var a=document.createElement("div");a.className="descriptioncontainer",a.setAttribute("aria-live","assertive"),a.setAttribute("role","alert"),this._messageBlock=document.createElement("div"),h["f"](this._messageBlock,"message"),a.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),a.appendChild(this._relatedBlock),this._disposables.add(h["o"](this._relatedBlock,"click",(function(e){e.preventDefault();var t=o._relatedDiagnostics.get(e.target);t&&n(t)}))),this._scrollable=new g["b"](a,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll((function(e){a.style.left="-"+e.scrollLeft+"px",a.style.top="-"+e.scrollTop+"px"}))),this._disposables.add(this._scrollable)}return e.prototype.dispose=function(){Object(r["f"])(this._disposables)},e.prototype.update=function(e){var t=this,n=e.source,i=e.message,o=e.relatedInformation,r=e.code,a=((null===n||void 0===n?void 0:n.length)||0)+"()".length;r&&(a+="string"===typeof r?r.length:r.value.length);var s=i.split(/\r\n|\r|\n/g);this._lines=s.length,this._longestLineLength=0;for(var c=0,d=s;c<d.length;c++){var l=d[c];this._longestLineLength=Math.max(l.length+a,this._longestLineLength)}h["t"](this._messageBlock),this._editor.applyFontInfo(this._messageBlock);for(var u=this._messageBlock,f=0,p=s;f<p.length;f++){l=p[f];u=document.createElement("div"),u.innerText=l,""===l&&(u.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(u)}if(n||r){var g=document.createElement("span");if(h["f"](g,"details"),u.appendChild(g),n){var m=document.createElement("span");m.innerText=n,h["f"](m,"source"),g.appendChild(m)}if(r)if("string"===typeof r){var b=document.createElement("span");b.innerText="("+r+")",h["f"](b,"code"),g.appendChild(b)}else{this._codeLink=h["a"]("a.code-link"),this._codeLink.setAttribute("href",""+r.link.toString()),this._codeLink.onclick=function(e){t._openerService.open(r.link),e.preventDefault(),e.stopPropagation()};b=h["q"](this._codeLink,h["a"]("span"));b.innerText=r.value,g.appendChild(this._codeLink)}}if(h["t"](this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),Object(v["q"])(o)){var y=this._relatedBlock.appendChild(document.createElement("div"));y.style.paddingTop=Math.floor(.66*this._editor.getOption(49))+"px",this._lines+=1;for(var w=0,k=o;w<k.length;w++){var O=k[w],C=document.createElement("div"),M=document.createElement("a");h["f"](M,"filename"),M.innerHTML=Object(_["a"])(O.resource)+"("+O.startLineNumber+", "+O.startColumn+"): ",M.title=Object(_["b"])(O.resource,void 0),this._relatedDiagnostics.set(M,O);var D=document.createElement("span");D.innerText=O.message,C.appendChild(M),C.appendChild(D),this._lines+=1,y.appendChild(C)}}var P=this._editor.getOption(34),S=Math.ceil(P.typicalFullwidthCharacterWidth*this._longestLineLength*.75),I=P.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:S,scrollHeight:I})},e.prototype.layout=function(e,t){this._scrollable.getDomNode().style.height=e+"px",this._scrollable.getDomNode().style.width=t+"px",this._scrollable.setScrollDimensions({width:t,height:e})},e.prototype.getHeightInLines=function(){return Math.min(17,this._lines)},e}(),O=function(e){function t(t,n,i,a){var c=e.call(this,t,{showArrow:!0,showFrame:!0,isAccessible:!0})||this;return c.actions=n,c._themeService=i,c._openerService=a,c._callOnDispose=new r["b"],c._onDidSelectRelatedInformation=new o["a"],c.onDidSelectRelatedInformation=c._onDidSelectRelatedInformation.event,c._severity=s["c"].Warning,c._backgroundColor=p["a"].white,c._applyTheme(i.getTheme()),c._callOnDispose.add(i.onThemeChange(c._applyTheme.bind(c))),c.create(),c}return w(t,e),t.prototype._applyTheme=function(e){this._backgroundColor=e.getColor(R);var t=P;this._severity===s["c"].Warning?t=S:this._severity===s["c"].Info&&(t=I);var n=e.getColor(t);this.style({arrowColor:n,frameColor:n,headerBackgroundColor:this._backgroundColor,primaryHeadingColor:e.getColor(m["q"]),secondaryHeadingColor:e.getColor(m["r"])})},t.prototype._applyStyles=function(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),e.prototype._applyStyles.call(this)},t.prototype.dispose=function(){this._callOnDispose.dispose(),e.prototype.dispose.call(this)},t.prototype._fillHead=function(t){e.prototype._fillHead.call(this,t),this._actionbarWidget.push(this.actions,{label:!1,icon:!0,index:0})},t.prototype._fillTitleIcon=function(e){this._icon=h["q"](e,h["a"](""))},t.prototype._getActionBarOptions=function(){return{orientation:0}},t.prototype._fillBody=function(e){var t=this;this._parentContainer=e,h["f"](e,"marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new k(this._container,this.editor,(function(e){return t._onDidSelectRelatedInformation.fire(e)}),this._openerService),this._disposables.add(this._message)},t.prototype.show=function(e,t){throw new Error("call showAtMarker")},t.prototype.showAtMarker=function(t,n,o){this._container.classList.remove("stale"),this._message.update(t),this._severity=t.severity,this._applyTheme(this._themeService.getTheme());var r=c["a"].lift(t),a=this.editor.getPosition(),d=a&&r.containsPosition(a)?a:r.getStartPosition();e.prototype.show.call(this,d,this.computeRequiredHeight());var l=this.editor.getModel();if(l){var u=o>1?i["a"]("problems","{0} of {1} problems",n,o):i["a"]("change","{0} of {1} problem",n,o);this.setTitle(Object(b["b"])(l.uri),u)}this._icon.className="codicon "+y["a"].className(s["c"].toSeverity(this._severity)),this.editor.revealPositionInCenter(d,0),this.editor.focus()},t.prototype.updateMarker=function(e){this._container.classList.remove("stale"),this._message.update(e)},t.prototype.showStale=function(){this._container.classList.add("stale"),this._relayout()},t.prototype._doLayoutBody=function(t,n){e.prototype._doLayoutBody.call(this,t,n),this._heightInPixel=t,this._message.layout(t,n),this._container.style.height=t+"px"},t.prototype._onWidth=function(e){this._message.layout(this._heightInPixel,e)},t.prototype._relayout=function(){e.prototype._relayout.call(this,this.computeRequiredHeight())},t.prototype.computeRequiredHeight=function(){return 3+this._message.getHeightInLines()},t}(m["c"]),C=Object(f["Kb"])(f["q"],f["p"]),M=Object(f["Kb"])(f["P"],f["O"]),D=Object(f["Kb"])(f["H"],f["G"]),P=Object(f["Tb"])("editorMarkerNavigationError.background",{dark:C,light:C,hc:C},i["a"]("editorMarkerNavigationError","Editor marker navigation widget error color.")),S=Object(f["Tb"])("editorMarkerNavigationWarning.background",{dark:M,light:M,hc:M},i["a"]("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),I=Object(f["Tb"])("editorMarkerNavigationInfo.background",{dark:D,light:D,hc:D},i["a"]("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),R=Object(f["Tb"])("editorMarkerNavigation.background",{dark:"#2D2D30",light:p["a"].white,hc:"#0C141F"},i["a"]("editorMarkerNavigationBackground","Editor marker navigation widget background."));Object(l["e"])((function(e,t){var n=e.getColor(f["ec"]);n&&(t.addRule(".monaco-editor .marker-widget a { color: "+n+"; }"),t.addRule(".monaco-editor .marker-widget a.code-link span:hover { color: "+n+"; }"))}));var x=n("3742"),E=n("5717"),j=n("fdcc"),T=n("7e32"),N=n("f070"),L=n("6dec"),A=n("5bd7"),F=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),K=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},W=function(e,t){return function(n,i){t(n,i,e)}},B=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function s(e){try{c(i["throw"](e))}catch(t){r(t)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((i=i.apply(e,t||[])).next())}))},G=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return c([e,t])}}function c(r){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},V=function(){function e(e,t){var n=this;this._toUnbind=new r["b"],this._editor=e,this._markers=[],this._nextIdx=-1,this._ignoreSelectionChange=!1,this._onCurrentMarkerChanged=new o["a"],this._onMarkerSetChanged=new o["a"],this.setMarkers(t),this._toUnbind.add(this._editor.onDidDispose((function(){return n.dispose()}))),this._toUnbind.add(this._editor.onDidChangeCursorPosition((function(){n._ignoreSelectionChange||n.currentMarker&&n._editor.getPosition()&&c["a"].containsPosition(n.currentMarker,n._editor.getPosition())||(n._nextIdx=-1)})))}return Object.defineProperty(e.prototype,"onCurrentMarkerChanged",{get:function(){return this._onCurrentMarkerChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMarkerSetChanged",{get:function(){return this._onMarkerSetChanged.event},enumerable:!0,configurable:!0}),e.prototype.setMarkers=function(e){var t=this._nextIdx>=0?this._markers[this._nextIdx]:void 0;this._markers=e||[],this._markers.sort(H.compareMarker),this._nextIdx=t?Math.max(-1,Object(v["c"])(this._markers,t,H.compareMarker)):-1,this._onMarkerSetChanged.fire(this)},e.prototype.withoutWatchingEditorPosition=function(e){this._ignoreSelectionChange=!0;try{e()}finally{this._ignoreSelectionChange=!1}},e.prototype._initIdx=function(e){for(var t=!1,n=this._editor.getPosition(),i=0;i<this._markers.length;i++){var o=c["a"].lift(this._markers[i]);if(o.isEmpty()&&this._editor.getModel()){var r=this._editor.getModel().getWordAtPosition(o.getStartPosition());r&&(o=new c["a"](o.startLineNumber,r.startColumn,o.startLineNumber,r.endColumn))}if(n&&(o.containsPosition(n)||n.isBeforeOrEqual(o.getStartPosition()))){this._nextIdx=i,t=!0;break}}t||(this._nextIdx=e?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)},Object.defineProperty(e.prototype,"currentMarker",{get:function(){return this.canNavigate()?this._markers[this._nextIdx]:void 0},set:function(e){var t=this._nextIdx;this._nextIdx=-1,e&&(this._nextIdx=this.indexOf(e)),this._nextIdx!==t&&this._onCurrentMarkerChanged.fire(e)},enumerable:!0,configurable:!0}),e.prototype.move=function(e,t){if(!this.canNavigate())return this._onCurrentMarkerChanged.fire(void 0),!t;var n=this._nextIdx,i=!1;if(-1===this._nextIdx?this._initIdx(e):e?t||this._nextIdx+1<this._markers.length?this._nextIdx=(this._nextIdx+1)%this._markers.length:i=!0:e||(t||this._nextIdx>0?this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length:i=!0),n!==this._nextIdx){var o=this._markers[this._nextIdx];this._onCurrentMarkerChanged.fire(o)}return i},e.prototype.canNavigate=function(){return this._markers.length>0},e.prototype.findMarkerAtPosition=function(e){return Object(v["h"])(this._markers,(function(t){return c["a"].containsPosition(t,e)}))},Object.defineProperty(e.prototype,"total",{get:function(){return this._markers.length},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return 1+this._markers.indexOf(e)},e.prototype.dispose=function(){this._toUnbind.dispose()},e}(),U=function(){function e(e,t,n,i,o,a,s){this._markerService=t,this._contextKeyService=n,this._themeService=i,this._editorService=o,this._keybindingService=a,this._openerService=s,this._model=null,this._widget=null,this._disposeOnClose=new r["b"],this._editor=e,this._widgetVisible=Y.bindTo(this._contextKeyService)}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){this._cleanUp(),this._disposeOnClose.dispose()},e.prototype._cleanUp=function(){this._widgetVisible.reset(),this._disposeOnClose.clear(),this._widget=null,this._model=null},e.prototype.getOrCreateModel=function(){var e=this;if(this._model)return this._model;var t=this._getMarkers();this._model=new V(this._editor,t),this._markerService.onMarkerChanged(this._onMarkerChanged,this,this._disposeOnClose);var n=this._keybindingService.lookupKeybinding(q.ID),i=this._keybindingService.lookupKeybinding(z.ID),o=[new N["a"](z.ID,z.LABEL+(i?" ("+i.getLabel()+")":""),"show-next-problem codicon-chevron-down",this._model.canNavigate(),(function(){return B(e,void 0,void 0,(function(){return G(this,(function(e){return this._model&&this._model.move(!0,!0),[2]}))}))})),new N["a"](q.ID,q.LABEL+(n?" ("+n.getLabel()+")":""),"show-previous-problem codicon-chevron-up",this._model.canNavigate(),(function(){return B(e,void 0,void 0,(function(){return G(this,(function(e){return this._model&&this._model.move(!1,!0),[2]}))}))}))];this._widget=new O(this._editor,o,this._themeService,this._openerService),this._widgetVisible.set(!0),this._widget.onDidClose((function(){return e.closeMarkersNavigation()}),this,this._disposeOnClose),this._disposeOnClose.add(this._model),this._disposeOnClose.add(this._widget);for(var r=0,a=o;r<a.length;r++){var s=a[r];this._disposeOnClose.add(s)}return this._disposeOnClose.add(this._widget.onDidSelectRelatedInformation((function(t){e._editorService.openCodeEditor({resource:t.resource,options:{pinned:!0,revealIfOpened:!0,selection:c["a"].lift(t).collapseToStart()}},e._editor).then(void 0,j["e"]),e.closeMarkersNavigation(!1)}))),this._disposeOnClose.add(this._editor.onDidChangeModel((function(){return e._cleanUp()}))),this._disposeOnClose.add(this._model.onCurrentMarkerChanged((function(t){t&&e._model?e._model.withoutWatchingEditorPosition((function(){e._widget&&e._model&&e._widget.showAtMarker(t,e._model.indexOf(t),e._model.total)})):e._cleanUp()}))),this._disposeOnClose.add(this._model.onMarkerSetChanged((function(){if(e._widget&&e._widget.position&&e._model){var t=e._model.findMarkerAtPosition(e._widget.position);t?e._widget.updateMarker(t):e._widget.showStale()}}))),this._model},e.prototype.closeMarkersNavigation=function(e){void 0===e&&(e=!0),this._cleanUp(),e&&this._editor.focus()},e.prototype.show=function(e){var t=this.getOrCreateModel();t.currentMarker=e},e.prototype._onMarkerChanged=function(e){var t=this._editor.getModel();t&&this._model&&e.some((function(e){return Object(b["e"])(t.uri,e)}))&&this._model.setMarkers(this._getMarkers())},e.prototype._getMarkers=function(){var e=this._editor.getModel();return e?this._markerService.read({resource:e.uri,severities:s["c"].Error|s["c"].Warning|s["c"].Info}):[]},e.ID="editor.contrib.markerController",e=K([W(1,s["b"]),W(2,a["c"]),W(3,l["c"]),W(4,E["a"]),W(5,L["a"]),W(6,A["a"])],e),e}(),H=function(e){function t(t,n,i){var o=e.call(this,i)||this;return o._isNext=t,o._multiFile=n,o}return F(t,e),t.prototype.run=function(e,n){var i=this,o=e.get(s["b"]),r=e.get(E["a"]),a=U.get(n);if(!a)return Promise.resolve(void 0);var c=a.getOrCreateModel(),d=c.move(this._isNext,!this._multiFile);if(!d||!this._multiFile)return Promise.resolve(void 0);var l=o.read({severities:s["c"].Error|s["c"].Warning|s["c"].Info}).sort(t.compareMarker);if(0===l.length)return Promise.resolve(void 0);var u=n.getModel();if(!u)return Promise.resolve(void 0);var h=c.currentMarker||{resource:u.uri,severity:s["c"].Error,startLineNumber:1,startColumn:1,endLineNumber:1,endColumn:1},f=Object(v["c"])(l,h,t.compareMarker);f<0?(f=~f,f%=l.length):f=this._isNext?(f+1)%l.length:(f+l.length-1)%l.length;var p=l[f];return Object(b["e"])(p.resource,u.uri)?(c.move(this._isNext,!0),Promise.resolve(void 0)):(a.closeMarkersNavigation(),r.openCodeEditor({resource:p.resource,options:{pinned:!1,revealIfOpened:!0,revealInCenterIfOutsideViewport:!0,selection:p}},n).then((function(e){if(e)return e.getAction(i.id).run()})))},t.compareMarker=function(e,t){var n=Object(x["e"])(e.resource.toString(),t.resource.toString());return 0===n&&(n=s["c"].compare(e.severity,t.severity)),0===n&&(n=c["a"].compareRangesUsingStarts(e,t)),n},t}(d["b"]),z=function(e){function t(){return e.call(this,!0,!1,{id:t.ID,label:t.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:u["a"].writable,kbOpts:{kbExpr:u["a"].focus,primary:578,weight:100}})||this}return F(t,e),t.ID="editor.action.marker.next",t.LABEL=i["a"]("markerAction.next.label","Go to Next Problem (Error, Warning, Info)"),t}(H),q=function(e){function t(){return e.call(this,!1,!1,{id:t.ID,label:t.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:u["a"].writable,kbOpts:{kbExpr:u["a"].focus,primary:1602,weight:100}})||this}return F(t,e),t.ID="editor.action.marker.prev",t.LABEL=i["a"]("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)"),t}(H),J=function(e){function t(){return e.call(this,!0,!0,{id:"editor.action.marker.nextInFiles",label:i["a"]("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:u["a"].writable,kbOpts:{kbExpr:u["a"].focus,primary:66,weight:100}})||this}return F(t,e),t}(H),X=function(e){function t(){return e.call(this,!1,!0,{id:"editor.action.marker.prevInFiles",label:i["a"]("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:u["a"].writable,kbOpts:{kbExpr:u["a"].focus,primary:1090,weight:100}})||this}return F(t,e),t}(H);Object(d["h"])(U.ID,U),Object(d["f"])(z),Object(d["f"])(q),Object(d["f"])(J),Object(d["f"])(X);var Y=new a["d"]("markersNavigationVisible",!1),Z=d["c"].bindToContribution(U.get);Object(d["g"])(new Z({id:"closeMarkersNavigation",precondition:Y,handler:function(e){return e.closeMarkersNavigation()},kbOpts:{weight:150,kbExpr:u["a"].focus,primary:9,secondary:[1033]}})),T["c"].appendMenuItem(19,{group:"6_problem_nav",command:{id:"editor.action.marker.nextInFiles",title:i["a"]({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem")},order:1}),T["c"].appendMenuItem(19,{group:"6_problem_nav",command:{id:"editor.action.marker.prevInFiles",title:i["a"]({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem")},order:2})},bd13:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return g}));var i=n("e8e3"),o=n("2504"),r=n("fdcc"),a=n("b2cc"),s=n("b707"),c=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function s(e){try{c(i["throw"](e))}catch(t){r(t)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((i=i.apply(e,t||[])).next())}))},d=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return c([e,t])}}function c(r){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};function l(e,t,n,o){var a=n.ordered(e),s=a.map((function(n){return Promise.resolve(o(n,e,t)).then(void 0,(function(e){Object(r["f"])(e)}))}));return Promise.all(s).then(i["m"]).then(i["d"])}function u(e,t,n){return l(e,t,s["f"],(function(e,t,i){return e.provideDefinition(t,i,n)}))}function h(e,t,n){return l(e,t,s["e"],(function(e,t,i){return e.provideDeclaration(t,i,n)}))}function f(e,t,n){return l(e,t,s["q"],(function(e,t,i){return e.provideImplementation(t,i,n)}))}function p(e,t,n){return l(e,t,s["C"],(function(e,t,i){return e.provideTypeDefinition(t,i,n)}))}function g(e,t,n,i){var o=this;return l(e,t,s["u"],(function(e,t,r){return c(o,void 0,void 0,(function(){var o,a;return d(this,(function(s){switch(s.label){case 0:return[4,e.provideReferences(t,r,{includeDeclaration:!0},i)];case 1:return o=s.sent(),n&&o&&2===o.length?[4,e.provideReferences(t,r,{includeDeclaration:!1},i)]:[2,o];case 2:return a=s.sent(),a&&1===a.length?[2,a]:[2,o]}}))}))}))}Object(a["k"])("_executeDefinitionProvider",(function(e,t){return u(e,t,o["a"].None)})),Object(a["k"])("_executeDeclarationProvider",(function(e,t){return h(e,t,o["a"].None)})),Object(a["k"])("_executeImplementationProvider",(function(e,t){return f(e,t,o["a"].None)})),Object(a["k"])("_executeTypeDefinitionProvider",(function(e,t){return p(e,t,o["a"].None)})),Object(a["k"])("_executeReferenceProvider",(function(e,t){return g(e,t,!1,o["a"].None)}))},eb68:function(e,t,n){},f187:function(e,t,n){"use strict";n.r(t),n.d(t,"DefinitionAction",(function(){return ne}));var i=n("3813"),o=n("5fe7"),r=n("fe45"),a=n("30db"),s=n("b055"),c=n("b2cc"),d=n("5717"),l=n("7061"),u=n("6a89"),h=n("c101"),f=n("b707"),p=n("351f"),g=n("88d4"),_=n("418f"),v=n("f68e"),m=n("dff7"),b=n("7e32"),y=n("4fc3"),w=n("b0cd"),k=n("b539"),O=n("bd13"),C=n("9e74"),M=n("bc04"),D=n("0a0f"),P=n("f5f3"),S=n("9eb8"),I=n("a666"),R=n("308f"),x=n("6dec"),E=n("82c9"),j=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),T=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},N=function(e,t){return function(n,i){t(n,i,e)}},L=new y["d"]("hasSymbols",!1),A=Object(D["c"])("ISymbolNavigationService"),F=function(){function e(e,t,n,i){this._editorService=t,this._notificationService=n,this._keybindingService=i,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=L.bindTo(e)}return e.prototype.reset=function(){this._ctxHasSymbols.reset(),Object(I["f"])(this._currentState),Object(I["f"])(this._currentMessage),this._currentModel=void 0,this._currentIdx=-1},e.prototype.put=function(e){var t=this,n=e.parent.parent;if(n.references.length<=1)this.reset();else{this._currentModel=n,this._currentIdx=n.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();var i=new q(this._editorService),o=i.onDidChange((function(e){if(!t._ignoreEditorChange){var i=t._editorService.getActiveCodeEditor();if(i){var o=i.getModel(),r=i.getPosition();if(o&&r){for(var a=!1,s=!1,c=0,d=n.references;c<d.length;c++){var l=d[c];if(Object(E["e"])(l.uri,o.uri))a=!0,s=s||u["a"].containsPosition(l.range,r);else if(a)break}a&&s||t.reset()}}}}));this._currentState=Object(I["e"])(i,o)}},e.prototype.revealNext=function(e){var t=this;if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;var n=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:n.uri,options:{selection:u["a"].collapseToStart(n.range),revealInCenterIfOutsideViewport:!0}},e).finally((function(){t._ignoreEditorChange=!1}))},e.prototype._showMessage=function(){Object(I["f"])(this._currentMessage);var e=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),t=e?Object(m["a"])("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,e.getLabel()):Object(m["a"])("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(t)},e=T([N(0,y["c"]),N(1,d["a"]),N(2,w["a"]),N(3,x["a"])],e),e}();Object(P["b"])(A,F,!0),Object(c["g"])(new(function(e){function t(){return e.call(this,{id:"editor.gotoNextSymbolFromResult",precondition:L,kbOpts:{weight:100,primary:70}})||this}return j(t,e),t.prototype.runEditorCommand=function(e,t){return e.get(A).revealNext(t)},t}(c["c"]))),S["a"].registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:L,primary:9,handler:function(e){e.get(A).reset()}});var K,W,B,G,V,U,H,z,q=function(){function e(e){this._listener=new Map,this._disposables=new I["b"],this._onDidChange=new R["a"],this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}return e.prototype.dispose=function(){this._disposables.dispose(),this._onDidChange.dispose(),this._listener.forEach(I["f"])},e.prototype._onDidAddEditor=function(e){var t=this;this._listener.set(e,Object(I["e"])(e.onDidChangeCursorPosition((function(n){return t._onDidChange.fire({editor:e})})),e.onDidChangeModelContent((function(n){return t._onDidChange.fire({editor:e})}))))},e.prototype._onDidRemoveEditor=function(e){Object(I["f"])(this._listener.get(e)),this._listener.delete(e)},e=T([N(0,d["a"])],e),e}(),J=n("0f70"),X=n("6d8e"),Y=n("ef8e"),Z=n("d379"),$=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Q=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function s(e){try{c(i["throw"](e))}catch(t){r(t)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((i=i.apply(e,t||[])).next())}))},ee=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return c([e,t])}}function c(r){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};b["c"].appendMenuItem(7,{submenu:8,title:m["a"]("peek.submenu","Peek"),group:"navigation",order:100});var te=function(e){function t(t,n){var i=e.call(this,n)||this;return i._configuration=t,i}return $(t,e),t.prototype.run=function(e,t){var n=this;if(!t.hasModel())return Promise.resolve(void 0);var r=e.get(w["a"]),a=e.get(d["a"]),s=e.get(k["a"]),c=e.get(A),l=t.getModel(),u=t.getPosition(),h=new M["b"](t,5),f=Object(o["j"])(this._getLocationModel(l,u,h.token),h.token).then((function(e){return Q(n,void 0,void 0,(function(){var n,o,r,s;return ee(this,(function(d){if(!e||h.token.isCancellationRequested)return[2];if(Object(i["a"])(e.ariaMessage),e.referenceAt(l.uri,u)&&(o=this._getAlternativeCommand(t),o!==this.id&&(n=t.getAction(o))),r=e.references.length,0===r)this._configuration.muteMessage||(s=l.getWordAtPosition(u),p["a"].get(t).showMessage(this._getNoResultFoundMessage(s),u));else{if(1!==r||!n)return[2,this._onResult(a,c,t,e)];n.run()}return[2]}))}))}),(function(e){r.error(e)})).finally((function(){h.dispose()}));return s.showWhile(f,250),f},t.prototype._onResult=function(e,t,n,i){return Q(this,void 0,void 0,(function(){var o,r,a,s;return ee(this,(function(c){switch(c.label){case 0:return o=this._getGoToPreference(n),n instanceof Z["a"]||!(this._configuration.openInPeek||"peek"===o&&i.references.length>1)?[3,1]:(this._openInPeek(n,i),[3,3]);case 1:return r=i.firstReference(),a=i.references.length>1&&"gotoAndPeek"===o,[4,this._openReference(n,e,r,this._configuration.openToSide,!a)];case 2:s=c.sent(),a&&s?this._openInPeek(s,i):i.dispose(),"goto"===o&&t.put(r),c.label=3;case 3:return[2]}}))}))},t.prototype._openReference=function(e,t,n,i,o){return Q(this,void 0,void 0,(function(){var r,a,s,c;return ee(this,(function(d){switch(d.label){case 0:return r=void 0,Object(f["G"])(n)&&(r=n.targetSelectionRange),r||(r=n.range),[4,t.openCodeEditor({resource:n.uri,options:{selection:u["a"].collapseToStart(r),revealInCenterIfOutsideViewport:!0}},e,i)];case 1:return a=d.sent(),a?(o&&(s=a.getModel(),c=a.deltaDecorations([],[{range:r,options:{className:"symbolHighlight"}}]),setTimeout((function(){a.getModel()===s&&a.deltaDecorations(c,[])}),350)),[2,a]):[2,void 0]}}))}))},t.prototype._openInPeek=function(e,t){var n=_["a"].get(e);n&&e.hasModel()?n.toggleWidget(e.getSelection(),Object(o["f"])((function(e){return Promise.resolve(t)})),this._configuration.openInPeek):t.dispose()},t}(c["b"]),ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $(t,e),t.prototype._getLocationModel=function(e,t,n){return Q(this,void 0,void 0,(function(){var i;return ee(this,(function(o){switch(o.label){case 0:return i=v["c"].bind,[4,Object(O["b"])(e,t,n)];case 1:return[2,new(i.apply(v["c"],[void 0,o.sent(),m["a"]("def.title","Definitions")]))]}}))}))},t.prototype._getNoResultFoundMessage=function(e){return e&&e.word?m["a"]("noResultWord","No definition found for '{0}'",e.word):m["a"]("generic.noResults","No definition found")},t.prototype._getAlternativeCommand=function(e){return e.getOption(41).alternativeDefinitionCommand},t.prototype._getGoToPreference=function(e){return e.getOption(41).multipleDefinitions},t}(te),ie=a["g"]&&!J["l"]?2118:70;Object(c["f"])((K=function(e){function t(){var n=e.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:t.id,label:m["a"]("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:y["a"].and(h["a"].hasDefinitionProvider,h["a"].isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:h["a"].editorTextFocus,primary:ie,weight:100},contextMenuOpts:{group:"navigation",order:1.1},menuOpts:{menuId:19,group:"4_symbol_nav",order:2,title:m["a"]({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")}})||this;return C["a"].registerCommandAlias("editor.action.goToDeclaration",t.id),n}return $(t,e),t}(ne),K.id="editor.action.revealDefinition",K)),Object(c["f"])((W=function(e){function t(){var n=e.call(this,{openToSide:!0,openInPeek:!1,muteMessage:!1},{id:t.id,label:m["a"]("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:y["a"].and(h["a"].hasDefinitionProvider,h["a"].isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:h["a"].editorTextFocus,primary:Object(r["a"])(2089,ie),weight:100}})||this;return C["a"].registerCommandAlias("editor.action.openDeclarationToTheSide",t.id),n}return $(t,e),t}(ne),W.id="editor.action.revealDefinitionAside",W)),Object(c["f"])((B=function(e){function t(){var n=e.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:t.id,label:m["a"]("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:y["a"].and(h["a"].hasDefinitionProvider,g["b"].notInPeekEditor,h["a"].isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:h["a"].editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:8,group:"peek",order:2}})||this;return C["a"].registerCommandAlias("editor.action.previewDeclaration",t.id),n}return $(t,e),t}(ne),B.id="editor.action.peekDefinition",B));var oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $(t,e),t.prototype._getLocationModel=function(e,t,n){return Q(this,void 0,void 0,(function(){var i;return ee(this,(function(o){switch(o.label){case 0:return i=v["c"].bind,[4,Object(O["a"])(e,t,n)];case 1:return[2,new(i.apply(v["c"],[void 0,o.sent(),m["a"]("decl.title","Declarations")]))]}}))}))},t.prototype._getNoResultFoundMessage=function(e){return e&&e.word?m["a"]("decl.noResultWord","No declaration found for '{0}'",e.word):m["a"]("decl.generic.noResults","No declaration found")},t.prototype._getAlternativeCommand=function(e){return e.getOption(41).alternativeDeclarationCommand},t.prototype._getGoToPreference=function(e){return e.getOption(41).multipleDeclarations},t}(te);Object(c["f"])((G=function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:t.id,label:m["a"]("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:y["a"].and(h["a"].hasDeclarationProvider,h["a"].isInEmbeddedEditor.toNegated()),contextMenuOpts:{group:"navigation",order:1.3},menuOpts:{menuId:19,group:"4_symbol_nav",order:3,title:m["a"]({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")}})||this}return $(t,e),t.prototype._getNoResultFoundMessage=function(e){return e&&e.word?m["a"]("decl.noResultWord","No declaration found for '{0}'",e.word):m["a"]("decl.generic.noResults","No declaration found")},t}(oe),G.id="editor.action.revealDeclaration",G)),Object(c["f"])(function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:m["a"]("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:y["a"].and(h["a"].hasDeclarationProvider,g["b"].notInPeekEditor,h["a"].isInEmbeddedEditor.toNegated()),contextMenuOpts:{menuId:8,group:"peek",order:3}})||this}return $(t,e),t}(oe));var re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $(t,e),t.prototype._getLocationModel=function(e,t,n){return Q(this,void 0,void 0,(function(){var i;return ee(this,(function(o){switch(o.label){case 0:return i=v["c"].bind,[4,Object(O["e"])(e,t,n)];case 1:return[2,new(i.apply(v["c"],[void 0,o.sent(),m["a"]("typedef.title","Type Definitions")]))]}}))}))},t.prototype._getNoResultFoundMessage=function(e){return e&&e.word?m["a"]("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):m["a"]("goToTypeDefinition.generic.noResults","No type definition found")},t.prototype._getAlternativeCommand=function(e){return e.getOption(41).alternativeTypeDefinitionCommand},t.prototype._getGoToPreference=function(e){return e.getOption(41).multipleTypeDefinitions},t}(te);Object(c["f"])((V=function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:t.ID,label:m["a"]("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:y["a"].and(h["a"].hasTypeDefinitionProvider,h["a"].isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:h["a"].editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4},menuOpts:{menuId:19,group:"4_symbol_nav",order:3,title:m["a"]({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")}})||this}return $(t,e),t}(re),V.ID="editor.action.goToTypeDefinition",V)),Object(c["f"])((U=function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:t.ID,label:m["a"]("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:y["a"].and(h["a"].hasTypeDefinitionProvider,g["b"].notInPeekEditor,h["a"].isInEmbeddedEditor.toNegated()),contextMenuOpts:{menuId:8,group:"peek",order:4}})||this}return $(t,e),t}(re),U.ID="editor.action.peekTypeDefinition",U));var ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $(t,e),t.prototype._getLocationModel=function(e,t,n){return Q(this,void 0,void 0,(function(){var i;return ee(this,(function(o){switch(o.label){case 0:return i=v["c"].bind,[4,Object(O["c"])(e,t,n)];case 1:return[2,new(i.apply(v["c"],[void 0,o.sent(),m["a"]("impl.title","Implementations")]))]}}))}))},t.prototype._getNoResultFoundMessage=function(e){return e&&e.word?m["a"]("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):m["a"]("goToImplementation.generic.noResults","No implementation found")},t.prototype._getAlternativeCommand=function(e){return e.getOption(41).alternativeImplementationCommand},t.prototype._getGoToPreference=function(e){return e.getOption(41).multipleImplementations},t}(te);Object(c["f"])((H=function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:t.ID,label:m["a"]("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:y["a"].and(h["a"].hasImplementationProvider,h["a"].isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:h["a"].editorTextFocus,primary:2118,weight:100},menuOpts:{menuId:19,group:"4_symbol_nav",order:4,title:m["a"]({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},contextMenuOpts:{group:"navigation",order:1.45}})||this}return $(t,e),t}(ae),H.ID="editor.action.goToImplementation",H)),Object(c["f"])((z=function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:t.ID,label:m["a"]("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:y["a"].and(h["a"].hasImplementationProvider,g["b"].notInPeekEditor,h["a"].isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:h["a"].editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:8,group:"peek",order:5}})||this}return $(t,e),t}(ae),z.ID="editor.action.peekImplementation",z));var se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $(t,e),t.prototype._getNoResultFoundMessage=function(e){return e?m["a"]("references.no","No references found for '{0}'",e.word):m["a"]("references.noGeneric","No references found")},t.prototype._getAlternativeCommand=function(e){return e.getOption(41).alternativeReferenceCommand},t.prototype._getGoToPreference=function(e){return e.getOption(41).multipleReferences},t}(te);Object(c["f"])(function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:m["a"]("goToReferences.label","Go to References"),alias:"Go to References",precondition:y["a"].and(h["a"].hasReferenceProvider,g["b"].notInPeekEditor,h["a"].isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:h["a"].editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45},menuOpts:{menuId:19,group:"4_symbol_nav",order:5,title:m["a"]({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")}})||this}return $(t,e),t.prototype._getLocationModel=function(e,t,n){return Q(this,void 0,void 0,(function(){var i;return ee(this,(function(o){switch(o.label){case 0:return i=v["c"].bind,[4,Object(O["d"])(e,t,!0,n)];case 1:return[2,new(i.apply(v["c"],[void 0,o.sent(),m["a"]("ref.title","References")]))]}}))}))},t}(se)),Object(c["f"])(function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:m["a"]("references.action.label","Peek References"),alias:"Peek References",precondition:y["a"].and(h["a"].hasReferenceProvider,g["b"].notInPeekEditor,h["a"].isInEmbeddedEditor.toNegated()),contextMenuOpts:{menuId:8,group:"peek",order:6}})||this}return $(t,e),t.prototype._getLocationModel=function(e,t,n){return Q(this,void 0,void 0,(function(){var i;return ee(this,(function(o){switch(o.label){case 0:return i=v["c"].bind,[4,Object(O["d"])(e,t,!1,n)];case 1:return[2,new(i.apply(v["c"],[void 0,o.sent(),m["a"]("ref.title","References")]))]}}))}))},t}(se));var ce=function(e){function t(t,n,i){var o=e.call(this,t,{id:"editor.action.goToLocation",label:m["a"]("label.generic","Go To Any Symbol"),alias:"Go To Any Symbol",precondition:y["a"].and(g["b"].notInPeekEditor,h["a"].isInEmbeddedEditor.toNegated())})||this;return o._references=n,o._gotoMultipleBehaviour=i,o}return $(t,e),t.prototype._getLocationModel=function(e,t,n){return Q(this,void 0,void 0,(function(){return ee(this,(function(e){return[2,new v["c"](this._references,m["a"]("generic.title","Locations"))]}))}))},t.prototype._getNoResultFoundMessage=function(e){return e&&m["a"]("generic.noResult","No results for '{0}'",e.word)||""},t.prototype._getGoToPreference=function(e){var t;return null!==(t=this._gotoMultipleBehaviour)&&void 0!==t?t:e.getOption(41).multipleReferences},t.prototype._getAlternativeCommand=function(){return""},t}(te);C["a"].registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:X["a"]},{name:"position",description:"The position at which to start",constraint:l["a"].isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:function(e,t,n,i,o,r){return Q(void 0,void 0,void 0,(function(){var a,c;return ee(this,(function(u){switch(u.label){case 0:return Object(Y["a"])(X["a"].isUri(t)),Object(Y["a"])(l["a"].isIPosition(n)),Object(Y["a"])(Array.isArray(i)),Object(Y["a"])("undefined"===typeof o||"string"===typeof o),Object(Y["a"])("undefined"===typeof r||"boolean"===typeof r),a=e.get(d["a"]),[4,a.openCodeEditor({resource:t},a.getFocusedCodeEditor())];case 1:return c=u.sent(),Object(s["a"])(c)?(c.setPosition(n),c.revealPositionInCenterIfOutsideViewport(n,0),[2,c.invokeWithinContext((function(e){var t=new ce({muteMessage:!0,openInPeek:Boolean(r),openToSide:!1},i,o);e.get(D["a"]).invokeFunction(t.run.bind(t),c)}))]):[2]}}))}))}}),C["a"].registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:X["a"]},{name:"position",description:"The position at which to start",constraint:l["a"].isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:function(e,t,n,i,o){return Q(void 0,void 0,void 0,(function(){return ee(this,(function(r){return e.get(C["b"]).executeCommand("editor.action.goToLocations",t,n,i,o,!0),[2]}))}))}}),C["a"].registerCommand({id:"editor.action.findReferences",handler:function(e,t,n){Object(Y["a"])(X["a"].isUri(t)),Object(Y["a"])(l["a"].isIPosition(n));var i=e.get(d["a"]);return i.openCodeEditor({resource:t},i.getFocusedCodeEditor()).then((function(e){if(Object(s["a"])(e)&&e.hasModel()){var t=_["a"].get(e);if(t){var i=Object(o["f"])((function(t){return Object(O["d"])(e.getModel(),l["a"].lift(n),!1,t).then((function(e){return new v["c"](e,m["a"]("ref.title","References"))}))})),r=new u["a"](n.lineNumber,n.column,n.lineNumber,n.column);return Promise.resolve(t.toggleWidget(r,i,!1))}}}))}}),C["a"].registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")},f68e:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return f}));var i=n("dff7"),o=n("308f"),r=n("82c9"),a=n("a666"),s=n("3742"),c=n("9c3e"),d=n("6a89"),l=function(){function e(e,t,n,i){this.isProviderFirst=e,this.parent=t,this._range=n,this._rangeCallback=i,this.id=c["b"].nextId()}return Object.defineProperty(e.prototype,"uri",{get:function(){return this.parent.uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._range},set:function(e){this._range=e,this._rangeCallback(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaMessage",{get:function(){return Object(i["a"])("aria.oneReference","symbol in {0} on line {1} at column {2}",Object(r["b"])(this.uri),this.range.startLineNumber,this.range.startColumn)},enumerable:!0,configurable:!0}),e}(),u=function(){function e(e){this._modelReference=e}return e.prototype.dispose=function(){this._modelReference.dispose()},e.prototype.preview=function(e,t){void 0===t&&(t=8);var n=this._modelReference.object.textEditorModel;if(n){var i=e.startLineNumber,o=e.startColumn,r=e.endLineNumber,a=e.endColumn,s=n.getWordUntilPosition({lineNumber:i,column:o-t}),c=new d["a"](i,s.startColumn,i,o),l=new d["a"](r,a,r,1073741824),u=n.getValueInRange(c).replace(/^\s+/,""),h=n.getValueInRange(e),f=n.getValueInRange(l).replace(/\s+$/,"");return{value:u+h+f,highlight:{start:u.length,end:u.length+h.length}}}},e}(),h=function(){function e(e,t){this.parent=e,this.uri=t,this.children=[]}return e.prototype.dispose=function(){Object(a["f"])(this._preview),this._preview=void 0},Object.defineProperty(e.prototype,"preview",{get:function(){return this._preview},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"failure",{get:function(){return this._loadFailure},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaMessage",{get:function(){var e=this.children.length;return 1===e?Object(i["a"])("aria.fileReferences.1","1 symbol in {0}, full path {1}",Object(r["b"])(this.uri),this.uri.fsPath):Object(i["a"])("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,Object(r["b"])(this.uri),this.uri.fsPath)},enumerable:!0,configurable:!0}),e.prototype.resolve=function(e){var t=this;return this._resolved?Promise.resolve(this):Promise.resolve(e.createModelReference(this.uri).then((function(e){var n=e.object;if(!n)throw e.dispose(),new Error;return t._preview=new u(e),t._resolved=!0,t}),(function(e){return t.children.length=0,t._resolved=!0,t._loadFailure=e,t})))},e}(),f=function(){function e(t,n){var i=this;this._disposables=new a["b"],this.groups=[],this.references=[],this._onDidChangeReferenceRange=new o["a"],this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=t,this._title=n;var r,s=t[0];t.sort(e._compareReferences);for(var c=0,u=t;c<u.length;c++){var f=u[c];if(r&&r.uri.toString()===f.uri.toString()||(r=new h(this,f.uri),this.groups.push(r)),0===r.children.length||!d["a"].equalsRange(f.range,r.children[r.children.length-1].range)){var p=new l(s===f,r,f.targetSelectionRange||f.range,(function(e){return i._onDidChangeReferenceRange.fire(e)}));this.references.push(p),r.children.push(p)}}}return e.prototype.dispose=function(){Object(a["f"])(this.groups),this._disposables.dispose(),this._onDidChangeReferenceRange.dispose(),this.groups.length=0},e.prototype.clone=function(){return new e(this._links,this._title)},Object.defineProperty(e.prototype,"title",{get:function(){return this._title},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.groups.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaMessage",{get:function(){return this.isEmpty?Object(i["a"])("aria.result.0","No results found"):1===this.references.length?Object(i["a"])("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?Object(i["a"])("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):Object(i["a"])("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)},enumerable:!0,configurable:!0}),e.prototype.nextOrPreviousReference=function(e,t){var n=e.parent,i=n.children.indexOf(e),o=n.children.length,r=n.parent.groups.length;return 1===r||t&&i+1<o||!t&&i>0?(i=t?(i+1)%o:(i+o-1)%o,n.children[i]):(i=n.parent.groups.indexOf(n),t?(i=(i+1)%r,n.parent.groups[i].children[0]):(i=(i+r-1)%r,n.parent.groups[i].children[n.parent.groups[i].children.length-1]))},e.prototype.nearestReference=function(e,t){var n=this.references.map((function(n,i){return{idx:i,prefixLen:s["c"](n.uri.toString(),e.toString()),offsetDist:100*Math.abs(n.range.startLineNumber-t.lineNumber)+Math.abs(n.range.startColumn-t.column)}})).sort((function(e,t){return e.prefixLen>t.prefixLen?-1:e.prefixLen<t.prefixLen?1:e.offsetDist<t.offsetDist?-1:e.offsetDist>t.offsetDist?1:0}))[0];if(n)return this.references[n.idx]},e.prototype.referenceAt=function(e,t){for(var n=0,i=this.references;n<i.length;n++){var o=i[n];if(o.uri.toString()===e.toString()&&d["a"].containsPosition(o.range,t))return o}},e.prototype.firstReference=function(){for(var e=0,t=this.references;e<t.length;e++){var n=t[e];if(n.isProviderFirst)return n}return this.references[0]},e._compareReferences=function(e,t){return s["e"](e.uri.toString(),t.uri.toString())||d["a"].compareRangesUsingStarts(e.range,t.range)},e}()},fe86:function(e,t,n){}}]);
//# sourceMappingURL=chunk-vendors~da2e70c3.eb56fc22.js.map