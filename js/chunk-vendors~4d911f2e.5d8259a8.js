(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~4d911f2e"],{"0254":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=function(){function e(){this.spacesDiff=0,this.looksLikeAlignment=!1}return e}();function i(e,t,n,r,i){var s;for(i.spacesDiff=0,i.looksLikeAlignment=!1,s=0;s<t&&s<r;s++){var a=e.charCodeAt(s),o=n.charCodeAt(s);if(a!==o)break}for(var f=0,h=0,l=s;l<t;l++){a=e.charCodeAt(l);32===a?f++:h++}var u=0,c=0;for(l=s;l<r;l++){o=n.charCodeAt(l);32===o?u++:c++}if(!(f>0&&h>0)&&!(u>0&&c>0)){var p=Math.abs(h-c),d=Math.abs(f-u);if(0===p)return i.spacesDiff=d,void(d>0&&0<=u-1&&u-1<e.length&&u<n.length&&32!==n.charCodeAt(u)&&32===e.charCodeAt(u-1)&&44===e.charCodeAt(e.length-1)&&(i.looksLikeAlignment=!0));d%p!==0||(i.spacesDiff=d/p)}}function s(e,t,n){for(var s=Math.min(e.getLineCount(),1e4),a=0,o=0,f="",h=0,l=[2,4,6,8,3,5,7],u=8,c=[0,0,0,0,0,0,0,0,0],p=new r,d=1;d<=s;d++){for(var g=e.getLineLength(d),m=e.getLineContent(d),_=g<=65536,b=!1,v=0,C=0,L=0,I=0,N=g;I<N;I++){var x=_?m.charCodeAt(I):e.getLineCharCode(d,I);if(9===x)L++;else{if(32!==x){b=!0,v=I;break}C++}}if(b&&(L>0?a++:C>1&&o++,i(f,h,m,v,p),!p.looksLikeAlignment||n&&t===p.spacesDiff)){var y=p.spacesDiff;y<=u&&c[y]++,f=m,h=v}}var S=n;a!==o&&(S=a<o);var O=t;if(S){var w=S?0:.1*s;l.forEach((function(e){var t=c[e];t>w&&(w=t,O=e)})),4===O&&c[4]>0&&c[2]>0&&c[2]>=c[4]/2&&(O=2)}return{insertSpaces:S,tabSize:O}}},"2cb5":function(e,t,n){"use strict";function r(e){return(1&e.metadata)>>>0}function i(e,t){e.metadata=254&e.metadata|t<<0}function s(e){return(2&e.metadata)>>>1===1}function a(e,t){e.metadata=253&e.metadata|(t?1:0)<<1}function o(e){return(4&e.metadata)>>>2===1}function f(e,t){e.metadata=251&e.metadata|(t?1:0)<<2}function h(e){return(8&e.metadata)>>>3===1}function l(e,t){e.metadata=247&e.metadata|(t?1:0)<<3}function u(e){return(48&e.metadata)>>>4}function c(e,t){e.metadata=207&e.metadata|t<<4}function p(e){return(64&e.metadata)>>>6===1}function d(e,t){e.metadata=191&e.metadata|(t?1:0)<<6}n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return _})),n.d(t,"d",(function(){return F}));var g=function(){function e(e,t,n){this.metadata=0,this.parent=this,this.left=this,this.right=this,i(this,1),this.start=t,this.end=n,this.delta=0,this.maxEnd=n,this.id=e,this.ownerId=0,this.options=null,f(this,!1),c(this,1),l(this,!1),d(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=n,this.range=null,a(this,!1)}return e.prototype.reset=function(e,t,n,r){this.start=t,this.end=n,this.maxEnd=n,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=n,this.range=r},e.prototype.setOptions=function(e){this.options=e;var t=this.options.className;f(this,"squiggly-error"===t||"squiggly-warning"===t||"squiggly-info"===t),c(this,this.options.stickiness),l(this,!(!this.options.overviewRuler||!this.options.overviewRuler.color)),d(this,this.options.collapseOnReplaceEdit)},e.prototype.setCachedOffsets=function(e,t,n){this.cachedVersionId!==n&&(this.range=null),this.cachedVersionId=n,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t},e.prototype.detach=function(){this.parent=null,this.left=null,this.right=null},e}(),m=new g(null,0,0);m.parent=m,m.left=m,m.right=m,i(m,0);var _=function(){function e(){this.root=m,this.requestNormalizeDelta=!1}return e.prototype.intervalSearch=function(e,t,n,r,i){return this.root===m?[]:S(this,e,t,n,r,i)},e.prototype.search=function(e,t,n){return this.root===m?[]:y(this,e,t,n)},e.prototype.collectNodesFromOwner=function(e){return N(this,e)},e.prototype.collectNodesPostOrder=function(){return x(this)},e.prototype.insert=function(e){O(this,e),this._normalizeDeltaIfNecessary()},e.prototype.delete=function(e){A(this,e),this._normalizeDeltaIfNecessary()},e.prototype.resolveNode=function(e,t){var n=e,r=0;while(e!==this.root)e===e.parent.right&&(r+=e.parent.delta),e=e.parent;var i=n.start+r,s=n.end+r;n.setCachedOffsets(i,s,t)},e.prototype.acceptReplace=function(e,t,n,r){for(var i=L(this,e,e+t),s=0,a=i.length;s<a;s++){var o=i[s];A(this,o)}this._normalizeDeltaIfNecessary(),I(this,e,e+t,n),this._normalizeDeltaIfNecessary();for(s=0,a=i.length;s<a;s++){o=i[s];o.start=o.cachedAbsoluteStart,o.end=o.cachedAbsoluteEnd,C(o,e,e+t,n,r),o.maxEnd=o.end,O(this,o)}this._normalizeDeltaIfNecessary()},e.prototype._normalizeDeltaIfNecessary=function(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,b(this))},e}();function b(e){var t=e.root,n=0;while(t!==m)t.left===m||s(t.left)?t.right===m||s(t.right)?(t.start=n+t.start,t.end=n+t.end,t.delta=0,F(t),a(t,!0),a(t.left,!1),a(t.right,!1),t===t.parent.right&&(n-=t.parent.delta),t=t.parent):(n+=t.delta,t=t.right):t=t.left;a(e.root,!1)}function v(e,t,n,r){return e<n||!(e>n)&&(1!==r&&(2===r||t))}function C(e,t,n,r,i){var s=u(e),a=0===s||2===s,o=1===s||2===s,f=n-t,h=r,l=Math.min(f,h),c=e.start,d=!1,g=e.end,m=!1;t<=c&&g<=n&&p(e)&&(e.start=t,d=!0,e.end=t,m=!0);var _=i?1:f>0?2:0;if(!d&&v(c,a,t,_)&&(d=!0),!m&&v(g,o,t,_)&&(m=!0),l>0&&!i){_=f>h?2:0;!d&&v(c,a,t+l,_)&&(d=!0),!m&&v(g,o,t+l,_)&&(m=!0)}_=i?1:0;!d&&v(c,a,n,_)&&(e.start=t+h,d=!0),!m&&v(g,o,n,_)&&(e.end=t+h,m=!0);var b=h-f;d||(e.start=Math.max(0,c+b)),m||(e.end=Math.max(0,g+b)),e.start>e.end&&(e.end=e.start)}function L(e,t,n){var r=e.root,i=0,o=0,f=0,h=0,l=[],u=0;while(r!==m)if(s(r))a(r.left,!1),a(r.right,!1),r===r.parent.right&&(i-=r.parent.delta),r=r.parent;else{if(!s(r.left)){if(o=i+r.maxEnd,o<t){a(r,!0);continue}if(r.left!==m){r=r.left;continue}}f=i+r.start,f>n?a(r,!0):(h=i+r.end,h>=t&&(r.setCachedOffsets(f,h,0),l[u++]=r),a(r,!0),r.right===m||s(r.right)||(i+=r.delta,r=r.right))}return a(e.root,!1),l}function I(e,t,n,r){var i=e.root,o=0,f=0,h=0,l=r-(n-t);while(i!==m)if(s(i))a(i.left,!1),a(i.right,!1),i===i.parent.right&&(o-=i.parent.delta),F(i),i=i.parent;else{if(!s(i.left)){if(f=o+i.maxEnd,f<t){a(i,!0);continue}if(i.left!==m){i=i.left;continue}}h=o+i.start,h>n?(i.start+=l,i.end+=l,i.delta+=l,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0),a(i,!0)):(a(i,!0),i.right===m||s(i.right)||(o+=i.delta,i=i.right))}a(e.root,!1)}function N(e,t){var n=e.root,r=[],i=0;while(n!==m)s(n)?(a(n.left,!1),a(n.right,!1),n=n.parent):n.left===m||s(n.left)?(n.ownerId===t&&(r[i++]=n),a(n,!0),n.right===m||s(n.right)||(n=n.right)):n=n.left;return a(e.root,!1),r}function x(e){var t=e.root,n=[],r=0;while(t!==m)s(t)?(a(t.left,!1),a(t.right,!1),t=t.parent):t.left===m||s(t.left)?t.right===m||s(t.right)?(n[r++]=t,a(t,!0)):t=t.right:t=t.left;return a(e.root,!1),n}function y(e,t,n,r){var i=e.root,f=0,h=0,l=0,u=[],c=0;while(i!==m)if(s(i))a(i.left,!1),a(i.right,!1),i===i.parent.right&&(f-=i.parent.delta),i=i.parent;else if(i.left===m||s(i.left)){h=f+i.start,l=f+i.end,i.setCachedOffsets(h,l,r);var p=!0;t&&i.ownerId&&i.ownerId!==t&&(p=!1),n&&o(i)&&(p=!1),p&&(u[c++]=i),a(i,!0),i.right===m||s(i.right)||(f+=i.delta,i=i.right)}else i=i.left;return a(e.root,!1),u}function S(e,t,n,r,i,f){var h=e.root,l=0,u=0,c=0,p=0,d=[],g=0;while(h!==m)if(s(h))a(h.left,!1),a(h.right,!1),h===h.parent.right&&(l-=h.parent.delta),h=h.parent;else{if(!s(h.left)){if(u=l+h.maxEnd,u<t){a(h,!0);continue}if(h.left!==m){h=h.left;continue}}if(c=l+h.start,c>n)a(h,!0);else{if(p=l+h.end,p>=t){h.setCachedOffsets(c,p,f);var _=!0;r&&h.ownerId&&h.ownerId!==r&&(_=!1),i&&o(h)&&(_=!1),_&&(d[g++]=h)}a(h,!0),h.right===m||s(h.right)||(l+=h.delta,h=h.right)}}return a(e.root,!1),d}function O(e,t){if(e.root===m)return t.parent=m,t.left=m,t.right=m,i(t,0),e.root=t,e.root;w(e,t),M(t.parent);var n=t;while(n!==e.root&&1===r(n.parent))if(n.parent===n.parent.parent.left){var s=n.parent.parent.right;1===r(s)?(i(n.parent,0),i(s,0),i(n.parent.parent,1),n=n.parent.parent):(n===n.parent.right&&(n=n.parent,z(e,n)),i(n.parent,0),i(n.parent.parent,1),R(e,n.parent.parent))}else{s=n.parent.parent.left;1===r(s)?(i(n.parent,0),i(s,0),i(n.parent.parent,1),n=n.parent.parent):(n===n.parent.left&&(n=n.parent,R(e,n)),i(n.parent,0),i(n.parent.parent,1),z(e,n.parent.parent))}return i(e.root,0),t}function w(e,t){var n=0,r=e.root,s=t.start,a=t.end;while(1){var o=V(s,a,r.start+n,r.end+n);if(o<0){if(r.left===m){t.start-=n,t.end-=n,t.maxEnd-=n,r.left=t;break}r=r.left}else{if(r.right===m){t.start-=n+r.delta,t.end-=n+r.delta,t.maxEnd-=n+r.delta,r.right=t;break}n+=r.delta,r=r.right}}t.parent=r,t.left=m,t.right=m,i(t,1)}function A(e,t){var n,s;if(t.left===m?(n=t.right,s=t,n.delta+=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta):t.right===m?(n=t.left,s=t):(s=E(t.right),n=s.right,n.start+=s.delta,n.end+=s.delta,n.delta+=s.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),s.start+=t.delta,s.end+=t.delta,s.delta=t.delta,(s.delta<-1073741824||s.delta>1073741824)&&(e.requestNormalizeDelta=!0)),s===e.root)return e.root=n,i(n,0),t.detach(),B(),F(n),void(e.root.parent=m);var a,o=1===r(s);if(s===s.parent.left?s.parent.left=n:s.parent.right=n,s===t?n.parent=s.parent:(s.parent===t?n.parent=s:n.parent=s.parent,s.left=t.left,s.right=t.right,s.parent=t.parent,i(s,r(t)),t===e.root?e.root=s:t===t.parent.left?t.parent.left=s:t.parent.right=s,s.left!==m&&(s.left.parent=s),s.right!==m&&(s.right.parent=s)),t.detach(),o)return M(n.parent),s!==t&&(M(s),M(s.parent)),void B();M(n),M(n.parent),s!==t&&(M(s),M(s.parent));while(n!==e.root&&0===r(n))n===n.parent.left?(a=n.parent.right,1===r(a)&&(i(a,0),i(n.parent,1),z(e,n.parent),a=n.parent.right),0===r(a.left)&&0===r(a.right)?(i(a,1),n=n.parent):(0===r(a.right)&&(i(a.left,0),i(a,1),R(e,a),a=n.parent.right),i(a,r(n.parent)),i(n.parent,0),i(a.right,0),z(e,n.parent),n=e.root)):(a=n.parent.left,1===r(a)&&(i(a,0),i(n.parent,1),R(e,n.parent),a=n.parent.left),0===r(a.left)&&0===r(a.right)?(i(a,1),n=n.parent):(0===r(a.left)&&(i(a.right,0),i(a,1),z(e,a),a=n.parent.left),i(a,r(n.parent)),i(n.parent,0),i(a.left,0),R(e,n.parent),n=e.root));i(n,0),B()}function E(e){while(e.left!==m)e=e.left;return e}function B(){m.parent=m,m.delta=0,m.start=0,m.end=0}function z(e,t){var n=t.right;n.delta+=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta,t.right=n.left,n.left!==m&&(n.left.parent=t),n.parent=t.parent,t.parent===m?e.root=n:t===t.parent.left?t.parent.left=n:t.parent.right=n,n.left=t,t.parent=n,F(t),F(n)}function R(e,t){var n=t.left;t.delta-=n.delta,(t.delta<-1073741824||t.delta>1073741824)&&(e.requestNormalizeDelta=!0),t.start-=n.delta,t.end-=n.delta,t.left=n.right,n.right!==m&&(n.right.parent=t),n.parent=t.parent,t.parent===m?e.root=n:t===t.parent.right?t.parent.right=n:t.parent.left=n,n.right=t,t.parent=n,F(t),F(n)}function k(e){var t=e.end;if(e.left!==m){var n=e.left.maxEnd;n>t&&(t=n)}if(e.right!==m){var r=e.right.maxEnd+e.delta;r>t&&(t=r)}return t}function F(e){e.maxEnd=k(e)}function M(e){while(e!==m){var t=k(e);if(e.maxEnd===t)return;e.maxEnd=t,e=e.parent}}function V(e,t,n,r){return e===n?t-r:e-n}},3352:function(e,t,n){"use strict";var r,i;n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),function(e){e[e["Left"]=1]="Left",e[e["Center"]=2]="Center",e[e["Right"]=4]="Right",e[e["Full"]=7]="Full"}(r||(r={})),function(e){e[e["Inline"]=1]="Inline",e[e["Gutter"]=2]="Gutter"}(i||(i={}));var s=function(){function e(e){this.tabSize=Math.max(1,0|e.tabSize),this.indentSize=0|e.tabSize,this.insertSpaces=Boolean(e.insertSpaces),this.defaultEOL=0|e.defaultEOL,this.trimAutoWhitespace=Boolean(e.trimAutoWhitespace)}return e.prototype.equals=function(e){return this.tabSize===e.tabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace},e.prototype.createChangeEvent=function(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}},e}(),a=function(){function e(e,t){this.range=e,this.matches=t}return e}(),o=function(){function e(e,t,n){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=n}return e}()},a054:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("fdcc"),i=function(){function e(e,t){this.beforeVersionId=e,this.beforeCursorState=t,this.afterCursorState=null,this.afterVersionId=-1,this.editOperations=[]}return e.prototype.undo=function(e){for(var t=this.editOperations.length-1;t>=0;t--)this.editOperations[t]={operations:e.applyEdits(this.editOperations[t].operations)}},e.prototype.redo=function(e){for(var t=0;t<this.editOperations.length;t++)this.editOperations[t]={operations:e.applyEdits(this.editOperations[t].operations)}},e}();function s(e){var t=e.getEOL();return"\n"===t?0:1}var a=function(){function e(e,t){this.beforeVersionId=e,this.beforeCursorState=null,this.afterCursorState=null,this.afterVersionId=-1,this.eol=t}return e.prototype.undo=function(e){var t=s(e);e.setEOL(this.eol),this.eol=t},e.prototype.redo=function(e){var t=s(e);e.setEOL(this.eol),this.eol=t},e}(),o=function(){function e(e){this.model=e,this.currentOpenStackElement=null,this.past=[],this.future=[]}return e.prototype.pushStackElement=function(){null!==this.currentOpenStackElement&&(this.past.push(this.currentOpenStackElement),this.currentOpenStackElement=null)},e.prototype.clear=function(){this.currentOpenStackElement=null,this.past=[],this.future=[]},e.prototype.pushEOL=function(e){this.future=[],this.currentOpenStackElement&&this.pushStackElement();var t=s(this.model),n=new a(this.model.getAlternativeVersionId(),t);this.model.setEOL(e),n.afterVersionId=this.model.getVersionId(),this.currentOpenStackElement=n,this.pushStackElement()},e.prototype.pushEditOperation=function(t,n,r){this.future=[];var s=null;this.currentOpenStackElement&&(this.currentOpenStackElement instanceof i?s=this.currentOpenStackElement:this.pushStackElement()),this.currentOpenStackElement||(s=new i(this.model.getAlternativeVersionId(),t),this.currentOpenStackElement=s);var a={operations:this.model.applyEdits(n)};return s.editOperations.push(a),s.afterCursorState=e._computeCursorState(r,a.operations),s.afterVersionId=this.model.getVersionId(),s.afterCursorState},e._computeCursorState=function(e,t){try{return e?e(t):null}catch(n){return Object(r["e"])(n),null}},e.prototype.undo=function(){if(this.pushStackElement(),this.past.length>0){var e=this.past.pop();try{e.undo(this.model)}catch(t){return Object(r["e"])(t),this.clear(),null}return this.future.push(e),{selections:e.beforeCursorState,recordedVersionId:e.beforeVersionId}}return null},e.prototype.canUndo=function(){return this.past.length>0||null!==this.currentOpenStackElement},e.prototype.redo=function(){if(this.future.length>0){var e=this.future.pop();try{e.redo(this.model)}catch(t){return Object(r["e"])(t),this.clear(),null}return this.past.push(e),{selections:e.afterCursorState,recordedVersionId:e.afterVersionId}}return null},e.prototype.canRedo=function(){return this.future.length>0},e}()},a411:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("7061"),i=n("2de5"),s=function(){function e(e,t,n,r){this._uri=e,this._lines=t,this._eol=n,this._versionId=r,this._lineStarts=null}return e.prototype.dispose=function(){this._lines.length=0},e.prototype.getText=function(){return this._lines.join(this._eol)},e.prototype.onEvents=function(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);for(var t=e.changes,n=0,i=t;n<i.length;n++){var s=i[n];this._acceptDeleteRange(s.range),this._acceptInsertText(new r["a"](s.range.startLineNumber,s.range.startColumn),s.text)}this._versionId=e.versionId},e.prototype._ensureLineStarts=function(){if(!this._lineStarts){for(var e=this._eol.length,t=this._lines.length,n=new Uint32Array(t),r=0;r<t;r++)n[r]=this._lines[r].length+e;this._lineStarts=new i["a"](n)}},e.prototype._setLineText=function(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.changeValue(e,this._lines[e].length+this._eol.length)},e.prototype._acceptDeleteRange=function(e){if(e.startLineNumber!==e.endLineNumber)this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber);else{if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1))}},e.prototype._acceptInsertText=function(e,t){if(0!==t.length){var n=t.split(/\r\n|\r|\n/);if(1!==n.length){n[n.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+n[0]);for(var r=new Uint32Array(n.length-1),i=1;i<n.length;i++)this._lines.splice(e.lineNumber+i-1,0,n[i]),r[i-1]=n[i].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,r)}else this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+n[0]+this._lines[e.lineNumber-1].substring(e.column-1))}},e}()},be83:function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var r=n("3742"),i=n("7061"),s=n("6a89"),a=n("3352"),o=function(){function e(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}return e.prototype.next=function(){if(this.right!==f)return h(this.right);var e=this;while(e.parent!==f){if(e.parent.left===e)break;e=e.parent}return e.parent===f?f:e.parent},e.prototype.prev=function(){if(this.left!==f)return l(this.left);var e=this;while(e.parent!==f){if(e.parent.right===e)break;e=e.parent}return e.parent===f?f:e.parent},e.prototype.detach=function(){this.parent=null,this.left=null,this.right=null},e}(),f=new o(null,0);function h(e){while(e.left!==f)e=e.left;return e}function l(e){while(e.right!==f)e=e.right;return e}function u(e){return e===f?0:e.size_left+e.piece.length+u(e.right)}function c(e){return e===f?0:e.lf_left+e.piece.lineFeedCnt+c(e.right)}function p(){f.parent=f}function d(e,t){var n=t.right;n.size_left+=t.size_left+(t.piece?t.piece.length:0),n.lf_left+=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),t.right=n.left,n.left!==f&&(n.left.parent=t),n.parent=t.parent,t.parent===f?e.root=n:t.parent.left===t?t.parent.left=n:t.parent.right=n,n.left=t,t.parent=n}function g(e,t){var n=t.left;t.left=n.right,n.right!==f&&(n.right.parent=t),n.parent=t.parent,t.size_left-=n.size_left+(n.piece?n.piece.length:0),t.lf_left-=n.lf_left+(n.piece?n.piece.lineFeedCnt:0),t.parent===f?e.root=n:t===t.parent.right?t.parent.right=n:t.parent.left=n,n.right=t,t.parent=n}function m(e,t){var n,r;if(t.left===f?(r=t,n=r.right):t.right===f?(r=t,n=r.left):(r=h(t.right),n=r.right),r===e.root)return e.root=n,n.color=0,t.detach(),p(),void(e.root.parent=f);var i=1===r.color;if(r===r.parent.left?r.parent.left=n:r.parent.right=n,r===t?(n.parent=r.parent,v(e,n)):(r.parent===t?n.parent=r:n.parent=r.parent,v(e,n),r.left=t.left,r.right=t.right,r.parent=t.parent,r.color=t.color,t===e.root?e.root=r:t===t.parent.left?t.parent.left=r:t.parent.right=r,r.left!==f&&(r.left.parent=r),r.right!==f&&(r.right.parent=r),r.size_left=t.size_left,r.lf_left=t.lf_left,v(e,r)),t.detach(),n.parent.left===n){var s=u(n),a=c(n);if(s!==n.parent.size_left||a!==n.parent.lf_left){var o=s-n.parent.size_left,l=a-n.parent.lf_left;n.parent.size_left=s,n.parent.lf_left=a,b(e,n.parent,o,l)}}if(v(e,n.parent),i)p();else{var m;while(n!==e.root&&0===n.color)n===n.parent.left?(m=n.parent.right,1===m.color&&(m.color=0,n.parent.color=1,d(e,n.parent),m=n.parent.right),0===m.left.color&&0===m.right.color?(m.color=1,n=n.parent):(0===m.right.color&&(m.left.color=0,m.color=1,g(e,m),m=n.parent.right),m.color=n.parent.color,n.parent.color=0,m.right.color=0,d(e,n.parent),n=e.root)):(m=n.parent.left,1===m.color&&(m.color=0,n.parent.color=1,g(e,n.parent),m=n.parent.left),0===m.left.color&&0===m.right.color?(m.color=1,n=n.parent):(0===m.left.color&&(m.right.color=0,m.color=1,d(e,m),m=n.parent.left),m.color=n.parent.color,n.parent.color=0,m.left.color=0,g(e,n.parent),n=e.root));n.color=0,p()}}function _(e,t){v(e,t);while(t!==e.root&&1===t.parent.color)if(t.parent===t.parent.parent.left){var n=t.parent.parent.right;1===n.color?(t.parent.color=0,n.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.right&&(t=t.parent,d(e,t)),t.parent.color=0,t.parent.parent.color=1,g(e,t.parent.parent))}else{n=t.parent.parent.left;1===n.color?(t.parent.color=0,n.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.left&&(t=t.parent,g(e,t)),t.parent.color=0,t.parent.parent.color=1,d(e,t.parent.parent))}e.root.color=0}function b(e,t,n,r){while(t!==e.root&&t!==f)t.parent.left===t&&(t.parent.size_left+=n,t.parent.lf_left+=r),t=t.parent}function v(e,t){var n=0,r=0;if(t!==e.root){if(0===n){while(t!==e.root&&t===t.parent.right)t=t.parent;if(t===e.root)return;t=t.parent,n=u(t.left)-t.size_left,r=c(t.left)-t.lf_left,t.size_left+=n,t.lf_left+=r}while(t!==e.root&&(0!==n||0!==r))t.parent.left===t&&(t.parent.size_left+=n,t.parent.lf_left+=r),t=t.parent}}f.parent=f,f.left=f,f.right=f,f.color=0;var C=n("8c02"),L=65535;function I(e){var t;return t=e[e.length-1]<65536?new Uint16Array(e.length):new Uint32Array(e.length),t.set(e,0),t}var N=function(){function e(e,t,n,r,i){this.lineStarts=e,this.cr=t,this.lf=n,this.crlf=r,this.isBasicASCII=i}return e}();function x(e,t){void 0===t&&(t=!0);for(var n=[0],r=1,i=0,s=e.length;i<s;i++){var a=e.charCodeAt(i);13===a?i+1<s&&10===e.charCodeAt(i+1)?(n[r++]=i+2,i++):n[r++]=i+1:10===a&&(n[r++]=i+1)}return t?I(n):n}function y(e,t){e.length=0,e[0]=0;for(var n=1,r=0,i=0,s=0,a=!0,o=0,f=t.length;o<f;o++){var h=t.charCodeAt(o);13===h?o+1<f&&10===t.charCodeAt(o+1)?(s++,e[n++]=o+2,o++):(r++,e[n++]=o+1):10===h?(i++,e[n++]=o+1):a&&9!==h&&(h<32||h>126)&&(a=!1)}var l=new N(I(e),r,i,s,a);return e.length=0,l}var S=function(){function e(e,t,n,r,i){this.bufferIndex=e,this.start=t,this.end=n,this.lineFeedCnt=r,this.length=i}return e}(),O=function(){function e(e,t){this.buffer=e,this.lineStarts=t}return e}(),w=function(){function e(e){this._limit=e,this._cache=[]}return e.prototype.get=function(e){for(var t=this._cache.length-1;t>=0;t--){var n=this._cache[t];if(n.nodeStartOffset<=e&&n.nodeStartOffset+n.node.piece.length>=e)return n}return null},e.prototype.get2=function(e){for(var t=this._cache.length-1;t>=0;t--){var n=this._cache[t];if(n.nodeStartLineNumber&&n.nodeStartLineNumber<e&&n.nodeStartLineNumber+n.node.piece.lineFeedCnt>=e)return n}return null},e.prototype.set=function(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)},e.prototype.valdiate=function(e){for(var t=!1,n=this._cache,r=0;r<n.length;r++){var i=n[r];(null===i.node.parent||i.nodeStartOffset>=e)&&(n[r]=null,t=!0)}if(t){for(var s=[],a=0,o=n;a<o.length;a++){var f=o[a];null!==f&&s.push(f)}this._cache=s}},e}(),A=function(){function e(e,t,n){this.create(e,t,n)}return e.prototype.create=function(e,t,n){this._buffers=[new O("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=f,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=n;for(var r=null,i=0,s=e.length;i<s;i++)if(e[i].buffer.length>0){e[i].lineStarts||(e[i].lineStarts=x(e[i].buffer));var a=new S(i+1,{line:0,column:0},{line:e[i].lineStarts.length-1,column:e[i].buffer.length-e[i].lineStarts[e[i].lineStarts.length-1]},e[i].lineStarts.length-1,e[i].buffer.length);this._buffers.push(e[i]),r=this.rbInsertRight(r,a)}this._searchCache=new w(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()},e.prototype.normalizeEOL=function(e){var t=this,n=L,r=n-Math.floor(n/3),i=2*r,s="",a=0,o=[];if(this.iterate(this.root,(function(n){var f=t.getNodeContent(n),h=f.length;if(a<=r||a+h<i)return s+=f,a+=h,!0;var l=s.replace(/\r\n|\r|\n/g,e);return o.push(new O(l,x(l))),s=f,a=h,!0})),a>0){var f=s.replace(/\r\n|\r|\n/g,e);o.push(new O(f,x(f)))}this.create(o,e,!0)},e.prototype.getEOL=function(){return this._EOL},e.prototype.setEOL=function(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)},e.prototype.getOffsetAt=function(e,t){var n=0,r=this.root;while(r!==f)if(r.left!==f&&r.lf_left+1>=e)r=r.left;else{if(r.lf_left+r.piece.lineFeedCnt+1>=e){n+=r.size_left;var i=this.getAccumulatedValue(r,e-r.lf_left-2);return n+(i+t-1)}e-=r.lf_left+r.piece.lineFeedCnt,n+=r.size_left+r.piece.length,r=r.right}return n},e.prototype.getPositionAt=function(e){e=Math.floor(e),e=Math.max(0,e);var t=this.root,n=0,r=e;while(t!==f)if(0!==t.size_left&&t.size_left>=e)t=t.left;else{if(t.size_left+t.piece.length>=e){var s=this.getIndexOf(t,e-t.size_left);if(n+=t.lf_left+s.index,0===s.index){var a=this.getOffsetAt(n+1,1),o=r-a;return new i["a"](n+1,o+1)}return new i["a"](n+1,s.remainder+1)}if(e-=t.size_left+t.piece.length,n+=t.lf_left+t.piece.lineFeedCnt,t.right===f){a=this.getOffsetAt(n+1,1),o=r-e-a;return new i["a"](n+1,o+1)}t=t.right}return new i["a"](1,1)},e.prototype.getValueInRange=function(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";var n=this.nodeAt2(e.startLineNumber,e.startColumn),r=this.nodeAt2(e.endLineNumber,e.endColumn),i=this.getValueInRange2(n,r);return t?t===this._EOL&&this._EOLNormalized&&t===this.getEOL()&&this._EOLNormalized?i:i.replace(/\r\n|\r|\n/g,t):i},e.prototype.getValueInRange2=function(e,t){if(e.node===t.node){var n=e.node,r=this._buffers[n.piece.bufferIndex].buffer,i=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return r.substring(i+e.remainder,i+t.remainder)}var s=e.node,a=this._buffers[s.piece.bufferIndex].buffer,o=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start),h=a.substring(o+e.remainder,o+s.piece.length);s=s.next();while(s!==f){var l=this._buffers[s.piece.bufferIndex].buffer,u=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);if(s===t.node){h+=l.substring(u,u+t.remainder);break}h+=l.substr(u,s.piece.length),s=s.next()}return h},e.prototype.getLinesContent=function(){var e=this,t=[],n=0,r="",i=!1;return this.iterate(this.root,(function(s){if(s===f)return!0;var a=s.piece,o=a.length;if(0===o)return!0;var h=e._buffers[a.bufferIndex].buffer,l=e._buffers[a.bufferIndex].lineStarts,u=a.start.line,c=a.end.line,p=l[u]+a.start.column;if(i&&(10===h.charCodeAt(p)&&(p++,o--),t[n++]=r,r="",i=!1,0===o))return!0;if(u===c)return e._EOLNormalized||13!==h.charCodeAt(p+o-1)?r+=h.substr(p,o):(i=!0,r+=h.substr(p,o-1)),!0;r+=e._EOLNormalized?h.substring(p,Math.max(p,l[u+1]-e._EOLLength)):h.substring(p,l[u+1]).replace(/(\r\n|\r|\n)$/,""),t[n++]=r;for(var d=u+1;d<c;d++)r=e._EOLNormalized?h.substring(l[d],l[d+1]-e._EOLLength):h.substring(l[d],l[d+1]).replace(/(\r\n|\r|\n)$/,""),t[n++]=r;return e._EOLNormalized||13!==h.charCodeAt(l[c]+a.end.column-1)?r=h.substr(l[c],a.end.column):(i=!0,0===a.end.column?n--:r=h.substr(l[c],a.end.column-1)),!0})),i&&(t[n++]=r,r=""),t[n++]=r,t},e.prototype.getLength=function(){return this._length},e.prototype.getLineCount=function(){return this._lineCnt},e.prototype.getLineContent=function(e){return this._lastVisitedLine.lineNumber===e||(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value},e.prototype.getLineCharCode=function(e,t){var n=this.nodeAt2(e,t+1);if(n.remainder===n.node.piece.length){var r=n.node.next();if(!r)return 0;var i=this._buffers[r.piece.bufferIndex],s=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);return i.buffer.charCodeAt(s)}i=this._buffers[n.node.piece.bufferIndex],s=this.offsetInBuffer(n.node.piece.bufferIndex,n.node.piece.start);var a=s+n.remainder;return i.buffer.charCodeAt(a)},e.prototype.getLineLength=function(e){if(e===this.getLineCount()){var t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength},e.prototype.findMatchesInNode=function(e,t,n,r,i,a,o,f,h,l,u){var c,p,d,g=this._buffers[e.piece.bufferIndex],m=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),_=this.offsetInBuffer(e.piece.bufferIndex,i),b=this.offsetInBuffer(e.piece.bufferIndex,a),v={line:0,column:0};t._wordSeparators?(p=g.buffer.substring(_,b),d=function(e){return e+_},t.reset(-1)):(p=g.buffer,d=function(e){return e},t.reset(_));do{if(c=t.next(p),c){if(d(c.index)>=b)return l;this.positionInBuffer(e,d(c.index)-m,v);var L=this.getLineFeedCnt(e.piece.bufferIndex,i,v),I=v.line===i.line?v.column-i.column+r:v.column+1,N=I+c[0].length;if(u[l++]=Object(C["d"])(new s["a"](n+L,I,n+L,N),c,f),d(c.index)+c[0].length>=b)return l;if(l>=h)return l}}while(c);return l},e.prototype.findMatchesLineByLine=function(e,t,n,r){var i=[],s=0,a=new C["b"](t.wordSeparators,t.regex),o=this.nodeAt2(e.startLineNumber,e.startColumn);if(null===o)return[];var f=this.nodeAt2(e.endLineNumber,e.endColumn);if(null===f)return[];var h=this.positionInBuffer(o.node,o.remainder),l=this.positionInBuffer(f.node,f.remainder);if(o.node===f.node)return this.findMatchesInNode(o.node,a,e.startLineNumber,e.startColumn,h,l,t,n,r,s,i),i;var u=e.startLineNumber,c=o.node;while(c!==f.node){var p=this.getLineFeedCnt(c.piece.bufferIndex,h,c.piece.end);if(p>=1){var d=this._buffers[c.piece.bufferIndex].lineStarts,g=this.offsetInBuffer(c.piece.bufferIndex,c.piece.start),m=d[h.line+p],_=u===e.startLineNumber?e.startColumn:1;if(s=this.findMatchesInNode(c,a,u,_,h,this.positionInBuffer(c,m-g),t,n,r,s,i),s>=r)return i;u+=p}var b=u===e.startLineNumber?e.startColumn-1:0;if(u===e.endLineNumber){var v=this.getLineContent(u).substring(b,e.endColumn-1);return s=this._findMatchesInLine(t,a,v,e.endLineNumber,b,s,i,n,r),i}if(s=this._findMatchesInLine(t,a,this.getLineContent(u).substr(b),u,b,s,i,n,r),s>=r)return i;u++,o=this.nodeAt2(u,1),c=o.node,h=this.positionInBuffer(o.node,o.remainder)}if(u===e.endLineNumber){var L=u===e.startLineNumber?e.startColumn-1:0;v=this.getLineContent(u).substring(L,e.endColumn-1);return s=this._findMatchesInLine(t,a,v,e.endLineNumber,L,s,i,n,r),i}var I=u===e.startLineNumber?e.startColumn:1;return s=this.findMatchesInNode(f.node,a,u,I,h,l,t,n,r,s,i),i},e.prototype._findMatchesInLine=function(e,t,n,r,i,o,f,h,l){var u,c=e.wordSeparators;if(!h&&e.simpleSearch){var p=e.simpleSearch,d=p.length,g=n.length,m=-d;while(-1!==(m=n.indexOf(p,m+d)))if((!c||Object(C["e"])(c,n,g,m,d))&&(f[o++]=new a["b"](new s["a"](r,m+1+i,r,m+1+d+i),null),o>=l))return o;return o}t.reset(0);do{if(u=t.next(n),u&&(f[o++]=Object(C["d"])(new s["a"](r,u.index+1+i,r,u.index+1+u[0].length+i),u,h),o>=l))return o}while(u);return o},e.prototype.insert=function(e,t,n){if(void 0===n&&(n=!1),this._EOLNormalized=this._EOLNormalized&&n,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==f){var r=this.nodeAt(e),i=r.node,s=r.remainder,a=r.nodeStartOffset,o=i.piece,h=o.bufferIndex,l=this.positionInBuffer(i,s);if(0===i.piece.bufferIndex&&o.end.line===this._lastChangeBufferPos.line&&o.end.column===this._lastChangeBufferPos.column&&a+o.length===e&&t.length<L)return this.appendToNode(i,t),void this.computeBufferMetadata();if(a===e)this.insertContentToNodeLeft(t,i),this._searchCache.valdiate(e);else if(a+i.piece.length>e){var u=[],c=new S(o.bufferIndex,l,o.end,this.getLineFeedCnt(o.bufferIndex,l,o.end),this.offsetInBuffer(h,o.end)-this.offsetInBuffer(h,l));if(this.shouldCheckCRLF()&&this.endWithCR(t)){var p=this.nodeCharCodeAt(i,s);if(10===p){var d={line:c.start.line+1,column:0};c=new S(c.bufferIndex,d,c.end,this.getLineFeedCnt(c.bufferIndex,d,c.end),c.length-1),t+="\n"}}if(this.shouldCheckCRLF()&&this.startWithLF(t)){var g=this.nodeCharCodeAt(i,s-1);if(13===g){var m=this.positionInBuffer(i,s-1);this.deleteNodeTail(i,m),t="\r"+t,0===i.piece.length&&u.push(i)}else this.deleteNodeTail(i,l)}else this.deleteNodeTail(i,l);var _=this.createNewPieces(t);c.length>0&&this.rbInsertRight(i,c);for(var b=i,v=0;v<_.length;v++)b=this.rbInsertRight(b,_[v]);this.deleteNodes(u)}else this.insertContentToNodeRight(t,i)}else{var C=this.createNewPieces(t);for(i=this.rbInsertLeft(null,C[0]),v=1;v<C.length;v++)i=this.rbInsertRight(i,C[v])}this.computeBufferMetadata()},e.prototype.delete=function(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",!(t<=0||this.root===f)){var n=this.nodeAt(e),r=this.nodeAt(e+t),i=n.node,s=r.node;if(i===s){var a=this.positionInBuffer(i,n.remainder),o=this.positionInBuffer(i,r.remainder);if(n.nodeStartOffset===e){if(t===i.piece.length){var h=i.next();return m(this,i),this.validateCRLFWithPrevNode(h),void this.computeBufferMetadata()}return this.deleteNodeHead(i,o),this._searchCache.valdiate(e),this.validateCRLFWithPrevNode(i),void this.computeBufferMetadata()}return n.nodeStartOffset+i.piece.length===e+t?(this.deleteNodeTail(i,a),this.validateCRLFWithNextNode(i),void this.computeBufferMetadata()):(this.shrinkNode(i,a,o),void this.computeBufferMetadata())}var l=[],u=this.positionInBuffer(i,n.remainder);this.deleteNodeTail(i,u),this._searchCache.valdiate(e),0===i.piece.length&&l.push(i);var c=this.positionInBuffer(s,r.remainder);this.deleteNodeHead(s,c),0===s.piece.length&&l.push(s);for(var p=i.next(),d=p;d!==f&&d!==s;d=d.next())l.push(d);var g=0===i.piece.length?i.prev():i;this.deleteNodes(l),this.validateCRLFWithNextNode(g),this.computeBufferMetadata()}},e.prototype.insertContentToNodeLeft=function(e,t){var n=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){var r=t.piece,i={line:r.start.line+1,column:0},s=new S(r.bufferIndex,i,r.end,this.getLineFeedCnt(r.bufferIndex,i,r.end),r.length-1);t.piece=s,e+="\n",b(this,t,-1,-1),0===t.piece.length&&n.push(t)}for(var a=this.createNewPieces(e),o=this.rbInsertLeft(t,a[a.length-1]),f=a.length-2;f>=0;f--)o=this.rbInsertLeft(o,a[f]);this.validateCRLFWithPrevNode(o),this.deleteNodes(n)},e.prototype.insertContentToNodeRight=function(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+="\n");for(var n=this.createNewPieces(e),r=this.rbInsertRight(t,n[0]),i=r,s=1;s<n.length;s++)i=this.rbInsertRight(i,n[s]);this.validateCRLFWithPrevNode(r)},e.prototype.positionInBuffer=function(e,t,n){var r=e.piece,i=e.piece.bufferIndex,s=this._buffers[i].lineStarts,a=s[r.start.line]+r.start.column,o=a+t,f=r.start.line,h=r.end.line,l=0,u=0,c=0;while(f<=h){if(l=f+(h-f)/2|0,c=s[l],l===h)break;if(u=s[l+1],o<c)h=l-1;else{if(!(o>=u))break;f=l+1}}return n?(n.line=l,n.column=o-c,null):{line:l,column:o-c}},e.prototype.getLineFeedCnt=function(e,t,n){if(0===n.column)return n.line-t.line;var r=this._buffers[e].lineStarts;if(n.line===r.length-1)return n.line-t.line;var i=r[n.line+1],s=r[n.line]+n.column;if(i>s+1)return n.line-t.line;var a=s-1,o=this._buffers[e].buffer;return 13===o.charCodeAt(a)?n.line-t.line+1:n.line-t.line},e.prototype.offsetInBuffer=function(e,t){var n=this._buffers[e].lineStarts;return n[t.line]+t.column},e.prototype.deleteNodes=function(e){for(var t=0;t<e.length;t++)m(this,e[t])},e.prototype.createNewPieces=function(e){if(e.length>L){var t=[];while(e.length>L){var n=e.charCodeAt(L-1),r=void 0;13===n||n>=55296&&n<=56319?(r=e.substring(0,L-1),e=e.substring(L-1)):(r=e.substring(0,L),e=e.substring(L));var i=x(r);t.push(new S(this._buffers.length,{line:0,column:0},{line:i.length-1,column:r.length-i[i.length-1]},i.length-1,r.length)),this._buffers.push(new O(r,i))}var s=x(e);return t.push(new S(this._buffers.length,{line:0,column:0},{line:s.length-1,column:e.length-s[s.length-1]},s.length-1,e.length)),this._buffers.push(new O(e,s)),t}var a=this._buffers[0].buffer.length,o=x(e,!1),f=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===a&&0!==a&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},f=this._lastChangeBufferPos;for(var h=0;h<o.length;h++)o[h]+=a+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1)),this._buffers[0].buffer+="_"+e,a+=1}else{if(0!==a)for(h=0;h<o.length;h++)o[h]+=a;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1)),this._buffers[0].buffer+=e}var l=this._buffers[0].buffer.length,u=this._buffers[0].lineStarts.length-1,c=l-this._buffers[0].lineStarts[u],p={line:u,column:c},d=new S(0,f,p,this.getLineFeedCnt(0,f,p),l-a);return this._lastChangeBufferPos=p,[d]},e.prototype.getLineRawContent=function(e,t){void 0===t&&(t=0);var n=this.root,r="",i=this._searchCache.get2(e);if(i){n=i.node;var s=this.getAccumulatedValue(n,e-i.nodeStartLineNumber-1),a=this._buffers[n.piece.bufferIndex].buffer,o=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(i.nodeStartLineNumber+n.piece.lineFeedCnt!==e){var h=this.getAccumulatedValue(n,e-i.nodeStartLineNumber);return a.substring(o+s,o+h-t)}r=a.substring(o+s,o+n.piece.length)}else{var l=0,u=e;while(n!==f)if(n.left!==f&&n.lf_left>=e-1)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt>e-1){s=this.getAccumulatedValue(n,e-n.lf_left-2),h=this.getAccumulatedValue(n,e-n.lf_left-1),a=this._buffers[n.piece.bufferIndex].buffer,o=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return l+=n.size_left,this._searchCache.set({node:n,nodeStartOffset:l,nodeStartLineNumber:u-(e-1-n.lf_left)}),a.substring(o+s,o+h-t)}if(n.lf_left+n.piece.lineFeedCnt===e-1){s=this.getAccumulatedValue(n,e-n.lf_left-2),a=this._buffers[n.piece.bufferIndex].buffer,o=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);r=a.substring(o+s,o+n.piece.length);break}e-=n.lf_left+n.piece.lineFeedCnt,l+=n.size_left+n.piece.length,n=n.right}}n=n.next();while(n!==f){a=this._buffers[n.piece.bufferIndex].buffer;if(n.piece.lineFeedCnt>0){h=this.getAccumulatedValue(n,0),o=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return r+=a.substring(o,o+h-t),r}o=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);r+=a.substr(o,n.piece.length),n=n.next()}return r},e.prototype.computeBufferMetadata=function(){var e=this.root,t=1,n=0;while(e!==f)t+=e.lf_left+e.piece.lineFeedCnt,n+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=n,this._searchCache.valdiate(this._length)},e.prototype.getIndexOf=function(e,t){var n=e.piece,r=this.positionInBuffer(e,t),i=r.line-n.start.line;if(this.offsetInBuffer(n.bufferIndex,n.end)-this.offsetInBuffer(n.bufferIndex,n.start)===t){var s=this.getLineFeedCnt(e.piece.bufferIndex,n.start,r);if(s!==i)return{index:s,remainder:0}}return{index:i,remainder:r.column}},e.prototype.getAccumulatedValue=function(e,t){if(t<0)return 0;var n=e.piece,r=this._buffers[n.bufferIndex].lineStarts,i=n.start.line+t+1;return i>n.end.line?r[n.end.line]+n.end.column-r[n.start.line]-n.start.column:r[i]-r[n.start.line]-n.start.column},e.prototype.deleteNodeTail=function(e,t){var n=e.piece,r=n.lineFeedCnt,i=this.offsetInBuffer(n.bufferIndex,n.end),s=t,a=this.offsetInBuffer(n.bufferIndex,s),o=this.getLineFeedCnt(n.bufferIndex,n.start,s),f=o-r,h=a-i,l=n.length+h;e.piece=new S(n.bufferIndex,n.start,s,o,l),b(this,e,h,f)},e.prototype.deleteNodeHead=function(e,t){var n=e.piece,r=n.lineFeedCnt,i=this.offsetInBuffer(n.bufferIndex,n.start),s=t,a=this.getLineFeedCnt(n.bufferIndex,s,n.end),o=this.offsetInBuffer(n.bufferIndex,s),f=a-r,h=i-o,l=n.length+h;e.piece=new S(n.bufferIndex,s,n.end,a,l),b(this,e,h,f)},e.prototype.shrinkNode=function(e,t,n){var r=e.piece,i=r.start,s=r.end,a=r.length,o=r.lineFeedCnt,f=t,h=this.getLineFeedCnt(r.bufferIndex,r.start,f),l=this.offsetInBuffer(r.bufferIndex,t)-this.offsetInBuffer(r.bufferIndex,i);e.piece=new S(r.bufferIndex,r.start,f,h,l),b(this,e,l-a,h-o);var u=new S(r.bufferIndex,n,s,this.getLineFeedCnt(r.bufferIndex,n,s),this.offsetInBuffer(r.bufferIndex,s)-this.offsetInBuffer(r.bufferIndex,n)),c=this.rbInsertRight(e,u);this.validateCRLFWithPrevNode(c)},e.prototype.appendToNode=function(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+="\n");var n=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),r=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;for(var i=x(t,!1),s=0;s<i.length;s++)i[s]+=r;if(n){var a=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:r-a}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1));var o=this._buffers[0].lineStarts.length-1,f=this._buffers[0].buffer.length-this._buffers[0].lineStarts[o],h={line:o,column:f},l=e.piece.length+t.length,u=e.piece.lineFeedCnt,c=this.getLineFeedCnt(0,e.piece.start,h),p=c-u;e.piece=new S(e.piece.bufferIndex,e.piece.start,h,c,l),this._lastChangeBufferPos=h,b(this,e,t.length,p)},e.prototype.nodeAt=function(e){var t=this.root,n=this._searchCache.get(e);if(n)return{node:n.node,nodeStartOffset:n.nodeStartOffset,remainder:e-n.nodeStartOffset};var r=0;while(t!==f)if(t.size_left>e)t=t.left;else{if(t.size_left+t.piece.length>=e){r+=t.size_left;var i={node:t,remainder:e-t.size_left,nodeStartOffset:r};return this._searchCache.set(i),i}e-=t.size_left+t.piece.length,r+=t.size_left+t.piece.length,t=t.right}return null},e.prototype.nodeAt2=function(e,t){var n=this.root,r=0;while(n!==f)if(n.left!==f&&n.lf_left>=e-1)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt>e-1){var i=this.getAccumulatedValue(n,e-n.lf_left-2),s=this.getAccumulatedValue(n,e-n.lf_left-1);return r+=n.size_left,{node:n,remainder:Math.min(i+t-1,s),nodeStartOffset:r}}if(n.lf_left+n.piece.lineFeedCnt===e-1){i=this.getAccumulatedValue(n,e-n.lf_left-2);if(i+t-1<=n.piece.length)return{node:n,remainder:i+t-1,nodeStartOffset:r};t-=n.piece.length-i;break}e-=n.lf_left+n.piece.lineFeedCnt,r+=n.size_left+n.piece.length,n=n.right}n=n.next();while(n!==f){if(n.piece.lineFeedCnt>0){s=this.getAccumulatedValue(n,0);var a=this.offsetOfNode(n);return{node:n,remainder:Math.min(t-1,s),nodeStartOffset:a}}if(n.piece.length>=t-1){var o=this.offsetOfNode(n);return{node:n,remainder:t-1,nodeStartOffset:o}}t-=n.piece.length,n=n.next()}return null},e.prototype.nodeCharCodeAt=function(e,t){if(e.piece.lineFeedCnt<1)return-1;var n=this._buffers[e.piece.bufferIndex],r=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return n.buffer.charCodeAt(r)},e.prototype.offsetOfNode=function(e){if(!e)return 0;var t=e.size_left;while(e!==this.root)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t},e.prototype.shouldCheckCRLF=function(){return!(this._EOLNormalized&&"\n"===this._EOL)},e.prototype.startWithLF=function(e){if("string"===typeof e)return 10===e.charCodeAt(0);if(e===f||0===e.piece.lineFeedCnt)return!1;var t=e.piece,n=this._buffers[t.bufferIndex].lineStarts,r=t.start.line,i=n[r]+t.start.column;if(r===n.length-1)return!1;var s=n[r+1];return!(s>i+1)&&10===this._buffers[t.bufferIndex].buffer.charCodeAt(i)},e.prototype.endWithCR=function(e){return"string"===typeof e?13===e.charCodeAt(e.length-1):e!==f&&0!==e.piece.lineFeedCnt&&13===this.nodeCharCodeAt(e,e.piece.length-1)},e.prototype.validateCRLFWithPrevNode=function(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){var t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}},e.prototype.validateCRLFWithNextNode=function(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){var t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}},e.prototype.fixCRLF=function(e,t){var n,r=[],i=this._buffers[e.piece.bufferIndex].lineStarts;n=0===e.piece.end.column?{line:e.piece.end.line-1,column:i[e.piece.end.line]-i[e.piece.end.line-1]-1}:{line:e.piece.end.line,column:e.piece.end.column-1};var s=e.piece.length-1,a=e.piece.lineFeedCnt-1;e.piece=new S(e.piece.bufferIndex,e.piece.start,n,a,s),b(this,e,-1,-1),0===e.piece.length&&r.push(e);var o={line:t.piece.start.line+1,column:0},f=t.piece.length-1,h=this.getLineFeedCnt(t.piece.bufferIndex,o,t.piece.end);t.piece=new S(t.piece.bufferIndex,o,t.piece.end,h,f),b(this,t,-1,-1),0===t.piece.length&&r.push(t);var l=this.createNewPieces("\r\n");this.rbInsertRight(e,l[0]);for(var u=0;u<r.length;u++)m(this,r[u])},e.prototype.adjustCarriageReturnFromNext=function(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){var n=t.next();if(this.startWithLF(n)){if(e+="\n",1===n.piece.length)m(this,n);else{var r=n.piece,i={line:r.start.line+1,column:0},s=r.length-1,a=this.getLineFeedCnt(r.bufferIndex,i,r.end);n.piece=new S(r.bufferIndex,i,r.end,a,s),b(this,n,-1,-1)}return!0}}return!1},e.prototype.iterate=function(e,t){if(e===f)return t(f);var n=this.iterate(e.left,t);return n?t(e)&&this.iterate(e.right,t):n},e.prototype.getNodeContent=function(e){if(e===f)return"";var t,n=this._buffers[e.piece.bufferIndex],r=e.piece,i=this.offsetInBuffer(r.bufferIndex,r.start),s=this.offsetInBuffer(r.bufferIndex,r.end);return t=n.buffer.substring(i,s),t},e.prototype.rbInsertRight=function(e,t){var n=new o(t,1);n.left=f,n.right=f,n.parent=f,n.size_left=0,n.lf_left=0;var r=this.root;if(r===f)this.root=n,n.color=0;else if(e.right===f)e.right=n,n.parent=e;else{var i=h(e.right);i.left=n,n.parent=i}return _(this,n),n},e.prototype.rbInsertLeft=function(e,t){var n=new o(t,1);if(n.left=f,n.right=f,n.parent=f,n.size_left=0,n.lf_left=0,this.root===f)this.root=n,n.color=0;else if(e.left===f)e.left=n,n.parent=e;else{var r=l(e.left);r.right=n,n.parent=r}return _(this,n),n},e}(),E=function(){function e(e,t,n,r,i,s){this._BOM=t,this._mightContainNonBasicASCII=!i,this._mightContainRTL=r,this._pieceTree=new A(e,n,s)}return e.prototype.mightContainRTL=function(){return this._mightContainRTL},e.prototype.mightContainNonBasicASCII=function(){return this._mightContainNonBasicASCII},e.prototype.getBOM=function(){return this._BOM},e.prototype.getEOL=function(){return this._pieceTree.getEOL()},e.prototype.getOffsetAt=function(e,t){return this._pieceTree.getOffsetAt(e,t)},e.prototype.getPositionAt=function(e){return this._pieceTree.getPositionAt(e)},e.prototype.getRangeAt=function(e,t){var n=e+t,r=this.getPositionAt(e),i=this.getPositionAt(n);return new s["a"](r.lineNumber,r.column,i.lineNumber,i.column)},e.prototype.getValueInRange=function(e,t){if(void 0===t&&(t=0),e.isEmpty())return"";var n=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,n)},e.prototype.getValueLengthInRange=function(e,t){if(void 0===t&&(t=0),e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;var n=this.getOffsetAt(e.startLineNumber,e.startColumn),r=this.getOffsetAt(e.endLineNumber,e.endColumn);return r-n},e.prototype.getCharacterCountInRange=function(e,t){if(void 0===t&&(t=0),this._mightContainNonBasicASCII){for(var n=0,i=e.startLineNumber,s=e.endLineNumber,a=i;a<=s;a++)for(var o=this.getLineContent(a),f=a===i?e.startColumn-1:0,h=a===s?e.endColumn-1:o.length,l=f;l<h;l++)r["z"](o.charCodeAt(l))?(n+=1,l+=1):n+=1;return n+=this._getEndOfLine(t).length*(s-i),n}return this.getValueLengthInRange(e,t)},e.prototype.getLength=function(){return this._pieceTree.getLength()},e.prototype.getLineCount=function(){return this._pieceTree.getLineCount()},e.prototype.getLinesContent=function(){return this._pieceTree.getLinesContent()},e.prototype.getLineContent=function(e){return this._pieceTree.getLineContent(e)},e.prototype.getLineCharCode=function(e,t){return this._pieceTree.getLineCharCode(e,t)},e.prototype.getLineLength=function(e){return this._pieceTree.getLineLength(e)},e.prototype.getLineFirstNonWhitespaceColumn=function(e){var t=r["q"](this.getLineContent(e));return-1===t?0:t+1},e.prototype.getLineLastNonWhitespaceColumn=function(e){var t=r["D"](this.getLineContent(e));return-1===t?0:t+2},e.prototype._getEndOfLine=function(e){switch(e){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL()}throw new Error("Unknown EOL preference")},e.prototype.setEOL=function(e){this._pieceTree.setEOL(e)},e.prototype.applyEdits=function(t,n){for(var i=this._mightContainRTL,s=this._mightContainNonBasicASCII,o=!0,f=[],h=0;h<t.length;h++){var l=t[h];o&&l._isTracked&&(o=!1);var u=l.range;!i&&l.text&&(i=r["i"](l.text)),!s&&l.text&&(s=!r["v"](l.text)),f[h]={sortIndex:h,identifier:l.identifier||null,range:u,rangeOffset:this.getOffsetAt(u.startLineNumber,u.startColumn),rangeLength:this.getValueLengthInRange(u),lines:l.text?l.text.split(/\r\n|\r|\n/):null,forceMoveMarkers:Boolean(l.forceMoveMarkers),isAutoWhitespaceEdit:l.isAutoWhitespaceEdit||!1}}f.sort(e._sortOpsAscending);for(var c=!1,p=(h=0,f.length-1);h<p;h++){var d=f[h].range.getEndPosition(),g=f[h+1].range.getStartPosition();if(g.isBeforeOrEqual(d)){if(g.isBefore(d))throw new Error("Overlapping ranges are not allowed!");c=!0}}o&&(f=this._reduceOperations(f));var m=e._getInverseEditRanges(f),_=[];for(h=0;h<f.length;h++){l=f[h];var b=m[h];if(n&&l.isAutoWhitespaceEdit&&l.range.isEmpty())for(var v=b.startLineNumber;v<=b.endLineNumber;v++){var C="";v===b.startLineNumber&&(C=this.getLineContent(l.range.startLineNumber),-1!==r["q"](C))||_.push({lineNumber:v,oldContent:C})}}var L=[];for(h=0;h<f.length;h++){l=f[h],b=m[h];L[h]={sortIndex:l.sortIndex,identifier:l.identifier,range:b,text:this.getValueInRange(l.range),forceMoveMarkers:l.forceMoveMarkers}}c||L.sort((function(e,t){return e.sortIndex-t.sortIndex})),this._mightContainRTL=i,this._mightContainNonBasicASCII=s;var I=this._doApplyEdits(f),N=null;if(n&&_.length>0){_.sort((function(e,t){return t.lineNumber-e.lineNumber})),N=[];h=0;for(var x=_.length;h<x;h++){v=_[h].lineNumber;if(!(h>0&&_[h-1].lineNumber===v)){var y=_[h].oldContent,S=this.getLineContent(v);0!==S.length&&S!==y&&-1===r["q"](S)&&N.push(v)}}}return new a["a"](L,I,N)},e.prototype._reduceOperations=function(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]},e.prototype._toSingleEditOperation=function(e){for(var t=!1,n=e[0].range,r=e[e.length-1].range,i=new s["a"](n.startLineNumber,n.startColumn,r.endLineNumber,r.endColumn),a=n.startLineNumber,o=n.startColumn,f=[],h=0,l=e.length;h<l;h++){var u=e[h],c=u.range;t=t||u.forceMoveMarkers;for(var p=a;p<c.startLineNumber;p++)p===a?f.push(this.getLineContent(p).substring(o-1)):(f.push("\n"),f.push(this.getLineContent(p)));if(c.startLineNumber===a?f.push(this.getLineContent(c.startLineNumber).substring(o-1,c.startColumn-1)):(f.push("\n"),f.push(this.getLineContent(c.startLineNumber).substring(0,c.startColumn-1))),u.lines)for(var d=0,g=u.lines.length;d<g;d++)0!==d&&f.push("\n"),f.push(u.lines[d]);a=u.range.endLineNumber,o=u.range.endColumn}return{sortIndex:0,identifier:e[0].identifier,range:i,rangeOffset:this.getOffsetAt(i.startLineNumber,i.startColumn),rangeLength:this.getValueLengthInRange(i,0),lines:f.join("").split("\n"),forceMoveMarkers:t,isAutoWhitespaceEdit:!1}},e.prototype._doApplyEdits=function(t){t.sort(e._sortOpsDescending);for(var n=[],r=0;r<t.length;r++){var i=t[r],a=i.range.startLineNumber,o=i.range.startColumn,f=i.range.endLineNumber,h=i.range.endColumn;if(a!==f||o!==h||i.lines&&0!==i.lines.length){var l=f-a,u=i.lines?i.lines.length-1:0,c=Math.min(l,u),p=i.lines?i.lines.join(this.getEOL()):"";if(p?(this._pieceTree.delete(i.rangeOffset,i.rangeLength),this._pieceTree.insert(i.rangeOffset,p,!0)):this._pieceTree.delete(i.rangeOffset,i.rangeLength),c<u){for(var d=[],g=c+1;g<=u;g++)d.push(i.lines[g]);d[d.length-1]=this.getLineContent(a+u-1)}var m=new s["a"](a,o,f,h);n.push({range:m,rangeLength:i.rangeLength,text:p,rangeOffset:i.rangeOffset,forceMoveMarkers:i.forceMoveMarkers})}}return n},e.prototype.findMatchesLineByLine=function(e,t,n,r){return this._pieceTree.findMatchesLineByLine(e,t,n,r)},e._getInverseEditRanges=function(e){for(var t=[],n=0,r=0,i=null,a=0,o=e.length;a<o;a++){var f=e[a],h=void 0,l=void 0;i?i.range.endLineNumber===f.range.startLineNumber?(h=n,l=r+(f.range.startColumn-i.range.endColumn)):(h=n+(f.range.startLineNumber-i.range.endLineNumber),l=f.range.startColumn):(h=f.range.startLineNumber,l=f.range.startColumn);var u=void 0;if(f.lines&&f.lines.length>0){var c=f.lines.length,p=f.lines[0],d=f.lines[c-1];u=1===c?new s["a"](h,l,h,l+p.length):new s["a"](h,l,h+c-1,d.length+1)}else u=new s["a"](h,l,h,l);n=u.endLineNumber,r=u.endColumn,t.push(u),i=f}return t},e._sortOpsAscending=function(e,t){var n=s["a"].compareRangesUsingEnds(e.range,t.range);return 0===n?e.sortIndex-t.sortIndex:n},e._sortOpsDescending=function(e,t){var n=s["a"].compareRangesUsingEnds(e.range,t.range);return 0===n?t.sortIndex-e.sortIndex:-n},e}(),B=function(){function e(e,t,n,r,i,s,a,o){this._chunks=e,this._bom=t,this._cr=n,this._lf=r,this._crlf=i,this._containsRTL=s,this._isBasicASCII=a,this._normalizeEOL=o}return e.prototype._getEOL=function(e){var t=this._cr+this._lf+this._crlf,n=this._cr+this._crlf;return 0===t?1===e?"\n":"\r\n":n>t/2?"\r\n":"\n"},e.prototype.create=function(e){var t=this._getEOL(e),n=this._chunks;if(this._normalizeEOL&&("\r\n"===t&&(this._cr>0||this._lf>0)||"\n"===t&&(this._cr>0||this._crlf>0)))for(var r=0,i=n.length;r<i;r++){var s=n[r].buffer.replace(/\r\n|\r|\n/g,t),a=x(s);n[r]=new O(s,a)}return new E(n,this._bom,t,this._containsRTL,this._isBasicASCII,this._normalizeEOL)},e}(),z=function(){function e(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.isBasicASCII=!0}return e.prototype.acceptChunk=function(e){if(0!==e.length){0===this.chunks.length&&r["P"](e)&&(this.BOM=r["a"],e=e.substr(1));var t=e.charCodeAt(e.length-1);13===t||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}},e.prototype._acceptChunk1=function(e,t){(t||0!==e.length)&&(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))},e.prototype._acceptChunk2=function(e){var t=y(this._tmpLineStarts,e);this.chunks.push(new O(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,this.isBasicASCII&&(this.isBasicASCII=t.isBasicASCII),this.isBasicASCII||this.containsRTL||(this.containsRTL=r["i"](e))},e.prototype.finish=function(e){return void 0===e&&(e=!0),this._finish(),new B(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.isBasicASCII,e)},e.prototype._finish=function(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;var e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);var t=x(e.buffer);e.lineStarts=t,13===this._previousChar&&this.cr++}},e}()}}]);
//# sourceMappingURL=chunk-vendors~4d911f2e.5d8259a8.js.map