(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~474834fe"],{4153:function(t,e,i){"use strict";i.d(e,"b",(function(){return b})),i.d(e,"a",(function(){return _})),i.d(e,"c",(function(){return v})),i.d(e,"e",(function(){return S})),i.d(e,"d",(function(){return C})),i.d(e,"f",(function(){return k}));var o,n=i("5fe7"),s=i("aa3d"),r=i("fdcc"),a=i("b2cc"),c=i("b707"),l=i("7061"),d=i("4fc3"),u=i("2504"),h=i("6a89"),g=i("7e93"),p=i("a666"),f=function(t,e,i,o){function n(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,s){function r(t){try{c(o.next(t))}catch(e){s(e)}}function a(t){try{c(o["throw"](t))}catch(e){s(e)}}function c(t){t.done?i(t.value):n(t.value).then(r,a)}c((o=o.apply(t,e||[])).next())}))},m=function(t,e){var i,o,n,s,r={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(t){return function(e){return c([t,e])}}function c(s){if(i)throw new TypeError("Generator is already executing.");while(r)try{if(i=1,o&&(n=2&s[0]?o["return"]:s[0]?o["throw"]||((n=o["return"])&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,o=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(n=r.trys,!(n=n.length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){r=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){r.label=s[1];break}if(6===s[0]&&r.label<n[1]){r.label=n[1],n=s;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(s);break}n[2]&&r.ops.pop(),r.trys.pop();continue}s=e.call(t,r)}catch(a){s=[6,a],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},b={Visible:new d["d"]("suggestWidgetVisible",!1),MultipleSuggestions:new d["d"]("suggestWidgetMultipleSuggestions",!1),MakesTextEdit:new d["d"]("suggestionMakesTextEdit",!0),AcceptSuggestionsOnEnter:new d["d"]("acceptSuggestionOnEnter",!0)},y=function(){function t(t,e,i,o,n){var a=this;this.position=t,this.completion=e,this.container=i,this.provider=o,this.isResolved=!1,this.score=g["a"].Default,this.distance=0,this.textLabel="string"===typeof e.label?e.label:e.label.name,this.labelLow=this.textLabel.toLowerCase(),this.sortTextLow=e.sortText&&e.sortText.toLowerCase(),this.filterTextLow=e.filterText&&e.filterText.toLowerCase(),h["a"].isIRange(e.range)?(this.editStart=new l["a"](e.range.startLineNumber,e.range.startColumn),this.editInsertEnd=new l["a"](e.range.endLineNumber,e.range.endColumn),this.editReplaceEnd=new l["a"](e.range.endLineNumber,e.range.endColumn)):(this.editStart=new l["a"](e.range.insert.startLineNumber,e.range.insert.startColumn),this.editInsertEnd=new l["a"](e.range.insert.endLineNumber,e.range.insert.endColumn),this.editReplaceEnd=new l["a"](e.range.replace.endLineNumber,e.range.replace.endColumn));var c,d=o.resolveCompletionItem;"function"!==typeof d?(this.resolve=function(){return Promise.resolve()},this.isResolved=!0):this.resolve=function(i){return c||(c=Promise.resolve(d.call(o,n,t,e,i)).then((function(t){Object(s["a"])(e,t),a.isResolved=!0}),(function(t){Object(r["d"])(t)&&(c=void 0)})),i.onCancellationRequested((function(){a.isResolved||(c=void 0)}))),c}}return t}(),_=function(){function t(t,e,i){void 0===t&&(t=2),void 0===e&&(e=new Set),void 0===i&&(i=new Set),this.snippetSortOrder=t,this.kindFilter=e,this.providerFilter=i}return t.default=new t,t}();function v(){return o}function S(t,e,i,s,a){void 0===i&&(i=_.default),void 0===s&&(s={triggerKind:0}),void 0===a&&(a=u["a"].None);var l=t.getWordAtPosition(e),d=l?new h["a"](e.lineNumber,l.startColumn,e.lineNumber,l.endColumn):h["a"].fromPositions(e),g=d.setEndPosition(e.lineNumber,e.column);e=e.clone();var f=c["d"].orderedGroups(t);!i.kindFilter.has(25)&&o&&f.unshift([o]);var m=[],b=new p["b"],v=!1,S=f.map((function(n){return function(){return Promise.all(n.map((function(n){if(!(i.providerFilter.size>0)||i.providerFilter.has(n))return Promise.resolve(n.provideCompletionItems(t,e,s,a)).then((function(s){var r=m.length;if(s){for(var a=0,c=s.suggestions||[];a<c.length;a++){var l=c[a];i.kindFilter.has(l.kind)||(l.range||(l.range={insert:g,replace:d}),l.sortText||(l.sortText="string"===typeof l.label?l.label:l.label.name),m.push(new y(e,l,s,n,t)))}Object(p["g"])(s)&&b.add(s)}r!==m.length&&n!==o&&(v=!0)}),r["f"])})))}})),w=Object(n["h"])(S,(function(){return v||a.isCancellationRequested})).then((function(){return a.isCancellationRequested?(b.dispose(),Promise.reject(Object(r["a"])())):m.sort(C(i.snippetSortOrder))}));return w}function w(t,e){if(t.sortTextLow&&e.sortTextLow){if(t.sortTextLow<e.sortTextLow)return-1;if(t.sortTextLow>e.sortTextLow)return 1}return t.completion.label<e.completion.label?-1:t.completion.label>e.completion.label?1:t.completion.kind-e.completion.kind}function O(t,e){if(t.completion.kind!==e.completion.kind){if(25===t.completion.kind)return-1;if(25===e.completion.kind)return 1}return w(t,e)}function x(t,e){if(t.completion.kind!==e.completion.kind){if(25===t.completion.kind)return 1;if(25===e.completion.kind)return-1}return w(t,e)}var D=new Map;function C(t){return D.get(t)}D.set(0,O),D.set(2,x),D.set(1,w),Object(a["e"])("_executeCompletionItemProvider",(function(t,e,i){return f(void 0,void 0,void 0,(function(){var o,n,s,r,a,c,l,d;return m(this,(function(h){switch(h.label){case 0:return o={incomplete:!1,suggestions:[]},n=new p["b"],s=[],r=i["maxItemsToResolve"]||0,[4,S(t,e)];case 1:for(a=h.sent(),c=0,l=a;c<l.length;c++)d=l[c],s.length<r&&s.push(d.resolve(u["a"].None)),o.incomplete=o.incomplete||d.container.incomplete,o.suggestions.push(d.completion),Object(p["g"])(d.container)&&n.add(d.container);h.label=2;case 2:return h.trys.push([2,,4,5]),[4,Promise.all(s)];case 3:return h.sent(),[2,o];case 4:return setTimeout((function(){return n.dispose()}),100),[7];case 5:return[2]}}))}))}));var j=new(function(){function t(){this.onlyOnceSuggestions=[]}return t.prototype.provideCompletionItems=function(){var t=this.onlyOnceSuggestions.slice(0),e={suggestions:t};return this.onlyOnceSuggestions.length=0,e},t}());function k(t,e){setTimeout((function(){var i;(i=j.onlyOnceSuggestions).push.apply(i,e),t.getContribution("editor.contrib.suggestController").triggerSuggest((new Set).add(j))}),0)}c["d"].register("*",j)},"7a9e":function(t,e,i){"use strict";i.r(e),i.d(e,"SuggestController",(function(){return Jt})),i.d(e,"TriggerSuggestAction",(function(){return Ut}));var o=i("3813"),n=i("e8e3"),s=i("fdcc"),r=i("fe45"),a=i("a666"),c=i("b2cc"),l=i("d3f4"),d=i("6a89"),u=i("c101"),h=i("b574"),g=i("b800"),p=i("4035"),f=i("03e8"),m=i("b707"),b=i("5fe7"),y=i("0a0f"),_=i("fbba"),v=i("f5f3"),S=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),w=function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r},O=function(t,e){return function(i,o){e(i,o,t)}},x=function(){function t(){}return t.prototype.select=function(t,e,i){if(0===i.length)return 0;for(var o=i[0].score[0],n=1;n<i.length;n++){var s=i[n],r=s.score,a=s.completion;if(r[0]!==o)break;if(a.preselect)return n}return 0},t}(),D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return S(e,t),e.prototype.memorize=function(t,e,i){},e.prototype.toJSON=function(){},e.prototype.fromJSON=function(){},e}(x),C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._cache=new p["a"](300,.66),e._seq=0,e}return S(e,t),e.prototype.memorize=function(t,e,i){var o=i.completion.label,n=t.getLanguageIdentifier().language+"/"+o;this._cache.set(n,{touch:this._seq++,type:i.completion.kind,insertText:i.completion.insertText})},e.prototype.select=function(e,i,o){if(0===o.length)return 0;var n=e.getLineContent(i.lineNumber).substr(i.column-10,i.column-1);if(/\s$/.test(n))return t.prototype.select.call(this,e,i,o);for(var s=o[0].score[0],r=-1,a=-1,c=-1,l=0;l<o.length;l++){if(o[l].score[0]!==s)break;var d=e.getLanguageIdentifier().language+"/"+o[l].completion.label,u=this._cache.peek(d);if(u&&u.touch>c&&u.type===o[l].completion.kind&&u.insertText===o[l].completion.insertText&&(c=u.touch,a=l),o[l].completion.preselect&&-1===r)return l}return-1!==a?a:-1!==r?r:0},e.prototype.toJSON=function(){var t=[];return this._cache.forEach((function(e,i){t.push([i,e])})),t},e.prototype.fromJSON=function(t){this._cache.clear();for(var e=0,i=0,o=t;i<o.length;i++){var n=o[i],s=n[0],r=n[1];r.touch=e,r.type="number"===typeof r.type?r.type:Object(m["E"])(r.type),this._cache.set(s,r)}this._seq=this._cache.size},e}(x),j=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._trie=p["c"].forStrings(),e._seq=0,e}return S(e,t),e.prototype.memorize=function(t,e,i){var o=t.getWordUntilPosition(e).word,n=t.getLanguageIdentifier().language+"/"+o;this._trie.set(n,{type:i.completion.kind,insertText:i.completion.insertText,touch:this._seq++})},e.prototype.select=function(e,i,o){var n=e.getWordUntilPosition(i).word;if(!n)return t.prototype.select.call(this,e,i,o);var s=e.getLanguageIdentifier().language+"/"+n,r=this._trie.get(s);if(r||(r=this._trie.findSubstr(s)),r)for(var a=0;a<o.length;a++){var c=o[a].completion,l=c.kind,d=c.insertText;if(l===r.type&&d===r.insertText)return a}return t.prototype.select.call(this,e,i,o)},e.prototype.toJSON=function(){var t=[];return this._trie.forEach((function(e,i){return t.push([i,e])})),t.sort((function(t,e){return-(t[1].touch-e[1].touch)})).forEach((function(t,e){return t[1].touch=e})),t.slice(0,200)},e.prototype.fromJSON=function(t){if(this._trie.clear(),t.length>0){this._seq=t[0][1].touch+1;for(var e=0,i=t;e<i.length;e++){var o=i[e],n=o[0],s=o[1];s.type="number"===typeof s.type?s.type:Object(m["E"])(s.type),this._trie.set(n,s)}}},e}(x),k=function(t){function e(e,i){var o=t.call(this)||this;o._storageService=e,o._configService=i,o._storagePrefix="suggest/memories";var n=function(){var t=o._configService.getValue("editor.suggestSelection"),e=o._configService.getValue("editor.suggest.shareSuggestSelections");o._update(t,e,!1)};return o._persistSoon=o._register(new b["d"]((function(){return o._saveState()}),500)),o._register(e.onWillSaveState((function(t){t.reason===f["c"].SHUTDOWN&&o._saveState()}))),o._register(o._configService.onDidChangeConfiguration((function(t){(t.affectsConfiguration("editor.suggestSelection")||t.affectsConfiguration("editor.suggest.shareSuggestSelections"))&&n()}))),o._register(o._storageService.onDidChangeStorage((function(t){0===t.scope&&0===t.key.indexOf(o._storagePrefix)&&(document.hasFocus()||o._update(o._mode,o._shareMem,!0))}))),n(),o}return S(e,t),e.prototype._update=function(t,e,i){if(i||this._mode!==t||this._shareMem!==e){this._shareMem=e,this._mode=t,this._strategy="recentlyUsedByPrefix"===t?new j:"recentlyUsed"===t?new C:new D;try{var o=e?0:1,n=this._storageService.get(this._storagePrefix+"/"+this._mode,o);n&&this._strategy.fromJSON(JSON.parse(n))}catch(s){}}},e.prototype.memorize=function(t,e,i){this._strategy.memorize(t,e,i),this._persistSoon.schedule()},e.prototype.select=function(t,e,i){return this._strategy.select(t,e,i)},e.prototype._saveState=function(){var t=JSON.stringify(this._strategy),e=this._shareMem?0:1;this._storageService.store(this._storagePrefix+"/"+this._mode,t,e)},e=w([O(0,f["a"]),O(1,_["a"])],e),e}(a["a"]),T=Object(y["c"])("ISuggestMemories");Object(v["b"])(T,k,!0);var P=i("dff7"),E=i("9e74"),M=i("4fc3"),L=i("9eb8"),I=i("4153"),N=function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r},F=function(t,e){return function(i,o){e(i,o,t)}},W=function(){function t(e,i){this._editor=e,this._index=0,this._ckOtherSuggestions=t.OtherSuggestions.bindTo(i)}return t.prototype.dispose=function(){this.reset()},t.prototype.reset=function(){this._ckOtherSuggestions.reset(),Object(a["f"])(this._listener),this._model=void 0,this._acceptNext=void 0,this._ignore=!1},t.prototype.set=function(e,i){var o=this,n=e.model,s=e.index;if(0!==n.items.length){var r=t._moveIndex(!0,n,s);r!==s?(this._acceptNext=i,this._model=n,this._index=s,this._listener=this._editor.onDidChangeCursorPosition((function(){o._ignore||o.reset()})),this._ckOtherSuggestions.set(!0)):this.reset()}else this.reset()},t._moveIndex=function(t,e,i){var o=i;while(1){if(o=(o+e.items.length+(t?1:-1))%e.items.length,o===i)break;if(!e.items[o].completion.additionalTextEdits)break}return o},t.prototype.next=function(){this._move(!0)},t.prototype.prev=function(){this._move(!1)},t.prototype._move=function(e){if(this._model)try{this._ignore=!0,this._index=t._moveIndex(e,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}},t.OtherSuggestions=new M["d"]("hasOtherSuggestions",!1),t=N([F(1,M["c"])],t),t}(),A=i("308f"),B=i("8025"),q=i("98de"),R=i("2504"),V=i("060c"),H=i("3742"),K=function(){function t(t,e,i,o){this.leadingLineContent=t.getLineContent(e.lineNumber).substr(0,e.column-1),this.leadingWord=t.getWordUntilPosition(e),this.lineNumber=e.lineNumber,this.column=e.column,this.auto=i,this.shy=o}return t.shouldAutoTrigger=function(t){if(!t.hasModel())return!1;var e=t.getModel(),i=t.getPosition();e.tokenizeIfCheap(i.lineNumber);var o=e.getWordAtPosition(i);return!!o&&(o.endColumn===i.column&&!!isNaN(Number(o.word)))},t}(),z=function(){function t(t,e){var i=this;this._editor=t,this._editorWorker=e,this._toDispose=new a["b"],this._quickSuggestDelay=10,this._triggerCharacterListener=new a["b"],this._triggerQuickSuggest=new b["e"],this._state=0,this._completionDisposables=new a["b"],this._onDidCancel=new A["a"],this._onDidTrigger=new A["a"],this._onDidSuggest=new A["a"],this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._currentSelection=this._editor.getSelection()||new B["a"](1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel((function(){i._updateTriggerCharacters(),i.cancel()}))),this._toDispose.add(this._editor.onDidChangeModelLanguage((function(){i._updateTriggerCharacters(),i.cancel()}))),this._toDispose.add(this._editor.onDidChangeConfiguration((function(){i._updateTriggerCharacters(),i._updateQuickSuggest()}))),this._toDispose.add(m["d"].onDidChange((function(){i._updateTriggerCharacters(),i._updateActiveSuggestSession()}))),this._toDispose.add(this._editor.onDidChangeCursorSelection((function(t){i._onCursorChange(t)})));var o=!1;this._toDispose.add(this._editor.onDidCompositionStart((function(){o=!0}))),this._toDispose.add(this._editor.onDidCompositionEnd((function(){o=!1,i._refilterCompletionItems()}))),this._toDispose.add(this._editor.onDidChangeModelContent((function(){o||i._refilterCompletionItems()}))),this._updateTriggerCharacters(),this._updateQuickSuggest()}return t.prototype.dispose=function(){Object(a["f"])(this._triggerCharacterListener),Object(a["f"])([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()},t.prototype._updateQuickSuggest=function(){this._quickSuggestDelay=this._editor.getOption(67),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&0!==this._quickSuggestDelay||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)},t.prototype._updateTriggerCharacters=function(){var t=this;if(this._triggerCharacterListener.clear(),!this._editor.getOption(68)&&this._editor.hasModel()&&this._editor.getOption(92)){for(var e=new Map,i=0,o=m["d"].all(this._editor.getModel());i<o.length;i++)for(var n=o[i],s=0,r=n.triggerCharacters||[];s<r.length;s++){var a=r[s],c=e.get(a);c||(c=new Set,c.add(Object(I["c"])()),e.set(a,c)),c.add(n)}var l=function(i){if(!i){var o=t._editor.getPosition(),n=t._editor.getModel();i=n.getLineContent(o.lineNumber).substr(0,o.column-1)}var s="";Object(H["A"])(i.charCodeAt(i.length-1))?Object(H["z"])(i.charCodeAt(i.length-2))&&(s=i.substr(i.length-2)):s=i.charAt(i.length-1);var r=e.get(s);if(r){var a=t._completionModel?t._completionModel.adopt(r):void 0;t.trigger({auto:!0,shy:!1,triggerCharacter:s},Boolean(t._completionModel),r,a)}};this._triggerCharacterListener.add(this._editor.onDidType(l)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(l))}},Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){void 0===t&&(t=!1),0!==this._state&&(this._triggerQuickSuggest.cancel(),this._requestToken&&(this._requestToken.cancel(),this._requestToken=void 0),this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:t}))},t.prototype.clear=function(){this._completionDisposables.clear()},t.prototype._updateActiveSuggestSession=function(){0!==this._state&&(this._editor.hasModel()&&m["d"].has(this._editor.getModel())?this.trigger({auto:2===this._state,shy:!1},!0):this.cancel())},t.prototype._onCursorChange=function(t){var e=this;if(this._editor.hasModel()){var i=this._editor.getModel(),o=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!t.selection.isEmpty()||0!==t.reason||"keyboard"!==t.source&&"deleteLeft"!==t.source)this.cancel();else if(m["d"].has(i)&&0===this._state){if(!1===this._editor.getOption(66))return;if(!o.containsRange(this._currentSelection)&&!o.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))return;if(this._editor.getOption(89).snippetsPreventQuickSuggestions&&h["SnippetController2"].get(this._editor).isInSnippet())return;this.cancel(),this._triggerQuickSuggest.cancelAndSet((function(){if(0===e._state&&K.shouldAutoTrigger(e._editor)&&e._editor.hasModel()){var t=e._editor.getModel(),i=e._editor.getPosition(),o=e._editor.getOption(66);if(!1!==o){if(!0===o);else{t.tokenizeIfCheap(i.lineNumber);var n=t.getLineTokens(i.lineNumber),s=n.getStandardTokenType(n.findTokenIndexAtOffset(Math.max(i.column-1-1,0))),r=o.other&&0===s||o.comments&&1===s||o.strings&&2===s;if(!r)return}e.trigger({auto:!0,shy:!1})}}}),this._quickSuggestDelay)}}},t.prototype._refilterCompletionItems=function(){var t=this;Promise.resolve().then((function(){if(0!==t._state&&t._editor.hasModel()){var e=t._editor.getModel(),i=t._editor.getPosition(),o=new K(e,i,2===t._state,!1);t._onNewContext(o)}}))},t.prototype.trigger=function(e,i,o,r){var c=this;if(void 0===i&&(i=!1),this._editor.hasModel()){var l,d=this._editor.getModel(),u=e.auto,h=new K(d,this._editor.getPosition(),u,e.shy);this.cancel(i),this._state=u?2:1,this._onDidTrigger.fire({auto:u,shy:e.shy,position:this._editor.getPosition()}),this._context=h,l=e.triggerCharacter?{triggerKind:1,triggerCharacter:e.triggerCharacter}:o&&o.size>0?{triggerKind:2}:{triggerKind:0},this._requestToken=new R["b"];var g=this._editor.getOption(86),p=1;switch(g){case"top":p=0;break;case"bottom":p=2;break}var f=t._createItemKindFilter(this._editor),m=V["a"].create(this._editorWorker,this._editor),b=Object(I["e"])(d,this._editor.getPosition(),new I["a"](p,f,o),l,this._requestToken.token);Promise.all([b,m]).then((function(t){var i=t[0],o=t[1];if(Object(a["f"])(c._requestToken),0!==c._state&&c._editor.hasModel()){var s=c._editor.getModel();if(Object(n["q"])(r)){var l=Object(I["d"])(p);i=i.concat(r).sort(l)}var d=new K(s,c._editor.getPosition(),u,e.shy);c._completionModel=new q["a"](i,c._context.column,{leadingLineContent:d.leadingLineContent,characterCountDelta:d.column-c._context.column},o,c._editor.getOption(89),c._editor.getOption(86));for(var h=0,g=i;h<g.length;h++){var f=g[h];Object(a["g"])(f.container)&&c._completionDisposables.add(f.container)}c._onNewContext(d)}})).catch(s["e"])}},t._createItemKindFilter=function(t){var e=new Set,i=t.getOption(86);"none"===i&&e.add(25);var o=t.getOption(89);return o.showMethods||e.add(0),o.showFunctions||e.add(1),o.showConstructors||e.add(2),o.showFields||e.add(3),o.showVariables||e.add(4),o.showClasses||e.add(5),o.showStructs||e.add(6),o.showInterfaces||e.add(7),o.showModules||e.add(8),o.showProperties||e.add(9),o.showEvents||e.add(10),o.showOperators||e.add(11),o.showUnits||e.add(12),o.showValues||e.add(13),o.showConstants||e.add(14),o.showEnums||e.add(15),o.showEnumMembers||e.add(16),o.showKeywords||e.add(17),o.showWords||e.add(18),o.showColors||e.add(19),o.showFiles||e.add(20),o.showReferences||e.add(21),o.showColors||e.add(22),o.showFolders||e.add(23),o.showTypeParameters||e.add(24),o.showSnippets||e.add(25),e},t.prototype._onNewContext=function(t){if(this._context)if(t.lineNumber===this._context.lineNumber){if(t.leadingWord.startColumn<this._context.leadingWord.startColumn)this.cancel();else if(t.column<this._context.column)t.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();else if(this._completionModel)if(t.column>this._context.column&&this._completionModel.incomplete.size>0&&0!==t.leadingWord.word.length){var e=this._completionModel.incomplete,i=this._completionModel.adopt(e);this.trigger({auto:2===this._state,shy:!1},!0,e,i)}else{var o=this._completionModel.lineContext,n=!1;if(this._completionModel.lineContext={leadingLineContent:t.leadingLineContent,characterCountDelta:t.column-this._context.column},0===this._completionModel.items.length){if(K.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<t.leadingWord.startColumn)return void this.trigger({auto:this._context.auto,shy:!1},!0);if(this._context.auto)return void this.cancel();if(this._completionModel.lineContext=o,n=this._completionModel.items.length>0,n&&0===t.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:n})}}else this.cancel()},t}(),J=(i("0829"),i("9e7e"),i("93be"),i("8ea8"),i("7e93")),U=i("11f7"),G=i("72a7"),Q=i("1898"),X=i("6dec"),Y=i("5d75"),$=i("a6d7"),Z=i("b7d0"),tt=i("303e"),et=i("dea0"),it=i("5818"),ot=i("5bd7"),nt=i("c4e3"),st=i("8aeb"),rt=i("1b69"),at=i("6d8e"),ct=i("459c"),lt=i("78bc"),dt=i("7061"),ut=function(){return ut=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i],e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},ut.apply(this,arguments)},ht=function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r},gt=function(t,e){return function(i,o){e(i,o,t)}},pt=function(t,e,i,o){function n(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,s){function r(t){try{c(o.next(t))}catch(e){s(e)}}function a(t){try{c(o["throw"](t))}catch(e){s(e)}}function c(t){t.done?i(t.value):n(t.value).then(r,a)}c((o=o.apply(t,e||[])).next())}))},ft=function(t,e){var i,o,n,s,r={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(t){return function(e){return c([t,e])}}function c(s){if(i)throw new TypeError("Generator is already executing.");while(r)try{if(i=1,o&&(n=2&s[0]?o["return"]:s[0]?o["throw"]||((n=o["return"])&&n.call(o),0):o.next)&&!(n=n.call(o,s[1])).done)return n;switch(o=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,o=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(n=r.trys,!(n=n.length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){r=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){r.label=s[1];break}if(6===s[0]&&r.label<n[1]){r.label=n[1],n=s;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(s);break}n[2]&&r.ops.pop(),r.trys.pop();continue}s=e.call(t,r)}catch(a){s=[6,a],o=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},mt=!1,bt=Object(tt["Tb"])("editorSuggestWidget.background",{dark:tt["Q"],light:tt["Q"],hc:tt["Q"]},P["a"]("editorSuggestWidgetBackground","Background color of the suggest widget.")),yt=Object(tt["Tb"])("editorSuggestWidget.border",{dark:tt["R"],light:tt["R"],hc:tt["R"]},P["a"]("editorSuggestWidgetBorder","Border color of the suggest widget.")),_t=Object(tt["Tb"])("editorSuggestWidget.foreground",{dark:tt["x"],light:tt["x"],hc:tt["x"]},P["a"]("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),vt=Object(tt["Tb"])("editorSuggestWidget.selectedBackground",{dark:tt["rb"],light:tt["rb"],hc:tt["rb"]},P["a"]("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),St=Object(tt["Tb"])("editorSuggestWidget.highlightForeground",{dark:tt["tb"],light:tt["tb"],hc:tt["tb"]},P["a"]("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),wt=/^(#([\da-f]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))$/i;function Ot(t,e){var i="string"===typeof t.completion.label?t.completion.label:t.completion.label.name;return i.match(wt)?(e[0]=i,!0):!("string"!==typeof t.completion.documentation||!t.completion.documentation.match(wt))&&(e[0]=t.completion.documentation,!0)}function xt(t){if(!t)return!1;var e=t.completion;return!!e.documentation||e.detail&&e.detail!==e.label}function Dt(t){return"suggest-aria-id:"+t}var Ct=function(){function t(t,e,i,o,n,s){this.widget=t,this.editor=e,this.triggerKeybindingLabel=i,this._modelService=o,this._modeService=n,this._themeService=s}return Object.defineProperty(t.prototype,"templateId",{get:function(){return"suggestion"},enumerable:!0,configurable:!0}),t.prototype.renderTemplate=function(t){var e=this,i=Object.create(null);i.disposables=new a["b"],i.root=t,Object(U["f"])(i.root,"show-file-icons"),i.icon=Object(U["q"])(t,Object(U["a"])(".icon")),i.colorspan=Object(U["q"])(i.icon,Object(U["a"])("span.colorspan"));var o=Object(U["q"])(t,Object(U["a"])(".contents")),n=Object(U["q"])(o,Object(U["a"])(".main"));i.left=Object(U["q"])(n,Object(U["a"])("span.left")),i.right=Object(U["q"])(n,Object(U["a"])("span.right")),i.iconContainer=Object(U["q"])(i.left,Object(U["a"])(".icon-label.codicon")),i.iconLabel=new nt["a"](i.left,{supportHighlights:!0,supportCodicons:!0}),i.disposables.add(i.iconLabel),i.signatureLabel=Object(U["q"])(i.left,Object(U["a"])("span.signature-label")),i.qualifierLabel=Object(U["q"])(i.left,Object(U["a"])("span.qualifier-label")),i.detailsLabel=Object(U["q"])(i.right,Object(U["a"])("span.details-label")),i.readMore=Object(U["q"])(i.right,Object(U["a"])("span.readMore.codicon.codicon-info")),i.readMore.title=P["a"]("readMore","Read More...{0}",this.triggerKeybindingLabel);var s=function(){var t=e.editor.getOptions(),o=t.get(34),s=o.fontFamily,r=o.fontFeatureSettings,a=t.get(90)||o.fontSize,c=t.get(91)||o.lineHeight,l=o.fontWeight,d=a+"px",u=c+"px";i.root.style.fontSize=d,i.root.style.fontWeight=l,n.style.fontFamily=s,n.style.fontFeatureSettings=r,n.style.lineHeight=u,i.icon.style.height=u,i.icon.style.width=u,i.readMore.style.height=u,i.readMore.style.width=u};return s(),i.disposables.add(A["b"].chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter((function(t){return t.hasChanged(34)||t.hasChanged(90)||t.hasChanged(91)})).on(s,null)),i},t.prototype.renderElement=function(t,e,i){var o=this,s=i,r=t.completion,a="string"===typeof r.label?r.label:r.label.name;s.root.id=Dt(e),s.icon.className="icon "+Object(m["F"])(r.kind),s.colorspan.style.backgroundColor="";var c={labelEscapeNewLines:!0,matches:Object(J["c"])(t.score)},l=[];if(19===r.kind&&Ot(t,l))s.icon.className="icon customcolor",s.iconContainer.className="icon hide",s.colorspan.style.backgroundColor=l[0];else if(20===r.kind&&this._themeService.getIconTheme().hasFileIcons){s.icon.className="icon hide",s.iconContainer.className="icon hide";var d=Object(st["a"])(this._modelService,this._modeService,at["a"].from({scheme:"fake",path:a}),ct["a"].FILE),u=Object(st["a"])(this._modelService,this._modeService,at["a"].from({scheme:"fake",path:r.detail}),ct["a"].FILE);c.extraClasses=d.length>u.length?d:u}else 23===r.kind&&this._themeService.getIconTheme().hasFolderIcons?(s.icon.className="icon hide",s.iconContainer.className="icon hide",c.extraClasses=Object(n["m"])([Object(st["a"])(this._modelService,this._modeService,at["a"].from({scheme:"fake",path:a}),ct["a"].FOLDER),Object(st["a"])(this._modelService,this._modeService,at["a"].from({scheme:"fake",path:r.detail}),ct["a"].FOLDER)])):(s.icon.className="icon hide",s.iconContainer.className="",Object(U["g"])(s.iconContainer,"suggest-icon codicon codicon-symbol-"+Object(m["F"])(r.kind)));r.tags&&r.tags.indexOf(1)>=0&&(c.extraClasses=(c.extraClasses||[]).concat(["deprecated"]),c.matches=[]),s.iconLabel.setLabel(a,void 0,c),"string"===typeof r.label?(s.signatureLabel.textContent="",s.qualifierLabel.textContent="",s.detailsLabel.textContent=(r.detail||"").replace(/\n.*$/m,""),Object(U["P"])(s.right,"always-show-details")):(s.signatureLabel.textContent=(r.label.signature||"").replace(/\n.*$/m,""),s.qualifierLabel.textContent=(r.label.qualifier||"").replace(/\n.*$/m,""),s.detailsLabel.textContent=(r.label.type||"").replace(/\n.*$/m,""),Object(U["f"])(s.right,"always-show-details")),xt(t)?(Object(U["f"])(s.right,"can-expand-details"),Object(U["X"])(s.readMore),s.readMore.onmousedown=function(t){t.stopPropagation(),t.preventDefault()},s.readMore.onclick=function(t){t.stopPropagation(),t.preventDefault(),o.widget.toggleDetails()}):(Object(U["P"])(s.right,"can-expand-details"),Object(U["J"])(s.readMore),s.readMore.onmousedown=null,s.readMore.onclick=null)},t.prototype.disposeTemplate=function(t){t.disposables.dispose()},t=ht([gt(3,rt["a"]),gt(4,it["a"]),gt(5,Z["c"])],t),t}(),jt=function(){function t(t,e,i,o,n){var s=this;this.widget=e,this.editor=i,this.markdownRenderer=o,this.kbToggleDetails=n,this.borderWidth=1,this.disposables=new a["b"],this.el=Object(U["q"])(t,Object(U["a"])(".details")),this.disposables.add(Object(a["h"])((function(){return t.removeChild(s.el)}))),this.body=Object(U["a"])(".body"),this.scrollbar=new Q["a"](this.body,{}),Object(U["q"])(this.el,this.scrollbar.getDomNode()),this.disposables.add(this.scrollbar),this.header=Object(U["q"])(this.body,Object(U["a"])(".header")),this.close=Object(U["q"])(this.header,Object(U["a"])("span.codicon.codicon-close")),this.close.title=P["a"]("readLess","Read less...{0}",this.kbToggleDetails),this.type=Object(U["q"])(this.header,Object(U["a"])("p.type")),this.docs=Object(U["q"])(this.body,Object(U["a"])("p.docs")),this.configureFont(),A["b"].chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter((function(t){return t.hasChanged(34)})).on(this.configureFont,this,this.disposables),o.onDidRenderCodeBlock((function(){return s.scrollbar.scanDomNode()}),this,this.disposables)}return Object.defineProperty(t.prototype,"element",{get:function(){return this.el},enumerable:!0,configurable:!0}),t.prototype.renderLoading=function(){this.type.textContent=P["a"]("loading","Loading..."),this.docs.textContent=""},t.prototype.renderItem=function(t,e){var i=this;this.renderDisposeable=Object(a["f"])(this.renderDisposeable);var o=t.completion,n=o.documentation,s=o.detail;if(e){var r="";r+="score: "+t.score[0]+(t.word?", compared '"+(t.completion.filterText&&t.completion.filterText+" (filterText)"||t.completion.label)+"' with '"+t.word+"'":" (no prefix)")+"\n",r+="distance: "+t.distance+", see localityBonus-setting\n",r+="index: "+t.idx+", based on "+(t.completion.sortText&&'sortText: "'+t.completion.sortText+'"'||"label")+"\n",n=(new lt["a"]).appendCodeblock("empty",r),s="Provider: "+t.provider._debugDisplayName}if(!e&&!xt(t))return this.type.textContent="",this.docs.textContent="",void Object(U["f"])(this.el,"no-docs");if(Object(U["P"])(this.el,"no-docs"),"string"===typeof n)Object(U["P"])(this.docs,"markdown-docs"),this.docs.textContent=n;else{Object(U["f"])(this.docs,"markdown-docs"),this.docs.innerHTML="";var c=this.markdownRenderer.render(n);this.renderDisposeable=c,this.docs.appendChild(c.element)}s?(this.type.innerText=s,Object(U["X"])(this.type)):(this.type.innerText="",Object(U["J"])(this.type)),this.el.style.height=this.header.offsetHeight+this.docs.offsetHeight+2*this.borderWidth+"px",this.el.style.userSelect="text",this.el.tabIndex=-1,this.close.onmousedown=function(t){t.preventDefault(),t.stopPropagation()},this.close.onclick=function(t){t.preventDefault(),t.stopPropagation(),i.widget.toggleDetails()},this.body.scrollTop=0,this.scrollbar.scanDomNode()},t.prototype.scrollDown=function(t){void 0===t&&(t=8),this.body.scrollTop+=t},t.prototype.scrollUp=function(t){void 0===t&&(t=8),this.body.scrollTop-=t},t.prototype.scrollTop=function(){this.body.scrollTop=0},t.prototype.scrollBottom=function(){this.body.scrollTop=this.body.scrollHeight},t.prototype.pageDown=function(){this.scrollDown(80)},t.prototype.pageUp=function(){this.scrollUp(80)},t.prototype.setBorderWidth=function(t){this.borderWidth=t},t.prototype.configureFont=function(){var t=this.editor.getOptions(),e=t.get(34),i=e.fontFamily,o=t.get(90)||e.fontSize,n=t.get(91)||e.lineHeight,s=e.fontWeight,r=o+"px",a=n+"px";this.el.style.fontSize=r,this.el.style.fontWeight=s,this.el.style.fontFeatureSettings=e.fontFeatureSettings,this.type.style.fontFamily=i,this.close.style.height=a,this.close.style.width=a},t.prototype.dispose=function(){this.disposables.dispose(),this.renderDisposeable=Object(a["f"])(this.renderDisposeable)},t}(),kt=function(){function t(t,e,i,o,n,s,r,c,l){var d,u,h=this;this.editor=t,this.telemetryService=e,this.keybindingService=i,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.state=null,this.isAuto=!1,this.loadingTimeout=a["a"].None,this.currentSuggestionDetails=null,this.ignoreFocusEvents=!1,this.completionModel=null,this.showTimeout=new b["e"],this.toDispose=new a["b"],this.onDidSelectEmitter=new A["a"],this.onDidFocusEmitter=new A["a"],this.onDidHideEmitter=new A["a"],this.onDidShowEmitter=new A["a"],this.onDidSelect=this.onDidSelectEmitter.event,this.onDidFocus=this.onDidFocusEmitter.event,this.onDidHide=this.onDidHideEmitter.event,this.onDidShow=this.onDidShowEmitter.event,this.maxWidgetWidth=660,this.listWidth=330,this.firstFocusInCurrentList=!1,this.preferDocPositionTop=!1,this.docsPositionPreviousWidgetY=null,this.explainMode=!1,this._onDetailsKeydown=new A["a"],this.onDetailsKeyDown=this._onDetailsKeydown.event;var g=this.toDispose.add(new et["a"](t,r,c)),p=null!==(u=null===(d=i.lookupKeybinding("toggleSuggestionDetails"))||void 0===d?void 0:d.getLabel())&&void 0!==u?u:"";this.msgDetailsLess=P["a"]("detail.less","{0} for less...",p),this.msgDetailMore=P["a"]("detail.more","{0} for more...",p),this.isAuto=!1,this.focusedItem=null,this.storageService=s,this.element=Object(U["a"])(".editor-widget.suggest-widget"),this.toDispose.add(Object(U["j"])(this.element,"click",(function(t){t.target===h.element&&h.hideWidget()}))),this.messageElement=Object(U["q"])(this.element,Object(U["a"])(".message")),this.listElement=Object(U["q"])(this.element,Object(U["a"])(".tree"));var f=function(){return Object(U["Y"])(h.element,"with-status-bar",!h.editor.getOption(89).hideStatusBar)};f(),this.statusBarElement=Object(U["q"])(this.element,Object(U["a"])(".suggest-status-bar")),this.statusBarLeftSpan=Object(U["q"])(this.statusBarElement,Object(U["a"])("span")),this.statusBarRightSpan=Object(U["q"])(this.statusBarElement,Object(U["a"])("span")),this.setStatusBarLeftText(""),this.setStatusBarRightText(""),this.details=l.createInstance(jt,this.element,this,this.editor,g,p);var m=function(){return Object(U["Y"])(h.element,"no-icons",!h.editor.getOption(89).showIcons)};m();var y=l.createInstance(Ct,this,this.editor,p);this.list=new G["c"]("SuggestWidget",this.listElement,this,[y],{useShadows:!1,openController:{shouldOpen:function(){return!1}},mouseSupport:!1,accessibilityProvider:{getAriaLabel:function(t){var e="string"===typeof t.completion.label?t.completion.label:t.completion.label.name;if(t.isResolved&&h.expandDocsSettingFromStorage()){var i=t.completion,o=i.documentation,n=i.detail,s=H["r"]("{0}{1}",n||"",o?"string"===typeof o?o:o.value:"");return P["a"]("ariaCurrenttSuggestionReadDetails","Item {0}, docs: {1}",e,s)}return e}}}),this.toDispose.add(Object($["b"])(this.list,n,{listInactiveFocusBackground:vt,listInactiveFocusOutline:tt["b"]})),this.toDispose.add(n.onThemeChange((function(t){return h.onThemeChange(t)}))),this.toDispose.add(t.onDidLayoutChange((function(){return h.onEditorLayoutChange()}))),this.toDispose.add(this.list.onMouseDown((function(t){return h.onListMouseDownOrTap(t)}))),this.toDispose.add(this.list.onTap((function(t){return h.onListMouseDownOrTap(t)}))),this.toDispose.add(this.list.onSelectionChange((function(t){return h.onListSelection(t)}))),this.toDispose.add(this.list.onFocusChange((function(t){return h.onListFocus(t)}))),this.toDispose.add(this.editor.onDidChangeCursorSelection((function(){return h.onCursorSelectionChanged()}))),this.toDispose.add(this.editor.onDidChangeConfiguration((function(t){t.hasChanged(89)&&(f(),m())}))),this.suggestWidgetVisible=I["b"].Visible.bindTo(o),this.suggestWidgetMultipleSuggestions=I["b"].MultipleSuggestions.bindTo(o),this.editor.addContentWidget(this),this.setState(0),this.onThemeChange(n.getTheme()),this.toDispose.add(Object(U["o"])(this.details.element,"keydown",(function(t){h._onDetailsKeydown.fire(t)}))),this.toDispose.add(this.editor.onMouseDown((function(t){return h.onEditorMouseDown(t)})))}return t.prototype.onEditorMouseDown=function(t){this.details.element.contains(t.target.element)?this.details.element.focus():this.element.contains(t.target.element)&&this.editor.focus()},t.prototype.onCursorSelectionChanged=function(){0!==this.state&&this.editor.layoutContentWidget(this)},t.prototype.onEditorLayoutChange=function(){3!==this.state&&5!==this.state||!this.expandDocsSettingFromStorage()||this.expandSideOrBelow()},t.prototype.onListMouseDownOrTap=function(t){"undefined"!==typeof t.element&&"undefined"!==typeof t.index&&(t.browserEvent.preventDefault(),t.browserEvent.stopPropagation(),this.select(t.element,t.index))},t.prototype.onListSelection=function(t){t.elements.length&&this.select(t.elements[0],t.indexes[0])},t.prototype.select=function(t,e){var i=this.completionModel;i&&(this.onDidSelectEmitter.fire({item:t,index:e,model:i}),this.editor.focus())},t.prototype.onThemeChange=function(t){var e=t.getColor(bt);e&&(this.listElement.style.backgroundColor=e.toString(),this.statusBarElement.style.backgroundColor=e.toString(),this.details.element.style.backgroundColor=e.toString(),this.messageElement.style.backgroundColor=e.toString());var i=t.getColor(yt);i&&(this.listElement.style.borderColor=i.toString(),this.statusBarElement.style.borderColor=i.toString(),this.details.element.style.borderColor=i.toString(),this.messageElement.style.borderColor=i.toString(),this.detailsBorderColor=i.toString());var o=t.getColor(tt["V"]);o&&(this.detailsFocusBorderColor=o.toString()),this.details.setBorderWidth("hc"===t.type?2:1)},t.prototype.onListFocus=function(t){var e,i,o=this;if(!this.ignoreFocusEvents){if(!t.elements.length)return this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null,this.focusedItem=null),void this.editor.setAriaOptions({activeDescendant:void 0});if(this.completionModel){var n=t.elements[0],r=t.indexes[0];if(this.firstFocusInCurrentList=!this.focusedItem,n!==this.focusedItem){var a="insert"===this.editor.getOption(89).insertMode,c=null===(e=this.keybindingService.lookupKeybinding("acceptSelectedSuggestion"))||void 0===e?void 0:e.getLabel(),l=null===(i=this.keybindingService.lookupKeybinding("acceptAlternativeSelectedSuggestion"))||void 0===i?void 0:i.getLabel();dt["a"].equals(n.editInsertEnd,n.editReplaceEnd)?this.setStatusBarLeftText(P["a"]("accept","{0} to accept",c)):a?this.setStatusBarLeftText(P["a"]("insert","{0} to insert, {1} to replace",c,l)):this.setStatusBarLeftText(P["a"]("replace","{0} to replace, {1} to insert",c,l)),this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null),this.focusedItem=n,this.list.reveal(r),this.currentSuggestionDetails=Object(b["f"])((function(t){return pt(o,void 0,void 0,(function(){var e,i,o=this;return ft(this,(function(s){switch(s.label){case 0:return e=Object(b["g"])((function(){return o.showDetails(!0)}),250),t.onCancellationRequested((function(){return e.dispose()})),[4,n.resolve(t)];case 1:return i=s.sent(),e.dispose(),[2,i]}}))}))})),this.currentSuggestionDetails.then((function(){r>=o.list.length||n!==o.list.element(r)||(o.ignoreFocusEvents=!0,o.list.splice(r,1,[n]),o.list.setFocus([r]),o.ignoreFocusEvents=!1,o.expandDocsSettingFromStorage()?o.showDetails(!1):Object(U["P"])(o.element,"docs-side"),xt(o.focusedItem)?o.expandDocsSettingFromStorage()?o.setStatusBarRightText(o.msgDetailsLess):o.setStatusBarRightText(o.msgDetailMore):o.statusBarRightSpan.innerText="",o.editor.setAriaOptions({activeDescendant:Dt(r)}))})).catch(s["e"])}this.onDidFocusEmitter.fire({item:n,index:r,model:this.completionModel})}}},t.prototype.setState=function(e){if(this.element){var i=this.state!==e;switch(this.state=e,Object(U["Y"])(this.element,"frozen",4===e),e){case 0:Object(U["J"])(this.messageElement,this.details.element,this.listElement,this.statusBarElement),this.hide(),this.listHeight=0,i&&this.list.splice(0,this.list.length),this.focusedItem=null;break;case 1:this.messageElement.textContent=t.LOADING_MESSAGE,Object(U["J"])(this.listElement,this.details.element,this.statusBarElement),Object(U["X"])(this.messageElement),Object(U["P"])(this.element,"docs-side"),this.show(),this.focusedItem=null;break;case 2:this.messageElement.textContent=t.NO_SUGGESTIONS_MESSAGE,Object(U["J"])(this.listElement,this.details.element,this.statusBarElement),Object(U["X"])(this.messageElement),Object(U["P"])(this.element,"docs-side"),this.show(),this.focusedItem=null;break;case 3:Object(U["J"])(this.messageElement),Object(U["X"])(this.listElement,this.statusBarElement),this.show();break;case 4:Object(U["J"])(this.messageElement),Object(U["X"])(this.listElement),this.show();break;case 5:Object(U["J"])(this.messageElement),Object(U["X"])(this.details.element,this.listElement,this.statusBarElement),this.show();break}}},t.prototype.showTriggered=function(t,e){var i=this;0===this.state&&(this.isAuto=!!t,this.isAuto||(this.loadingTimeout=Object(b["g"])((function(){return i.setState(1)}),e)))},t.prototype.showSuggestions=function(t,e,i,o){if(this.preferDocPositionTop=!1,this.docsPositionPreviousWidgetY=null,this.loadingTimeout.dispose(),this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null),this.completionModel!==t&&(this.completionModel=t),i&&2!==this.state&&0!==this.state)this.setState(4);else{var n=this.completionModel.items.length,s=0===n;if(this.suggestWidgetMultipleSuggestions.set(n>1),s)o?this.setState(0):this.setState(2),this.completionModel=null;else{if(3!==this.state){var r=this.completionModel.stats;r["wasAutomaticallyTriggered"]=!!o,this.telemetryService.publicLog("suggestWidget",ut({},r))}this.focusedItem=null,this.list.splice(0,this.list.length,this.completionModel.items),i?this.setState(4):this.setState(3),this.list.reveal(e,0),this.list.setFocus([e]),this.detailsBorderColor&&(this.details.element.style.borderColor=this.detailsBorderColor)}}},t.prototype.selectNextPage=function(){switch(this.state){case 0:return!1;case 5:return this.details.pageDown(),!0;case 1:return!this.isAuto;default:return this.list.focusNextPage(),!0}},t.prototype.selectNext=function(){switch(this.state){case 0:return!1;case 1:return!this.isAuto;default:return this.list.focusNext(1,!0),!0}},t.prototype.selectLast=function(){switch(this.state){case 0:return!1;case 5:return this.details.scrollBottom(),!0;case 1:return!this.isAuto;default:return this.list.focusLast(),!0}},t.prototype.selectPreviousPage=function(){switch(this.state){case 0:return!1;case 5:return this.details.pageUp(),!0;case 1:return!this.isAuto;default:return this.list.focusPreviousPage(),!0}},t.prototype.selectPrevious=function(){switch(this.state){case 0:return!1;case 1:return!this.isAuto;default:return this.list.focusPrevious(1,!0),!1}},t.prototype.selectFirst=function(){switch(this.state){case 0:return!1;case 5:return this.details.scrollTop(),!0;case 1:return!this.isAuto;default:return this.list.focusFirst(),!0}},t.prototype.getFocusedItem=function(){if(0!==this.state&&2!==this.state&&1!==this.state&&this.completionModel)return{item:this.list.getFocusedElements()[0],index:this.list.getFocus()[0],model:this.completionModel}},t.prototype.toggleDetailsFocus=function(){5===this.state?(this.setState(3),this.detailsBorderColor&&(this.details.element.style.borderColor=this.detailsBorderColor)):3===this.state&&this.expandDocsSettingFromStorage()&&(this.setState(5),this.detailsFocusBorderColor&&(this.details.element.style.borderColor=this.detailsFocusBorderColor)),this.telemetryService.publicLog2("suggestWidget:toggleDetailsFocus")},t.prototype.toggleDetails=function(){if(xt(this.list.getFocusedElements()[0]))if(this.expandDocsSettingFromStorage())this.updateExpandDocsSetting(!1),Object(U["J"])(this.details.element),Object(U["P"])(this.element,"docs-side"),Object(U["P"])(this.element,"docs-below"),this.editor.layoutContentWidget(this),this.setStatusBarRightText(this.msgDetailMore),this.telemetryService.publicLog2("suggestWidget:collapseDetails");else{if(3!==this.state&&5!==this.state&&4!==this.state)return;this.updateExpandDocsSetting(!0),this.showDetails(!1),this.setStatusBarRightText(this.msgDetailsLess),this.telemetryService.publicLog2("suggestWidget:expandDetails")}},t.prototype.showDetails=function(t){t||this.expandSideOrBelow(),Object(U["X"])(this.details.element),this.details.element.style.maxHeight=this.maxWidgetHeight+"px",t?this.details.renderLoading():this.details.renderItem(this.list.getFocusedElements()[0],this.explainMode),this.listElement.style.marginTop="0px",this.editor.layoutContentWidget(this),this.adjustDocsPosition(),this.editor.focus()},t.prototype.toggleExplainMode=function(){this.list.getFocusedElements()[0]&&this.expandDocsSettingFromStorage()&&(this.explainMode=!this.explainMode,this.showDetails(!1))},t.prototype.show=function(){var t=this,e=this.updateListHeight();e!==this.listHeight&&(this.editor.layoutContentWidget(this),this.listHeight=e),this.suggestWidgetVisible.set(!0),this.showTimeout.cancelAndSet((function(){Object(U["f"])(t.element,"visible"),t.onDidShowEmitter.fire(t)}),100)},t.prototype.hide=function(){this.suggestWidgetVisible.reset(),this.suggestWidgetMultipleSuggestions.reset(),Object(U["P"])(this.element,"visible")},t.prototype.hideWidget=function(){this.loadingTimeout.dispose(),this.setState(0),this.onDidHideEmitter.fire(this)},t.prototype.getPosition=function(){if(0===this.state)return null;var t=[2,1];return this.preferDocPositionTop&&(t=[1]),{position:this.editor.getPosition(),preference:t}},t.prototype.getDomNode=function(){return this.element},t.prototype.getId=function(){return t.ID},t.prototype.isFrozen=function(){return 4===this.state},t.prototype.updateListHeight=function(){var t=0;if(2===this.state||1===this.state)t=this.unfocusedHeight;else{var e=this.list.contentHeight/this.unfocusedHeight,i=this.editor.getOption(89).maxVisibleSuggestions;t=Math.min(e,i)*this.unfocusedHeight}return this.element.style.lineHeight=this.unfocusedHeight+"px",this.listElement.style.height=t+"px",this.statusBarElement.style.top=t+"px",this.list.layout(t),t},t.prototype.adjustDocsPosition=function(){if(this.editor.hasModel()){var t=this.editor.getOption(49),e=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),i=Object(U["C"])(this.editor.getDomNode()),o=i.left+e.left,n=i.top+e.top+e.height,s=Object(U["C"])(this.element),r=s.left,a=s.top;if(this.docsPositionPreviousWidgetY&&this.docsPositionPreviousWidgetY<a&&!this.preferDocPositionTop)return this.preferDocPositionTop=!0,void this.adjustDocsPosition();this.docsPositionPreviousWidgetY=a,r<o-this.listWidth?Object(U["f"])(this.element,"list-right"):Object(U["P"])(this.element,"list-right"),Object(U["I"])(this.element,"docs-side")&&n-t>a&&this.details.element.offsetHeight>this.listElement.offsetHeight&&(this.listElement.style.marginTop=this.details.element.offsetHeight-this.listElement.offsetHeight+"px")}},t.prototype.expandSideOrBelow=function(){if(!xt(this.focusedItem)&&this.firstFocusInCurrentList)return Object(U["P"])(this.element,"docs-side"),void Object(U["P"])(this.element,"docs-below");var t=this.element.style.maxWidth.match(/(\d+)px/);!t||Number(t[1])<this.maxWidgetWidth?(Object(U["f"])(this.element,"docs-below"),Object(U["P"])(this.element,"docs-side")):xt(this.focusedItem)&&(Object(U["f"])(this.element,"docs-side"),Object(U["P"])(this.element,"docs-below"))},Object.defineProperty(t.prototype,"maxWidgetHeight",{get:function(){return this.unfocusedHeight*this.editor.getOption(89).maxVisibleSuggestions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unfocusedHeight",{get:function(){var t=this.editor.getOptions();return t.get(91)||t.get(34).lineHeight},enumerable:!0,configurable:!0}),t.prototype.getHeight=function(t){return this.unfocusedHeight},t.prototype.getTemplateId=function(t){return"suggestion"},t.prototype.expandDocsSettingFromStorage=function(){return this.storageService.getBoolean("expandSuggestionDocs",0,mt)},t.prototype.updateExpandDocsSetting=function(t){this.storageService.store("expandSuggestionDocs",t,0)},t.prototype.setStatusBarLeftText=function(t){this.statusBarLeftSpan.innerText=t},t.prototype.setStatusBarRightText=function(t){this.statusBarRightSpan.innerText=t},t.prototype.dispose=function(){this.details.dispose(),this.list.dispose(),this.toDispose.dispose(),this.loadingTimeout.dispose(),this.showTimeout.dispose()},t.ID="editor.widget.suggestWidget",t.LOADING_MESSAGE=P["a"]("suggestWidget.loading","Loading..."),t.NO_SUGGESTIONS_MESSAGE=P["a"]("suggestWidget.noSuggestions","No suggestions."),t=ht([gt(1,Y["a"]),gt(2,X["a"]),gt(3,M["c"]),gt(4,Z["c"]),gt(5,f["a"]),gt(6,it["a"]),gt(7,ot["a"]),gt(8,y["a"])],t),t}();Object(Z["e"])((function(t,e){var i=t.getColor(St);i&&e.addRule(".monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: "+i+"; }");var o=t.getColor(_t);o&&e.addRule(".monaco-editor .suggest-widget { color: "+o+"; }");var n=t.getColor(tt["ec"]);n&&e.addRule(".monaco-editor .suggest-widget a { color: "+n+"; }");var s=t.getColor(tt["dc"]);s&&e.addRule(".monaco-editor .suggest-widget code { background-color: "+s+"; }")}));var Tt=i("1cef"),Pt=i("a40b"),Et=i("ef8e"),Mt=i("3170"),Lt=function(){function t(t,e,i){var o=this;this._disposables=new a["b"],this._disposables.add(e.onDidShow((function(){return o._onItem(e.getFocusedItem())}))),this._disposables.add(e.onDidFocus(this._onItem,this)),this._disposables.add(e.onDidHide(this.reset,this)),this._disposables.add(t.onWillType((function(n){if(o._active&&!e.isFrozen()){var s=n.charCodeAt(n.length-1);o._active.acceptCharacters.has(s)&&t.getOption(0)&&i(o._active.item)}})))}return t.prototype._onItem=function(t){if(t&&Object(n["q"])(t.item.completion.commitCharacters)){if(!this._active||this._active.item.item!==t.item){for(var e=new Mt["b"],i=0,o=t.item.completion.commitCharacters;i<o.length;i++){var s=o[i];s.length>0&&e.add(s.charCodeAt(0))}this._active={acceptCharacters:e,item:t}}}else this.reset()},t.prototype.reset=function(){this._active=void 0},t.prototype.dispose=function(){this._disposables.dispose()},t}(),It=i("30db"),Nt=i("e32d"),Ft=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Wt=function(){function t(t){var e=this;this._controller=t,this._disposables=new a["b"],this._decorations=[],this._disposables.add(t.model.onDidSuggest((function(t){if(!t.shy){var i=e._controller.widget.getValue(),o=i.getFocusedItem();o&&e._highlight(o.item),e._widgetListener||(e._widgetListener=i.onDidFocus((function(t){return e._highlight(t.item)})))}}))),this._disposables.add(t.model.onDidCancel((function(){e._reset()})))}return t.prototype.dispose=function(){this._reset(),this._disposables.dispose(),Object(a["f"])(this._widgetListener),Object(a["f"])(this._shiftKeyListener)},t.prototype._reset=function(){this._decorations=this._controller.editor.deltaDecorations(this._decorations,[]),this._shiftKeyListener&&(this._shiftKeyListener.dispose(),this._shiftKeyListener=void 0)},t.prototype._highlight=function(t){var e,i=this;this._currentItem=t;var o=this._controller.editor.getOption(89),n=[];if(o.insertHighlight){this._shiftKeyListener||(this._shiftKeyListener=At.event((function(){return i._highlight(i._currentItem)})));var s=this._controller.getOverwriteInfo(t,At.isPressed),r=this._controller.editor.getPosition();if("insert"===o.insertMode&&s.overwriteAfter>0)n=[{range:new d["a"](r.lineNumber,r.column,r.lineNumber,r.column+s.overwriteAfter),options:{inlineClassName:"suggest-insert-unexpected"}}];else if("replace"===o.insertMode&&0===s.overwriteAfter){var a=null===(e=this._controller.editor.getModel())||void 0===e?void 0:e.getWordAtPosition(r);a&&a.endColumn>r.column&&(n=[{range:new d["a"](r.lineNumber,r.column,r.lineNumber,a.endColumn),options:{inlineClassName:"suggest-insert-unexpected"}}])}}this._decorations=this._controller.editor.deltaDecorations(this._decorations,n)},t}(),At=new(function(t){function e(){var e=t.call(this)||this;return e._subscriptions=new a["b"],e._isPressed=!1,e._subscriptions.add(Object(Nt["a"])(document.body,"keydown")((function(t){return e.isPressed=t.shiftKey}))),e._subscriptions.add(Object(Nt["a"])(document.body,"keyup")((function(){return e.isPressed=!1}))),e._subscriptions.add(Object(Nt["a"])(document.body,"mouseleave")((function(){return e.isPressed=!1}))),e._subscriptions.add(Object(Nt["a"])(document.body,"blur")((function(){return e.isPressed=!1}))),e}return Ft(e,t),Object.defineProperty(e.prototype,"isPressed",{get:function(){return this._isPressed},set:function(t){this._isPressed!==t&&(this._isPressed=t,this.fire(t))},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._subscriptions.dispose(),t.prototype.dispose.call(this)},e}(A["a"])),Bt=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),qt=function(){return qt=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i],e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},qt.apply(this,arguments)},Rt=function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r},Vt=function(t,e){return function(i,o){e(i,o,t)}},Ht=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var o=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],r=0,a=s.length;r<a;r++,n++)o[n]=s[r];return o},Kt=!1,zt=function(){function t(t,e){this._model=t,this._position=e;var i=t.getLineMaxColumn(e.lineNumber);if(i!==e.column){var o=t.getOffsetAt(e),n=t.getPositionAt(o+1);this._marker=t.deltaDecorations([],[{range:d["a"].fromPositions(e,n),options:{stickiness:1}}])}}return t.prototype.dispose=function(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])},t.prototype.delta=function(t){if(this._model.isDisposed()||this._position.lineNumber!==t.lineNumber)return 0;if(this._marker){var e=this._model.getDecorationRange(this._marker[0]),i=this._model.getOffsetAt(e.getStartPosition());return i-this._model.getOffsetAt(t)}return this._model.getLineMaxColumn(t.lineNumber)-t.column},t}(),Jt=function(){function t(t,e,i,o,n,s){var c=this;this._memoryService=i,this._commandService=o,this._contextKeyService=n,this._instantiationService=s,this._lineSuffix=new a["d"],this._toDispose=new a["b"],this.editor=t,this.model=new z(this.editor,e),this.widget=this._toDispose.add(new b["b"]((function(){var t=c._instantiationService.createInstance(kt,c.editor);c._toDispose.add(t),c._toDispose.add(t.onDidSelect((function(t){return c._insertSuggestion(t,0)}),c));var e=new Lt(c.editor,t,(function(t){return c._insertSuggestion(t,2)}));c._toDispose.add(e),c._toDispose.add(c.model.onDidSuggest((function(t){0===t.completionModel.items.length&&e.reset()})));var i=I["b"].MakesTextEdit.bindTo(c._contextKeyService);return c._toDispose.add(t.onDidFocus((function(t){var e=t.item,o=c.editor.getPosition(),n=e.editStart.column,s=o.column,r=!0;if("smart"===c.editor.getOption(1)&&2===c.model.state&&!e.completion.command&&!e.completion.additionalTextEdits&&!(4&e.completion.insertTextRules)&&s-n===e.completion.insertText.length){var a=c.editor.getModel().getValueInRange({startLineNumber:o.lineNumber,startColumn:n,endLineNumber:o.lineNumber,endColumn:s});r=a!==e.completion.insertText}i.set(r)}))),c._toDispose.add(Object(a["h"])((function(){return i.reset()}))),c._toDispose.add(t.onDetailsKeyDown((function(t){t.toKeybinding().equals(new r["e"](!0,!1,!1,!1,33))||It["e"]&&t.toKeybinding().equals(new r["e"](!1,!1,!1,!0,33))?t.stopPropagation():t.toKeybinding().isModifierKey()||c.editor.focus()}))),t}))),this._alternatives=this._toDispose.add(new b["b"]((function(){return c._toDispose.add(new W(c.editor,c._contextKeyService))}))),this._toDispose.add(s.createInstance(Tt["a"],t)),this._toDispose.add(this.model.onDidTrigger((function(t){c.widget.getValue().showTriggered(t.auto,t.shy?250:50),c._lineSuffix.value=new zt(c.editor.getModel(),t.position)}))),this._toDispose.add(this.model.onDidSuggest((function(t){if(!t.shy){var e=c._memoryService.select(c.editor.getModel(),c.editor.getPosition(),t.completionModel.items);c.widget.getValue().showSuggestions(t.completionModel,e,t.isFrozen,t.auto)}}))),this._toDispose.add(this.model.onDidCancel((function(t){t.retrigger||c.widget.getValue().hideWidget()}))),this._toDispose.add(this.editor.onDidBlurEditorWidget((function(){Kt||(c.model.cancel(),c.model.clear())})));var l=I["b"].AcceptSuggestionsOnEnter.bindTo(n),d=function(){var t=c.editor.getOption(1);l.set("on"===t||"smart"===t)};this._toDispose.add(this.editor.onDidChangeConfiguration((function(){return d()}))),d(),this._toDispose.add(new Wt(this))}return t.get=function(e){return e.getContribution(t.ID)},t.prototype.dispose=function(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()},t.prototype._insertSuggestion=function(t,e){var i,o=this;if(!t||!t.item)return this._alternatives.getValue().reset(),this.model.cancel(),void this.model.clear();if(this.editor.hasModel()){var n=this.editor.getModel(),r=n.getAlternativeVersionId(),a=t.item,c=a.completion;1&e||this.editor.pushUndoStop();var u=this.getOverwriteInfo(a,Boolean(8&e));this._memoryService.memorize(n,this.editor.getPosition(),a),Array.isArray(c.additionalTextEdits)&&this.editor.executeEdits("suggestController.additionalTextEdits",c.additionalTextEdits.map((function(t){return l["a"].replace(d["a"].lift(t.range),t.text)})));var p=c.insertText;4&c.insertTextRules||(p=g["c"].escape(p)),h["SnippetController2"].get(this.editor).insert(p,{overwriteBefore:u.overwriteBefore,overwriteAfter:u.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&c.insertTextRules)}),2&e||this.editor.pushUndoStop(),c.command?c.command.id===Ut.id?this.model.trigger({auto:!0,shy:!1},!0):((i=this._commandService).executeCommand.apply(i,Ht([c.command.id],c.command.arguments?Ht(c.command.arguments):[])).catch(s["e"]).finally((function(){return o.model.clear()})),this.model.cancel()):(this.model.cancel(),this.model.clear()),4&e&&this._alternatives.getValue().set(t,(function(t){while(n.canUndo()){r!==n.getAlternativeVersionId()&&n.undo(),o._insertSuggestion(t,3|(8&e?8:0));break}})),this._alertCompletionItem(t.item)}},t.prototype.getOverwriteInfo=function(t,e){Object(Et["a"])(this.editor.hasModel());var i="replace"===this.editor.getOption(89).insertMode;e&&(i=!i);var o=t.position.column-t.editStart.column,n=(i?t.editReplaceEnd.column:t.editInsertEnd.column)-t.position.column,s=this.editor.getPosition().column-t.position.column,r=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:o+s,overwriteAfter:n+r}},t.prototype._alertCompletionItem=function(t){var e=t.completion,i="string"===typeof e.label?e.label:e.label.name;if(Object(n["q"])(e.additionalTextEdits)){var s=P["a"]("arai.alert.snippet","Accepting '{0}' made {1} additional edits",i,e.additionalTextEdits.length);Object(o["a"])(s)}},t.prototype.triggerSuggest=function(t){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,t),this.editor.revealLine(this.editor.getPosition().lineNumber,0),this.editor.focus())},t.prototype.triggerSuggestAndAcceptBest=function(t){var e=this;if(this.editor.hasModel()){var i=this.editor.getPosition(),o=function(){i.equals(e.editor.getPosition())&&e._commandService.executeCommand(t.fallback)},n=function(t){if(4&t.completion.insertTextRules||t.completion.additionalTextEdits)return!0;var i=e.editor.getPosition(),o=t.editStart.column,n=i.column;if(n-o!==t.completion.insertText.length)return!0;var s=e.editor.getModel().getValueInRange({startLineNumber:i.lineNumber,startColumn:o,endLineNumber:i.lineNumber,endColumn:n});return s!==t.completion.insertText};A["b"].once(this.model.onDidTrigger)((function(t){var i=[];A["b"].any(e.model.onDidTrigger,e.model.onDidCancel)((function(){Object(a["f"])(i),o()}),void 0,i),e.model.onDidSuggest((function(t){var s=t.completionModel;if(Object(a["f"])(i),0!==s.items.length){var r=e._memoryService.select(e.editor.getModel(),e.editor.getPosition(),s.items),c=s.items[r];n(c)?(e.editor.pushUndoStop(),e._insertSuggestion({index:r,item:c,model:s},7)):o()}else o()}),void 0,i)})),this.model.trigger({auto:!1,shy:!0}),this.editor.revealLine(i.lineNumber,0),this.editor.focus()}},t.prototype.acceptSelectedSuggestion=function(t,e){var i=this.widget.getValue().getFocusedItem(),o=0;t&&(o|=4),e&&(o|=8),this._insertSuggestion(i,o)},t.prototype.acceptNextSuggestion=function(){this._alternatives.getValue().next()},t.prototype.acceptPrevSuggestion=function(){this._alternatives.getValue().prev()},t.prototype.cancelSuggestWidget=function(){this.model.cancel(),this.model.clear(),this.widget.getValue().hideWidget()},t.prototype.selectNextSuggestion=function(){this.widget.getValue().selectNext()},t.prototype.selectNextPageSuggestion=function(){this.widget.getValue().selectNextPage()},t.prototype.selectLastSuggestion=function(){this.widget.getValue().selectLast()},t.prototype.selectPrevSuggestion=function(){this.widget.getValue().selectPrevious()},t.prototype.selectPrevPageSuggestion=function(){this.widget.getValue().selectPreviousPage()},t.prototype.selectFirstSuggestion=function(){this.widget.getValue().selectFirst()},t.prototype.toggleSuggestionDetails=function(){this.widget.getValue().toggleDetails()},t.prototype.toggleExplainMode=function(){this.widget.getValue().toggleExplainMode()},t.prototype.toggleSuggestionFocus=function(){this.widget.getValue().toggleDetailsFocus()},t.ID="editor.contrib.suggestController",t=Rt([Vt(1,Pt["a"]),Vt(2,T),Vt(3,E["b"]),Vt(4,M["c"]),Vt(5,y["a"])],t),t}(),Ut=function(t){function e(){return t.call(this,{id:e.id,label:P["a"]("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:M["a"].and(u["a"].writable,u["a"].hasCompletionItemProvider),kbOpts:{kbExpr:u["a"].textInputFocus,primary:2058,mac:{primary:266,secondary:[521]},weight:100}})||this}return Bt(e,t),e.prototype.run=function(t,e){var i=Jt.get(e);i&&i.triggerSuggest()},e.id="editor.action.triggerSuggest",e}(c["b"]);Object(c["h"])(Jt.ID,Jt),Object(c["f"])(Ut);var Gt=190,Qt=c["c"].bindToContribution(Jt.get);Object(c["g"])(new Qt({id:"acceptSelectedSuggestion",precondition:I["b"].Visible,handler:function(t){t.acceptSelectedSuggestion(!0,!1)}})),L["a"].registerKeybindingRule({id:"acceptSelectedSuggestion",when:M["a"].and(I["b"].Visible,u["a"].textInputFocus),primary:2,weight:Gt}),L["a"].registerKeybindingRule({id:"acceptSelectedSuggestion",when:M["a"].and(I["b"].Visible,u["a"].textInputFocus,I["b"].AcceptSuggestionsOnEnter,I["b"].MakesTextEdit),primary:3,weight:Gt}),Object(c["g"])(new Qt({id:"acceptAlternativeSelectedSuggestion",precondition:M["a"].and(I["b"].Visible,u["a"].textInputFocus),kbOpts:{weight:Gt,kbExpr:u["a"].textInputFocus,primary:1027,secondary:[1026]},handler:function(t){t.acceptSelectedSuggestion(!1,!0)}})),E["a"].registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),Object(c["g"])(new Qt({id:"hideSuggestWidget",precondition:I["b"].Visible,handler:function(t){return t.cancelSuggestWidget()},kbOpts:{weight:Gt,kbExpr:u["a"].textInputFocus,primary:9,secondary:[1033]}})),Object(c["g"])(new Qt({id:"selectNextSuggestion",precondition:M["a"].and(I["b"].Visible,I["b"].MultipleSuggestions),handler:function(t){return t.selectNextSuggestion()},kbOpts:{weight:Gt,kbExpr:u["a"].textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),Object(c["g"])(new Qt({id:"selectNextPageSuggestion",precondition:M["a"].and(I["b"].Visible,I["b"].MultipleSuggestions),handler:function(t){return t.selectNextPageSuggestion()},kbOpts:{weight:Gt,kbExpr:u["a"].textInputFocus,primary:12,secondary:[2060]}})),Object(c["g"])(new Qt({id:"selectLastSuggestion",precondition:M["a"].and(I["b"].Visible,I["b"].MultipleSuggestions),handler:function(t){return t.selectLastSuggestion()}})),Object(c["g"])(new Qt({id:"selectPrevSuggestion",precondition:M["a"].and(I["b"].Visible,I["b"].MultipleSuggestions),handler:function(t){return t.selectPrevSuggestion()},kbOpts:{weight:Gt,kbExpr:u["a"].textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),Object(c["g"])(new Qt({id:"selectPrevPageSuggestion",precondition:M["a"].and(I["b"].Visible,I["b"].MultipleSuggestions),handler:function(t){return t.selectPrevPageSuggestion()},kbOpts:{weight:Gt,kbExpr:u["a"].textInputFocus,primary:11,secondary:[2059]}})),Object(c["g"])(new Qt({id:"selectFirstSuggestion",precondition:M["a"].and(I["b"].Visible,I["b"].MultipleSuggestions),handler:function(t){return t.selectFirstSuggestion()}})),Object(c["g"])(new Qt({id:"toggleSuggestionDetails",precondition:I["b"].Visible,handler:function(t){return t.toggleSuggestionDetails()},kbOpts:{weight:Gt,kbExpr:u["a"].textInputFocus,primary:2058,mac:{primary:266}}})),Object(c["g"])(new Qt({id:"toggleExplainMode",precondition:I["b"].Visible,handler:function(t){return t.toggleExplainMode()},kbOpts:{weight:100,primary:2133}})),Object(c["g"])(new Qt({id:"toggleSuggestionFocus",precondition:I["b"].Visible,handler:function(t){return t.toggleSuggestionFocus()},kbOpts:{weight:Gt,kbExpr:u["a"].textInputFocus,primary:2570,mac:{primary:778}}})),Object(c["g"])(new Qt({id:"insertBestCompletion",precondition:M["a"].and(M["a"].equals("config.editor.tabCompletion","on"),Tt["a"].AtEnd,I["b"].Visible.toNegated(),W.OtherSuggestions.toNegated(),h["SnippetController2"].InSnippetMode.toNegated()),handler:function(t,e){t.triggerSuggestAndAcceptBest(Object(Et["i"])(e)?qt({fallback:"tab"},e):{fallback:"tab"})},kbOpts:{weight:Gt,primary:2}})),Object(c["g"])(new Qt({id:"insertNextSuggestion",precondition:M["a"].and(M["a"].equals("config.editor.tabCompletion","on"),W.OtherSuggestions,I["b"].Visible.toNegated(),h["SnippetController2"].InSnippetMode.toNegated()),handler:function(t){return t.acceptNextSuggestion()},kbOpts:{weight:Gt,kbExpr:u["a"].textInputFocus,primary:2}})),Object(c["g"])(new Qt({id:"insertPrevSuggestion",precondition:M["a"].and(M["a"].equals("config.editor.tabCompletion","on"),W.OtherSuggestions,I["b"].Visible.toNegated(),h["SnippetController2"].InSnippetMode.toNegated()),handler:function(t){return t.acceptPrevSuggestion()},kbOpts:{weight:Gt,kbExpr:u["a"].textInputFocus,primary:1026}}))}}]);
//# sourceMappingURL=chunk-vendors~474834fe.10549cd4.js.map