{"version":3,"sources":["webpack:///./node_modules/monaco-editor/esm/vs/base/browser/canIUse.js","webpack:///./node_modules/monaco-editor/esm/vs/base/browser/browser.js","webpack:///./node_modules/monaco-editor/esm/vs/base/browser/dom.js","webpack:///./node_modules/monaco-editor/esm/vs/base/browser/dnd.js","webpack:///./node_modules/monaco-editor/esm/vs/base/browser/contextmenu.js"],"names":["BrowserFeatures","clipboard","writeText","document","queryCommandSupported","navigator","readText","richText","index","userAgent","indexOf","version","parseInt","substring","keyboard","touch","window","maxTouchPoints","msMaxTouchPoints","pointerEvents","PointerEvent","WindowManager","this","_zoomLevel","_lastZoomLevelChangeTime","_onDidChangeZoomLevel","onDidChangeZoomLevel","event","prototype","getZoomLevel","getTimeSinceLastZoomLevelChanged","Date","now","getPixelRatio","ctx","createElement","getContext","dpr","devicePixelRatio","bsr","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","INSTANCE","callback","isIE","isEdge","isEdgeOrIE","isFirefox","isWebKit","isChrome","isSafari","isWebkitWebView","isIPad","isEdgeWebView","isStandalone","matchMedia","matches","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__spreadArrays","il","r","k","a","j","jl","clearNode","node","firstChild","removeChild","removeNode","parentNode","isInDOM","body","host","_manualClassList","class_1","_lastStart","_lastEnd","_findClassName","className","classes","trim","classesLen","classLen","idxEnd","idx","charCodeAt","hasClass","addClasses","_this","classNames","_i","forEach","nameValue","split","name","addClass","removeClass","removeClasses","toggleClass","shouldHaveIt","undefined","_nativeClassList","class_2","Boolean","classList","contains","add","remove","toggle","_classList","bind","DomListener","type","handler","options","_node","_type","_handler","_options","addEventListener","dispose","removeEventListener","addDisposableListener","useCaptureOrOptions","_wrapAsStandardMouseEvent","e","_wrapAsStandardKeyboardEvent","addStandardDisposableListener","useCapture","wrapHandler","addStandardDisposableGenericMouseDownListner","addDisposableGenericMouseDownListner","EventType","POINTER_DOWN","MOUSE_DOWN","addDisposableGenericMouseUpListner","POINTER_UP","MOUSE_UP","addDisposableNonBubblingMouseOutListener","toElement","addDisposableNonBubblingPointerOutListener","runAtThisOrScheduleAtNextAnimationFrame","scheduleAtNextAnimationFrame","_animationFrame","doRequestAnimationFrame","emulatedRequestAnimationFrame","setTimeout","getTime","self","requestAnimationFrame","msRequestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","AnimationFrameQueueItem","runner","priority","_runner","_canceled","execute","sort","NEXT_QUEUE","CURRENT_QUEUE","animFrameRequested","inAnimationFrameRunner","animationFrameRunner","top_1","shift","item","push","MINIMUM_TIME_MS","DEFAULT_EVENT_MERGER","lastEvent","currentEvent","TimeoutThrottledDomListener","_super","eventMerger","minimumTimeMs","lastHandlerTime","timeout","_register","invokeHandler","elapsedTime","cancel","setIfNotSet","addDisposableThrottledListener","getComputedStyle","el","defaultView","getClientArea","element","Dimension","clientWidth","clientHeight","visualViewport","width","height","innerWidth","innerHeight","documentElement","Error","SizeUtils","convertToPixels","value","parseFloat","getDimension","cssPropertyName","jsPropertyName","computedStyle","getPropertyValue","getAttribute","getBorderLeftWidth","getBorderRightWidth","getBorderTopWidth","getBorderBottomWidth","getPaddingLeft","getPaddingRight","getPaddingTop","getPaddingBottom","getMarginLeft","getMarginTop","getMarginRight","getMarginBottom","getTopLeftOffset","offsetParent","top","offsetTop","left","offsetLeft","scrollTop","c","isShadowRoot","direction","scrollLeft","getDomNodePagePosition","domNode","bb","getBoundingClientRect","StandardWindow","scrollX","scrollY","class_3","defineProperty","get","enumerable","configurable","getTotalWidth","margin","offsetWidth","getContentWidth","border","padding","getContentHeight","offsetHeight","getTotalHeight","isAncestor","testChild","testAncestor","findParentWithClass","clazz","stopAtClazzOrNode","nodeType","ELEMENT_NODE","mode","isInShadowDOM","getShadowRoot","createStyleSheet","container","getElementsByTagName","style","media","appendChild","_sharedStyleSheet","getSharedStyleSheet","getDynamicStyleSheetRules","sheet","rules","cssRules","createCSSRule","selector","cssText","insertRule","removeCSSRulesContainingSelector","ruleName","toDelete","rule","selectorText","deleteRule","isHTMLElement","o","HTMLElement","nodeName","CLICK","DBLCLICK","MOUSE_OVER","MOUSE_MOVE","MOUSE_OUT","MOUSE_ENTER","MOUSE_LEAVE","POINTER_MOVE","CONTEXT_MENU","WHEEL","KEY_DOWN","KEY_PRESS","KEY_UP","LOAD","BEFORE_UNLOAD","UNLOAD","ABORT","ERROR","RESIZE","SCROLL","FULLSCREEN_CHANGE","WK_FULLSCREEN_CHANGE","SELECT","CHANGE","SUBMIT","RESET","FOCUS","FOCUS_IN","FOCUS_OUT","BLUR","INPUT","STORAGE","DRAG_START","DRAG","DRAG_ENTER","DRAG_LEAVE","DRAG_OVER","DROP","DRAG_END","ANIMATION_START","ANIMATION_END","ANIMATION_ITERATION","EventHelper","stop","cancelBubble","preventDefault","returnValue","stopPropagation","saveParentsScrollTop","restoreParentsScrollTop","state","FocusTracker","_onDidFocus","onDidFocus","_onDidBlur","onDidBlur","hasFocus","activeElement","loosingFocus","onFocus","fire","onBlur","_refreshStateHandler","currentNodeHasFocus","trackFocus","append","parent","children","child","Namespace","SELECTOR_REGEX","_$","namespace","description","attrs","match","exec","result","tagName","HTML","createElementNS","id","replace","keys","test","setAttribute","Node","createTextNode","$","show","elements","_a","elements_1","display","removeAttribute","hide","elements_2","findParentWithAttribute","attribute","hasAttribute","removeTabIndexAndUpdateFocus","parentFocusable","parentElement","focus","tag","slice","computeScreenAwareSize","cssPx","screenPx","Math","max","floor","windowOpenNoOpener","url","open","newTab","opener","location","href","animate","fn","step","stepDisposable","asDomUri","uri","vscodeRemote","scheme","rewrite","asCSSUrl","toString","SVG","setPreferredWebSchema","DataTransfers","RESOURCES","DOWNLOAD_URL","FILES","TEXT","DragAndDropData","data","update","getData","StaticDND","CurrentDragAndDropData","ContextSubMenu","label","entries"],"mappings":"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","file":"js/chunk-vendors~7f323393.51b33679.js","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport * as browser from './browser.js';\r\nimport * as platform from '../common/platform.js';\r\n/**\r\n * Browser feature we can support in current platform, browser and environment.\r\n */\r\nexport var BrowserFeatures = {\r\n    clipboard: {\r\n        writeText: (platform.isNative\r\n            || (document.queryCommandSupported && document.queryCommandSupported('copy'))\r\n            || !!(navigator && navigator.clipboard && navigator.clipboard.writeText)),\r\n        readText: (platform.isNative\r\n            || !!(navigator && navigator.clipboard && navigator.clipboard.readText)),\r\n        richText: (function () {\r\n            if (browser.isIE) {\r\n                return false;\r\n            }\r\n            if (browser.isEdge) {\r\n                var index = navigator.userAgent.indexOf('Edge/');\r\n                var version = parseInt(navigator.userAgent.substring(index + 5, navigator.userAgent.indexOf('.', index)), 10);\r\n                if (!version || (version >= 12 && version <= 16)) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        })()\r\n    },\r\n    keyboard: (function () {\r\n        if (platform.isNative || browser.isStandalone) {\r\n            return 0 /* Always */;\r\n        }\r\n        if (navigator.keyboard || browser.isSafari) {\r\n            return 1 /* FullScreen */;\r\n        }\r\n        return 2 /* None */;\r\n    })(),\r\n    touch: 'ontouchstart' in window || navigator.maxTouchPoints > 0 || window.navigator.msMaxTouchPoints > 0,\r\n    pointerEvents: window.PointerEvent && ('ontouchstart' in window || window.navigator.maxTouchPoints > 0 || navigator.maxTouchPoints > 0 || window.navigator.msMaxTouchPoints > 0)\r\n};\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Emitter } from '../common/event.js';\r\nvar WindowManager = /** @class */ (function () {\r\n    function WindowManager() {\r\n        // --- Zoom Level\r\n        this._zoomLevel = 0;\r\n        this._lastZoomLevelChangeTime = 0;\r\n        this._onDidChangeZoomLevel = new Emitter();\r\n        this.onDidChangeZoomLevel = this._onDidChangeZoomLevel.event;\r\n    }\r\n    WindowManager.prototype.getZoomLevel = function () {\r\n        return this._zoomLevel;\r\n    };\r\n    WindowManager.prototype.getTimeSinceLastZoomLevelChanged = function () {\r\n        return Date.now() - this._lastZoomLevelChangeTime;\r\n    };\r\n    // --- Pixel Ratio\r\n    WindowManager.prototype.getPixelRatio = function () {\r\n        var ctx = document.createElement('canvas').getContext('2d');\r\n        var dpr = window.devicePixelRatio || 1;\r\n        var bsr = ctx.webkitBackingStorePixelRatio ||\r\n            ctx.mozBackingStorePixelRatio ||\r\n            ctx.msBackingStorePixelRatio ||\r\n            ctx.oBackingStorePixelRatio ||\r\n            ctx.backingStorePixelRatio || 1;\r\n        return dpr / bsr;\r\n    };\r\n    WindowManager.INSTANCE = new WindowManager();\r\n    return WindowManager;\r\n}());\r\nexport function getZoomLevel() {\r\n    return WindowManager.INSTANCE.getZoomLevel();\r\n}\r\n/** Returns the time (in ms) since the zoom level was changed */\r\nexport function getTimeSinceLastZoomLevelChanged() {\r\n    return WindowManager.INSTANCE.getTimeSinceLastZoomLevelChanged();\r\n}\r\nexport function onDidChangeZoomLevel(callback) {\r\n    return WindowManager.INSTANCE.onDidChangeZoomLevel(callback);\r\n}\r\nexport function getPixelRatio() {\r\n    return WindowManager.INSTANCE.getPixelRatio();\r\n}\r\nvar userAgent = navigator.userAgent;\r\nexport var isIE = (userAgent.indexOf('Trident') >= 0);\r\nexport var isEdge = (userAgent.indexOf('Edge/') >= 0);\r\nexport var isEdgeOrIE = isIE || isEdge;\r\nexport var isFirefox = (userAgent.indexOf('Firefox') >= 0);\r\nexport var isWebKit = (userAgent.indexOf('AppleWebKit') >= 0);\r\nexport var isChrome = (userAgent.indexOf('Chrome') >= 0);\r\nexport var isSafari = (!isChrome && (userAgent.indexOf('Safari') >= 0));\r\nexport var isWebkitWebView = (!isChrome && !isSafari && isWebKit);\r\nexport var isIPad = (userAgent.indexOf('iPad') >= 0 || (isSafari && navigator.maxTouchPoints > 0));\r\nexport var isEdgeWebView = isEdge && (userAgent.indexOf('WebView/') >= 0);\r\nexport var isStandalone = (window.matchMedia && window.matchMedia('(display-mode: standalone)').matches);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nimport * as browser from './browser.js';\r\nimport { domEvent } from './event.js';\r\nimport { StandardKeyboardEvent } from './keyboardEvent.js';\r\nimport { StandardMouseEvent } from './mouseEvent.js';\r\nimport { TimeoutTimer } from '../common/async.js';\r\nimport { onUnexpectedError } from '../common/errors.js';\r\nimport { Emitter } from '../common/event.js';\r\nimport { Disposable, toDisposable } from '../common/lifecycle.js';\r\nimport * as platform from '../common/platform.js';\r\nimport { coalesce } from '../common/arrays.js';\r\nimport { Schemas, RemoteAuthorities } from '../common/network.js';\r\nimport { BrowserFeatures } from './canIUse.js';\r\nexport function clearNode(node) {\r\n    while (node.firstChild) {\r\n        node.removeChild(node.firstChild);\r\n    }\r\n}\r\nexport function removeNode(node) {\r\n    if (node.parentNode) {\r\n        node.parentNode.removeChild(node);\r\n    }\r\n}\r\nexport function isInDOM(node) {\r\n    while (node) {\r\n        if (node === document.body) {\r\n            return true;\r\n        }\r\n        node = node.parentNode || node.host;\r\n    }\r\n    return false;\r\n}\r\nvar _manualClassList = new /** @class */ (function () {\r\n    function class_1() {\r\n        this._lastStart = -1;\r\n        this._lastEnd = -1;\r\n    }\r\n    class_1.prototype._findClassName = function (node, className) {\r\n        var classes = node.className;\r\n        if (!classes) {\r\n            this._lastStart = -1;\r\n            return;\r\n        }\r\n        className = className.trim();\r\n        var classesLen = classes.length, classLen = className.length;\r\n        if (classLen === 0) {\r\n            this._lastStart = -1;\r\n            return;\r\n        }\r\n        if (classesLen < classLen) {\r\n            this._lastStart = -1;\r\n            return;\r\n        }\r\n        if (classes === className) {\r\n            this._lastStart = 0;\r\n            this._lastEnd = classesLen;\r\n            return;\r\n        }\r\n        var idx = -1, idxEnd;\r\n        while ((idx = classes.indexOf(className, idx + 1)) >= 0) {\r\n            idxEnd = idx + classLen;\r\n            // a class that is followed by another class\r\n            if ((idx === 0 || classes.charCodeAt(idx - 1) === 32 /* Space */) && classes.charCodeAt(idxEnd) === 32 /* Space */) {\r\n                this._lastStart = idx;\r\n                this._lastEnd = idxEnd + 1;\r\n                return;\r\n            }\r\n            // last class\r\n            if (idx > 0 && classes.charCodeAt(idx - 1) === 32 /* Space */ && idxEnd === classesLen) {\r\n                this._lastStart = idx - 1;\r\n                this._lastEnd = idxEnd;\r\n                return;\r\n            }\r\n            // equal - duplicate of cmp above\r\n            if (idx === 0 && idxEnd === classesLen) {\r\n                this._lastStart = 0;\r\n                this._lastEnd = idxEnd;\r\n                return;\r\n            }\r\n        }\r\n        this._lastStart = -1;\r\n    };\r\n    class_1.prototype.hasClass = function (node, className) {\r\n        this._findClassName(node, className);\r\n        return this._lastStart !== -1;\r\n    };\r\n    class_1.prototype.addClasses = function (node) {\r\n        var _this = this;\r\n        var classNames = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            classNames[_i - 1] = arguments[_i];\r\n        }\r\n        classNames.forEach(function (nameValue) { return nameValue.split(' ').forEach(function (name) { return _this.addClass(node, name); }); });\r\n    };\r\n    class_1.prototype.addClass = function (node, className) {\r\n        if (!node.className) { // doesn't have it for sure\r\n            node.className = className;\r\n        }\r\n        else {\r\n            this._findClassName(node, className); // see if it's already there\r\n            if (this._lastStart === -1) {\r\n                node.className = node.className + ' ' + className;\r\n            }\r\n        }\r\n    };\r\n    class_1.prototype.removeClass = function (node, className) {\r\n        this._findClassName(node, className);\r\n        if (this._lastStart === -1) {\r\n            return; // Prevent styles invalidation if not necessary\r\n        }\r\n        else {\r\n            node.className = node.className.substring(0, this._lastStart) + node.className.substring(this._lastEnd);\r\n        }\r\n    };\r\n    class_1.prototype.removeClasses = function (node) {\r\n        var _this = this;\r\n        var classNames = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            classNames[_i - 1] = arguments[_i];\r\n        }\r\n        classNames.forEach(function (nameValue) { return nameValue.split(' ').forEach(function (name) { return _this.removeClass(node, name); }); });\r\n    };\r\n    class_1.prototype.toggleClass = function (node, className, shouldHaveIt) {\r\n        this._findClassName(node, className);\r\n        if (this._lastStart !== -1 && (shouldHaveIt === undefined || !shouldHaveIt)) {\r\n            this.removeClass(node, className);\r\n        }\r\n        if (this._lastStart === -1 && (shouldHaveIt === undefined || shouldHaveIt)) {\r\n            this.addClass(node, className);\r\n        }\r\n    };\r\n    return class_1;\r\n}());\r\nvar _nativeClassList = new /** @class */ (function () {\r\n    function class_2() {\r\n    }\r\n    class_2.prototype.hasClass = function (node, className) {\r\n        return Boolean(className) && node.classList && node.classList.contains(className);\r\n    };\r\n    class_2.prototype.addClasses = function (node) {\r\n        var _this = this;\r\n        var classNames = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            classNames[_i - 1] = arguments[_i];\r\n        }\r\n        classNames.forEach(function (nameValue) { return nameValue.split(' ').forEach(function (name) { return _this.addClass(node, name); }); });\r\n    };\r\n    class_2.prototype.addClass = function (node, className) {\r\n        if (className && node.classList) {\r\n            node.classList.add(className);\r\n        }\r\n    };\r\n    class_2.prototype.removeClass = function (node, className) {\r\n        if (className && node.classList) {\r\n            node.classList.remove(className);\r\n        }\r\n    };\r\n    class_2.prototype.removeClasses = function (node) {\r\n        var _this = this;\r\n        var classNames = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            classNames[_i - 1] = arguments[_i];\r\n        }\r\n        classNames.forEach(function (nameValue) { return nameValue.split(' ').forEach(function (name) { return _this.removeClass(node, name); }); });\r\n    };\r\n    class_2.prototype.toggleClass = function (node, className, shouldHaveIt) {\r\n        if (node.classList) {\r\n            node.classList.toggle(className, shouldHaveIt);\r\n        }\r\n    };\r\n    return class_2;\r\n}());\r\n// In IE11 there is only partial support for `classList` which makes us keep our\r\n// custom implementation. Otherwise use the native implementation, see: http://caniuse.com/#search=classlist\r\nvar _classList = browser.isIE ? _manualClassList : _nativeClassList;\r\nexport var hasClass = _classList.hasClass.bind(_classList);\r\nexport var addClass = _classList.addClass.bind(_classList);\r\nexport var addClasses = _classList.addClasses.bind(_classList);\r\nexport var removeClass = _classList.removeClass.bind(_classList);\r\nexport var removeClasses = _classList.removeClasses.bind(_classList);\r\nexport var toggleClass = _classList.toggleClass.bind(_classList);\r\nvar DomListener = /** @class */ (function () {\r\n    function DomListener(node, type, handler, options) {\r\n        this._node = node;\r\n        this._type = type;\r\n        this._handler = handler;\r\n        this._options = (options || false);\r\n        this._node.addEventListener(this._type, this._handler, this._options);\r\n    }\r\n    DomListener.prototype.dispose = function () {\r\n        if (!this._handler) {\r\n            // Already disposed\r\n            return;\r\n        }\r\n        this._node.removeEventListener(this._type, this._handler, this._options);\r\n        // Prevent leakers from holding on to the dom or handler func\r\n        this._node = null;\r\n        this._handler = null;\r\n    };\r\n    return DomListener;\r\n}());\r\nexport function addDisposableListener(node, type, handler, useCaptureOrOptions) {\r\n    return new DomListener(node, type, handler, useCaptureOrOptions);\r\n}\r\nfunction _wrapAsStandardMouseEvent(handler) {\r\n    return function (e) {\r\n        return handler(new StandardMouseEvent(e));\r\n    };\r\n}\r\nfunction _wrapAsStandardKeyboardEvent(handler) {\r\n    return function (e) {\r\n        return handler(new StandardKeyboardEvent(e));\r\n    };\r\n}\r\nexport var addStandardDisposableListener = function addStandardDisposableListener(node, type, handler, useCapture) {\r\n    var wrapHandler = handler;\r\n    if (type === 'click' || type === 'mousedown') {\r\n        wrapHandler = _wrapAsStandardMouseEvent(handler);\r\n    }\r\n    else if (type === 'keydown' || type === 'keypress' || type === 'keyup') {\r\n        wrapHandler = _wrapAsStandardKeyboardEvent(handler);\r\n    }\r\n    return addDisposableListener(node, type, wrapHandler, useCapture);\r\n};\r\nexport var addStandardDisposableGenericMouseDownListner = function addStandardDisposableListener(node, handler, useCapture) {\r\n    var wrapHandler = _wrapAsStandardMouseEvent(handler);\r\n    return addDisposableGenericMouseDownListner(node, wrapHandler, useCapture);\r\n};\r\nexport function addDisposableGenericMouseDownListner(node, handler, useCapture) {\r\n    return addDisposableListener(node, platform.isIOS && BrowserFeatures.pointerEvents ? EventType.POINTER_DOWN : EventType.MOUSE_DOWN, handler, useCapture);\r\n}\r\nexport function addDisposableGenericMouseUpListner(node, handler, useCapture) {\r\n    return addDisposableListener(node, platform.isIOS && BrowserFeatures.pointerEvents ? EventType.POINTER_UP : EventType.MOUSE_UP, handler, useCapture);\r\n}\r\nexport function addDisposableNonBubblingMouseOutListener(node, handler) {\r\n    return addDisposableListener(node, 'mouseout', function (e) {\r\n        // Mouse out bubbles, so this is an attempt to ignore faux mouse outs coming from children elements\r\n        var toElement = (e.relatedTarget);\r\n        while (toElement && toElement !== node) {\r\n            toElement = toElement.parentNode;\r\n        }\r\n        if (toElement === node) {\r\n            return;\r\n        }\r\n        handler(e);\r\n    });\r\n}\r\nexport function addDisposableNonBubblingPointerOutListener(node, handler) {\r\n    return addDisposableListener(node, 'pointerout', function (e) {\r\n        // Mouse out bubbles, so this is an attempt to ignore faux mouse outs coming from children elements\r\n        var toElement = (e.relatedTarget);\r\n        while (toElement && toElement !== node) {\r\n            toElement = toElement.parentNode;\r\n        }\r\n        if (toElement === node) {\r\n            return;\r\n        }\r\n        handler(e);\r\n    });\r\n}\r\nvar _animationFrame = null;\r\nfunction doRequestAnimationFrame(callback) {\r\n    if (!_animationFrame) {\r\n        var emulatedRequestAnimationFrame = function (callback) {\r\n            return setTimeout(function () { return callback(new Date().getTime()); }, 0);\r\n        };\r\n        _animationFrame = (self.requestAnimationFrame\r\n            || self.msRequestAnimationFrame\r\n            || self.webkitRequestAnimationFrame\r\n            || self.mozRequestAnimationFrame\r\n            || self.oRequestAnimationFrame\r\n            || emulatedRequestAnimationFrame);\r\n    }\r\n    return _animationFrame.call(self, callback);\r\n}\r\n/**\r\n * Schedule a callback to be run at the next animation frame.\r\n * This allows multiple parties to register callbacks that should run at the next animation frame.\r\n * If currently in an animation frame, `runner` will be executed immediately.\r\n * @return token that can be used to cancel the scheduled runner (only if `runner` was not executed immediately).\r\n */\r\nexport var runAtThisOrScheduleAtNextAnimationFrame;\r\n/**\r\n * Schedule a callback to be run at the next animation frame.\r\n * This allows multiple parties to register callbacks that should run at the next animation frame.\r\n * If currently in an animation frame, `runner` will be executed at the next animation frame.\r\n * @return token that can be used to cancel the scheduled runner.\r\n */\r\nexport var scheduleAtNextAnimationFrame;\r\nvar AnimationFrameQueueItem = /** @class */ (function () {\r\n    function AnimationFrameQueueItem(runner, priority) {\r\n        if (priority === void 0) { priority = 0; }\r\n        this._runner = runner;\r\n        this.priority = priority;\r\n        this._canceled = false;\r\n    }\r\n    AnimationFrameQueueItem.prototype.dispose = function () {\r\n        this._canceled = true;\r\n    };\r\n    AnimationFrameQueueItem.prototype.execute = function () {\r\n        if (this._canceled) {\r\n            return;\r\n        }\r\n        try {\r\n            this._runner();\r\n        }\r\n        catch (e) {\r\n            onUnexpectedError(e);\r\n        }\r\n    };\r\n    // Sort by priority (largest to lowest)\r\n    AnimationFrameQueueItem.sort = function (a, b) {\r\n        return b.priority - a.priority;\r\n    };\r\n    return AnimationFrameQueueItem;\r\n}());\r\n(function () {\r\n    /**\r\n     * The runners scheduled at the next animation frame\r\n     */\r\n    var NEXT_QUEUE = [];\r\n    /**\r\n     * The runners scheduled at the current animation frame\r\n     */\r\n    var CURRENT_QUEUE = null;\r\n    /**\r\n     * A flag to keep track if the native requestAnimationFrame was already called\r\n     */\r\n    var animFrameRequested = false;\r\n    /**\r\n     * A flag to indicate if currently handling a native requestAnimationFrame callback\r\n     */\r\n    var inAnimationFrameRunner = false;\r\n    var animationFrameRunner = function () {\r\n        animFrameRequested = false;\r\n        CURRENT_QUEUE = NEXT_QUEUE;\r\n        NEXT_QUEUE = [];\r\n        inAnimationFrameRunner = true;\r\n        while (CURRENT_QUEUE.length > 0) {\r\n            CURRENT_QUEUE.sort(AnimationFrameQueueItem.sort);\r\n            var top_1 = CURRENT_QUEUE.shift();\r\n            top_1.execute();\r\n        }\r\n        inAnimationFrameRunner = false;\r\n    };\r\n    scheduleAtNextAnimationFrame = function (runner, priority) {\r\n        if (priority === void 0) { priority = 0; }\r\n        var item = new AnimationFrameQueueItem(runner, priority);\r\n        NEXT_QUEUE.push(item);\r\n        if (!animFrameRequested) {\r\n            animFrameRequested = true;\r\n            doRequestAnimationFrame(animationFrameRunner);\r\n        }\r\n        return item;\r\n    };\r\n    runAtThisOrScheduleAtNextAnimationFrame = function (runner, priority) {\r\n        if (inAnimationFrameRunner) {\r\n            var item = new AnimationFrameQueueItem(runner, priority);\r\n            CURRENT_QUEUE.push(item);\r\n            return item;\r\n        }\r\n        else {\r\n            return scheduleAtNextAnimationFrame(runner, priority);\r\n        }\r\n    };\r\n})();\r\nvar MINIMUM_TIME_MS = 16;\r\nvar DEFAULT_EVENT_MERGER = function (lastEvent, currentEvent) {\r\n    return currentEvent;\r\n};\r\nvar TimeoutThrottledDomListener = /** @class */ (function (_super) {\r\n    __extends(TimeoutThrottledDomListener, _super);\r\n    function TimeoutThrottledDomListener(node, type, handler, eventMerger, minimumTimeMs) {\r\n        if (eventMerger === void 0) { eventMerger = DEFAULT_EVENT_MERGER; }\r\n        if (minimumTimeMs === void 0) { minimumTimeMs = MINIMUM_TIME_MS; }\r\n        var _this = _super.call(this) || this;\r\n        var lastEvent = null;\r\n        var lastHandlerTime = 0;\r\n        var timeout = _this._register(new TimeoutTimer());\r\n        var invokeHandler = function () {\r\n            lastHandlerTime = (new Date()).getTime();\r\n            handler(lastEvent);\r\n            lastEvent = null;\r\n        };\r\n        _this._register(addDisposableListener(node, type, function (e) {\r\n            lastEvent = eventMerger(lastEvent, e);\r\n            var elapsedTime = (new Date()).getTime() - lastHandlerTime;\r\n            if (elapsedTime >= minimumTimeMs) {\r\n                timeout.cancel();\r\n                invokeHandler();\r\n            }\r\n            else {\r\n                timeout.setIfNotSet(invokeHandler, minimumTimeMs - elapsedTime);\r\n            }\r\n        }));\r\n        return _this;\r\n    }\r\n    return TimeoutThrottledDomListener;\r\n}(Disposable));\r\nexport function addDisposableThrottledListener(node, type, handler, eventMerger, minimumTimeMs) {\r\n    return new TimeoutThrottledDomListener(node, type, handler, eventMerger, minimumTimeMs);\r\n}\r\nexport function getComputedStyle(el) {\r\n    return document.defaultView.getComputedStyle(el, null);\r\n}\r\nexport function getClientArea(element) {\r\n    // Try with DOM clientWidth / clientHeight\r\n    if (element !== document.body) {\r\n        return new Dimension(element.clientWidth, element.clientHeight);\r\n    }\r\n    // If visual view port exits and it's on mobile, it should be used instead of window innerWidth / innerHeight, or document.body.clientWidth / document.body.clientHeight\r\n    if (platform.isIOS && window.visualViewport) {\r\n        var width = window.visualViewport.width;\r\n        var height = window.visualViewport.height - (browser.isStandalone\r\n            // in PWA mode, the visual viewport always includes the safe-area-inset-bottom (which is for the home indicator)\r\n            // even when you are using the onscreen monitor, the visual viewport will include the area between system statusbar and the onscreen keyboard\r\n            // plus the area between onscreen keyboard and the bottom bezel, which is 20px on iOS.\r\n            ? (20 + 4) // + 4px for body margin\r\n            : 0);\r\n        return new Dimension(width, height);\r\n    }\r\n    // Try innerWidth / innerHeight\r\n    if (window.innerWidth && window.innerHeight) {\r\n        return new Dimension(window.innerWidth, window.innerHeight);\r\n    }\r\n    // Try with document.body.clientWidth / document.body.clientHeight\r\n    if (document.body && document.body.clientWidth && document.body.clientHeight) {\r\n        return new Dimension(document.body.clientWidth, document.body.clientHeight);\r\n    }\r\n    // Try with document.documentElement.clientWidth / document.documentElement.clientHeight\r\n    if (document.documentElement && document.documentElement.clientWidth && document.documentElement.clientHeight) {\r\n        return new Dimension(document.documentElement.clientWidth, document.documentElement.clientHeight);\r\n    }\r\n    throw new Error('Unable to figure out browser width and height');\r\n}\r\nvar SizeUtils = /** @class */ (function () {\r\n    function SizeUtils() {\r\n    }\r\n    // Adapted from WinJS\r\n    // Converts a CSS positioning string for the specified element to pixels.\r\n    SizeUtils.convertToPixels = function (element, value) {\r\n        return parseFloat(value) || 0;\r\n    };\r\n    SizeUtils.getDimension = function (element, cssPropertyName, jsPropertyName) {\r\n        var computedStyle = getComputedStyle(element);\r\n        var value = '0';\r\n        if (computedStyle) {\r\n            if (computedStyle.getPropertyValue) {\r\n                value = computedStyle.getPropertyValue(cssPropertyName);\r\n            }\r\n            else {\r\n                // IE8\r\n                value = computedStyle.getAttribute(jsPropertyName);\r\n            }\r\n        }\r\n        return SizeUtils.convertToPixels(element, value);\r\n    };\r\n    SizeUtils.getBorderLeftWidth = function (element) {\r\n        return SizeUtils.getDimension(element, 'border-left-width', 'borderLeftWidth');\r\n    };\r\n    SizeUtils.getBorderRightWidth = function (element) {\r\n        return SizeUtils.getDimension(element, 'border-right-width', 'borderRightWidth');\r\n    };\r\n    SizeUtils.getBorderTopWidth = function (element) {\r\n        return SizeUtils.getDimension(element, 'border-top-width', 'borderTopWidth');\r\n    };\r\n    SizeUtils.getBorderBottomWidth = function (element) {\r\n        return SizeUtils.getDimension(element, 'border-bottom-width', 'borderBottomWidth');\r\n    };\r\n    SizeUtils.getPaddingLeft = function (element) {\r\n        return SizeUtils.getDimension(element, 'padding-left', 'paddingLeft');\r\n    };\r\n    SizeUtils.getPaddingRight = function (element) {\r\n        return SizeUtils.getDimension(element, 'padding-right', 'paddingRight');\r\n    };\r\n    SizeUtils.getPaddingTop = function (element) {\r\n        return SizeUtils.getDimension(element, 'padding-top', 'paddingTop');\r\n    };\r\n    SizeUtils.getPaddingBottom = function (element) {\r\n        return SizeUtils.getDimension(element, 'padding-bottom', 'paddingBottom');\r\n    };\r\n    SizeUtils.getMarginLeft = function (element) {\r\n        return SizeUtils.getDimension(element, 'margin-left', 'marginLeft');\r\n    };\r\n    SizeUtils.getMarginTop = function (element) {\r\n        return SizeUtils.getDimension(element, 'margin-top', 'marginTop');\r\n    };\r\n    SizeUtils.getMarginRight = function (element) {\r\n        return SizeUtils.getDimension(element, 'margin-right', 'marginRight');\r\n    };\r\n    SizeUtils.getMarginBottom = function (element) {\r\n        return SizeUtils.getDimension(element, 'margin-bottom', 'marginBottom');\r\n    };\r\n    return SizeUtils;\r\n}());\r\n// ----------------------------------------------------------------------------------------\r\n// Position & Dimension\r\nvar Dimension = /** @class */ (function () {\r\n    function Dimension(width, height) {\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n    return Dimension;\r\n}());\r\nexport { Dimension };\r\nexport function getTopLeftOffset(element) {\r\n    // Adapted from WinJS.Utilities.getPosition\r\n    // and added borders to the mix\r\n    var offsetParent = element.offsetParent;\r\n    var top = element.offsetTop;\r\n    var left = element.offsetLeft;\r\n    while ((element = element.parentNode) !== null\r\n        && element !== document.body\r\n        && element !== document.documentElement) {\r\n        top -= element.scrollTop;\r\n        var c = isShadowRoot(element) ? null : getComputedStyle(element);\r\n        if (c) {\r\n            left -= c.direction !== 'rtl' ? element.scrollLeft : -element.scrollLeft;\r\n        }\r\n        if (element === offsetParent) {\r\n            left += SizeUtils.getBorderLeftWidth(element);\r\n            top += SizeUtils.getBorderTopWidth(element);\r\n            top += element.offsetTop;\r\n            left += element.offsetLeft;\r\n            offsetParent = element.offsetParent;\r\n        }\r\n    }\r\n    return {\r\n        left: left,\r\n        top: top\r\n    };\r\n}\r\n/**\r\n * Returns the position of a dom node relative to the entire page.\r\n */\r\nexport function getDomNodePagePosition(domNode) {\r\n    var bb = domNode.getBoundingClientRect();\r\n    return {\r\n        left: bb.left + StandardWindow.scrollX,\r\n        top: bb.top + StandardWindow.scrollY,\r\n        width: bb.width,\r\n        height: bb.height\r\n    };\r\n}\r\nexport var StandardWindow = new /** @class */ (function () {\r\n    function class_3() {\r\n    }\r\n    Object.defineProperty(class_3.prototype, \"scrollX\", {\r\n        get: function () {\r\n            if (typeof window.scrollX === 'number') {\r\n                // modern browsers\r\n                return window.scrollX;\r\n            }\r\n            else {\r\n                return document.body.scrollLeft + document.documentElement.scrollLeft;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(class_3.prototype, \"scrollY\", {\r\n        get: function () {\r\n            if (typeof window.scrollY === 'number') {\r\n                // modern browsers\r\n                return window.scrollY;\r\n            }\r\n            else {\r\n                return document.body.scrollTop + document.documentElement.scrollTop;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return class_3;\r\n}());\r\n// Adapted from WinJS\r\n// Gets the width of the element, including margins.\r\nexport function getTotalWidth(element) {\r\n    var margin = SizeUtils.getMarginLeft(element) + SizeUtils.getMarginRight(element);\r\n    return element.offsetWidth + margin;\r\n}\r\nexport function getContentWidth(element) {\r\n    var border = SizeUtils.getBorderLeftWidth(element) + SizeUtils.getBorderRightWidth(element);\r\n    var padding = SizeUtils.getPaddingLeft(element) + SizeUtils.getPaddingRight(element);\r\n    return element.offsetWidth - border - padding;\r\n}\r\n// Adapted from WinJS\r\n// Gets the height of the content of the specified element. The content height does not include borders or padding.\r\nexport function getContentHeight(element) {\r\n    var border = SizeUtils.getBorderTopWidth(element) + SizeUtils.getBorderBottomWidth(element);\r\n    var padding = SizeUtils.getPaddingTop(element) + SizeUtils.getPaddingBottom(element);\r\n    return element.offsetHeight - border - padding;\r\n}\r\n// Adapted from WinJS\r\n// Gets the height of the element, including its margins.\r\nexport function getTotalHeight(element) {\r\n    var margin = SizeUtils.getMarginTop(element) + SizeUtils.getMarginBottom(element);\r\n    return element.offsetHeight + margin;\r\n}\r\n// ----------------------------------------------------------------------------------------\r\nexport function isAncestor(testChild, testAncestor) {\r\n    while (testChild) {\r\n        if (testChild === testAncestor) {\r\n            return true;\r\n        }\r\n        testChild = testChild.parentNode;\r\n    }\r\n    return false;\r\n}\r\nexport function findParentWithClass(node, clazz, stopAtClazzOrNode) {\r\n    while (node && node.nodeType === node.ELEMENT_NODE) {\r\n        if (hasClass(node, clazz)) {\r\n            return node;\r\n        }\r\n        if (stopAtClazzOrNode) {\r\n            if (typeof stopAtClazzOrNode === 'string') {\r\n                if (hasClass(node, stopAtClazzOrNode)) {\r\n                    return null;\r\n                }\r\n            }\r\n            else {\r\n                if (node === stopAtClazzOrNode) {\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n        node = node.parentNode;\r\n    }\r\n    return null;\r\n}\r\nexport function isShadowRoot(node) {\r\n    return (node && !!node.host && !!node.mode);\r\n}\r\nexport function isInShadowDOM(domNode) {\r\n    return !!getShadowRoot(domNode);\r\n}\r\nexport function getShadowRoot(domNode) {\r\n    while (domNode.parentNode) {\r\n        if (domNode === document.body) {\r\n            // reached the body\r\n            return null;\r\n        }\r\n        domNode = domNode.parentNode;\r\n    }\r\n    return isShadowRoot(domNode) ? domNode : null;\r\n}\r\nexport function createStyleSheet(container) {\r\n    if (container === void 0) { container = document.getElementsByTagName('head')[0]; }\r\n    var style = document.createElement('style');\r\n    style.type = 'text/css';\r\n    style.media = 'screen';\r\n    container.appendChild(style);\r\n    return style;\r\n}\r\nvar _sharedStyleSheet = null;\r\nfunction getSharedStyleSheet() {\r\n    if (!_sharedStyleSheet) {\r\n        _sharedStyleSheet = createStyleSheet();\r\n    }\r\n    return _sharedStyleSheet;\r\n}\r\nfunction getDynamicStyleSheetRules(style) {\r\n    if (style && style.sheet && style.sheet.rules) {\r\n        // Chrome, IE\r\n        return style.sheet.rules;\r\n    }\r\n    if (style && style.sheet && style.sheet.cssRules) {\r\n        // FF\r\n        return style.sheet.cssRules;\r\n    }\r\n    return [];\r\n}\r\nexport function createCSSRule(selector, cssText, style) {\r\n    if (style === void 0) { style = getSharedStyleSheet(); }\r\n    if (!style || !cssText) {\r\n        return;\r\n    }\r\n    style.sheet.insertRule(selector + '{' + cssText + '}', 0);\r\n}\r\nexport function removeCSSRulesContainingSelector(ruleName, style) {\r\n    if (style === void 0) { style = getSharedStyleSheet(); }\r\n    if (!style) {\r\n        return;\r\n    }\r\n    var rules = getDynamicStyleSheetRules(style);\r\n    var toDelete = [];\r\n    for (var i = 0; i < rules.length; i++) {\r\n        var rule = rules[i];\r\n        if (rule.selectorText.indexOf(ruleName) !== -1) {\r\n            toDelete.push(i);\r\n        }\r\n    }\r\n    for (var i = toDelete.length - 1; i >= 0; i--) {\r\n        style.sheet.deleteRule(toDelete[i]);\r\n    }\r\n}\r\nexport function isHTMLElement(o) {\r\n    if (typeof HTMLElement === 'object') {\r\n        return o instanceof HTMLElement;\r\n    }\r\n    return o && typeof o === 'object' && o.nodeType === 1 && typeof o.nodeName === 'string';\r\n}\r\nexport var EventType = {\r\n    // Mouse\r\n    CLICK: 'click',\r\n    DBLCLICK: 'dblclick',\r\n    MOUSE_UP: 'mouseup',\r\n    MOUSE_DOWN: 'mousedown',\r\n    MOUSE_OVER: 'mouseover',\r\n    MOUSE_MOVE: 'mousemove',\r\n    MOUSE_OUT: 'mouseout',\r\n    MOUSE_ENTER: 'mouseenter',\r\n    MOUSE_LEAVE: 'mouseleave',\r\n    POINTER_UP: 'pointerup',\r\n    POINTER_DOWN: 'pointerdown',\r\n    POINTER_MOVE: 'pointermove',\r\n    CONTEXT_MENU: 'contextmenu',\r\n    WHEEL: 'wheel',\r\n    // Keyboard\r\n    KEY_DOWN: 'keydown',\r\n    KEY_PRESS: 'keypress',\r\n    KEY_UP: 'keyup',\r\n    // HTML Document\r\n    LOAD: 'load',\r\n    BEFORE_UNLOAD: 'beforeunload',\r\n    UNLOAD: 'unload',\r\n    ABORT: 'abort',\r\n    ERROR: 'error',\r\n    RESIZE: 'resize',\r\n    SCROLL: 'scroll',\r\n    FULLSCREEN_CHANGE: 'fullscreenchange',\r\n    WK_FULLSCREEN_CHANGE: 'webkitfullscreenchange',\r\n    // Form\r\n    SELECT: 'select',\r\n    CHANGE: 'change',\r\n    SUBMIT: 'submit',\r\n    RESET: 'reset',\r\n    FOCUS: 'focus',\r\n    FOCUS_IN: 'focusin',\r\n    FOCUS_OUT: 'focusout',\r\n    BLUR: 'blur',\r\n    INPUT: 'input',\r\n    // Local Storage\r\n    STORAGE: 'storage',\r\n    // Drag\r\n    DRAG_START: 'dragstart',\r\n    DRAG: 'drag',\r\n    DRAG_ENTER: 'dragenter',\r\n    DRAG_LEAVE: 'dragleave',\r\n    DRAG_OVER: 'dragover',\r\n    DROP: 'drop',\r\n    DRAG_END: 'dragend',\r\n    // Animation\r\n    ANIMATION_START: browser.isWebKit ? 'webkitAnimationStart' : 'animationstart',\r\n    ANIMATION_END: browser.isWebKit ? 'webkitAnimationEnd' : 'animationend',\r\n    ANIMATION_ITERATION: browser.isWebKit ? 'webkitAnimationIteration' : 'animationiteration'\r\n};\r\nexport var EventHelper = {\r\n    stop: function (e, cancelBubble) {\r\n        if (e.preventDefault) {\r\n            e.preventDefault();\r\n        }\r\n        else {\r\n            // IE8\r\n            e.returnValue = false;\r\n        }\r\n        if (cancelBubble) {\r\n            if (e.stopPropagation) {\r\n                e.stopPropagation();\r\n            }\r\n            else {\r\n                // IE8\r\n                e.cancelBubble = true;\r\n            }\r\n        }\r\n    }\r\n};\r\nexport function saveParentsScrollTop(node) {\r\n    var r = [];\r\n    for (var i = 0; node && node.nodeType === node.ELEMENT_NODE; i++) {\r\n        r[i] = node.scrollTop;\r\n        node = node.parentNode;\r\n    }\r\n    return r;\r\n}\r\nexport function restoreParentsScrollTop(node, state) {\r\n    for (var i = 0; node && node.nodeType === node.ELEMENT_NODE; i++) {\r\n        if (node.scrollTop !== state[i]) {\r\n            node.scrollTop = state[i];\r\n        }\r\n        node = node.parentNode;\r\n    }\r\n}\r\nvar FocusTracker = /** @class */ (function (_super) {\r\n    __extends(FocusTracker, _super);\r\n    function FocusTracker(element) {\r\n        var _this = _super.call(this) || this;\r\n        _this._onDidFocus = _this._register(new Emitter());\r\n        _this.onDidFocus = _this._onDidFocus.event;\r\n        _this._onDidBlur = _this._register(new Emitter());\r\n        _this.onDidBlur = _this._onDidBlur.event;\r\n        var hasFocus = isAncestor(document.activeElement, element);\r\n        var loosingFocus = false;\r\n        var onFocus = function () {\r\n            loosingFocus = false;\r\n            if (!hasFocus) {\r\n                hasFocus = true;\r\n                _this._onDidFocus.fire();\r\n            }\r\n        };\r\n        var onBlur = function () {\r\n            if (hasFocus) {\r\n                loosingFocus = true;\r\n                window.setTimeout(function () {\r\n                    if (loosingFocus) {\r\n                        loosingFocus = false;\r\n                        hasFocus = false;\r\n                        _this._onDidBlur.fire();\r\n                    }\r\n                }, 0);\r\n            }\r\n        };\r\n        _this._refreshStateHandler = function () {\r\n            var currentNodeHasFocus = isAncestor(document.activeElement, element);\r\n            if (currentNodeHasFocus !== hasFocus) {\r\n                if (hasFocus) {\r\n                    onBlur();\r\n                }\r\n                else {\r\n                    onFocus();\r\n                }\r\n            }\r\n        };\r\n        _this._register(domEvent(element, EventType.FOCUS, true)(onFocus));\r\n        _this._register(domEvent(element, EventType.BLUR, true)(onBlur));\r\n        return _this;\r\n    }\r\n    return FocusTracker;\r\n}(Disposable));\r\nexport function trackFocus(element) {\r\n    return new FocusTracker(element);\r\n}\r\nexport function append(parent) {\r\n    var children = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        children[_i - 1] = arguments[_i];\r\n    }\r\n    children.forEach(function (child) { return parent.appendChild(child); });\r\n    return children[children.length - 1];\r\n}\r\nvar SELECTOR_REGEX = /([\\w\\-]+)?(#([\\w\\-]+))?((.([\\w\\-]+))*)/;\r\nexport var Namespace;\r\n(function (Namespace) {\r\n    Namespace[\"HTML\"] = \"http://www.w3.org/1999/xhtml\";\r\n    Namespace[\"SVG\"] = \"http://www.w3.org/2000/svg\";\r\n})(Namespace || (Namespace = {}));\r\nfunction _$(namespace, description, attrs) {\r\n    var children = [];\r\n    for (var _i = 3; _i < arguments.length; _i++) {\r\n        children[_i - 3] = arguments[_i];\r\n    }\r\n    var match = SELECTOR_REGEX.exec(description);\r\n    if (!match) {\r\n        throw new Error('Bad use of emmet');\r\n    }\r\n    attrs = __assign({}, (attrs || {}));\r\n    var tagName = match[1] || 'div';\r\n    var result;\r\n    if (namespace !== Namespace.HTML) {\r\n        result = document.createElementNS(namespace, tagName);\r\n    }\r\n    else {\r\n        result = document.createElement(tagName);\r\n    }\r\n    if (match[3]) {\r\n        result.id = match[3];\r\n    }\r\n    if (match[4]) {\r\n        result.className = match[4].replace(/\\./g, ' ').trim();\r\n    }\r\n    Object.keys(attrs).forEach(function (name) {\r\n        var value = attrs[name];\r\n        if (typeof value === 'undefined') {\r\n            return;\r\n        }\r\n        if (/^on\\w+$/.test(name)) {\r\n            result[name] = value;\r\n        }\r\n        else if (name === 'selected') {\r\n            if (value) {\r\n                result.setAttribute(name, 'true');\r\n            }\r\n        }\r\n        else {\r\n            result.setAttribute(name, value);\r\n        }\r\n    });\r\n    coalesce(children)\r\n        .forEach(function (child) {\r\n        if (child instanceof Node) {\r\n            result.appendChild(child);\r\n        }\r\n        else {\r\n            result.appendChild(document.createTextNode(child));\r\n        }\r\n    });\r\n    return result;\r\n}\r\nexport function $(description, attrs) {\r\n    var children = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        children[_i - 2] = arguments[_i];\r\n    }\r\n    return _$.apply(void 0, __spreadArrays([Namespace.HTML, description, attrs], children));\r\n}\r\n$.SVG = function (description, attrs) {\r\n    var children = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        children[_i - 2] = arguments[_i];\r\n    }\r\n    return _$.apply(void 0, __spreadArrays([Namespace.SVG, description, attrs], children));\r\n};\r\nexport function show() {\r\n    var elements = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        elements[_i] = arguments[_i];\r\n    }\r\n    for (var _a = 0, elements_1 = elements; _a < elements_1.length; _a++) {\r\n        var element = elements_1[_a];\r\n        element.style.display = '';\r\n        element.removeAttribute('aria-hidden');\r\n    }\r\n}\r\nexport function hide() {\r\n    var elements = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        elements[_i] = arguments[_i];\r\n    }\r\n    for (var _a = 0, elements_2 = elements; _a < elements_2.length; _a++) {\r\n        var element = elements_2[_a];\r\n        element.style.display = 'none';\r\n        element.setAttribute('aria-hidden', 'true');\r\n    }\r\n}\r\nfunction findParentWithAttribute(node, attribute) {\r\n    while (node && node.nodeType === node.ELEMENT_NODE) {\r\n        if (node instanceof HTMLElement && node.hasAttribute(attribute)) {\r\n            return node;\r\n        }\r\n        node = node.parentNode;\r\n    }\r\n    return null;\r\n}\r\nexport function removeTabIndexAndUpdateFocus(node) {\r\n    if (!node || !node.hasAttribute('tabIndex')) {\r\n        return;\r\n    }\r\n    // If we are the currently focused element and tabIndex is removed,\r\n    // standard DOM behavior is to move focus to the <body> element. We\r\n    // typically never want that, rather put focus to the closest element\r\n    // in the hierarchy of the parent DOM nodes.\r\n    if (document.activeElement === node) {\r\n        var parentFocusable = findParentWithAttribute(node.parentElement, 'tabIndex');\r\n        if (parentFocusable) {\r\n            parentFocusable.focus();\r\n        }\r\n    }\r\n    node.removeAttribute('tabindex');\r\n}\r\nexport function getElementsByTagName(tag) {\r\n    return Array.prototype.slice.call(document.getElementsByTagName(tag), 0);\r\n}\r\n/**\r\n * Find a value usable for a dom node size such that the likelihood that it would be\r\n * displayed with constant screen pixels size is as high as possible.\r\n *\r\n * e.g. We would desire for the cursors to be 2px (CSS px) wide. Under a devicePixelRatio\r\n * of 1.25, the cursor will be 2.5 screen pixels wide. Depending on how the dom node aligns/\"snaps\"\r\n * with the screen pixels, it will sometimes be rendered with 2 screen pixels, and sometimes with 3 screen pixels.\r\n */\r\nexport function computeScreenAwareSize(cssPx) {\r\n    var screenPx = window.devicePixelRatio * cssPx;\r\n    return Math.max(1, Math.floor(screenPx)) / window.devicePixelRatio;\r\n}\r\n/**\r\n * See https://github.com/Microsoft/monaco-editor/issues/601\r\n * To protect against malicious code in the linked site, particularly phishing attempts,\r\n * the window.opener should be set to null to prevent the linked site from having access\r\n * to change the location of the current page.\r\n * See https://mathiasbynens.github.io/rel-noopener/\r\n */\r\nexport function windowOpenNoOpener(url) {\r\n    if (platform.isNative || browser.isEdgeWebView) {\r\n        // In VSCode, window.open() always returns null...\r\n        // The same is true for a WebView (see https://github.com/Microsoft/monaco-editor/issues/628)\r\n        window.open(url);\r\n    }\r\n    else {\r\n        var newTab = window.open();\r\n        if (newTab) {\r\n            newTab.opener = null;\r\n            newTab.location.href = url;\r\n        }\r\n    }\r\n}\r\nexport function animate(fn) {\r\n    var step = function () {\r\n        fn();\r\n        stepDisposable = scheduleAtNextAnimationFrame(step);\r\n    };\r\n    var stepDisposable = scheduleAtNextAnimationFrame(step);\r\n    return toDisposable(function () { return stepDisposable.dispose(); });\r\n}\r\nRemoteAuthorities.setPreferredWebSchema(/^https:/.test(window.location.href) ? 'https' : 'http');\r\nexport function asDomUri(uri) {\r\n    if (!uri) {\r\n        return uri;\r\n    }\r\n    if (Schemas.vscodeRemote === uri.scheme) {\r\n        return RemoteAuthorities.rewrite(uri);\r\n    }\r\n    return uri;\r\n}\r\n/**\r\n * returns url('...')\r\n */\r\nexport function asCSSUrl(uri) {\r\n    if (!uri) {\r\n        return \"url('')\";\r\n    }\r\n    return \"url('\" + asDomUri(uri).toString(true).replace(/'/g, '%27') + \"')\";\r\n}\r\n","// Common data transfers\r\nexport var DataTransfers = {\r\n    /**\r\n     * Application specific resource transfer type\r\n     */\r\n    RESOURCES: 'ResourceURLs',\r\n    /**\r\n     * Browser specific transfer type to download\r\n     */\r\n    DOWNLOAD_URL: 'DownloadURL',\r\n    /**\r\n     * Browser specific transfer type for files\r\n     */\r\n    FILES: 'Files',\r\n    /**\r\n     * Typically transfer type for copy/paste transfers.\r\n     */\r\n    TEXT: 'text/plain'\r\n};\r\nvar DragAndDropData = /** @class */ (function () {\r\n    function DragAndDropData(data) {\r\n        this.data = data;\r\n    }\r\n    DragAndDropData.prototype.update = function () {\r\n        // noop\r\n    };\r\n    DragAndDropData.prototype.getData = function () {\r\n        return this.data;\r\n    };\r\n    return DragAndDropData;\r\n}());\r\nexport { DragAndDropData };\r\nexport var StaticDND = {\r\n    CurrentDragAndDropData: undefined\r\n};\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { SubmenuAction } from './ui/menu/menu.js';\r\nvar ContextSubMenu = /** @class */ (function (_super) {\r\n    __extends(ContextSubMenu, _super);\r\n    function ContextSubMenu(label, entries) {\r\n        var _this = _super.call(this, label, entries, 'contextsubmenu') || this;\r\n        _this.entries = entries;\r\n        return _this;\r\n    }\r\n    return ContextSubMenu;\r\n}(SubmenuAction));\r\nexport { ContextSubMenu };\r\n"],"sourceRoot":""}