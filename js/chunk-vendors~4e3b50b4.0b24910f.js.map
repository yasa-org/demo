{"version":3,"sources":["webpack:///./node_modules/monaco-editor/esm/vs/editor/contrib/wordPartOperations/wordPartOperations.js","webpack:///./node_modules/monaco-editor/esm/vs/editor/contrib/wordHighlighter/wordHighlighter.js","webpack:///./node_modules/monaco-editor/esm/vs/editor/contrib/tokenization/tokenization.js","webpack:///./node_modules/monaco-editor/esm/vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode.js","webpack:///./node_modules/monaco-editor/esm/vs/editor/contrib/wordOperations/wordOperations.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","DeleteWordPartLeft","_super","call","whitespaceHeuristics","wordNavigationType","id","precondition","writable","kbOpts","kbExpr","textInputFocus","primary","mac","weight","_delete","wordSeparators","model","selection","r","deleteWordPartLeft","DeleteWordPartRight","deleteWordPartRight","lineCount","getLineCount","maxColumn","getLineMaxColumn","WordPartLeftCommand","apply","arguments","_move","position","moveWordPartLeft","CursorWordPartLeft","inSelectionMode","undefined","registerCommandAlias","CursorWordPartLeftSelect","WordPartRightCommand","moveWordPartRight","CursorWordPartRight","CursorWordPartRightSelect","__decorate","decorators","target","key","desc","c","length","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","editorWordHighlight","dark","light","hc","editorWordHighlightStrong","editorWordHighlightBorder","editorWordHighlightStrongBorder","overviewRulerWordHighlightForeground","overviewRulerWordHighlightStrongForeground","ctxHasWordHighlights","getOccurrencesAtPosition","token","orderedByScore","ordered","map","provider","Promise","resolve","provideDocumentHighlights","then","OccurenceAtPositionRequest","_this","_wordRange","_getCurrentWordRange","result","_compute","word","getWordAtPosition","getPosition","startLineNumber","startColumn","endColumn","isValid","decorationIds","lineNumber","currentWordRange","requestIsValid","Boolean","equalsRange","len","range","getDecorationRange","cancel","SemanticOccurenceAtPositionRequest","value","TextualOccurenceAtPositionRequest","_selectionIsEmpty","isEmpty","matches","findMatches","m","kind","Text","currentSelectionIsEmpty","computeOccurencesAtPosition","has","None","WordHighlighter","editor","contextKeyService","toUnhook","workerRequestTokenId","workerRequestCompleted","workerRequestValue","lastCursorPositionChangeTime","renderDecorationsTimer","_hasWordHighlights","bindTo","_ignorePositionChangeEvent","occurrencesHighlight","getOption","getModel","add","onDidChangeCursorPosition","e","_onPositionChanged","onDidChangeModelContent","_stopAll","onDidChangeConfiguration","newValue","_decorationIds","workerRequest","hasDecorations","restore","_run","_getSortedHighlights","sort","compareRangesUsingStarts","moveNext","highlights","index","containsPosition","newIndex","dest","setPosition","getStartPosition","revealRangeInCenterIfOutsideViewport","moveBack","_removeDecorations","deltaDecorations","set","clearTimeout","reason","editorSelection","getSelection","endLineNumber","column","workerRequestIsValid","Date","getTime","_beginRenderDecorations","myRequestId_1","data","currentTime","minimumRenderTime","renderDecorations","setTimeout","decorations","info","push","options","_getDecorationOptions","Write","_WRITE_OPTIONS","_TEXT_OPTIONS","_REGULAR_OPTIONS","dispose","register","stickiness","className","overviewRuler","color","Center","WordHighlighterContribution","wordHighligher","createWordHighlighterIfPossible","hasModel","_register","onDidChangeModel","get","getContribution","ID","saveViewState","restoreViewState","state","WordHighlightNavigationAction","next","opts","_isNext","run","accessor","controller","NextWordHighlightAction","label","alias","editorTextFocus","PrevWordHighlightAction","TriggerWordHighlightAction","toNegated","args","theme","collector","selectionHighlight","getColor","addRule","transparent","wordHighlight","wordHighlightStrong","selectionHighlightBorder","type","wordHighlightBorder","wordHighlightStrongBorder","ForceRetokenizeAction","resetTokenization","sw","forceTokenization","stop","console","log","elapsed","ToggleTabFocusModeAction","comment","oldValue","getTabFocusMode","setTabFocusMode","MoveWordCommand","_inSelectionMode","_wordNavigationType","runEditorCommand","selections","getSelections","sel","inPosition","positionLineNumber","positionColumn","outPosition","_moveTo","_getCursors","setStates","fromModelSelection","pos","revealPosition","from","to","selectionStartLineNumber","selectionStartColumn","WordLeftCommand","moveWordLeft","WordRightCommand","moveWordRight","CursorWordStartLeft","CursorWordEndLeft","CursorWordLeft","CursorWordStartLeftSelect","CursorWordEndLeftSelect","CursorWordLeftSelect","CursorWordAccessibilityLeft","and","win","_","defaultValue","CursorWordAccessibilityLeftSelect","CursorWordStartRight","CursorWordEndRight","CursorWordRight","CursorWordStartRightSelect","CursorWordEndRightSelect","CursorWordRightSelect","CursorWordAccessibilityRight","CursorWordAccessibilityRightSelect","DeleteWordCommand","_whitespaceHeuristics","commands","deleteRange","pushUndoStop","executeCommands","DeleteWordLeftCommand","deleteWordLeft","DeleteWordRightCommand","deleteWordRight","DeleteWordStartLeft","DeleteWordEndLeft","DeleteWordLeft","DeleteWordStartRight","DeleteWordEndRight","DeleteWordRight"],"mappings":"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","file":"js/chunk-vendors~4e3b50b4.0b24910f.js","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { registerEditorCommand } from '../../browser/editorExtensions.js';\r\nimport { WordPartOperations } from '../../common/controller/cursorWordOperations.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { DeleteWordCommand, MoveWordCommand } from '../wordOperations/wordOperations.js';\r\nimport { CommandsRegistry } from '../../../platform/commands/common/commands.js';\r\nvar DeleteWordPartLeft = /** @class */ (function (_super) {\r\n    __extends(DeleteWordPartLeft, _super);\r\n    function DeleteWordPartLeft() {\r\n        return _super.call(this, {\r\n            whitespaceHeuristics: true,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'deleteWordPartLeft',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 0,\r\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 1 /* Backspace */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    DeleteWordPartLeft.prototype._delete = function (wordSeparators, model, selection, whitespaceHeuristics, wordNavigationType) {\r\n        var r = WordPartOperations.deleteWordPartLeft(wordSeparators, model, selection, whitespaceHeuristics);\r\n        if (r) {\r\n            return r;\r\n        }\r\n        return new Range(1, 1, 1, 1);\r\n    };\r\n    return DeleteWordPartLeft;\r\n}(DeleteWordCommand));\r\nexport { DeleteWordPartLeft };\r\nvar DeleteWordPartRight = /** @class */ (function (_super) {\r\n    __extends(DeleteWordPartRight, _super);\r\n    function DeleteWordPartRight() {\r\n        return _super.call(this, {\r\n            whitespaceHeuristics: true,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'deleteWordPartRight',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 0,\r\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 20 /* Delete */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    DeleteWordPartRight.prototype._delete = function (wordSeparators, model, selection, whitespaceHeuristics, wordNavigationType) {\r\n        var r = WordPartOperations.deleteWordPartRight(wordSeparators, model, selection, whitespaceHeuristics);\r\n        if (r) {\r\n            return r;\r\n        }\r\n        var lineCount = model.getLineCount();\r\n        var maxColumn = model.getLineMaxColumn(lineCount);\r\n        return new Range(lineCount, maxColumn, lineCount, maxColumn);\r\n    };\r\n    return DeleteWordPartRight;\r\n}(DeleteWordCommand));\r\nexport { DeleteWordPartRight };\r\nvar WordPartLeftCommand = /** @class */ (function (_super) {\r\n    __extends(WordPartLeftCommand, _super);\r\n    function WordPartLeftCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    WordPartLeftCommand.prototype._move = function (wordSeparators, model, position, wordNavigationType) {\r\n        return WordPartOperations.moveWordPartLeft(wordSeparators, model, position);\r\n    };\r\n    return WordPartLeftCommand;\r\n}(MoveWordCommand));\r\nexport { WordPartLeftCommand };\r\nvar CursorWordPartLeft = /** @class */ (function (_super) {\r\n    __extends(CursorWordPartLeft, _super);\r\n    function CursorWordPartLeft() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'cursorWordPartLeft',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 0,\r\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 15 /* LeftArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return CursorWordPartLeft;\r\n}(WordPartLeftCommand));\r\nexport { CursorWordPartLeft };\r\n// Register previous id for compatibility purposes\r\nCommandsRegistry.registerCommandAlias('cursorWordPartStartLeft', 'cursorWordPartLeft');\r\nvar CursorWordPartLeftSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordPartLeftSelect, _super);\r\n    function CursorWordPartLeftSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'cursorWordPartLeftSelect',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 0,\r\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 1024 /* Shift */ | 15 /* LeftArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return CursorWordPartLeftSelect;\r\n}(WordPartLeftCommand));\r\nexport { CursorWordPartLeftSelect };\r\n// Register previous id for compatibility purposes\r\nCommandsRegistry.registerCommandAlias('cursorWordPartStartLeftSelect', 'cursorWordPartLeftSelect');\r\nvar WordPartRightCommand = /** @class */ (function (_super) {\r\n    __extends(WordPartRightCommand, _super);\r\n    function WordPartRightCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    WordPartRightCommand.prototype._move = function (wordSeparators, model, position, wordNavigationType) {\r\n        return WordPartOperations.moveWordPartRight(wordSeparators, model, position);\r\n    };\r\n    return WordPartRightCommand;\r\n}(MoveWordCommand));\r\nexport { WordPartRightCommand };\r\nvar CursorWordPartRight = /** @class */ (function (_super) {\r\n    __extends(CursorWordPartRight, _super);\r\n    function CursorWordPartRight() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'cursorWordPartRight',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 0,\r\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 17 /* RightArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return CursorWordPartRight;\r\n}(WordPartRightCommand));\r\nexport { CursorWordPartRight };\r\nvar CursorWordPartRightSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordPartRightSelect, _super);\r\n    function CursorWordPartRightSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'cursorWordPartRightSelect',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 0,\r\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 1024 /* Shift */ | 17 /* RightArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return CursorWordPartRightSelect;\r\n}(WordPartRightCommand));\r\nexport { CursorWordPartRightSelect };\r\nregisterEditorCommand(new DeleteWordPartLeft());\r\nregisterEditorCommand(new DeleteWordPartRight());\r\nregisterEditorCommand(new CursorWordPartLeft());\r\nregisterEditorCommand(new CursorWordPartLeftSelect());\r\nregisterEditorCommand(new CursorWordPartRight());\r\nregisterEditorCommand(new CursorWordPartRightSelect());\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\nimport * as nls from '../../../nls.js';\r\nimport * as arrays from '../../../base/common/arrays.js';\r\nimport { createCancelablePromise, first, timeout } from '../../../base/common/async.js';\r\nimport { CancellationToken } from '../../../base/common/cancellation.js';\r\nimport { onUnexpectedError, onUnexpectedExternalError } from '../../../base/common/errors.js';\r\nimport { Disposable, DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport { EditorAction, registerEditorAction, registerEditorContribution, registerModelAndPositionCommand } from '../../browser/editorExtensions.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { OverviewRulerLane } from '../../common/model.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nimport { DocumentHighlightKind, DocumentHighlightProviderRegistry } from '../../common/modes.js';\r\nimport { IContextKeyService, RawContextKey } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { activeContrastBorder, editorSelectionHighlight, editorSelectionHighlightBorder, overviewRulerSelectionHighlightForeground, registerColor } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { registerThemingParticipant, themeColorFromId } from '../../../platform/theme/common/themeService.js';\r\nvar editorWordHighlight = registerColor('editor.wordHighlightBackground', { dark: '#575757B8', light: '#57575740', hc: null }, nls.localize('wordHighlight', 'Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations.'), true);\r\nvar editorWordHighlightStrong = registerColor('editor.wordHighlightStrongBackground', { dark: '#004972B8', light: '#0e639c40', hc: null }, nls.localize('wordHighlightStrong', 'Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations.'), true);\r\nvar editorWordHighlightBorder = registerColor('editor.wordHighlightBorder', { light: null, dark: null, hc: activeContrastBorder }, nls.localize('wordHighlightBorder', 'Border color of a symbol during read-access, like reading a variable.'));\r\nvar editorWordHighlightStrongBorder = registerColor('editor.wordHighlightStrongBorder', { light: null, dark: null, hc: activeContrastBorder }, nls.localize('wordHighlightStrongBorder', 'Border color of a symbol during write-access, like writing to a variable.'));\r\nvar overviewRulerWordHighlightForeground = registerColor('editorOverviewRuler.wordHighlightForeground', { dark: '#A0A0A0CC', light: '#A0A0A0CC', hc: '#A0A0A0CC' }, nls.localize('overviewRulerWordHighlightForeground', 'Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations.'), true);\r\nvar overviewRulerWordHighlightStrongForeground = registerColor('editorOverviewRuler.wordHighlightStrongForeground', { dark: '#C0A0C0CC', light: '#C0A0C0CC', hc: '#C0A0C0CC' }, nls.localize('overviewRulerWordHighlightStrongForeground', 'Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations.'), true);\r\nvar ctxHasWordHighlights = new RawContextKey('hasWordHighlights', false);\r\nexport function getOccurrencesAtPosition(model, position, token) {\r\n    var orderedByScore = DocumentHighlightProviderRegistry.ordered(model);\r\n    // in order of score ask the occurrences provider\r\n    // until someone response with a good result\r\n    // (good = none empty array)\r\n    return first(orderedByScore.map(function (provider) { return function () {\r\n        return Promise.resolve(provider.provideDocumentHighlights(model, position, token))\r\n            .then(undefined, onUnexpectedExternalError);\r\n    }; }), arrays.isNonEmptyArray);\r\n}\r\nvar OccurenceAtPositionRequest = /** @class */ (function () {\r\n    function OccurenceAtPositionRequest(model, selection, wordSeparators) {\r\n        var _this = this;\r\n        this._wordRange = this._getCurrentWordRange(model, selection);\r\n        this.result = createCancelablePromise(function (token) { return _this._compute(model, selection, wordSeparators, token); });\r\n    }\r\n    OccurenceAtPositionRequest.prototype._getCurrentWordRange = function (model, selection) {\r\n        var word = model.getWordAtPosition(selection.getPosition());\r\n        if (word) {\r\n            return new Range(selection.startLineNumber, word.startColumn, selection.startLineNumber, word.endColumn);\r\n        }\r\n        return null;\r\n    };\r\n    OccurenceAtPositionRequest.prototype.isValid = function (model, selection, decorationIds) {\r\n        var lineNumber = selection.startLineNumber;\r\n        var startColumn = selection.startColumn;\r\n        var endColumn = selection.endColumn;\r\n        var currentWordRange = this._getCurrentWordRange(model, selection);\r\n        var requestIsValid = Boolean(this._wordRange && this._wordRange.equalsRange(currentWordRange));\r\n        // Even if we are on a different word, if that word is in the decorations ranges, the request is still valid\r\n        // (Same symbol)\r\n        for (var i = 0, len = decorationIds.length; !requestIsValid && i < len; i++) {\r\n            var range = model.getDecorationRange(decorationIds[i]);\r\n            if (range && range.startLineNumber === lineNumber) {\r\n                if (range.startColumn <= startColumn && range.endColumn >= endColumn) {\r\n                    requestIsValid = true;\r\n                }\r\n            }\r\n        }\r\n        return requestIsValid;\r\n    };\r\n    OccurenceAtPositionRequest.prototype.cancel = function () {\r\n        this.result.cancel();\r\n    };\r\n    return OccurenceAtPositionRequest;\r\n}());\r\nvar SemanticOccurenceAtPositionRequest = /** @class */ (function (_super) {\r\n    __extends(SemanticOccurenceAtPositionRequest, _super);\r\n    function SemanticOccurenceAtPositionRequest() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SemanticOccurenceAtPositionRequest.prototype._compute = function (model, selection, wordSeparators, token) {\r\n        return getOccurrencesAtPosition(model, selection.getPosition(), token).then(function (value) { return value || []; });\r\n    };\r\n    return SemanticOccurenceAtPositionRequest;\r\n}(OccurenceAtPositionRequest));\r\nvar TextualOccurenceAtPositionRequest = /** @class */ (function (_super) {\r\n    __extends(TextualOccurenceAtPositionRequest, _super);\r\n    function TextualOccurenceAtPositionRequest(model, selection, wordSeparators) {\r\n        var _this = _super.call(this, model, selection, wordSeparators) || this;\r\n        _this._selectionIsEmpty = selection.isEmpty();\r\n        return _this;\r\n    }\r\n    TextualOccurenceAtPositionRequest.prototype._compute = function (model, selection, wordSeparators, token) {\r\n        return timeout(250, token).then(function () {\r\n            if (!selection.isEmpty()) {\r\n                return [];\r\n            }\r\n            var word = model.getWordAtPosition(selection.getPosition());\r\n            if (!word) {\r\n                return [];\r\n            }\r\n            var matches = model.findMatches(word.word, true, false, true, wordSeparators, false);\r\n            return matches.map(function (m) {\r\n                return {\r\n                    range: m.range,\r\n                    kind: DocumentHighlightKind.Text\r\n                };\r\n            });\r\n        });\r\n    };\r\n    TextualOccurenceAtPositionRequest.prototype.isValid = function (model, selection, decorationIds) {\r\n        var currentSelectionIsEmpty = selection.isEmpty();\r\n        if (this._selectionIsEmpty !== currentSelectionIsEmpty) {\r\n            return false;\r\n        }\r\n        return _super.prototype.isValid.call(this, model, selection, decorationIds);\r\n    };\r\n    return TextualOccurenceAtPositionRequest;\r\n}(OccurenceAtPositionRequest));\r\nfunction computeOccurencesAtPosition(model, selection, wordSeparators) {\r\n    if (DocumentHighlightProviderRegistry.has(model)) {\r\n        return new SemanticOccurenceAtPositionRequest(model, selection, wordSeparators);\r\n    }\r\n    return new TextualOccurenceAtPositionRequest(model, selection, wordSeparators);\r\n}\r\nregisterModelAndPositionCommand('_executeDocumentHighlights', function (model, position) { return getOccurrencesAtPosition(model, position, CancellationToken.None); });\r\nvar WordHighlighter = /** @class */ (function () {\r\n    function WordHighlighter(editor, contextKeyService) {\r\n        var _this = this;\r\n        this.toUnhook = new DisposableStore();\r\n        this.workerRequestTokenId = 0;\r\n        this.workerRequestCompleted = false;\r\n        this.workerRequestValue = [];\r\n        this.lastCursorPositionChangeTime = 0;\r\n        this.renderDecorationsTimer = -1;\r\n        this.editor = editor;\r\n        this._hasWordHighlights = ctxHasWordHighlights.bindTo(contextKeyService);\r\n        this._ignorePositionChangeEvent = false;\r\n        this.occurrencesHighlight = this.editor.getOption(61 /* occurrencesHighlight */);\r\n        this.model = this.editor.getModel();\r\n        this.toUnhook.add(editor.onDidChangeCursorPosition(function (e) {\r\n            if (_this._ignorePositionChangeEvent) {\r\n                // We are changing the position => ignore this event\r\n                return;\r\n            }\r\n            if (!_this.occurrencesHighlight) {\r\n                // Early exit if nothing needs to be done!\r\n                // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\r\n                return;\r\n            }\r\n            _this._onPositionChanged(e);\r\n        }));\r\n        this.toUnhook.add(editor.onDidChangeModelContent(function (e) {\r\n            _this._stopAll();\r\n        }));\r\n        this.toUnhook.add(editor.onDidChangeConfiguration(function (e) {\r\n            var newValue = _this.editor.getOption(61 /* occurrencesHighlight */);\r\n            if (_this.occurrencesHighlight !== newValue) {\r\n                _this.occurrencesHighlight = newValue;\r\n                _this._stopAll();\r\n            }\r\n        }));\r\n        this._decorationIds = [];\r\n        this.workerRequestTokenId = 0;\r\n        this.workerRequest = null;\r\n        this.workerRequestCompleted = false;\r\n        this.lastCursorPositionChangeTime = 0;\r\n        this.renderDecorationsTimer = -1;\r\n    }\r\n    WordHighlighter.prototype.hasDecorations = function () {\r\n        return (this._decorationIds.length > 0);\r\n    };\r\n    WordHighlighter.prototype.restore = function () {\r\n        if (!this.occurrencesHighlight) {\r\n            return;\r\n        }\r\n        this._run();\r\n    };\r\n    WordHighlighter.prototype._getSortedHighlights = function () {\r\n        var _this = this;\r\n        return arrays.coalesce(this._decorationIds\r\n            .map(function (id) { return _this.model.getDecorationRange(id); })\r\n            .sort(Range.compareRangesUsingStarts));\r\n    };\r\n    WordHighlighter.prototype.moveNext = function () {\r\n        var _this = this;\r\n        var highlights = this._getSortedHighlights();\r\n        var index = arrays.firstIndex(highlights, function (range) { return range.containsPosition(_this.editor.getPosition()); });\r\n        var newIndex = ((index + 1) % highlights.length);\r\n        var dest = highlights[newIndex];\r\n        try {\r\n            this._ignorePositionChangeEvent = true;\r\n            this.editor.setPosition(dest.getStartPosition());\r\n            this.editor.revealRangeInCenterIfOutsideViewport(dest);\r\n        }\r\n        finally {\r\n            this._ignorePositionChangeEvent = false;\r\n        }\r\n    };\r\n    WordHighlighter.prototype.moveBack = function () {\r\n        var _this = this;\r\n        var highlights = this._getSortedHighlights();\r\n        var index = arrays.firstIndex(highlights, function (range) { return range.containsPosition(_this.editor.getPosition()); });\r\n        var newIndex = ((index - 1 + highlights.length) % highlights.length);\r\n        var dest = highlights[newIndex];\r\n        try {\r\n            this._ignorePositionChangeEvent = true;\r\n            this.editor.setPosition(dest.getStartPosition());\r\n            this.editor.revealRangeInCenterIfOutsideViewport(dest);\r\n        }\r\n        finally {\r\n            this._ignorePositionChangeEvent = false;\r\n        }\r\n    };\r\n    WordHighlighter.prototype._removeDecorations = function () {\r\n        if (this._decorationIds.length > 0) {\r\n            // remove decorations\r\n            this._decorationIds = this.editor.deltaDecorations(this._decorationIds, []);\r\n            this._hasWordHighlights.set(false);\r\n        }\r\n    };\r\n    WordHighlighter.prototype._stopAll = function () {\r\n        // Remove any existing decorations\r\n        this._removeDecorations();\r\n        // Cancel any renderDecorationsTimer\r\n        if (this.renderDecorationsTimer !== -1) {\r\n            clearTimeout(this.renderDecorationsTimer);\r\n            this.renderDecorationsTimer = -1;\r\n        }\r\n        // Cancel any worker request\r\n        if (this.workerRequest !== null) {\r\n            this.workerRequest.cancel();\r\n            this.workerRequest = null;\r\n        }\r\n        // Invalidate any worker request callback\r\n        if (!this.workerRequestCompleted) {\r\n            this.workerRequestTokenId++;\r\n            this.workerRequestCompleted = true;\r\n        }\r\n    };\r\n    WordHighlighter.prototype._onPositionChanged = function (e) {\r\n        // disabled\r\n        if (!this.occurrencesHighlight) {\r\n            this._stopAll();\r\n            return;\r\n        }\r\n        // ignore typing & other\r\n        if (e.reason !== 3 /* Explicit */) {\r\n            this._stopAll();\r\n            return;\r\n        }\r\n        this._run();\r\n    };\r\n    WordHighlighter.prototype._run = function () {\r\n        var _this = this;\r\n        var editorSelection = this.editor.getSelection();\r\n        // ignore multiline selection\r\n        if (editorSelection.startLineNumber !== editorSelection.endLineNumber) {\r\n            this._stopAll();\r\n            return;\r\n        }\r\n        var lineNumber = editorSelection.startLineNumber;\r\n        var startColumn = editorSelection.startColumn;\r\n        var endColumn = editorSelection.endColumn;\r\n        var word = this.model.getWordAtPosition({\r\n            lineNumber: lineNumber,\r\n            column: startColumn\r\n        });\r\n        // The selection must be inside a word or surround one word at most\r\n        if (!word || word.startColumn > startColumn || word.endColumn < endColumn) {\r\n            this._stopAll();\r\n            return;\r\n        }\r\n        // All the effort below is trying to achieve this:\r\n        // - when cursor is moved to a word, trigger immediately a findOccurrences request\r\n        // - 250ms later after the last cursor move event, render the occurrences\r\n        // - no flickering!\r\n        var workerRequestIsValid = (this.workerRequest && this.workerRequest.isValid(this.model, editorSelection, this._decorationIds));\r\n        // There are 4 cases:\r\n        // a) old workerRequest is valid & completed, renderDecorationsTimer fired\r\n        // b) old workerRequest is valid & completed, renderDecorationsTimer not fired\r\n        // c) old workerRequest is valid, but not completed\r\n        // d) old workerRequest is not valid\r\n        // For a) no action is needed\r\n        // For c), member 'lastCursorPositionChangeTime' will be used when installing the timer so no action is needed\r\n        this.lastCursorPositionChangeTime = (new Date()).getTime();\r\n        if (workerRequestIsValid) {\r\n            if (this.workerRequestCompleted && this.renderDecorationsTimer !== -1) {\r\n                // case b)\r\n                // Delay the firing of renderDecorationsTimer by an extra 250 ms\r\n                clearTimeout(this.renderDecorationsTimer);\r\n                this.renderDecorationsTimer = -1;\r\n                this._beginRenderDecorations();\r\n            }\r\n        }\r\n        else {\r\n            // case d)\r\n            // Stop all previous actions and start fresh\r\n            this._stopAll();\r\n            var myRequestId_1 = ++this.workerRequestTokenId;\r\n            this.workerRequestCompleted = false;\r\n            this.workerRequest = computeOccurencesAtPosition(this.model, this.editor.getSelection(), this.editor.getOption(96 /* wordSeparators */));\r\n            this.workerRequest.result.then(function (data) {\r\n                if (myRequestId_1 === _this.workerRequestTokenId) {\r\n                    _this.workerRequestCompleted = true;\r\n                    _this.workerRequestValue = data || [];\r\n                    _this._beginRenderDecorations();\r\n                }\r\n            }, onUnexpectedError);\r\n        }\r\n    };\r\n    WordHighlighter.prototype._beginRenderDecorations = function () {\r\n        var _this = this;\r\n        var currentTime = (new Date()).getTime();\r\n        var minimumRenderTime = this.lastCursorPositionChangeTime + 250;\r\n        if (currentTime >= minimumRenderTime) {\r\n            // Synchronous\r\n            this.renderDecorationsTimer = -1;\r\n            this.renderDecorations();\r\n        }\r\n        else {\r\n            // Asynchronous\r\n            this.renderDecorationsTimer = setTimeout(function () {\r\n                _this.renderDecorations();\r\n            }, (minimumRenderTime - currentTime));\r\n        }\r\n    };\r\n    WordHighlighter.prototype.renderDecorations = function () {\r\n        this.renderDecorationsTimer = -1;\r\n        var decorations = [];\r\n        for (var i = 0, len = this.workerRequestValue.length; i < len; i++) {\r\n            var info = this.workerRequestValue[i];\r\n            decorations.push({\r\n                range: info.range,\r\n                options: WordHighlighter._getDecorationOptions(info.kind)\r\n            });\r\n        }\r\n        this._decorationIds = this.editor.deltaDecorations(this._decorationIds, decorations);\r\n        this._hasWordHighlights.set(this.hasDecorations());\r\n    };\r\n    WordHighlighter._getDecorationOptions = function (kind) {\r\n        if (kind === DocumentHighlightKind.Write) {\r\n            return this._WRITE_OPTIONS;\r\n        }\r\n        else if (kind === DocumentHighlightKind.Text) {\r\n            return this._TEXT_OPTIONS;\r\n        }\r\n        else {\r\n            return this._REGULAR_OPTIONS;\r\n        }\r\n    };\r\n    WordHighlighter.prototype.dispose = function () {\r\n        this._stopAll();\r\n        this.toUnhook.dispose();\r\n    };\r\n    WordHighlighter._WRITE_OPTIONS = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'wordHighlightStrong',\r\n        overviewRuler: {\r\n            color: themeColorFromId(overviewRulerWordHighlightStrongForeground),\r\n            position: OverviewRulerLane.Center\r\n        }\r\n    });\r\n    WordHighlighter._TEXT_OPTIONS = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'selectionHighlight',\r\n        overviewRuler: {\r\n            color: themeColorFromId(overviewRulerSelectionHighlightForeground),\r\n            position: OverviewRulerLane.Center\r\n        }\r\n    });\r\n    WordHighlighter._REGULAR_OPTIONS = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'wordHighlight',\r\n        overviewRuler: {\r\n            color: themeColorFromId(overviewRulerWordHighlightForeground),\r\n            position: OverviewRulerLane.Center\r\n        }\r\n    });\r\n    return WordHighlighter;\r\n}());\r\nvar WordHighlighterContribution = /** @class */ (function (_super) {\r\n    __extends(WordHighlighterContribution, _super);\r\n    function WordHighlighterContribution(editor, contextKeyService) {\r\n        var _this = _super.call(this) || this;\r\n        _this.wordHighligher = null;\r\n        var createWordHighlighterIfPossible = function () {\r\n            if (editor.hasModel()) {\r\n                _this.wordHighligher = new WordHighlighter(editor, contextKeyService);\r\n            }\r\n        };\r\n        _this._register(editor.onDidChangeModel(function (e) {\r\n            if (_this.wordHighligher) {\r\n                _this.wordHighligher.dispose();\r\n                _this.wordHighligher = null;\r\n            }\r\n            createWordHighlighterIfPossible();\r\n        }));\r\n        createWordHighlighterIfPossible();\r\n        return _this;\r\n    }\r\n    WordHighlighterContribution.get = function (editor) {\r\n        return editor.getContribution(WordHighlighterContribution.ID);\r\n    };\r\n    WordHighlighterContribution.prototype.saveViewState = function () {\r\n        if (this.wordHighligher && this.wordHighligher.hasDecorations()) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    WordHighlighterContribution.prototype.moveNext = function () {\r\n        if (this.wordHighligher) {\r\n            this.wordHighligher.moveNext();\r\n        }\r\n    };\r\n    WordHighlighterContribution.prototype.moveBack = function () {\r\n        if (this.wordHighligher) {\r\n            this.wordHighligher.moveBack();\r\n        }\r\n    };\r\n    WordHighlighterContribution.prototype.restoreViewState = function (state) {\r\n        if (this.wordHighligher && state) {\r\n            this.wordHighligher.restore();\r\n        }\r\n    };\r\n    WordHighlighterContribution.prototype.dispose = function () {\r\n        if (this.wordHighligher) {\r\n            this.wordHighligher.dispose();\r\n            this.wordHighligher = null;\r\n        }\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    WordHighlighterContribution.ID = 'editor.contrib.wordHighlighter';\r\n    WordHighlighterContribution = __decorate([\r\n        __param(1, IContextKeyService)\r\n    ], WordHighlighterContribution);\r\n    return WordHighlighterContribution;\r\n}(Disposable));\r\nvar WordHighlightNavigationAction = /** @class */ (function (_super) {\r\n    __extends(WordHighlightNavigationAction, _super);\r\n    function WordHighlightNavigationAction(next, opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this._isNext = next;\r\n        return _this;\r\n    }\r\n    WordHighlightNavigationAction.prototype.run = function (accessor, editor) {\r\n        var controller = WordHighlighterContribution.get(editor);\r\n        if (!controller) {\r\n            return;\r\n        }\r\n        if (this._isNext) {\r\n            controller.moveNext();\r\n        }\r\n        else {\r\n            controller.moveBack();\r\n        }\r\n    };\r\n    return WordHighlightNavigationAction;\r\n}(EditorAction));\r\nvar NextWordHighlightAction = /** @class */ (function (_super) {\r\n    __extends(NextWordHighlightAction, _super);\r\n    function NextWordHighlightAction() {\r\n        return _super.call(this, true, {\r\n            id: 'editor.action.wordHighlight.next',\r\n            label: nls.localize('wordHighlight.next.label', \"Go to Next Symbol Highlight\"),\r\n            alias: 'Go to Next Symbol Highlight',\r\n            precondition: ctxHasWordHighlights,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 65 /* F7 */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return NextWordHighlightAction;\r\n}(WordHighlightNavigationAction));\r\nvar PrevWordHighlightAction = /** @class */ (function (_super) {\r\n    __extends(PrevWordHighlightAction, _super);\r\n    function PrevWordHighlightAction() {\r\n        return _super.call(this, false, {\r\n            id: 'editor.action.wordHighlight.prev',\r\n            label: nls.localize('wordHighlight.previous.label', \"Go to Previous Symbol Highlight\"),\r\n            alias: 'Go to Previous Symbol Highlight',\r\n            precondition: ctxHasWordHighlights,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 1024 /* Shift */ | 65 /* F7 */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return PrevWordHighlightAction;\r\n}(WordHighlightNavigationAction));\r\nvar TriggerWordHighlightAction = /** @class */ (function (_super) {\r\n    __extends(TriggerWordHighlightAction, _super);\r\n    function TriggerWordHighlightAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.wordHighlight.trigger',\r\n            label: nls.localize('wordHighlight.trigger.label', \"Trigger Symbol Highlight\"),\r\n            alias: 'Trigger Symbol Highlight',\r\n            precondition: ctxHasWordHighlights.toNegated(),\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 0,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    TriggerWordHighlightAction.prototype.run = function (accessor, editor, args) {\r\n        var controller = WordHighlighterContribution.get(editor);\r\n        if (!controller) {\r\n            return;\r\n        }\r\n        controller.restoreViewState(true);\r\n    };\r\n    return TriggerWordHighlightAction;\r\n}(EditorAction));\r\nregisterEditorContribution(WordHighlighterContribution.ID, WordHighlighterContribution);\r\nregisterEditorAction(NextWordHighlightAction);\r\nregisterEditorAction(PrevWordHighlightAction);\r\nregisterEditorAction(TriggerWordHighlightAction);\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var selectionHighlight = theme.getColor(editorSelectionHighlight);\r\n    if (selectionHighlight) {\r\n        collector.addRule(\".monaco-editor .focused .selectionHighlight { background-color: \" + selectionHighlight + \"; }\");\r\n        collector.addRule(\".monaco-editor .selectionHighlight { background-color: \" + selectionHighlight.transparent(0.5) + \"; }\");\r\n    }\r\n    var wordHighlight = theme.getColor(editorWordHighlight);\r\n    if (wordHighlight) {\r\n        collector.addRule(\".monaco-editor .wordHighlight { background-color: \" + wordHighlight + \"; }\");\r\n    }\r\n    var wordHighlightStrong = theme.getColor(editorWordHighlightStrong);\r\n    if (wordHighlightStrong) {\r\n        collector.addRule(\".monaco-editor .wordHighlightStrong { background-color: \" + wordHighlightStrong + \"; }\");\r\n    }\r\n    var selectionHighlightBorder = theme.getColor(editorSelectionHighlightBorder);\r\n    if (selectionHighlightBorder) {\r\n        collector.addRule(\".monaco-editor .selectionHighlight { border: 1px \" + (theme.type === 'hc' ? 'dotted' : 'solid') + \" \" + selectionHighlightBorder + \"; box-sizing: border-box; }\");\r\n    }\r\n    var wordHighlightBorder = theme.getColor(editorWordHighlightBorder);\r\n    if (wordHighlightBorder) {\r\n        collector.addRule(\".monaco-editor .wordHighlight { border: 1px \" + (theme.type === 'hc' ? 'dashed' : 'solid') + \" \" + wordHighlightBorder + \"; box-sizing: border-box; }\");\r\n    }\r\n    var wordHighlightStrongBorder = theme.getColor(editorWordHighlightStrongBorder);\r\n    if (wordHighlightStrongBorder) {\r\n        collector.addRule(\".monaco-editor .wordHighlightStrong { border: 1px \" + (theme.type === 'hc' ? 'dashed' : 'solid') + \" \" + wordHighlightStrongBorder + \"; box-sizing: border-box; }\");\r\n    }\r\n});\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as nls from '../../../nls.js';\r\nimport { EditorAction, registerEditorAction } from '../../browser/editorExtensions.js';\r\nimport { StopWatch } from '../../../base/common/stopwatch.js';\r\nvar ForceRetokenizeAction = /** @class */ (function (_super) {\r\n    __extends(ForceRetokenizeAction, _super);\r\n    function ForceRetokenizeAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.forceRetokenize',\r\n            label: nls.localize('forceRetokenize', \"Developer: Force Retokenize\"),\r\n            alias: 'Developer: Force Retokenize',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    ForceRetokenizeAction.prototype.run = function (accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var model = editor.getModel();\r\n        model.resetTokenization();\r\n        var sw = new StopWatch(true);\r\n        model.forceTokenization(model.getLineCount());\r\n        sw.stop();\r\n        console.log(\"tokenization took \" + sw.elapsed());\r\n    };\r\n    return ForceRetokenizeAction;\r\n}(EditorAction));\r\nregisterEditorAction(ForceRetokenizeAction);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as nls from '../../../nls.js';\r\nimport { alert } from '../../../base/browser/ui/aria/aria.js';\r\nimport { EditorAction, registerEditorAction } from '../../browser/editorExtensions.js';\r\nimport { TabFocus } from '../../common/config/commonEditorConfig.js';\r\nvar ToggleTabFocusModeAction = /** @class */ (function (_super) {\r\n    __extends(ToggleTabFocusModeAction, _super);\r\n    function ToggleTabFocusModeAction() {\r\n        return _super.call(this, {\r\n            id: ToggleTabFocusModeAction.ID,\r\n            label: nls.localize({ key: 'toggle.tabMovesFocus', comment: ['Turn on/off use of tab key for moving focus around VS Code'] }, \"Toggle Tab Key Moves Focus\"),\r\n            alias: 'Toggle Tab Key Moves Focus',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: null,\r\n                primary: 2048 /* CtrlCmd */ | 43 /* KEY_M */,\r\n                mac: { primary: 256 /* WinCtrl */ | 1024 /* Shift */ | 43 /* KEY_M */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    ToggleTabFocusModeAction.prototype.run = function (accessor, editor) {\r\n        var oldValue = TabFocus.getTabFocusMode();\r\n        var newValue = !oldValue;\r\n        TabFocus.setTabFocusMode(newValue);\r\n        if (newValue) {\r\n            alert(nls.localize('toggle.tabMovesFocus.on', \"Pressing Tab will now move focus to the next focusable element\"));\r\n        }\r\n        else {\r\n            alert(nls.localize('toggle.tabMovesFocus.off', \"Pressing Tab will now insert the tab character\"));\r\n        }\r\n    };\r\n    ToggleTabFocusModeAction.ID = 'editor.action.toggleTabFocusMode';\r\n    return ToggleTabFocusModeAction;\r\n}(EditorAction));\r\nexport { ToggleTabFocusModeAction };\r\nregisterEditorAction(ToggleTabFocusModeAction);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { EditorCommand, registerEditorCommand } from '../../browser/editorExtensions.js';\r\nimport { ReplaceCommand } from '../../common/commands/replaceCommand.js';\r\nimport { CursorState } from '../../common/controller/cursorCommon.js';\r\nimport { WordOperations } from '../../common/controller/cursorWordOperations.js';\r\nimport { getMapForWordSeparators } from '../../common/controller/wordCharacterClassifier.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { CONTEXT_ACCESSIBILITY_MODE_ENABLED } from '../../../platform/accessibility/common/accessibility.js';\r\nimport { ContextKeyExpr } from '../../../platform/contextkey/common/contextkey.js';\r\nimport { EditorOptions } from '../../common/config/editorOptions.js';\r\nvar MoveWordCommand = /** @class */ (function (_super) {\r\n    __extends(MoveWordCommand, _super);\r\n    function MoveWordCommand(opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this._inSelectionMode = opts.inSelectionMode;\r\n        _this._wordNavigationType = opts.wordNavigationType;\r\n        return _this;\r\n    }\r\n    MoveWordCommand.prototype.runEditorCommand = function (accessor, editor, args) {\r\n        var _this = this;\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var wordSeparators = getMapForWordSeparators(editor.getOption(96 /* wordSeparators */));\r\n        var model = editor.getModel();\r\n        var selections = editor.getSelections();\r\n        var result = selections.map(function (sel) {\r\n            var inPosition = new Position(sel.positionLineNumber, sel.positionColumn);\r\n            var outPosition = _this._move(wordSeparators, model, inPosition, _this._wordNavigationType);\r\n            return _this._moveTo(sel, outPosition, _this._inSelectionMode);\r\n        });\r\n        editor._getCursors().setStates('moveWordCommand', 0 /* NotSet */, result.map(function (r) { return CursorState.fromModelSelection(r); }));\r\n        if (result.length === 1) {\r\n            var pos = new Position(result[0].positionLineNumber, result[0].positionColumn);\r\n            editor.revealPosition(pos, 0 /* Smooth */);\r\n        }\r\n    };\r\n    MoveWordCommand.prototype._moveTo = function (from, to, inSelectionMode) {\r\n        if (inSelectionMode) {\r\n            // move just position\r\n            return new Selection(from.selectionStartLineNumber, from.selectionStartColumn, to.lineNumber, to.column);\r\n        }\r\n        else {\r\n            // move everything\r\n            return new Selection(to.lineNumber, to.column, to.lineNumber, to.column);\r\n        }\r\n    };\r\n    return MoveWordCommand;\r\n}(EditorCommand));\r\nexport { MoveWordCommand };\r\nvar WordLeftCommand = /** @class */ (function (_super) {\r\n    __extends(WordLeftCommand, _super);\r\n    function WordLeftCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    WordLeftCommand.prototype._move = function (wordSeparators, model, position, wordNavigationType) {\r\n        return WordOperations.moveWordLeft(wordSeparators, model, position, wordNavigationType);\r\n    };\r\n    return WordLeftCommand;\r\n}(MoveWordCommand));\r\nexport { WordLeftCommand };\r\nvar WordRightCommand = /** @class */ (function (_super) {\r\n    __extends(WordRightCommand, _super);\r\n    function WordRightCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    WordRightCommand.prototype._move = function (wordSeparators, model, position, wordNavigationType) {\r\n        return WordOperations.moveWordRight(wordSeparators, model, position, wordNavigationType);\r\n    };\r\n    return WordRightCommand;\r\n}(MoveWordCommand));\r\nexport { WordRightCommand };\r\nvar CursorWordStartLeft = /** @class */ (function (_super) {\r\n    __extends(CursorWordStartLeft, _super);\r\n    function CursorWordStartLeft() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'cursorWordStartLeft',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 2048 /* CtrlCmd */ | 15 /* LeftArrow */,\r\n                mac: { primary: 512 /* Alt */ | 15 /* LeftArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return CursorWordStartLeft;\r\n}(WordLeftCommand));\r\nexport { CursorWordStartLeft };\r\nvar CursorWordEndLeft = /** @class */ (function (_super) {\r\n    __extends(CursorWordEndLeft, _super);\r\n    function CursorWordEndLeft() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'cursorWordEndLeft',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    return CursorWordEndLeft;\r\n}(WordLeftCommand));\r\nexport { CursorWordEndLeft };\r\nvar CursorWordLeft = /** @class */ (function (_super) {\r\n    __extends(CursorWordLeft, _super);\r\n    function CursorWordLeft() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 1 /* WordStartFast */,\r\n            id: 'cursorWordLeft',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    return CursorWordLeft;\r\n}(WordLeftCommand));\r\nexport { CursorWordLeft };\r\nvar CursorWordStartLeftSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordStartLeftSelect, _super);\r\n    function CursorWordStartLeftSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'cursorWordStartLeftSelect',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 15 /* LeftArrow */,\r\n                mac: { primary: 512 /* Alt */ | 1024 /* Shift */ | 15 /* LeftArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return CursorWordStartLeftSelect;\r\n}(WordLeftCommand));\r\nexport { CursorWordStartLeftSelect };\r\nvar CursorWordEndLeftSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordEndLeftSelect, _super);\r\n    function CursorWordEndLeftSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'cursorWordEndLeftSelect',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    return CursorWordEndLeftSelect;\r\n}(WordLeftCommand));\r\nexport { CursorWordEndLeftSelect };\r\nvar CursorWordLeftSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordLeftSelect, _super);\r\n    function CursorWordLeftSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 1 /* WordStartFast */,\r\n            id: 'cursorWordLeftSelect',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    return CursorWordLeftSelect;\r\n}(WordLeftCommand));\r\nexport { CursorWordLeftSelect };\r\n// Accessibility navigation commands should only be enabled on windows since they are tuned to what NVDA expects\r\nvar CursorWordAccessibilityLeft = /** @class */ (function (_super) {\r\n    __extends(CursorWordAccessibilityLeft, _super);\r\n    function CursorWordAccessibilityLeft() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 3 /* WordAccessibility */,\r\n            id: 'cursorWordAccessibilityLeft',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, CONTEXT_ACCESSIBILITY_MODE_ENABLED),\r\n                win: { primary: 2048 /* CtrlCmd */ | 15 /* LeftArrow */ },\r\n                weight: 100 /* EditorContrib */ + 1\r\n            }\r\n        }) || this;\r\n    }\r\n    CursorWordAccessibilityLeft.prototype._move = function (_, model, position, wordNavigationType) {\r\n        return _super.prototype._move.call(this, getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);\r\n    };\r\n    return CursorWordAccessibilityLeft;\r\n}(WordLeftCommand));\r\nexport { CursorWordAccessibilityLeft };\r\nvar CursorWordAccessibilityLeftSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordAccessibilityLeftSelect, _super);\r\n    function CursorWordAccessibilityLeftSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 3 /* WordAccessibility */,\r\n            id: 'cursorWordAccessibilityLeftSelect',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, CONTEXT_ACCESSIBILITY_MODE_ENABLED),\r\n                win: { primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 15 /* LeftArrow */ },\r\n                weight: 100 /* EditorContrib */ + 1\r\n            }\r\n        }) || this;\r\n    }\r\n    CursorWordAccessibilityLeftSelect.prototype._move = function (_, model, position, wordNavigationType) {\r\n        return _super.prototype._move.call(this, getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);\r\n    };\r\n    return CursorWordAccessibilityLeftSelect;\r\n}(WordLeftCommand));\r\nexport { CursorWordAccessibilityLeftSelect };\r\nvar CursorWordStartRight = /** @class */ (function (_super) {\r\n    __extends(CursorWordStartRight, _super);\r\n    function CursorWordStartRight() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'cursorWordStartRight',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    return CursorWordStartRight;\r\n}(WordRightCommand));\r\nexport { CursorWordStartRight };\r\nvar CursorWordEndRight = /** @class */ (function (_super) {\r\n    __extends(CursorWordEndRight, _super);\r\n    function CursorWordEndRight() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'cursorWordEndRight',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 2048 /* CtrlCmd */ | 17 /* RightArrow */,\r\n                mac: { primary: 512 /* Alt */ | 17 /* RightArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return CursorWordEndRight;\r\n}(WordRightCommand));\r\nexport { CursorWordEndRight };\r\nvar CursorWordRight = /** @class */ (function (_super) {\r\n    __extends(CursorWordRight, _super);\r\n    function CursorWordRight() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'cursorWordRight',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    return CursorWordRight;\r\n}(WordRightCommand));\r\nexport { CursorWordRight };\r\nvar CursorWordStartRightSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordStartRightSelect, _super);\r\n    function CursorWordStartRightSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'cursorWordStartRightSelect',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    return CursorWordStartRightSelect;\r\n}(WordRightCommand));\r\nexport { CursorWordStartRightSelect };\r\nvar CursorWordEndRightSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordEndRightSelect, _super);\r\n    function CursorWordEndRightSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'cursorWordEndRightSelect',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 17 /* RightArrow */,\r\n                mac: { primary: 512 /* Alt */ | 1024 /* Shift */ | 17 /* RightArrow */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return CursorWordEndRightSelect;\r\n}(WordRightCommand));\r\nexport { CursorWordEndRightSelect };\r\nvar CursorWordRightSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordRightSelect, _super);\r\n    function CursorWordRightSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'cursorWordRightSelect',\r\n            precondition: undefined\r\n        }) || this;\r\n    }\r\n    return CursorWordRightSelect;\r\n}(WordRightCommand));\r\nexport { CursorWordRightSelect };\r\nvar CursorWordAccessibilityRight = /** @class */ (function (_super) {\r\n    __extends(CursorWordAccessibilityRight, _super);\r\n    function CursorWordAccessibilityRight() {\r\n        return _super.call(this, {\r\n            inSelectionMode: false,\r\n            wordNavigationType: 3 /* WordAccessibility */,\r\n            id: 'cursorWordAccessibilityRight',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, CONTEXT_ACCESSIBILITY_MODE_ENABLED),\r\n                win: { primary: 2048 /* CtrlCmd */ | 17 /* RightArrow */ },\r\n                weight: 100 /* EditorContrib */ + 1\r\n            }\r\n        }) || this;\r\n    }\r\n    CursorWordAccessibilityRight.prototype._move = function (_, model, position, wordNavigationType) {\r\n        return _super.prototype._move.call(this, getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);\r\n    };\r\n    return CursorWordAccessibilityRight;\r\n}(WordRightCommand));\r\nexport { CursorWordAccessibilityRight };\r\nvar CursorWordAccessibilityRightSelect = /** @class */ (function (_super) {\r\n    __extends(CursorWordAccessibilityRightSelect, _super);\r\n    function CursorWordAccessibilityRightSelect() {\r\n        return _super.call(this, {\r\n            inSelectionMode: true,\r\n            wordNavigationType: 3 /* WordAccessibility */,\r\n            id: 'cursorWordAccessibilityRightSelect',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, CONTEXT_ACCESSIBILITY_MODE_ENABLED),\r\n                win: { primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 17 /* RightArrow */ },\r\n                weight: 100 /* EditorContrib */ + 1\r\n            }\r\n        }) || this;\r\n    }\r\n    CursorWordAccessibilityRightSelect.prototype._move = function (_, model, position, wordNavigationType) {\r\n        return _super.prototype._move.call(this, getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);\r\n    };\r\n    return CursorWordAccessibilityRightSelect;\r\n}(WordRightCommand));\r\nexport { CursorWordAccessibilityRightSelect };\r\nvar DeleteWordCommand = /** @class */ (function (_super) {\r\n    __extends(DeleteWordCommand, _super);\r\n    function DeleteWordCommand(opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this._whitespaceHeuristics = opts.whitespaceHeuristics;\r\n        _this._wordNavigationType = opts.wordNavigationType;\r\n        return _this;\r\n    }\r\n    DeleteWordCommand.prototype.runEditorCommand = function (accessor, editor, args) {\r\n        var _this = this;\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var wordSeparators = getMapForWordSeparators(editor.getOption(96 /* wordSeparators */));\r\n        var model = editor.getModel();\r\n        var selections = editor.getSelections();\r\n        var commands = selections.map(function (sel) {\r\n            var deleteRange = _this._delete(wordSeparators, model, sel, _this._whitespaceHeuristics, _this._wordNavigationType);\r\n            return new ReplaceCommand(deleteRange, '');\r\n        });\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, commands);\r\n        editor.pushUndoStop();\r\n    };\r\n    return DeleteWordCommand;\r\n}(EditorCommand));\r\nexport { DeleteWordCommand };\r\nvar DeleteWordLeftCommand = /** @class */ (function (_super) {\r\n    __extends(DeleteWordLeftCommand, _super);\r\n    function DeleteWordLeftCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DeleteWordLeftCommand.prototype._delete = function (wordSeparators, model, selection, whitespaceHeuristics, wordNavigationType) {\r\n        var r = WordOperations.deleteWordLeft(wordSeparators, model, selection, whitespaceHeuristics, wordNavigationType);\r\n        if (r) {\r\n            return r;\r\n        }\r\n        return new Range(1, 1, 1, 1);\r\n    };\r\n    return DeleteWordLeftCommand;\r\n}(DeleteWordCommand));\r\nexport { DeleteWordLeftCommand };\r\nvar DeleteWordRightCommand = /** @class */ (function (_super) {\r\n    __extends(DeleteWordRightCommand, _super);\r\n    function DeleteWordRightCommand() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DeleteWordRightCommand.prototype._delete = function (wordSeparators, model, selection, whitespaceHeuristics, wordNavigationType) {\r\n        var r = WordOperations.deleteWordRight(wordSeparators, model, selection, whitespaceHeuristics, wordNavigationType);\r\n        if (r) {\r\n            return r;\r\n        }\r\n        var lineCount = model.getLineCount();\r\n        var maxColumn = model.getLineMaxColumn(lineCount);\r\n        return new Range(lineCount, maxColumn, lineCount, maxColumn);\r\n    };\r\n    return DeleteWordRightCommand;\r\n}(DeleteWordCommand));\r\nexport { DeleteWordRightCommand };\r\nvar DeleteWordStartLeft = /** @class */ (function (_super) {\r\n    __extends(DeleteWordStartLeft, _super);\r\n    function DeleteWordStartLeft() {\r\n        return _super.call(this, {\r\n            whitespaceHeuristics: false,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'deleteWordStartLeft',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    return DeleteWordStartLeft;\r\n}(DeleteWordLeftCommand));\r\nexport { DeleteWordStartLeft };\r\nvar DeleteWordEndLeft = /** @class */ (function (_super) {\r\n    __extends(DeleteWordEndLeft, _super);\r\n    function DeleteWordEndLeft() {\r\n        return _super.call(this, {\r\n            whitespaceHeuristics: false,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'deleteWordEndLeft',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    return DeleteWordEndLeft;\r\n}(DeleteWordLeftCommand));\r\nexport { DeleteWordEndLeft };\r\nvar DeleteWordLeft = /** @class */ (function (_super) {\r\n    __extends(DeleteWordLeft, _super);\r\n    function DeleteWordLeft() {\r\n        return _super.call(this, {\r\n            whitespaceHeuristics: true,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'deleteWordLeft',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1 /* Backspace */,\r\n                mac: { primary: 512 /* Alt */ | 1 /* Backspace */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return DeleteWordLeft;\r\n}(DeleteWordLeftCommand));\r\nexport { DeleteWordLeft };\r\nvar DeleteWordStartRight = /** @class */ (function (_super) {\r\n    __extends(DeleteWordStartRight, _super);\r\n    function DeleteWordStartRight() {\r\n        return _super.call(this, {\r\n            whitespaceHeuristics: false,\r\n            wordNavigationType: 0 /* WordStart */,\r\n            id: 'deleteWordStartRight',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    return DeleteWordStartRight;\r\n}(DeleteWordRightCommand));\r\nexport { DeleteWordStartRight };\r\nvar DeleteWordEndRight = /** @class */ (function (_super) {\r\n    __extends(DeleteWordEndRight, _super);\r\n    function DeleteWordEndRight() {\r\n        return _super.call(this, {\r\n            whitespaceHeuristics: false,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'deleteWordEndRight',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    return DeleteWordEndRight;\r\n}(DeleteWordRightCommand));\r\nexport { DeleteWordEndRight };\r\nvar DeleteWordRight = /** @class */ (function (_super) {\r\n    __extends(DeleteWordRight, _super);\r\n    function DeleteWordRight() {\r\n        return _super.call(this, {\r\n            whitespaceHeuristics: true,\r\n            wordNavigationType: 2 /* WordEnd */,\r\n            id: 'deleteWordRight',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 2048 /* CtrlCmd */ | 20 /* Delete */,\r\n                mac: { primary: 512 /* Alt */ | 20 /* Delete */ },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    return DeleteWordRight;\r\n}(DeleteWordRightCommand));\r\nexport { DeleteWordRight };\r\nregisterEditorCommand(new CursorWordStartLeft());\r\nregisterEditorCommand(new CursorWordEndLeft());\r\nregisterEditorCommand(new CursorWordLeft());\r\nregisterEditorCommand(new CursorWordStartLeftSelect());\r\nregisterEditorCommand(new CursorWordEndLeftSelect());\r\nregisterEditorCommand(new CursorWordLeftSelect());\r\nregisterEditorCommand(new CursorWordStartRight());\r\nregisterEditorCommand(new CursorWordEndRight());\r\nregisterEditorCommand(new CursorWordRight());\r\nregisterEditorCommand(new CursorWordStartRightSelect());\r\nregisterEditorCommand(new CursorWordEndRightSelect());\r\nregisterEditorCommand(new CursorWordRightSelect());\r\nregisterEditorCommand(new CursorWordAccessibilityLeft());\r\nregisterEditorCommand(new CursorWordAccessibilityLeftSelect());\r\nregisterEditorCommand(new CursorWordAccessibilityRight());\r\nregisterEditorCommand(new CursorWordAccessibilityRightSelect());\r\nregisterEditorCommand(new DeleteWordStartLeft());\r\nregisterEditorCommand(new DeleteWordEndLeft());\r\nregisterEditorCommand(new DeleteWordLeft());\r\nregisterEditorCommand(new DeleteWordStartRight());\r\nregisterEditorCommand(new DeleteWordEndRight());\r\nregisterEditorCommand(new DeleteWordRight());\r\n"],"sourceRoot":""}