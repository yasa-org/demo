{"version":3,"sources":["webpack:///./node_modules/echarts/lib/chart/gauge.js","webpack:///./node_modules/echarts/lib/chart/helper/Symbol.js","webpack:///./node_modules/echarts/lib/chart/bar/BarSeries.js","webpack:///./node_modules/echarts/lib/chart/gauge/PointerPath.js","webpack:///./node_modules/echarts/lib/CoordinateSystem.js","webpack:///./node_modules/echarts/lib/chart/line/LineSeries.js","webpack:///./node_modules/echarts/lib/chart/bar/BaseBarSeries.js","webpack:///./node_modules/echarts/lib/chart/helper/createListFromArray.js","webpack:///./node_modules/echarts/lib/chart/gauge/GaugeSeries.js","webpack:///./node_modules/echarts/lib/chart/bar/BarView.js","webpack:///./node_modules/echarts/lib/ExtensionAPI.js","webpack:///./node_modules/echarts/lib/chart/bar.js","webpack:///./node_modules/echarts/lib/chart/line/helper.js","webpack:///./node_modules/echarts/lib/chart/gauge/GaugeView.js","webpack:///./node_modules/echarts/lib/chart/helper/createClipPathFromCoordSys.js","webpack:///./node_modules/echarts/lib/chart/bar/barItemStyle.js","webpack:///./node_modules/echarts/lib/chart/helper/labelHelper.js","webpack:///./node_modules/echarts/lib/chart/helper/createRenderPlanner.js","webpack:///./node_modules/echarts/lib/chart/line/poly.js","webpack:///./node_modules/echarts/lib/chart/helper/createListSimply.js","webpack:///./node_modules/echarts/lib/chart/bar/helper.js","webpack:///./node_modules/echarts/lib/chart/line.js","webpack:///./node_modules/echarts/lib/chart/line/lineAnimationDiff.js","webpack:///./node_modules/echarts/lib/chart/line/LineView.js","webpack:///./node_modules/echarts/lib/chart/helper/SymbolDraw.js"],"names":["zrUtil","_symbol","createSymbol","graphic","_number","parsePercent","_labelHelper","getDefaultLabel","SymbolClz","data","idx","seriesScope","Group","call","this","updateData","symbolProto","prototype","getSymbolSize","symbolSize","getItemVisual","Array","slice","getScale","driftSymbol","dx","dy","parent","drift","_createSymbol","symbolType","keepAspect","removeAll","color","symbolPath","attr","z2","culling","scale","_symbolType","add","stopSymbolAnimation","toLastFrame","childAt","stopAnimation","getSymbolPath","highlight","trigger","downplay","setZ","zlevel","z","setDraggable","draggable","cursor","silent","seriesModel","hostModel","isInit","updateProps","_updateCommon","fadeIn","target","style","opacity","initProps","_seriesModel","normalStyleAccessPath","emphasisStyleAccessPath","normalLabelAccessPath","emphasisLabelAccessPath","highDownOnUpdate","fromState","toState","incremental","useHoverLayer","__symbolOriginalScale","ratio","emphasisOpt","Math","max","animateTo","type","useStyle","strokeNoScale","setStyle","shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor","itemStyle","hoverItemStyle","symbolOffset","labelModel","hoverLabelModel","hoverAnimation","cursorStyle","hasItemOption","itemModel","getItemModel","getModel","getItemStyle","getShallow","extend","elStyle","symbolRotate","PI","setColor","symbolInnerColor","liftZ","z2Origin","__z2Origin","useNameLabel","getLabelDefaultText","opt","getName","setLabelStyle","labelFetcher","labelDataIndex","defaultText","isRectText","autoColor","hoverStyle","isAnimationEnabled","setHoverStyle","fadeOut","cb","keepLabel","text","dataIndex","inherits","_default","module","exports","BaseBarSeries","dependencies","brushSelector","getProgressive","get","getProgressiveThreshold","progressiveThreshold","largeThreshold","defaultOption","clip","roundCap","showBackground","backgroundStyle","borderColor","borderWidth","borderType","borderRadius","Path","shape","angle","width","r","x","y","buildPath","ctx","mathCos","cos","mathSin","sin","moveTo","lineTo","coordinateSystemCreators","CoordinateSystemManager","_coordinateSystems","constructor","create","ecModel","api","coordinateSystems","each","creater","list","concat","update","coordSys","getCoordinateSystems","register","coordinateSystemCreator","_config","createListFromArray","__DEV__","SeriesModel","getInitialData","option","getSource","useEncodeDefaulter","coordinateSystem","legendHoverLink","label","position","lineStyle","step","smooth","smoothMonotone","symbol","showSymbol","showAllSymbol","connectNulls","sampling","animationEasing","progressive","hoverLayerThreshold","Infinity","getMarkerPosition","value","pt","dataToPoint","clampData","getData","offset","getLayout","size","offsetIndex","getBaseAxis","isHorizontal","NaN","barMinHeight","barMinAngle","large","progressiveChunkMode","emphasis","List","createDimensions","_sourceType","SOURCE_FORMAT_ORIGINAL","_dimensionHelper","getDimensionTypeByAxis","_model","getDataItemValue","CoordinateSystem","_referHelper","getCoordSysInfoBySeries","Source","_dataStackHelper","enableDataStack","_sourceHelper","makeSeriesEncodeForAxisCoordSys","source","isInstance","seriesDataToSource","coordSysDimDefs","coordSysName","registeredCoordSys","coordSysInfo","map","coordSysDims","dim","dimInfo","name","axisModel","axisMap","axisType","getDimensionsInfo","dimensions","firstCategoryDimIndex","hasNameEncode","dimInfoList","coordDimensions","generateCoord","encodeDefaulter","curry","dimIndex","coordDim","categoryAxisModel","categoryAxisMap","ordinalMeta","getOrdinalMeta","otherDims","itemName","stackCalculationInfo","setCalculationInfo","dimValueGetter","isNeedCompleteOrdinalData","itemOpt","dimName","defaultDimValueGetter","initData","sourceFormat","sampleItem","firstDataNotNull","isArray","i","length","createListSimply","GaugeSeries","center","radius","startAngle","endAngle","clockwise","min","splitNumber","axisLine","show","splitLine","axisTick","axisLabel","distance","pointer","title","offsetCenter","fontSize","detail","backgroundColor","height","padding","echarts","_helper","setLabel","Model","barItemStyle","_throttle","throttle","_createClipPathFromCoordSys","createClipPath","Sausage","BAR_BORDER_WIDTH_QUERY","_eventPos","getClipArea","coord","coordSysClipArea","getArea","baseAxis","onBand","expandWidth","extendChartView","render","_updateDrawMode","coordinateSystemType","_isLargeDraw","_renderLarge","_renderNormal","group","incrementalPrepareRender","_clear","incrementalRender","params","_incrementalRenderLarge","isLargeDraw","pipelineContext","isHorizontalOrRadial","oldData","_data","animationModel","needsClip","removeClipPath","drawBackground","backgroundModel","barBorderRadius","bgEls","oldBgEls","_backgroundEls","diff","layout","bgLayout","bgEl","createBackgroundEl","getBarItemStyle","setShape","hasValue","isClipped","remove","el","elementCreator","setItemGraphicEl","updateStyle","newIndex","oldIndex","createBackgroundShape","getItemGraphicEl","removeRect","removeSector","execute","bgGroup","_backgroundGroup","createLarge","clipPath","setClipPath","_removeBackground","dispose","noop","eachItemGraphicEl","mathMax","mathMin","cartesian2d","coordSysBoundingRect","signWidth","signHeight","x2","y2","clipped","polar","isUpdate","rect","Rect","rectShape","animateProperty","animateTarget","isRadial","ShapeClass","Sector","sector","defaults","sectorShape","r0","getItemLayout","fixedLineWidth","getLineWidth","signX","signY","cx","cy","isZeroOnPolar","isPolar","stroke","getVisual","itemStyleModel","fill","labelPositionOutside","rawLayout","lineWidth","isNaN","Number","MAX_VALUE","abs","LargePath","points","startPoint","__startPoint","baseDimIdx","__baseDimIdx","largeDataIndices","barWidth","backgroundStartPoint","__largeDataIndices","__barWidth","setLargeBackgroundStyle","setLargeStyle","seriesIndex","on","largePathUpdateDataIndex","event","largePath","largePathFindDataIndex","offsetX","offsetY","valueDimIdx","barWidthHalf","startValueVal","pointerBaseVal","pointerValueVal","baseLowerBound","baseUpperBound","len","ii","barBaseVal","barValueVal","coordLayout","grid","getRect","ElementClz","echartsAPIList","ExtensionAPI","chartInstance","bind","_barGrid","largeLayout","registerLayout","PRIORITY","VISUAL","LAYOUT","PROGRESSIVE_LAYOUT","registerVisual","seriesType","reset","setVisual","isDimensionStacked","_util","prepareDataCoordInfo","valueOrigin","stacked","valueAxis","getOtherAxis","valueStart","getValueStart","baseAxisDim","valueAxisDim","valueDim","mapDimension","baseDim","baseDataOffset","dims","stackResultDim","getCalculationInfo","dataDimsForPoint","stackedOverDimension","extent","getExtent","getStackedOnPoint","dataCoordInfo","stackedData","PointerPath","ChartView","round","linearMap","parsePosition","getWidth","getHeight","formatLabel","labelFormatter","replace","PI2","GaugeView","colorList","posInfo","_renderMain","axisLineModel","lineStyleModel","angleRangeSpan","prevEndAngle","axisLineWidth","showAxis","percent","getLineStyle","getColor","tmp","_renderTicks","_renderPointer","_renderTitle","_renderDetail","minVal","maxVal","splitLineModel","tickModel","subSplitNumber","splitLineLen","tickLen","subStep","splitLineStyle","tickLineStyle","unitX","unitY","Line","x1","y1","Text","setTextStyle","textVerticalAlign","textAlign","j","tickLine","valueExtent","angleExtent","newIdx","oldIdx","pointerModel","titleModel","forceRich","detailModel","textWidth","textHeight","createGridClipPath","cartesian","hasAnimation","floor","createPolarClipPath","sectorArea","makeStyleMapper","excludes","getBorderLineDash","lineDash","_dataProvider","retrieveRawValue","labelDims","vals","val","push","join","makeInner","inner","fields","originalLarge","originalProgressive","progressiveRender","vec2","fixClipWithShadow","vec2Min","vec2Max","scaleAndAdd","v2Copy","copy","v","cp0","cp1","isPointNull","p","drawSegment","start","segLen","allLen","dir","smoothMin","smoothMax","drawMono","apply","arguments","drawNonMono","prevIdx","k","prevP","ctrlLen","bezierCurveTo","nextIdx","nextP","ratioNextSeg","lenPrevSeg","lenNextSeg","sub","dist","getBoundingBox","smoothConstraint","ptMin","ptMax","Polyline","brush","result","Polygon","stackedOnPoints","stackedOnSmooth","bbox","stackedOnBBox","closePath","nameList","dimensionsInfo","normalStyle","fixPosition","textPosition","visualSymbol","layoutPoints","dataSample","registerProcessor","PROCESSOR","STATISTIC","diffData","newData","diffResult","cmd","idx1","oldStackedOnPoints","newStackedOnPoints","oldCoordSys","newCoordSys","oldValueOrigin","newValueOrigin","currPoints","nextPoints","currStackedPoints","nextStackedPoints","status","sortedIndices","rawIndices","newDataOldCoordInfo","oldDataNewCoordInfo","diffItem","pointAdded","currentPt","nextPt","getRawIndex","rawIndex","sort","a","b","sortedCurrPoints","sortedNextPoints","sortedCurrStackedPoints","sortedNextStackedPoints","sortedStatus","current","next","stackedOnCurrent","stackedOnNext","_bbox","fromPoints","SymbolDraw","lineAnimationDiff","modelUtil","_poly","isPointsSame","points1","points2","p1","p2","getBoundingDiff","min1","max1","min2","max2","getSmooth","getStackedOnPoints","count","turnPointsIntoStep","stepTurnAt","baseIndex","stepPoints","stepPt","middle","stepPt2","getVisualGradient","visualMetaList","visualMeta","dimension","getDimensionInfo","axis","getAxis","colorStops","stops","stop","toGlobalCoord","dataToCoord","stopLen","outerColors","reverse","tinyExtent","minCoord","maxCoord","coordSpan","unshift","gradient","LinearGradient","getIsIgnoreFunc","isAuto","categoryAxis","getAxesByScale","canShowAllSymbolForCategory","categoryDataDim","labelMap","getViewLabels","labelItem","tickValue","hasOwnProperty","axisExtent","availSize","dataLen","createLineClipPath","expandSize","init","lineGroup","symbolDraw","_symbolDraw","_lineGroup","areaStyleModel","mapArray","isCoordSysPolar","prevCoordSys","_coordSys","polyline","_polyline","polygon","_polygon","isAreaChart","isEmpty","isIgnoreFunc","__temp","clipShapeForSymbol","r1","_clipShapeForSymbol","_step","_newPolygon","isIgnore","clipShape","_stackedOnPoints","_points","_updateAnimation","_newPolyline","visualColor","lineJoin","stackedOnSeries","getAreaStyle","_valueOrigin","payload","queryDataIndex","contain","ignore","__points","updatedDataInfo","diffStatus","ptIdx","animators","during","isObject","symbolCtor","_symbolCtor","symbolDrawProto","symbolNeedsDraw","point","normalizeUpdateOpt","makeSeriesScope","SymbolCtor","symbolEl","isPersistent","updateLayout","incrementalPrepareUpdate","_seriesScope","incrementalUpdate","taskParams","updateIncrementalAndHover","isGroup","end","traverse","enableAnimation"],"mappings":"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","file":"js/chunk-vendors~943f0697.f42c8f3e.js","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"./gauge/GaugeSeries\");\n\nrequire(\"./gauge/GaugeView\");","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\n\nvar _labelHelper = require(\"./labelHelper\");\n\nvar getDefaultLabel = _labelHelper.getDefaultLabel;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @module echarts/chart/helper/Symbol\n */\n\n/**\n * @constructor\n * @alias {module:echarts/chart/helper/Symbol}\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @extends {module:zrender/graphic/Group}\n */\nfunction SymbolClz(data, idx, seriesScope) {\n  graphic.Group.call(this);\n  this.updateData(data, idx, seriesScope);\n}\n\nvar symbolProto = SymbolClz.prototype;\n/**\n * @public\n * @static\n * @param {module:echarts/data/List} data\n * @param {number} dataIndex\n * @return {Array.<number>} [width, height]\n */\n\nvar getSymbolSize = SymbolClz.getSymbolSize = function (data, idx) {\n  var symbolSize = data.getItemVisual(idx, 'symbolSize');\n  return symbolSize instanceof Array ? symbolSize.slice() : [+symbolSize, +symbolSize];\n};\n\nfunction getScale(symbolSize) {\n  return [symbolSize[0] / 2, symbolSize[1] / 2];\n}\n\nfunction driftSymbol(dx, dy) {\n  this.parent.drift(dx, dy);\n}\n\nsymbolProto._createSymbol = function (symbolType, data, idx, symbolSize, keepAspect) {\n  // Remove paths created before\n  this.removeAll();\n  var color = data.getItemVisual(idx, 'color'); // var symbolPath = createSymbol(\n  //     symbolType, -0.5, -0.5, 1, 1, color\n  // );\n  // If width/height are set too small (e.g., set to 1) on ios10\n  // and macOS Sierra, a circle stroke become a rect, no matter what\n  // the scale is set. So we set width/height as 2. See #4150.\n\n  var symbolPath = createSymbol(symbolType, -1, -1, 2, 2, color, keepAspect);\n  symbolPath.attr({\n    z2: 100,\n    culling: true,\n    scale: getScale(symbolSize)\n  }); // Rewrite drift method\n\n  symbolPath.drift = driftSymbol;\n  this._symbolType = symbolType;\n  this.add(symbolPath);\n};\n/**\n * Stop animation\n * @param {boolean} toLastFrame\n */\n\n\nsymbolProto.stopSymbolAnimation = function (toLastFrame) {\n  this.childAt(0).stopAnimation(toLastFrame);\n};\n/**\n * FIXME:\n * Caution: This method breaks the encapsulation of this module,\n * but it indeed brings convenience. So do not use the method\n * unless you detailedly know all the implements of `Symbol`,\n * especially animation.\n *\n * Get symbol path element.\n */\n\n\nsymbolProto.getSymbolPath = function () {\n  return this.childAt(0);\n};\n/**\n * Get scale(aka, current symbol size).\n * Including the change caused by animation\n */\n\n\nsymbolProto.getScale = function () {\n  return this.childAt(0).scale;\n};\n/**\n * Highlight symbol\n */\n\n\nsymbolProto.highlight = function () {\n  this.childAt(0).trigger('emphasis');\n};\n/**\n * Downplay symbol\n */\n\n\nsymbolProto.downplay = function () {\n  this.childAt(0).trigger('normal');\n};\n/**\n * @param {number} zlevel\n * @param {number} z\n */\n\n\nsymbolProto.setZ = function (zlevel, z) {\n  var symbolPath = this.childAt(0);\n  symbolPath.zlevel = zlevel;\n  symbolPath.z = z;\n};\n\nsymbolProto.setDraggable = function (draggable) {\n  var symbolPath = this.childAt(0);\n  symbolPath.draggable = draggable;\n  symbolPath.cursor = draggable ? 'move' : symbolPath.cursor;\n};\n/**\n * Update symbol properties\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @param {Object} [seriesScope]\n * @param {Object} [seriesScope.itemStyle]\n * @param {Object} [seriesScope.hoverItemStyle]\n * @param {Object} [seriesScope.symbolRotate]\n * @param {Object} [seriesScope.symbolOffset]\n * @param {module:echarts/model/Model} [seriesScope.labelModel]\n * @param {module:echarts/model/Model} [seriesScope.hoverLabelModel]\n * @param {boolean} [seriesScope.hoverAnimation]\n * @param {Object} [seriesScope.cursorStyle]\n * @param {module:echarts/model/Model} [seriesScope.itemModel]\n * @param {string} [seriesScope.symbolInnerColor]\n * @param {Object} [seriesScope.fadeIn=false]\n */\n\n\nsymbolProto.updateData = function (data, idx, seriesScope) {\n  this.silent = false;\n  var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n  var seriesModel = data.hostModel;\n  var symbolSize = getSymbolSize(data, idx);\n  var isInit = symbolType !== this._symbolType;\n\n  if (isInit) {\n    var keepAspect = data.getItemVisual(idx, 'symbolKeepAspect');\n\n    this._createSymbol(symbolType, data, idx, symbolSize, keepAspect);\n  } else {\n    var symbolPath = this.childAt(0);\n    symbolPath.silent = false;\n    graphic.updateProps(symbolPath, {\n      scale: getScale(symbolSize)\n    }, seriesModel, idx);\n  }\n\n  this._updateCommon(data, idx, symbolSize, seriesScope);\n\n  if (isInit) {\n    var symbolPath = this.childAt(0);\n    var fadeIn = seriesScope && seriesScope.fadeIn;\n    var target = {\n      scale: symbolPath.scale.slice()\n    };\n    fadeIn && (target.style = {\n      opacity: symbolPath.style.opacity\n    });\n    symbolPath.scale = [0, 0];\n    fadeIn && (symbolPath.style.opacity = 0);\n    graphic.initProps(symbolPath, target, seriesModel, idx);\n  }\n\n  this._seriesModel = seriesModel;\n}; // Update common properties\n\n\nvar normalStyleAccessPath = ['itemStyle'];\nvar emphasisStyleAccessPath = ['emphasis', 'itemStyle'];\nvar normalLabelAccessPath = ['label'];\nvar emphasisLabelAccessPath = ['emphasis', 'label'];\n/**\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @param {Array.<number>} symbolSize\n * @param {Object} [seriesScope]\n */\n\nsymbolProto._updateCommon = function (data, idx, symbolSize, seriesScope) {\n  var symbolPath = this.childAt(0);\n  var seriesModel = data.hostModel;\n  var color = data.getItemVisual(idx, 'color'); // Reset style\n\n  if (symbolPath.type !== 'image') {\n    symbolPath.useStyle({\n      strokeNoScale: true\n    });\n  } else {\n    symbolPath.setStyle({\n      opacity: null,\n      shadowBlur: null,\n      shadowOffsetX: null,\n      shadowOffsetY: null,\n      shadowColor: null\n    });\n  }\n\n  var itemStyle = seriesScope && seriesScope.itemStyle;\n  var hoverItemStyle = seriesScope && seriesScope.hoverItemStyle;\n  var symbolOffset = seriesScope && seriesScope.symbolOffset;\n  var labelModel = seriesScope && seriesScope.labelModel;\n  var hoverLabelModel = seriesScope && seriesScope.hoverLabelModel;\n  var hoverAnimation = seriesScope && seriesScope.hoverAnimation;\n  var cursorStyle = seriesScope && seriesScope.cursorStyle;\n\n  if (!seriesScope || data.hasItemOption) {\n    var itemModel = seriesScope && seriesScope.itemModel ? seriesScope.itemModel : data.getItemModel(idx); // Color must be excluded.\n    // Because symbol provide setColor individually to set fill and stroke\n\n    itemStyle = itemModel.getModel(normalStyleAccessPath).getItemStyle(['color']);\n    hoverItemStyle = itemModel.getModel(emphasisStyleAccessPath).getItemStyle();\n    symbolOffset = itemModel.getShallow('symbolOffset');\n    labelModel = itemModel.getModel(normalLabelAccessPath);\n    hoverLabelModel = itemModel.getModel(emphasisLabelAccessPath);\n    hoverAnimation = itemModel.getShallow('hoverAnimation');\n    cursorStyle = itemModel.getShallow('cursor');\n  } else {\n    hoverItemStyle = zrUtil.extend({}, hoverItemStyle);\n  }\n\n  var elStyle = symbolPath.style;\n  var symbolRotate = data.getItemVisual(idx, 'symbolRotate');\n  symbolPath.attr('rotation', (symbolRotate || 0) * Math.PI / 180 || 0);\n\n  if (symbolOffset) {\n    symbolPath.attr('position', [parsePercent(symbolOffset[0], symbolSize[0]), parsePercent(symbolOffset[1], symbolSize[1])]);\n  }\n\n  cursorStyle && symbolPath.attr('cursor', cursorStyle); // PENDING setColor before setStyle!!!\n\n  symbolPath.setColor(color, seriesScope && seriesScope.symbolInnerColor);\n  symbolPath.setStyle(itemStyle);\n  var opacity = data.getItemVisual(idx, 'opacity');\n\n  if (opacity != null) {\n    elStyle.opacity = opacity;\n  }\n\n  var liftZ = data.getItemVisual(idx, 'liftZ');\n  var z2Origin = symbolPath.__z2Origin;\n\n  if (liftZ != null) {\n    if (z2Origin == null) {\n      symbolPath.__z2Origin = symbolPath.z2;\n      symbolPath.z2 += liftZ;\n    }\n  } else if (z2Origin != null) {\n    symbolPath.z2 = z2Origin;\n    symbolPath.__z2Origin = null;\n  }\n\n  var useNameLabel = seriesScope && seriesScope.useNameLabel;\n  graphic.setLabelStyle(elStyle, hoverItemStyle, labelModel, hoverLabelModel, {\n    labelFetcher: seriesModel,\n    labelDataIndex: idx,\n    defaultText: getLabelDefaultText,\n    isRectText: true,\n    autoColor: color\n  }); // Do not execute util needed.\n\n  function getLabelDefaultText(idx, opt) {\n    return useNameLabel ? data.getName(idx) : getDefaultLabel(data, idx);\n  }\n\n  symbolPath.__symbolOriginalScale = getScale(symbolSize);\n  symbolPath.hoverStyle = hoverItemStyle;\n  symbolPath.highDownOnUpdate = hoverAnimation && seriesModel.isAnimationEnabled() ? highDownOnUpdate : null;\n  graphic.setHoverStyle(symbolPath);\n};\n\nfunction highDownOnUpdate(fromState, toState) {\n  // Do not support this hover animation util some scenario required.\n  // Animation can only be supported in hover layer when using `el.incremetal`.\n  if (this.incremental || this.useHoverLayer) {\n    return;\n  }\n\n  if (toState === 'emphasis') {\n    var scale = this.__symbolOriginalScale;\n    var ratio = scale[1] / scale[0];\n    var emphasisOpt = {\n      scale: [Math.max(scale[0] * 1.1, scale[0] + 3), Math.max(scale[1] * 1.1, scale[1] + 3 * ratio)]\n    }; // FIXME\n    // modify it after support stop specified animation.\n    // toState === fromState\n    //     ? (this.stopAnimation(), this.attr(emphasisOpt))\n\n    this.animateTo(emphasisOpt, 400, 'elasticOut');\n  } else if (toState === 'normal') {\n    this.animateTo({\n      scale: this.__symbolOriginalScale\n    }, 400, 'elasticOut');\n  }\n}\n/**\n * @param {Function} cb\n * @param {Object} [opt]\n * @param {Object} [opt.keepLabel=true]\n */\n\n\nsymbolProto.fadeOut = function (cb, opt) {\n  var symbolPath = this.childAt(0); // Avoid mistaken hover when fading out\n\n  this.silent = symbolPath.silent = true; // Not show text when animating\n\n  !(opt && opt.keepLabel) && (symbolPath.style.text = null);\n  graphic.updateProps(symbolPath, {\n    style: {\n      opacity: 0\n    },\n    scale: [0, 0]\n  }, this._seriesModel, this.dataIndex, cb);\n};\n\nzrUtil.inherits(SymbolClz, graphic.Group);\nvar _default = SymbolClz;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar BaseBarSeries = require(\"./BaseBarSeries\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = BaseBarSeries.extend({\n  type: 'series.bar',\n  dependencies: ['grid', 'polar'],\n  brushSelector: 'rect',\n\n  /**\n   * @override\n   */\n  getProgressive: function () {\n    // Do not support progressive in normal mode.\n    return this.get('large') ? this.get('progressive') : false;\n  },\n\n  /**\n   * @override\n   */\n  getProgressiveThreshold: function () {\n    // Do not support progressive in normal mode.\n    var progressiveThreshold = this.get('progressiveThreshold');\n    var largeThreshold = this.get('largeThreshold');\n\n    if (largeThreshold > progressiveThreshold) {\n      progressiveThreshold = largeThreshold;\n    }\n\n    return progressiveThreshold;\n  },\n  defaultOption: {\n    // If clipped\n    // Only available on cartesian2d\n    clip: true,\n    // If use caps on two sides of bars\n    // Only available on tangential polar bar\n    roundCap: false,\n    showBackground: false,\n    backgroundStyle: {\n      color: 'rgba(180, 180, 180, 0.2)',\n      borderColor: null,\n      borderWidth: 0,\n      borderType: 'solid',\n      borderRadius: 0,\n      shadowBlur: 0,\n      shadowColor: null,\n      shadowOffsetX: 0,\n      shadowOffsetY: 0,\n      opacity: 1\n    }\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar Path = require(\"zrender/lib/graphic/Path\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = Path.extend({\n  type: 'echartsGaugePointer',\n  shape: {\n    angle: 0,\n    width: 10,\n    r: 10,\n    x: 0,\n    y: 0\n  },\n  buildPath: function (ctx, shape) {\n    var mathCos = Math.cos;\n    var mathSin = Math.sin;\n    var r = shape.r;\n    var width = shape.width;\n    var angle = shape.angle;\n    var x = shape.x - mathCos(angle) * width * (width >= r / 3 ? 1 : 2);\n    var y = shape.y - mathSin(angle) * width * (width >= r / 3 ? 1 : 2);\n    angle = shape.angle - Math.PI / 2;\n    ctx.moveTo(x, y);\n    ctx.lineTo(shape.x + mathCos(angle) * width, shape.y + mathSin(angle) * width);\n    ctx.lineTo(shape.x + mathCos(shape.angle) * r, shape.y + mathSin(shape.angle) * r);\n    ctx.lineTo(shape.x - mathCos(angle) * width, shape.y - mathSin(angle) * width);\n    ctx.lineTo(x, y);\n    return;\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar coordinateSystemCreators = {};\n\nfunction CoordinateSystemManager() {\n  this._coordinateSystems = [];\n}\n\nCoordinateSystemManager.prototype = {\n  constructor: CoordinateSystemManager,\n  create: function (ecModel, api) {\n    var coordinateSystems = [];\n    zrUtil.each(coordinateSystemCreators, function (creater, type) {\n      var list = creater.create(ecModel, api);\n      coordinateSystems = coordinateSystems.concat(list || []);\n    });\n    this._coordinateSystems = coordinateSystems;\n  },\n  update: function (ecModel, api) {\n    zrUtil.each(this._coordinateSystems, function (coordSys) {\n      coordSys.update && coordSys.update(ecModel, api);\n    });\n  },\n  getCoordinateSystems: function () {\n    return this._coordinateSystems.slice();\n  }\n};\n\nCoordinateSystemManager.register = function (type, coordinateSystemCreator) {\n  coordinateSystemCreators[type] = coordinateSystemCreator;\n};\n\nCoordinateSystemManager.get = function (type) {\n  return coordinateSystemCreators[type];\n};\n\nvar _default = CoordinateSystemManager;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar createListFromArray = require(\"../helper/createListFromArray\");\n\nvar SeriesModel = require(\"../../model/Series\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = SeriesModel.extend({\n  type: 'series.line',\n  dependencies: ['grid', 'polar'],\n  getInitialData: function (option, ecModel) {\n    return createListFromArray(this.getSource(), this, {\n      useEncodeDefaulter: true\n    });\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    hoverAnimation: true,\n    // stack: null\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // polarIndex: 0,\n    // If clip the overflow value\n    clip: true,\n    // cursor: null,\n    label: {\n      position: 'top'\n    },\n    // itemStyle: {\n    // },\n    lineStyle: {\n      width: 2,\n      type: 'solid'\n    },\n    // areaStyle: {\n    // origin of areaStyle. Valid values:\n    // `'auto'/null/undefined`: from axisLine to data\n    // `'start'`: from min to data\n    // `'end'`: from data to max\n    // origin: 'auto'\n    // },\n    // false, 'start', 'end', 'middle'\n    step: false,\n    // Disabled if step is true\n    smooth: false,\n    smoothMonotone: null,\n    symbol: 'emptyCircle',\n    symbolSize: 4,\n    symbolRotate: null,\n    showSymbol: true,\n    // `false`: follow the label interval strategy.\n    // `true`: show all symbols.\n    // `'auto'`: If possible, show all symbols, otherwise\n    //           follow the label interval strategy.\n    showAllSymbol: 'auto',\n    // Whether to connect break point.\n    connectNulls: false,\n    // Sampling for large data. Can be: 'average', 'max', 'min', 'sum'.\n    sampling: 'none',\n    animationEasing: 'linear',\n    // Disable progressive\n    progressive: 0,\n    hoverLayerThreshold: Infinity\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar SeriesModel = require(\"../../model/Series\");\n\nvar createListFromArray = require(\"../helper/createListFromArray\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = SeriesModel.extend({\n  type: 'series.__base_bar__',\n  getInitialData: function (option, ecModel) {\n    return createListFromArray(this.getSource(), this, {\n      useEncodeDefaulter: true\n    });\n  },\n  getMarkerPosition: function (value) {\n    var coordSys = this.coordinateSystem;\n\n    if (coordSys) {\n      // PENDING if clamp ?\n      var pt = coordSys.dataToPoint(coordSys.clampData(value));\n      var data = this.getData();\n      var offset = data.getLayout('offset');\n      var size = data.getLayout('size');\n      var offsetIndex = coordSys.getBaseAxis().isHorizontal() ? 0 : 1;\n      pt[offsetIndex] += offset + size / 2;\n      return pt;\n    }\n\n    return [NaN, NaN];\n  },\n  defaultOption: {\n    zlevel: 0,\n    // 一级层叠\n    z: 2,\n    // 二级层叠\n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    // stack: null\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // 最小高度改为0\n    barMinHeight: 0,\n    // 最小角度为0，仅对极坐标系下的柱状图有效\n    barMinAngle: 0,\n    // cursor: null,\n    large: false,\n    largeThreshold: 400,\n    progressive: 3e3,\n    progressiveChunkMode: 'mod',\n    // barMaxWidth: null,\n    // In cartesian, the default value is 1. Otherwise null.\n    // barMinWidth: null,\n    // 默认自适应\n    // barWidth: null,\n    // 柱间距离，默认为柱形宽度的30%，可设固定值\n    // barGap: '30%',\n    // 类目间柱形距离，默认为类目间距的20%，可设固定值\n    // barCategoryGap: '20%',\n    // label: {\n    //      show: false\n    // },\n    itemStyle: {},\n    emphasis: {}\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar List = require(\"../../data/List\");\n\nvar createDimensions = require(\"../../data/helper/createDimensions\");\n\nvar _sourceType = require(\"../../data/helper/sourceType\");\n\nvar SOURCE_FORMAT_ORIGINAL = _sourceType.SOURCE_FORMAT_ORIGINAL;\n\nvar _dimensionHelper = require(\"../../data/helper/dimensionHelper\");\n\nvar getDimensionTypeByAxis = _dimensionHelper.getDimensionTypeByAxis;\n\nvar _model = require(\"../../util/model\");\n\nvar getDataItemValue = _model.getDataItemValue;\n\nvar CoordinateSystem = require(\"../../CoordinateSystem\");\n\nvar _referHelper = require(\"../../model/referHelper\");\n\nvar getCoordSysInfoBySeries = _referHelper.getCoordSysInfoBySeries;\n\nvar Source = require(\"../../data/Source\");\n\nvar _dataStackHelper = require(\"../../data/helper/dataStackHelper\");\n\nvar enableDataStack = _dataStackHelper.enableDataStack;\n\nvar _sourceHelper = require(\"../../data/helper/sourceHelper\");\n\nvar makeSeriesEncodeForAxisCoordSys = _sourceHelper.makeSeriesEncodeForAxisCoordSys;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {module:echarts/data/Source|Array} source Or raw data.\n * @param {module:echarts/model/Series} seriesModel\n * @param {Object} [opt]\n * @param {string} [opt.generateCoord]\n * @param {boolean} [opt.useEncodeDefaulter]\n */\nfunction createListFromArray(source, seriesModel, opt) {\n  opt = opt || {};\n\n  if (!Source.isInstance(source)) {\n    source = Source.seriesDataToSource(source);\n  }\n\n  var coordSysName = seriesModel.get('coordinateSystem');\n  var registeredCoordSys = CoordinateSystem.get(coordSysName);\n  var coordSysInfo = getCoordSysInfoBySeries(seriesModel);\n  var coordSysDimDefs;\n\n  if (coordSysInfo) {\n    coordSysDimDefs = zrUtil.map(coordSysInfo.coordSysDims, function (dim) {\n      var dimInfo = {\n        name: dim\n      };\n      var axisModel = coordSysInfo.axisMap.get(dim);\n\n      if (axisModel) {\n        var axisType = axisModel.get('type');\n        dimInfo.type = getDimensionTypeByAxis(axisType); // dimInfo.stackable = isStackable(axisType);\n      }\n\n      return dimInfo;\n    });\n  }\n\n  if (!coordSysDimDefs) {\n    // Get dimensions from registered coordinate system\n    coordSysDimDefs = registeredCoordSys && (registeredCoordSys.getDimensionsInfo ? registeredCoordSys.getDimensionsInfo() : registeredCoordSys.dimensions.slice()) || ['x', 'y'];\n  }\n\n  var dimInfoList = createDimensions(source, {\n    coordDimensions: coordSysDimDefs,\n    generateCoord: opt.generateCoord,\n    encodeDefaulter: opt.useEncodeDefaulter ? zrUtil.curry(makeSeriesEncodeForAxisCoordSys, coordSysDimDefs, seriesModel) : null\n  });\n  var firstCategoryDimIndex;\n  var hasNameEncode;\n  coordSysInfo && zrUtil.each(dimInfoList, function (dimInfo, dimIndex) {\n    var coordDim = dimInfo.coordDim;\n    var categoryAxisModel = coordSysInfo.categoryAxisMap.get(coordDim);\n\n    if (categoryAxisModel) {\n      if (firstCategoryDimIndex == null) {\n        firstCategoryDimIndex = dimIndex;\n      }\n\n      dimInfo.ordinalMeta = categoryAxisModel.getOrdinalMeta();\n    }\n\n    if (dimInfo.otherDims.itemName != null) {\n      hasNameEncode = true;\n    }\n  });\n\n  if (!hasNameEncode && firstCategoryDimIndex != null) {\n    dimInfoList[firstCategoryDimIndex].otherDims.itemName = 0;\n  }\n\n  var stackCalculationInfo = enableDataStack(seriesModel, dimInfoList);\n  var list = new List(dimInfoList, seriesModel);\n  list.setCalculationInfo(stackCalculationInfo);\n  var dimValueGetter = firstCategoryDimIndex != null && isNeedCompleteOrdinalData(source) ? function (itemOpt, dimName, dataIndex, dimIndex) {\n    // Use dataIndex as ordinal value in categoryAxis\n    return dimIndex === firstCategoryDimIndex ? dataIndex : this.defaultDimValueGetter(itemOpt, dimName, dataIndex, dimIndex);\n  } : null;\n  list.hasItemOption = false;\n  list.initData(source, null, dimValueGetter);\n  return list;\n}\n\nfunction isNeedCompleteOrdinalData(source) {\n  if (source.sourceFormat === SOURCE_FORMAT_ORIGINAL) {\n    var sampleItem = firstDataNotNull(source.data || []);\n    return sampleItem != null && !zrUtil.isArray(getDataItemValue(sampleItem));\n  }\n}\n\nfunction firstDataNotNull(data) {\n  var i = 0;\n\n  while (i < data.length && data[i] == null) {\n    i++;\n  }\n\n  return data[i];\n}\n\nvar _default = createListFromArray;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar createListSimply = require(\"../helper/createListSimply\");\n\nvar SeriesModel = require(\"../../model/Series\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar GaugeSeries = SeriesModel.extend({\n  type: 'series.gauge',\n  getInitialData: function (option, ecModel) {\n    return createListSimply(this, ['value']);\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    // 默认全局居中\n    center: ['50%', '50%'],\n    legendHoverLink: true,\n    radius: '75%',\n    startAngle: 225,\n    endAngle: -45,\n    clockwise: true,\n    // 最小值\n    min: 0,\n    // 最大值\n    max: 100,\n    // 分割段数，默认为10\n    splitNumber: 10,\n    // 坐标轴线\n    axisLine: {\n      // 默认显示，属性show控制显示与否\n      show: true,\n      lineStyle: {\n        // 属性lineStyle控制线条样式\n        color: [[0.2, '#91c7ae'], [0.8, '#63869e'], [1, '#c23531']],\n        width: 30\n      }\n    },\n    // 分隔线\n    splitLine: {\n      // 默认显示，属性show控制显示与否\n      show: true,\n      // 属性length控制线长\n      length: 30,\n      // 属性lineStyle（详见lineStyle）控制线条样式\n      lineStyle: {\n        color: '#eee',\n        width: 2,\n        type: 'solid'\n      }\n    },\n    // 坐标轴小标记\n    axisTick: {\n      // 属性show控制显示与否，默认不显示\n      show: true,\n      // 每份split细分多少段\n      splitNumber: 5,\n      // 属性length控制线长\n      length: 8,\n      // 属性lineStyle控制线条样式\n      lineStyle: {\n        color: '#eee',\n        width: 1,\n        type: 'solid'\n      }\n    },\n    axisLabel: {\n      show: true,\n      distance: 5,\n      // formatter: null,\n      color: 'auto'\n    },\n    pointer: {\n      show: true,\n      length: '80%',\n      width: 8\n    },\n    itemStyle: {\n      color: 'auto'\n    },\n    title: {\n      show: true,\n      // x, y，单位px\n      offsetCenter: [0, '-40%'],\n      // 其余属性默认使用全局文本样式，详见TEXTSTYLE\n      color: '#333',\n      fontSize: 15\n    },\n    detail: {\n      show: true,\n      backgroundColor: 'rgba(0,0,0,0)',\n      borderWidth: 0,\n      borderColor: '#ccc',\n      width: 100,\n      height: null,\n      // self-adaption\n      padding: [5, 10],\n      // x, y，单位px\n      offsetCenter: [0, '40%'],\n      // formatter: null,\n      // 其余属性默认使用全局文本样式，详见TEXTSTYLE\n      color: 'auto',\n      fontSize: 30\n    }\n  }\n});\nvar _default = GaugeSeries;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _helper = require(\"./helper\");\n\nvar setLabel = _helper.setLabel;\n\nvar Model = require(\"../../model/Model\");\n\nvar barItemStyle = require(\"./barItemStyle\");\n\nvar Path = require(\"zrender/lib/graphic/Path\");\n\nvar Group = require(\"zrender/lib/container/Group\");\n\nvar _throttle = require(\"../../util/throttle\");\n\nvar throttle = _throttle.throttle;\n\nvar _createClipPathFromCoordSys = require(\"../helper/createClipPathFromCoordSys\");\n\nvar createClipPath = _createClipPathFromCoordSys.createClipPath;\n\nvar Sausage = require(\"../../util/shape/sausage\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar BAR_BORDER_WIDTH_QUERY = ['itemStyle', 'barBorderWidth'];\nvar _eventPos = [0, 0]; // FIXME\n// Just for compatible with ec2.\n\nzrUtil.extend(Model.prototype, barItemStyle);\n\nfunction getClipArea(coord, data) {\n  var coordSysClipArea = coord.getArea && coord.getArea();\n\n  if (coord.type === 'cartesian2d') {\n    var baseAxis = coord.getBaseAxis(); // When boundaryGap is false or using time axis. bar may exceed the grid.\n    // We should not clip this part.\n    // See test/bar2.html\n\n    if (baseAxis.type !== 'category' || !baseAxis.onBand) {\n      var expandWidth = data.getLayout('bandWidth');\n\n      if (baseAxis.isHorizontal()) {\n        coordSysClipArea.x -= expandWidth;\n        coordSysClipArea.width += expandWidth * 2;\n      } else {\n        coordSysClipArea.y -= expandWidth;\n        coordSysClipArea.height += expandWidth * 2;\n      }\n    }\n  }\n\n  return coordSysClipArea;\n}\n\nvar _default = echarts.extendChartView({\n  type: 'bar',\n  render: function (seriesModel, ecModel, api) {\n    this._updateDrawMode(seriesModel);\n\n    var coordinateSystemType = seriesModel.get('coordinateSystem');\n\n    if (coordinateSystemType === 'cartesian2d' || coordinateSystemType === 'polar') {\n      this._isLargeDraw ? this._renderLarge(seriesModel, ecModel, api) : this._renderNormal(seriesModel, ecModel, api);\n    } else {}\n\n    return this.group;\n  },\n  incrementalPrepareRender: function (seriesModel, ecModel, api) {\n    this._clear();\n\n    this._updateDrawMode(seriesModel);\n  },\n  incrementalRender: function (params, seriesModel, ecModel, api) {\n    // Do not support progressive in normal mode.\n    this._incrementalRenderLarge(params, seriesModel);\n  },\n  _updateDrawMode: function (seriesModel) {\n    var isLargeDraw = seriesModel.pipelineContext.large;\n\n    if (this._isLargeDraw == null || isLargeDraw ^ this._isLargeDraw) {\n      this._isLargeDraw = isLargeDraw;\n\n      this._clear();\n    }\n  },\n  _renderNormal: function (seriesModel, ecModel, api) {\n    var group = this.group;\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var coord = seriesModel.coordinateSystem;\n    var baseAxis = coord.getBaseAxis();\n    var isHorizontalOrRadial;\n\n    if (coord.type === 'cartesian2d') {\n      isHorizontalOrRadial = baseAxis.isHorizontal();\n    } else if (coord.type === 'polar') {\n      isHorizontalOrRadial = baseAxis.dim === 'angle';\n    }\n\n    var animationModel = seriesModel.isAnimationEnabled() ? seriesModel : null;\n    var needsClip = seriesModel.get('clip', true);\n    var coordSysClipArea = getClipArea(coord, data); // If there is clipPath created in large mode. Remove it.\n\n    group.removeClipPath(); // We don't use clipPath in normal mode because we needs a perfect animation\n    // And don't want the label are clipped.\n\n    var roundCap = seriesModel.get('roundCap', true);\n    var drawBackground = seriesModel.get('showBackground', true);\n    var backgroundModel = seriesModel.getModel('backgroundStyle');\n    var barBorderRadius = backgroundModel.get('barBorderRadius') || 0;\n    var bgEls = [];\n    var oldBgEls = this._backgroundEls || [];\n    data.diff(oldData).add(function (dataIndex) {\n      var itemModel = data.getItemModel(dataIndex);\n      var layout = getLayout[coord.type](data, dataIndex, itemModel);\n\n      if (drawBackground) {\n        var bgLayout = getLayout[coord.type](data, dataIndex);\n        var bgEl = createBackgroundEl(coord, isHorizontalOrRadial, bgLayout);\n        bgEl.useStyle(backgroundModel.getBarItemStyle()); // Only cartesian2d support borderRadius.\n\n        if (coord.type === 'cartesian2d') {\n          bgEl.setShape('r', barBorderRadius);\n        }\n\n        bgEls[dataIndex] = bgEl;\n      } // If dataZoom in filteMode: 'empty', the baseValue can be set as NaN in \"axisProxy\".\n\n\n      if (!data.hasValue(dataIndex)) {\n        return;\n      }\n\n      if (needsClip) {\n        // Clip will modify the layout params.\n        // And return a boolean to determine if the shape are fully clipped.\n        var isClipped = clip[coord.type](coordSysClipArea, layout);\n\n        if (isClipped) {\n          group.remove(el);\n          return;\n        }\n      }\n\n      var el = elementCreator[coord.type](dataIndex, layout, isHorizontalOrRadial, animationModel, false, roundCap);\n      data.setItemGraphicEl(dataIndex, el);\n      group.add(el);\n      updateStyle(el, data, dataIndex, itemModel, layout, seriesModel, isHorizontalOrRadial, coord.type === 'polar');\n    }).update(function (newIndex, oldIndex) {\n      var itemModel = data.getItemModel(newIndex);\n      var layout = getLayout[coord.type](data, newIndex, itemModel);\n\n      if (drawBackground) {\n        var bgEl = oldBgEls[oldIndex];\n        bgEl.useStyle(backgroundModel.getBarItemStyle()); // Only cartesian2d support borderRadius.\n\n        if (coord.type === 'cartesian2d') {\n          bgEl.setShape('r', barBorderRadius);\n        }\n\n        bgEls[newIndex] = bgEl;\n        var bgLayout = getLayout[coord.type](data, newIndex);\n        var shape = createBackgroundShape(isHorizontalOrRadial, bgLayout, coord);\n        graphic.updateProps(bgEl, {\n          shape: shape\n        }, animationModel, newIndex);\n      }\n\n      var el = oldData.getItemGraphicEl(oldIndex);\n\n      if (!data.hasValue(newIndex)) {\n        group.remove(el);\n        return;\n      }\n\n      if (needsClip) {\n        var isClipped = clip[coord.type](coordSysClipArea, layout);\n\n        if (isClipped) {\n          group.remove(el);\n          return;\n        }\n      }\n\n      if (el) {\n        graphic.updateProps(el, {\n          shape: layout\n        }, animationModel, newIndex);\n      } else {\n        el = elementCreator[coord.type](newIndex, layout, isHorizontalOrRadial, animationModel, true, roundCap);\n      }\n\n      data.setItemGraphicEl(newIndex, el); // Add back\n\n      group.add(el);\n      updateStyle(el, data, newIndex, itemModel, layout, seriesModel, isHorizontalOrRadial, coord.type === 'polar');\n    }).remove(function (dataIndex) {\n      var el = oldData.getItemGraphicEl(dataIndex);\n\n      if (coord.type === 'cartesian2d') {\n        el && removeRect(dataIndex, animationModel, el);\n      } else {\n        el && removeSector(dataIndex, animationModel, el);\n      }\n    }).execute();\n    var bgGroup = this._backgroundGroup || (this._backgroundGroup = new Group());\n    bgGroup.removeAll();\n\n    for (var i = 0; i < bgEls.length; ++i) {\n      bgGroup.add(bgEls[i]);\n    }\n\n    group.add(bgGroup);\n    this._backgroundEls = bgEls;\n    this._data = data;\n  },\n  _renderLarge: function (seriesModel, ecModel, api) {\n    this._clear();\n\n    createLarge(seriesModel, this.group); // Use clipPath in large mode.\n\n    var clipPath = seriesModel.get('clip', true) ? createClipPath(seriesModel.coordinateSystem, false, seriesModel) : null;\n\n    if (clipPath) {\n      this.group.setClipPath(clipPath);\n    } else {\n      this.group.removeClipPath();\n    }\n  },\n  _incrementalRenderLarge: function (params, seriesModel) {\n    this._removeBackground();\n\n    createLarge(seriesModel, this.group, true);\n  },\n  dispose: zrUtil.noop,\n  remove: function (ecModel) {\n    this._clear(ecModel);\n  },\n  _clear: function (ecModel) {\n    var group = this.group;\n    var data = this._data;\n\n    if (ecModel && ecModel.get('animation') && data && !this._isLargeDraw) {\n      this._removeBackground();\n\n      this._backgroundEls = [];\n      data.eachItemGraphicEl(function (el) {\n        if (el.type === 'sector') {\n          removeSector(el.dataIndex, ecModel, el);\n        } else {\n          removeRect(el.dataIndex, ecModel, el);\n        }\n      });\n    } else {\n      group.removeAll();\n    }\n\n    this._data = null;\n  },\n  _removeBackground: function () {\n    this.group.remove(this._backgroundGroup);\n    this._backgroundGroup = null;\n  }\n});\n\nvar mathMax = Math.max;\nvar mathMin = Math.min;\nvar clip = {\n  cartesian2d: function (coordSysBoundingRect, layout) {\n    var signWidth = layout.width < 0 ? -1 : 1;\n    var signHeight = layout.height < 0 ? -1 : 1; // Needs positive width and height\n\n    if (signWidth < 0) {\n      layout.x += layout.width;\n      layout.width = -layout.width;\n    }\n\n    if (signHeight < 0) {\n      layout.y += layout.height;\n      layout.height = -layout.height;\n    }\n\n    var x = mathMax(layout.x, coordSysBoundingRect.x);\n    var x2 = mathMin(layout.x + layout.width, coordSysBoundingRect.x + coordSysBoundingRect.width);\n    var y = mathMax(layout.y, coordSysBoundingRect.y);\n    var y2 = mathMin(layout.y + layout.height, coordSysBoundingRect.y + coordSysBoundingRect.height);\n    layout.x = x;\n    layout.y = y;\n    layout.width = x2 - x;\n    layout.height = y2 - y;\n    var clipped = layout.width < 0 || layout.height < 0; // Reverse back\n\n    if (signWidth < 0) {\n      layout.x += layout.width;\n      layout.width = -layout.width;\n    }\n\n    if (signHeight < 0) {\n      layout.y += layout.height;\n      layout.height = -layout.height;\n    }\n\n    return clipped;\n  },\n  polar: function (coordSysClipArea) {\n    return false;\n  }\n};\nvar elementCreator = {\n  cartesian2d: function (dataIndex, layout, isHorizontal, animationModel, isUpdate) {\n    var rect = new graphic.Rect({\n      shape: zrUtil.extend({}, layout),\n      z2: 1\n    });\n    rect.name = 'item'; // Animation\n\n    if (animationModel) {\n      var rectShape = rect.shape;\n      var animateProperty = isHorizontal ? 'height' : 'width';\n      var animateTarget = {};\n      rectShape[animateProperty] = 0;\n      animateTarget[animateProperty] = layout[animateProperty];\n      graphic[isUpdate ? 'updateProps' : 'initProps'](rect, {\n        shape: animateTarget\n      }, animationModel, dataIndex);\n    }\n\n    return rect;\n  },\n  polar: function (dataIndex, layout, isRadial, animationModel, isUpdate, roundCap) {\n    // Keep the same logic with bar in catesion: use end value to control\n    // direction. Notice that if clockwise is true (by default), the sector\n    // will always draw clockwisely, no matter whether endAngle is greater\n    // or less than startAngle.\n    var clockwise = layout.startAngle < layout.endAngle;\n    var ShapeClass = !isRadial && roundCap ? Sausage : graphic.Sector;\n    var sector = new ShapeClass({\n      shape: zrUtil.defaults({\n        clockwise: clockwise\n      }, layout),\n      z2: 1\n    });\n    sector.name = 'item'; // Animation\n\n    if (animationModel) {\n      var sectorShape = sector.shape;\n      var animateProperty = isRadial ? 'r' : 'endAngle';\n      var animateTarget = {};\n      sectorShape[animateProperty] = isRadial ? 0 : layout.startAngle;\n      animateTarget[animateProperty] = layout[animateProperty];\n      graphic[isUpdate ? 'updateProps' : 'initProps'](sector, {\n        shape: animateTarget\n      }, animationModel, dataIndex);\n    }\n\n    return sector;\n  }\n};\n\nfunction removeRect(dataIndex, animationModel, el) {\n  // Not show text when animating\n  el.style.text = null;\n  graphic.updateProps(el, {\n    shape: {\n      width: 0\n    }\n  }, animationModel, dataIndex, function () {\n    el.parent && el.parent.remove(el);\n  });\n}\n\nfunction removeSector(dataIndex, animationModel, el) {\n  // Not show text when animating\n  el.style.text = null;\n  graphic.updateProps(el, {\n    shape: {\n      r: el.shape.r0\n    }\n  }, animationModel, dataIndex, function () {\n    el.parent && el.parent.remove(el);\n  });\n}\n\nvar getLayout = {\n  // itemModel is only used to get borderWidth, which is not needed\n  // when calculating bar background layout.\n  cartesian2d: function (data, dataIndex, itemModel) {\n    var layout = data.getItemLayout(dataIndex);\n    var fixedLineWidth = itemModel ? getLineWidth(itemModel, layout) : 0; // fix layout with lineWidth\n\n    var signX = layout.width > 0 ? 1 : -1;\n    var signY = layout.height > 0 ? 1 : -1;\n    return {\n      x: layout.x + signX * fixedLineWidth / 2,\n      y: layout.y + signY * fixedLineWidth / 2,\n      width: layout.width - signX * fixedLineWidth,\n      height: layout.height - signY * fixedLineWidth\n    };\n  },\n  polar: function (data, dataIndex, itemModel) {\n    var layout = data.getItemLayout(dataIndex);\n    return {\n      cx: layout.cx,\n      cy: layout.cy,\n      r0: layout.r0,\n      r: layout.r,\n      startAngle: layout.startAngle,\n      endAngle: layout.endAngle\n    };\n  }\n};\n\nfunction isZeroOnPolar(layout) {\n  return layout.startAngle != null && layout.endAngle != null && layout.startAngle === layout.endAngle;\n}\n\nfunction updateStyle(el, data, dataIndex, itemModel, layout, seriesModel, isHorizontal, isPolar) {\n  var color = data.getItemVisual(dataIndex, 'color');\n  var opacity = data.getItemVisual(dataIndex, 'opacity');\n  var stroke = data.getVisual('borderColor');\n  var itemStyleModel = itemModel.getModel('itemStyle');\n  var hoverStyle = itemModel.getModel('emphasis.itemStyle').getBarItemStyle();\n\n  if (!isPolar) {\n    el.setShape('r', itemStyleModel.get('barBorderRadius') || 0);\n  }\n\n  el.useStyle(zrUtil.defaults({\n    stroke: isZeroOnPolar(layout) ? 'none' : stroke,\n    fill: isZeroOnPolar(layout) ? 'none' : color,\n    opacity: opacity\n  }, itemStyleModel.getBarItemStyle()));\n  var cursorStyle = itemModel.getShallow('cursor');\n  cursorStyle && el.attr('cursor', cursorStyle);\n  var labelPositionOutside = isHorizontal ? layout.height > 0 ? 'bottom' : 'top' : layout.width > 0 ? 'left' : 'right';\n\n  if (!isPolar) {\n    setLabel(el.style, hoverStyle, itemModel, color, seriesModel, dataIndex, labelPositionOutside);\n  }\n\n  if (isZeroOnPolar(layout)) {\n    hoverStyle.fill = hoverStyle.stroke = 'none';\n  }\n\n  graphic.setHoverStyle(el, hoverStyle);\n} // In case width or height are too small.\n\n\nfunction getLineWidth(itemModel, rawLayout) {\n  var lineWidth = itemModel.get(BAR_BORDER_WIDTH_QUERY) || 0; // width or height may be NaN for empty data\n\n  var width = isNaN(rawLayout.width) ? Number.MAX_VALUE : Math.abs(rawLayout.width);\n  var height = isNaN(rawLayout.height) ? Number.MAX_VALUE : Math.abs(rawLayout.height);\n  return Math.min(lineWidth, width, height);\n}\n\nvar LargePath = Path.extend({\n  type: 'largeBar',\n  shape: {\n    points: []\n  },\n  buildPath: function (ctx, shape) {\n    // Drawing lines is more efficient than drawing\n    // a whole line or drawing rects.\n    var points = shape.points;\n    var startPoint = this.__startPoint;\n    var baseDimIdx = this.__baseDimIdx;\n\n    for (var i = 0; i < points.length; i += 2) {\n      startPoint[baseDimIdx] = points[i + baseDimIdx];\n      ctx.moveTo(startPoint[0], startPoint[1]);\n      ctx.lineTo(points[i], points[i + 1]);\n    }\n  }\n});\n\nfunction createLarge(seriesModel, group, incremental) {\n  // TODO support polar\n  var data = seriesModel.getData();\n  var startPoint = [];\n  var baseDimIdx = data.getLayout('valueAxisHorizontal') ? 1 : 0;\n  startPoint[1 - baseDimIdx] = data.getLayout('valueAxisStart');\n  var largeDataIndices = data.getLayout('largeDataIndices');\n  var barWidth = data.getLayout('barWidth');\n  var backgroundModel = seriesModel.getModel('backgroundStyle');\n  var drawBackground = seriesModel.get('showBackground', true);\n\n  if (drawBackground) {\n    var points = data.getLayout('largeBackgroundPoints');\n    var backgroundStartPoint = [];\n    backgroundStartPoint[1 - baseDimIdx] = data.getLayout('backgroundStart');\n    var bgEl = new LargePath({\n      shape: {\n        points: points\n      },\n      incremental: !!incremental,\n      __startPoint: backgroundStartPoint,\n      __baseDimIdx: baseDimIdx,\n      __largeDataIndices: largeDataIndices,\n      __barWidth: barWidth,\n      silent: true,\n      z2: 0\n    });\n    setLargeBackgroundStyle(bgEl, backgroundModel, data);\n    group.add(bgEl);\n  }\n\n  var el = new LargePath({\n    shape: {\n      points: data.getLayout('largePoints')\n    },\n    incremental: !!incremental,\n    __startPoint: startPoint,\n    __baseDimIdx: baseDimIdx,\n    __largeDataIndices: largeDataIndices,\n    __barWidth: barWidth\n  });\n  group.add(el);\n  setLargeStyle(el, seriesModel, data); // Enable tooltip and user mouse/touch event handlers.\n\n  el.seriesIndex = seriesModel.seriesIndex;\n\n  if (!seriesModel.get('silent')) {\n    el.on('mousedown', largePathUpdateDataIndex);\n    el.on('mousemove', largePathUpdateDataIndex);\n  }\n} // Use throttle to avoid frequently traverse to find dataIndex.\n\n\nvar largePathUpdateDataIndex = throttle(function (event) {\n  var largePath = this;\n  var dataIndex = largePathFindDataIndex(largePath, event.offsetX, event.offsetY);\n  largePath.dataIndex = dataIndex >= 0 ? dataIndex : null;\n}, 30, false);\n\nfunction largePathFindDataIndex(largePath, x, y) {\n  var baseDimIdx = largePath.__baseDimIdx;\n  var valueDimIdx = 1 - baseDimIdx;\n  var points = largePath.shape.points;\n  var largeDataIndices = largePath.__largeDataIndices;\n  var barWidthHalf = Math.abs(largePath.__barWidth / 2);\n  var startValueVal = largePath.__startPoint[valueDimIdx];\n  _eventPos[0] = x;\n  _eventPos[1] = y;\n  var pointerBaseVal = _eventPos[baseDimIdx];\n  var pointerValueVal = _eventPos[1 - baseDimIdx];\n  var baseLowerBound = pointerBaseVal - barWidthHalf;\n  var baseUpperBound = pointerBaseVal + barWidthHalf;\n\n  for (var i = 0, len = points.length / 2; i < len; i++) {\n    var ii = i * 2;\n    var barBaseVal = points[ii + baseDimIdx];\n    var barValueVal = points[ii + valueDimIdx];\n\n    if (barBaseVal >= baseLowerBound && barBaseVal <= baseUpperBound && (startValueVal <= barValueVal ? pointerValueVal >= startValueVal && pointerValueVal <= barValueVal : pointerValueVal >= barValueVal && pointerValueVal <= startValueVal)) {\n      return largeDataIndices[i];\n    }\n  }\n\n  return -1;\n}\n\nfunction setLargeStyle(el, seriesModel, data) {\n  var borderColor = data.getVisual('borderColor') || data.getVisual('color');\n  var itemStyle = seriesModel.getModel('itemStyle').getItemStyle(['color', 'borderColor']);\n  el.useStyle(itemStyle);\n  el.style.fill = null;\n  el.style.stroke = borderColor;\n  el.style.lineWidth = data.getLayout('barWidth');\n}\n\nfunction setLargeBackgroundStyle(el, backgroundModel, data) {\n  var borderColor = backgroundModel.get('borderColor') || backgroundModel.get('color');\n  var itemStyle = backgroundModel.getItemStyle(['color', 'borderColor']);\n  el.useStyle(itemStyle);\n  el.style.fill = null;\n  el.style.stroke = borderColor;\n  el.style.lineWidth = data.getLayout('barWidth');\n}\n\nfunction createBackgroundShape(isHorizontalOrRadial, layout, coord) {\n  var coordLayout;\n  var isPolar = coord.type === 'polar';\n\n  if (isPolar) {\n    coordLayout = coord.getArea();\n  } else {\n    coordLayout = coord.grid.getRect();\n  }\n\n  if (isPolar) {\n    return {\n      cx: coordLayout.cx,\n      cy: coordLayout.cy,\n      r0: isHorizontalOrRadial ? coordLayout.r0 : layout.r0,\n      r: isHorizontalOrRadial ? coordLayout.r : layout.r,\n      startAngle: isHorizontalOrRadial ? layout.startAngle : 0,\n      endAngle: isHorizontalOrRadial ? layout.endAngle : Math.PI * 2\n    };\n  } else {\n    return {\n      x: isHorizontalOrRadial ? layout.x : coordLayout.x,\n      y: isHorizontalOrRadial ? coordLayout.y : layout.y,\n      width: isHorizontalOrRadial ? layout.width : coordLayout.width,\n      height: isHorizontalOrRadial ? coordLayout.height : layout.height\n    };\n  }\n}\n\nfunction createBackgroundEl(coord, isHorizontalOrRadial, layout) {\n  var ElementClz = coord.type === 'polar' ? graphic.Sector : graphic.Rect;\n  return new ElementClz({\n    shape: createBackgroundShape(isHorizontalOrRadial, layout, coord),\n    silent: true,\n    z2: 0\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar echartsAPIList = ['getDom', 'getZr', 'getWidth', 'getHeight', 'getDevicePixelRatio', 'dispatchAction', 'isDisposed', 'on', 'off', 'getDataURL', 'getConnectedDataURL', 'getModel', 'getOption', 'getViewOfComponentModel', 'getViewOfSeriesModel']; // And `getCoordinateSystems` and `getComponentByElement` will be injected in echarts.js\n\nfunction ExtensionAPI(chartInstance) {\n  zrUtil.each(echartsAPIList, function (name) {\n    this[name] = zrUtil.bind(chartInstance[name], chartInstance);\n  }, this);\n}\n\nvar _default = ExtensionAPI;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _barGrid = require(\"../layout/barGrid\");\n\nvar layout = _barGrid.layout;\nvar largeLayout = _barGrid.largeLayout;\n\nrequire(\"../coord/cartesian/Grid\");\n\nrequire(\"./bar/BarSeries\");\n\nrequire(\"./bar/BarView\");\n\nrequire(\"../component/gridSimple\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// In case developer forget to include grid component\necharts.registerLayout(echarts.PRIORITY.VISUAL.LAYOUT, zrUtil.curry(layout, 'bar')); // Use higher prority to avoid to be blocked by other overall layout, which do not\n// only exist in this module, but probably also exist in other modules, like `barPolar`.\n\necharts.registerLayout(echarts.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT, largeLayout);\necharts.registerVisual({\n  seriesType: 'bar',\n  reset: function (seriesModel) {\n    // Visual coding for legend\n    seriesModel.getData().setVisual('legendSymbol', 'roundRect');\n  }\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _dataStackHelper = require(\"../../data/helper/dataStackHelper\");\n\nvar isDimensionStacked = _dataStackHelper.isDimensionStacked;\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar map = _util.map;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {Object} coordSys\n * @param {module:echarts/data/List} data\n * @param {string} valueOrigin lineSeries.option.areaStyle.origin\n */\nfunction prepareDataCoordInfo(coordSys, data, valueOrigin) {\n  var baseAxis = coordSys.getBaseAxis();\n  var valueAxis = coordSys.getOtherAxis(baseAxis);\n  var valueStart = getValueStart(valueAxis, valueOrigin);\n  var baseAxisDim = baseAxis.dim;\n  var valueAxisDim = valueAxis.dim;\n  var valueDim = data.mapDimension(valueAxisDim);\n  var baseDim = data.mapDimension(baseAxisDim);\n  var baseDataOffset = valueAxisDim === 'x' || valueAxisDim === 'radius' ? 1 : 0;\n  var dims = map(coordSys.dimensions, function (coordDim) {\n    return data.mapDimension(coordDim);\n  });\n  var stacked;\n  var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n  if (stacked |= isDimensionStacked(data, dims[0]\n  /*, dims[1]*/\n  )) {\n    // jshint ignore:line\n    dims[0] = stackResultDim;\n  }\n\n  if (stacked |= isDimensionStacked(data, dims[1]\n  /*, dims[0]*/\n  )) {\n    // jshint ignore:line\n    dims[1] = stackResultDim;\n  }\n\n  return {\n    dataDimsForPoint: dims,\n    valueStart: valueStart,\n    valueAxisDim: valueAxisDim,\n    baseAxisDim: baseAxisDim,\n    stacked: !!stacked,\n    valueDim: valueDim,\n    baseDim: baseDim,\n    baseDataOffset: baseDataOffset,\n    stackedOverDimension: data.getCalculationInfo('stackedOverDimension')\n  };\n}\n\nfunction getValueStart(valueAxis, valueOrigin) {\n  var valueStart = 0;\n  var extent = valueAxis.scale.getExtent();\n\n  if (valueOrigin === 'start') {\n    valueStart = extent[0];\n  } else if (valueOrigin === 'end') {\n    valueStart = extent[1];\n  } // auto\n  else {\n      // Both positive\n      if (extent[0] > 0) {\n        valueStart = extent[0];\n      } // Both negative\n      else if (extent[1] < 0) {\n          valueStart = extent[1];\n        } // If is one positive, and one negative, onZero shall be true\n\n    }\n\n  return valueStart;\n}\n\nfunction getStackedOnPoint(dataCoordInfo, coordSys, data, idx) {\n  var value = NaN;\n\n  if (dataCoordInfo.stacked) {\n    value = data.get(data.getCalculationInfo('stackedOverDimension'), idx);\n  }\n\n  if (isNaN(value)) {\n    value = dataCoordInfo.valueStart;\n  }\n\n  var baseDataOffset = dataCoordInfo.baseDataOffset;\n  var stackedData = [];\n  stackedData[baseDataOffset] = data.get(dataCoordInfo.baseDim, idx);\n  stackedData[1 - baseDataOffset] = value;\n  return coordSys.dataToPoint(stackedData);\n}\n\nexports.prepareDataCoordInfo = prepareDataCoordInfo;\nexports.getStackedOnPoint = getStackedOnPoint;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar PointerPath = require(\"./PointerPath\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar ChartView = require(\"../../view/Chart\");\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\nvar round = _number.round;\nvar linearMap = _number.linearMap;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction parsePosition(seriesModel, api) {\n  var center = seriesModel.get('center');\n  var width = api.getWidth();\n  var height = api.getHeight();\n  var size = Math.min(width, height);\n  var cx = parsePercent(center[0], api.getWidth());\n  var cy = parsePercent(center[1], api.getHeight());\n  var r = parsePercent(seriesModel.get('radius'), size / 2);\n  return {\n    cx: cx,\n    cy: cy,\n    r: r\n  };\n}\n\nfunction formatLabel(label, labelFormatter) {\n  if (labelFormatter) {\n    if (typeof labelFormatter === 'string') {\n      label = labelFormatter.replace('{value}', label != null ? label : '');\n    } else if (typeof labelFormatter === 'function') {\n      label = labelFormatter(label);\n    }\n  }\n\n  return label;\n}\n\nvar PI2 = Math.PI * 2;\nvar GaugeView = ChartView.extend({\n  type: 'gauge',\n  render: function (seriesModel, ecModel, api) {\n    this.group.removeAll();\n    var colorList = seriesModel.get('axisLine.lineStyle.color');\n    var posInfo = parsePosition(seriesModel, api);\n\n    this._renderMain(seriesModel, ecModel, api, colorList, posInfo);\n  },\n  dispose: function () {},\n  _renderMain: function (seriesModel, ecModel, api, colorList, posInfo) {\n    var group = this.group;\n    var axisLineModel = seriesModel.getModel('axisLine');\n    var lineStyleModel = axisLineModel.getModel('lineStyle');\n    var clockwise = seriesModel.get('clockwise');\n    var startAngle = -seriesModel.get('startAngle') / 180 * Math.PI;\n    var endAngle = -seriesModel.get('endAngle') / 180 * Math.PI;\n    var angleRangeSpan = (endAngle - startAngle) % PI2;\n    var prevEndAngle = startAngle;\n    var axisLineWidth = lineStyleModel.get('width');\n    var showAxis = axisLineModel.get('show');\n\n    for (var i = 0; showAxis && i < colorList.length; i++) {\n      // Clamp\n      var percent = Math.min(Math.max(colorList[i][0], 0), 1);\n      var endAngle = startAngle + angleRangeSpan * percent;\n      var sector = new graphic.Sector({\n        shape: {\n          startAngle: prevEndAngle,\n          endAngle: endAngle,\n          cx: posInfo.cx,\n          cy: posInfo.cy,\n          clockwise: clockwise,\n          r0: posInfo.r - axisLineWidth,\n          r: posInfo.r\n        },\n        silent: true\n      });\n      sector.setStyle({\n        fill: colorList[i][1]\n      });\n      sector.setStyle(lineStyleModel.getLineStyle( // Because we use sector to simulate arc\n      // so the properties for stroking are useless\n      ['color', 'borderWidth', 'borderColor']));\n      group.add(sector);\n      prevEndAngle = endAngle;\n    }\n\n    var getColor = function (percent) {\n      // Less than 0\n      if (percent <= 0) {\n        return colorList[0][1];\n      }\n\n      for (var i = 0; i < colorList.length; i++) {\n        if (colorList[i][0] >= percent && (i === 0 ? 0 : colorList[i - 1][0]) < percent) {\n          return colorList[i][1];\n        }\n      } // More than 1\n\n\n      return colorList[i - 1][1];\n    };\n\n    if (!clockwise) {\n      var tmp = startAngle;\n      startAngle = endAngle;\n      endAngle = tmp;\n    }\n\n    this._renderTicks(seriesModel, ecModel, api, getColor, posInfo, startAngle, endAngle, clockwise);\n\n    this._renderPointer(seriesModel, ecModel, api, getColor, posInfo, startAngle, endAngle, clockwise);\n\n    this._renderTitle(seriesModel, ecModel, api, getColor, posInfo);\n\n    this._renderDetail(seriesModel, ecModel, api, getColor, posInfo);\n  },\n  _renderTicks: function (seriesModel, ecModel, api, getColor, posInfo, startAngle, endAngle, clockwise) {\n    var group = this.group;\n    var cx = posInfo.cx;\n    var cy = posInfo.cy;\n    var r = posInfo.r;\n    var minVal = +seriesModel.get('min');\n    var maxVal = +seriesModel.get('max');\n    var splitLineModel = seriesModel.getModel('splitLine');\n    var tickModel = seriesModel.getModel('axisTick');\n    var labelModel = seriesModel.getModel('axisLabel');\n    var splitNumber = seriesModel.get('splitNumber');\n    var subSplitNumber = tickModel.get('splitNumber');\n    var splitLineLen = parsePercent(splitLineModel.get('length'), r);\n    var tickLen = parsePercent(tickModel.get('length'), r);\n    var angle = startAngle;\n    var step = (endAngle - startAngle) / splitNumber;\n    var subStep = step / subSplitNumber;\n    var splitLineStyle = splitLineModel.getModel('lineStyle').getLineStyle();\n    var tickLineStyle = tickModel.getModel('lineStyle').getLineStyle();\n\n    for (var i = 0; i <= splitNumber; i++) {\n      var unitX = Math.cos(angle);\n      var unitY = Math.sin(angle); // Split line\n\n      if (splitLineModel.get('show')) {\n        var splitLine = new graphic.Line({\n          shape: {\n            x1: unitX * r + cx,\n            y1: unitY * r + cy,\n            x2: unitX * (r - splitLineLen) + cx,\n            y2: unitY * (r - splitLineLen) + cy\n          },\n          style: splitLineStyle,\n          silent: true\n        });\n\n        if (splitLineStyle.stroke === 'auto') {\n          splitLine.setStyle({\n            stroke: getColor(i / splitNumber)\n          });\n        }\n\n        group.add(splitLine);\n      } // Label\n\n\n      if (labelModel.get('show')) {\n        var label = formatLabel(round(i / splitNumber * (maxVal - minVal) + minVal), labelModel.get('formatter'));\n        var distance = labelModel.get('distance');\n        var autoColor = getColor(i / splitNumber);\n        group.add(new graphic.Text({\n          style: graphic.setTextStyle({}, labelModel, {\n            text: label,\n            x: unitX * (r - splitLineLen - distance) + cx,\n            y: unitY * (r - splitLineLen - distance) + cy,\n            textVerticalAlign: unitY < -0.4 ? 'top' : unitY > 0.4 ? 'bottom' : 'middle',\n            textAlign: unitX < -0.4 ? 'left' : unitX > 0.4 ? 'right' : 'center'\n          }, {\n            autoColor: autoColor\n          }),\n          silent: true\n        }));\n      } // Axis tick\n\n\n      if (tickModel.get('show') && i !== splitNumber) {\n        for (var j = 0; j <= subSplitNumber; j++) {\n          var unitX = Math.cos(angle);\n          var unitY = Math.sin(angle);\n          var tickLine = new graphic.Line({\n            shape: {\n              x1: unitX * r + cx,\n              y1: unitY * r + cy,\n              x2: unitX * (r - tickLen) + cx,\n              y2: unitY * (r - tickLen) + cy\n            },\n            silent: true,\n            style: tickLineStyle\n          });\n\n          if (tickLineStyle.stroke === 'auto') {\n            tickLine.setStyle({\n              stroke: getColor((i + j / subSplitNumber) / splitNumber)\n            });\n          }\n\n          group.add(tickLine);\n          angle += subStep;\n        }\n\n        angle -= subStep;\n      } else {\n        angle += step;\n      }\n    }\n  },\n  _renderPointer: function (seriesModel, ecModel, api, getColor, posInfo, startAngle, endAngle, clockwise) {\n    var group = this.group;\n    var oldData = this._data;\n\n    if (!seriesModel.get('pointer.show')) {\n      // Remove old element\n      oldData && oldData.eachItemGraphicEl(function (el) {\n        group.remove(el);\n      });\n      return;\n    }\n\n    var valueExtent = [+seriesModel.get('min'), +seriesModel.get('max')];\n    var angleExtent = [startAngle, endAngle];\n    var data = seriesModel.getData();\n    var valueDim = data.mapDimension('value');\n    data.diff(oldData).add(function (idx) {\n      var pointer = new PointerPath({\n        shape: {\n          angle: startAngle\n        }\n      });\n      graphic.initProps(pointer, {\n        shape: {\n          angle: linearMap(data.get(valueDim, idx), valueExtent, angleExtent, true)\n        }\n      }, seriesModel);\n      group.add(pointer);\n      data.setItemGraphicEl(idx, pointer);\n    }).update(function (newIdx, oldIdx) {\n      var pointer = oldData.getItemGraphicEl(oldIdx);\n      graphic.updateProps(pointer, {\n        shape: {\n          angle: linearMap(data.get(valueDim, newIdx), valueExtent, angleExtent, true)\n        }\n      }, seriesModel);\n      group.add(pointer);\n      data.setItemGraphicEl(newIdx, pointer);\n    }).remove(function (idx) {\n      var pointer = oldData.getItemGraphicEl(idx);\n      group.remove(pointer);\n    }).execute();\n    data.eachItemGraphicEl(function (pointer, idx) {\n      var itemModel = data.getItemModel(idx);\n      var pointerModel = itemModel.getModel('pointer');\n      pointer.setShape({\n        x: posInfo.cx,\n        y: posInfo.cy,\n        width: parsePercent(pointerModel.get('width'), posInfo.r),\n        r: parsePercent(pointerModel.get('length'), posInfo.r)\n      });\n      pointer.useStyle(itemModel.getModel('itemStyle').getItemStyle());\n\n      if (pointer.style.fill === 'auto') {\n        pointer.setStyle('fill', getColor(linearMap(data.get(valueDim, idx), valueExtent, [0, 1], true)));\n      }\n\n      graphic.setHoverStyle(pointer, itemModel.getModel('emphasis.itemStyle').getItemStyle());\n    });\n    this._data = data;\n  },\n  _renderTitle: function (seriesModel, ecModel, api, getColor, posInfo) {\n    var data = seriesModel.getData();\n    var valueDim = data.mapDimension('value');\n    var titleModel = seriesModel.getModel('title');\n\n    if (titleModel.get('show')) {\n      var offsetCenter = titleModel.get('offsetCenter');\n      var x = posInfo.cx + parsePercent(offsetCenter[0], posInfo.r);\n      var y = posInfo.cy + parsePercent(offsetCenter[1], posInfo.r);\n      var minVal = +seriesModel.get('min');\n      var maxVal = +seriesModel.get('max');\n      var value = seriesModel.getData().get(valueDim, 0);\n      var autoColor = getColor(linearMap(value, [minVal, maxVal], [0, 1], true));\n      this.group.add(new graphic.Text({\n        silent: true,\n        style: graphic.setTextStyle({}, titleModel, {\n          x: x,\n          y: y,\n          // FIXME First data name ?\n          text: data.getName(0),\n          textAlign: 'center',\n          textVerticalAlign: 'middle'\n        }, {\n          autoColor: autoColor,\n          forceRich: true\n        })\n      }));\n    }\n  },\n  _renderDetail: function (seriesModel, ecModel, api, getColor, posInfo) {\n    var detailModel = seriesModel.getModel('detail');\n    var minVal = +seriesModel.get('min');\n    var maxVal = +seriesModel.get('max');\n\n    if (detailModel.get('show')) {\n      var offsetCenter = detailModel.get('offsetCenter');\n      var x = posInfo.cx + parsePercent(offsetCenter[0], posInfo.r);\n      var y = posInfo.cy + parsePercent(offsetCenter[1], posInfo.r);\n      var width = parsePercent(detailModel.get('width'), posInfo.r);\n      var height = parsePercent(detailModel.get('height'), posInfo.r);\n      var data = seriesModel.getData();\n      var value = data.get(data.mapDimension('value'), 0);\n      var autoColor = getColor(linearMap(value, [minVal, maxVal], [0, 1], true));\n      this.group.add(new graphic.Text({\n        silent: true,\n        style: graphic.setTextStyle({}, detailModel, {\n          x: x,\n          y: y,\n          text: formatLabel( // FIXME First data name ?\n          value, detailModel.get('formatter')),\n          textWidth: isNaN(width) ? null : width,\n          textHeight: isNaN(height) ? null : height,\n          textAlign: 'center',\n          textVerticalAlign: 'middle'\n        }, {\n          autoColor: autoColor,\n          forceRich: true\n        })\n      }));\n    }\n  }\n});\nvar _default = GaugeView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _number = require(\"../../util/number\");\n\nvar round = _number.round;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction createGridClipPath(cartesian, hasAnimation, seriesModel) {\n  var rect = cartesian.getArea();\n  var isHorizontal = cartesian.getBaseAxis().isHorizontal();\n  var x = rect.x;\n  var y = rect.y;\n  var width = rect.width;\n  var height = rect.height;\n  var lineWidth = seriesModel.get('lineStyle.width') || 2; // Expand the clip path a bit to avoid the border is clipped and looks thinner\n\n  x -= lineWidth / 2;\n  y -= lineWidth / 2;\n  width += lineWidth;\n  height += lineWidth; // fix: https://github.com/apache/incubator-echarts/issues/11369\n\n  x = Math.floor(x);\n  width = Math.round(width);\n  var clipPath = new graphic.Rect({\n    shape: {\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    }\n  });\n\n  if (hasAnimation) {\n    clipPath.shape[isHorizontal ? 'width' : 'height'] = 0;\n    graphic.initProps(clipPath, {\n      shape: {\n        width: width,\n        height: height\n      }\n    }, seriesModel);\n  }\n\n  return clipPath;\n}\n\nfunction createPolarClipPath(polar, hasAnimation, seriesModel) {\n  var sectorArea = polar.getArea(); // Avoid float number rounding error for symbol on the edge of axis extent.\n\n  var clipPath = new graphic.Sector({\n    shape: {\n      cx: round(polar.cx, 1),\n      cy: round(polar.cy, 1),\n      r0: round(sectorArea.r0, 1),\n      r: round(sectorArea.r, 1),\n      startAngle: sectorArea.startAngle,\n      endAngle: sectorArea.endAngle,\n      clockwise: sectorArea.clockwise\n    }\n  });\n\n  if (hasAnimation) {\n    clipPath.shape.endAngle = sectorArea.startAngle;\n    graphic.initProps(clipPath, {\n      shape: {\n        endAngle: sectorArea.endAngle\n      }\n    }, seriesModel);\n  }\n\n  return clipPath;\n}\n\nfunction createClipPath(coordSys, hasAnimation, seriesModel) {\n  if (!coordSys) {\n    return null;\n  } else if (coordSys.type === 'polar') {\n    return createPolarClipPath(coordSys, hasAnimation, seriesModel);\n  } else if (coordSys.type === 'cartesian2d') {\n    return createGridClipPath(coordSys, hasAnimation, seriesModel);\n  }\n\n  return null;\n}\n\nexports.createGridClipPath = createGridClipPath;\nexports.createPolarClipPath = createPolarClipPath;\nexports.createClipPath = createClipPath;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar makeStyleMapper = require(\"../../model/mixin/makeStyleMapper\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar getBarItemStyle = makeStyleMapper([['fill', 'color'], ['stroke', 'borderColor'], ['lineWidth', 'borderWidth'], // Compatitable with 2\n['stroke', 'barBorderColor'], ['lineWidth', 'barBorderWidth'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor']]);\nvar _default = {\n  getBarItemStyle: function (excludes) {\n    var style = getBarItemStyle(this, excludes);\n\n    if (this.getBorderLineDash) {\n      var lineDash = this.getBorderLineDash();\n      lineDash && (style.lineDash = lineDash);\n    }\n\n    return style;\n  }\n};\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _dataProvider = require(\"../../data/helper/dataProvider\");\n\nvar retrieveRawValue = _dataProvider.retrieveRawValue;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {module:echarts/data/List} data\n * @param {number} dataIndex\n * @return {string} label string. Not null/undefined\n */\nfunction getDefaultLabel(data, dataIndex) {\n  var labelDims = data.mapDimension('defaultedLabel', true);\n  var len = labelDims.length; // Simple optimization (in lots of cases, label dims length is 1)\n\n  if (len === 1) {\n    return retrieveRawValue(data, dataIndex, labelDims[0]);\n  } else if (len) {\n    var vals = [];\n\n    for (var i = 0; i < labelDims.length; i++) {\n      var val = retrieveRawValue(data, dataIndex, labelDims[i]);\n      vals.push(val);\n    }\n\n    return vals.join(' ');\n  }\n}\n\nexports.getDefaultLabel = getDefaultLabel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _model = require(\"../../util/model\");\n\nvar makeInner = _model.makeInner;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @return {string} If large mode changed, return string 'reset';\n */\nfunction _default() {\n  var inner = makeInner();\n  return function (seriesModel) {\n    var fields = inner(seriesModel);\n    var pipelineContext = seriesModel.pipelineContext;\n    var originalLarge = fields.large;\n    var originalProgressive = fields.progressiveRender; // FIXME: if the planner works on a filtered series, `pipelineContext` does not\n    // exists. See #11611 . Probably we need to modify this structure, see the comment\n    // on `performRawSeries` in `Schedular.js`.\n\n    var large = fields.large = pipelineContext && pipelineContext.large;\n    var progressive = fields.progressiveRender = pipelineContext && pipelineContext.progressiveRender;\n    return !!(originalLarge ^ large || originalProgressive ^ progressive) && 'reset';\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar Path = require(\"zrender/lib/graphic/Path\");\n\nvar vec2 = require(\"zrender/lib/core/vector\");\n\nvar fixClipWithShadow = require(\"zrender/lib/graphic/helper/fixClipWithShadow\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Poly path support NaN point\nvar vec2Min = vec2.min;\nvar vec2Max = vec2.max;\nvar scaleAndAdd = vec2.scaleAndAdd;\nvar v2Copy = vec2.copy; // Temporary variable\n\nvar v = [];\nvar cp0 = [];\nvar cp1 = [];\n\nfunction isPointNull(p) {\n  return isNaN(p[0]) || isNaN(p[1]);\n}\n\nfunction drawSegment(ctx, points, start, segLen, allLen, dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls) {\n  // if (smoothMonotone == null) {\n  //     if (isMono(points, 'x')) {\n  //         return drawMono(ctx, points, start, segLen, allLen,\n  //             dir, smoothMin, smoothMax, smooth, 'x', connectNulls);\n  //     }\n  //     else if (isMono(points, 'y')) {\n  //         return drawMono(ctx, points, start, segLen, allLen,\n  //             dir, smoothMin, smoothMax, smooth, 'y', connectNulls);\n  //     }\n  //     else {\n  //         return drawNonMono.apply(this, arguments);\n  //     }\n  // }\n  // else if (smoothMonotone !== 'none' && isMono(points, smoothMonotone)) {\n  //     return drawMono.apply(this, arguments);\n  // }\n  // else {\n  //     return drawNonMono.apply(this, arguments);\n  // }\n  if (smoothMonotone === 'none' || !smoothMonotone) {\n    return drawNonMono.apply(this, arguments);\n  } else {\n    return drawMono.apply(this, arguments);\n  }\n}\n/**\n * Check if points is in monotone.\n *\n * @param {number[][]} points         Array of points which is in [x, y] form\n * @param {string}     smoothMonotone 'x', 'y', or 'none', stating for which\n *                                    dimension that is checking.\n *                                    If is 'none', `drawNonMono` should be\n *                                    called.\n *                                    If is undefined, either being monotone\n *                                    in 'x' or 'y' will call `drawMono`.\n */\n// function isMono(points, smoothMonotone) {\n//     if (points.length <= 1) {\n//         return true;\n//     }\n//     var dim = smoothMonotone === 'x' ? 0 : 1;\n//     var last = points[0][dim];\n//     var lastDiff = 0;\n//     for (var i = 1; i < points.length; ++i) {\n//         var diff = points[i][dim] - last;\n//         if (!isNaN(diff) && !isNaN(lastDiff)\n//             && diff !== 0 && lastDiff !== 0\n//             && ((diff >= 0) !== (lastDiff >= 0))\n//         ) {\n//             return false;\n//         }\n//         if (!isNaN(diff) && diff !== 0) {\n//             lastDiff = diff;\n//             last = points[i][dim];\n//         }\n//     }\n//     return true;\n// }\n\n/**\n * Draw smoothed line in monotone, in which only vertical or horizontal bezier\n * control points will be used. This should be used when points are monotone\n * either in x or y dimension.\n */\n\n\nfunction drawMono(ctx, points, start, segLen, allLen, dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls) {\n  var prevIdx = 0;\n  var idx = start;\n\n  for (var k = 0; k < segLen; k++) {\n    var p = points[idx];\n\n    if (idx >= allLen || idx < 0) {\n      break;\n    }\n\n    if (isPointNull(p)) {\n      if (connectNulls) {\n        idx += dir;\n        continue;\n      }\n\n      break;\n    }\n\n    if (idx === start) {\n      ctx[dir > 0 ? 'moveTo' : 'lineTo'](p[0], p[1]);\n    } else {\n      if (smooth > 0) {\n        var prevP = points[prevIdx];\n        var dim = smoothMonotone === 'y' ? 1 : 0; // Length of control point to p, either in x or y, but not both\n\n        var ctrlLen = (p[dim] - prevP[dim]) * smooth;\n        v2Copy(cp0, prevP);\n        cp0[dim] = prevP[dim] + ctrlLen;\n        v2Copy(cp1, p);\n        cp1[dim] = p[dim] - ctrlLen;\n        ctx.bezierCurveTo(cp0[0], cp0[1], cp1[0], cp1[1], p[0], p[1]);\n      } else {\n        ctx.lineTo(p[0], p[1]);\n      }\n    }\n\n    prevIdx = idx;\n    idx += dir;\n  }\n\n  return k;\n}\n/**\n * Draw smoothed line in non-monotone, in may cause undesired curve in extreme\n * situations. This should be used when points are non-monotone neither in x or\n * y dimension.\n */\n\n\nfunction drawNonMono(ctx, points, start, segLen, allLen, dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls) {\n  var prevIdx = 0;\n  var idx = start;\n\n  for (var k = 0; k < segLen; k++) {\n    var p = points[idx];\n\n    if (idx >= allLen || idx < 0) {\n      break;\n    }\n\n    if (isPointNull(p)) {\n      if (connectNulls) {\n        idx += dir;\n        continue;\n      }\n\n      break;\n    }\n\n    if (idx === start) {\n      ctx[dir > 0 ? 'moveTo' : 'lineTo'](p[0], p[1]);\n      v2Copy(cp0, p);\n    } else {\n      if (smooth > 0) {\n        var nextIdx = idx + dir;\n        var nextP = points[nextIdx];\n\n        if (connectNulls) {\n          // Find next point not null\n          while (nextP && isPointNull(points[nextIdx])) {\n            nextIdx += dir;\n            nextP = points[nextIdx];\n          }\n        }\n\n        var ratioNextSeg = 0.5;\n        var prevP = points[prevIdx];\n        var nextP = points[nextIdx]; // Last point\n\n        if (!nextP || isPointNull(nextP)) {\n          v2Copy(cp1, p);\n        } else {\n          // If next data is null in not connect case\n          if (isPointNull(nextP) && !connectNulls) {\n            nextP = p;\n          }\n\n          vec2.sub(v, nextP, prevP);\n          var lenPrevSeg;\n          var lenNextSeg;\n\n          if (smoothMonotone === 'x' || smoothMonotone === 'y') {\n            var dim = smoothMonotone === 'x' ? 0 : 1;\n            lenPrevSeg = Math.abs(p[dim] - prevP[dim]);\n            lenNextSeg = Math.abs(p[dim] - nextP[dim]);\n          } else {\n            lenPrevSeg = vec2.dist(p, prevP);\n            lenNextSeg = vec2.dist(p, nextP);\n          } // Use ratio of seg length\n\n\n          ratioNextSeg = lenNextSeg / (lenNextSeg + lenPrevSeg);\n          scaleAndAdd(cp1, p, v, -smooth * (1 - ratioNextSeg));\n        } // Smooth constraint\n\n\n        vec2Min(cp0, cp0, smoothMax);\n        vec2Max(cp0, cp0, smoothMin);\n        vec2Min(cp1, cp1, smoothMax);\n        vec2Max(cp1, cp1, smoothMin);\n        ctx.bezierCurveTo(cp0[0], cp0[1], cp1[0], cp1[1], p[0], p[1]); // cp0 of next segment\n\n        scaleAndAdd(cp0, p, v, smooth * ratioNextSeg);\n      } else {\n        ctx.lineTo(p[0], p[1]);\n      }\n    }\n\n    prevIdx = idx;\n    idx += dir;\n  }\n\n  return k;\n}\n\nfunction getBoundingBox(points, smoothConstraint) {\n  var ptMin = [Infinity, Infinity];\n  var ptMax = [-Infinity, -Infinity];\n\n  if (smoothConstraint) {\n    for (var i = 0; i < points.length; i++) {\n      var pt = points[i];\n\n      if (pt[0] < ptMin[0]) {\n        ptMin[0] = pt[0];\n      }\n\n      if (pt[1] < ptMin[1]) {\n        ptMin[1] = pt[1];\n      }\n\n      if (pt[0] > ptMax[0]) {\n        ptMax[0] = pt[0];\n      }\n\n      if (pt[1] > ptMax[1]) {\n        ptMax[1] = pt[1];\n      }\n    }\n  }\n\n  return {\n    min: smoothConstraint ? ptMin : ptMax,\n    max: smoothConstraint ? ptMax : ptMin\n  };\n}\n\nvar Polyline = Path.extend({\n  type: 'ec-polyline',\n  shape: {\n    points: [],\n    smooth: 0,\n    smoothConstraint: true,\n    smoothMonotone: null,\n    connectNulls: false\n  },\n  style: {\n    fill: null,\n    stroke: '#000'\n  },\n  brush: fixClipWithShadow(Path.prototype.brush),\n  buildPath: function (ctx, shape) {\n    var points = shape.points;\n    var i = 0;\n    var len = points.length;\n    var result = getBoundingBox(points, shape.smoothConstraint);\n\n    if (shape.connectNulls) {\n      // Must remove first and last null values avoid draw error in polygon\n      for (; len > 0; len--) {\n        if (!isPointNull(points[len - 1])) {\n          break;\n        }\n      }\n\n      for (; i < len; i++) {\n        if (!isPointNull(points[i])) {\n          break;\n        }\n      }\n    }\n\n    while (i < len) {\n      i += drawSegment(ctx, points, i, len, len, 1, result.min, result.max, shape.smooth, shape.smoothMonotone, shape.connectNulls) + 1;\n    }\n  }\n});\nvar Polygon = Path.extend({\n  type: 'ec-polygon',\n  shape: {\n    points: [],\n    // Offset between stacked base points and points\n    stackedOnPoints: [],\n    smooth: 0,\n    stackedOnSmooth: 0,\n    smoothConstraint: true,\n    smoothMonotone: null,\n    connectNulls: false\n  },\n  brush: fixClipWithShadow(Path.prototype.brush),\n  buildPath: function (ctx, shape) {\n    var points = shape.points;\n    var stackedOnPoints = shape.stackedOnPoints;\n    var i = 0;\n    var len = points.length;\n    var smoothMonotone = shape.smoothMonotone;\n    var bbox = getBoundingBox(points, shape.smoothConstraint);\n    var stackedOnBBox = getBoundingBox(stackedOnPoints, shape.smoothConstraint);\n\n    if (shape.connectNulls) {\n      // Must remove first and last null values avoid draw error in polygon\n      for (; len > 0; len--) {\n        if (!isPointNull(points[len - 1])) {\n          break;\n        }\n      }\n\n      for (; i < len; i++) {\n        if (!isPointNull(points[i])) {\n          break;\n        }\n      }\n    }\n\n    while (i < len) {\n      var k = drawSegment(ctx, points, i, len, len, 1, bbox.min, bbox.max, shape.smooth, smoothMonotone, shape.connectNulls);\n      drawSegment(ctx, stackedOnPoints, i + k - 1, k, len, -1, stackedOnBBox.min, stackedOnBBox.max, shape.stackedOnSmooth, smoothMonotone, shape.connectNulls);\n      i += k + 1;\n      ctx.closePath();\n    }\n  }\n});\nexports.Polyline = Polyline;\nexports.Polygon = Polygon;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar createDimensions = require(\"../../data/helper/createDimensions\");\n\nvar List = require(\"../../data/List\");\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar extend = _util.extend;\nvar isArray = _util.isArray;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * [Usage]:\n * (1)\n * createListSimply(seriesModel, ['value']);\n * (2)\n * createListSimply(seriesModel, {\n *     coordDimensions: ['value'],\n *     dimensionsCount: 5\n * });\n *\n * @param {module:echarts/model/Series} seriesModel\n * @param {Object|Array.<string|Object>} opt opt or coordDimensions\n *        The options in opt, see `echarts/data/helper/createDimensions`\n * @param {Array.<string>} [nameList]\n * @return {module:echarts/data/List}\n */\nfunction _default(seriesModel, opt, nameList) {\n  opt = isArray(opt) && {\n    coordDimensions: opt\n  } || extend({}, opt);\n  var source = seriesModel.getSource();\n  var dimensionsInfo = createDimensions(source, opt);\n  var list = new List(dimensionsInfo, seriesModel);\n  list.initData(source, nameList);\n  return list;\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _labelHelper = require(\"../helper/labelHelper\");\n\nvar getDefaultLabel = _labelHelper.getDefaultLabel;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction setLabel(normalStyle, hoverStyle, itemModel, color, seriesModel, dataIndex, labelPositionOutside) {\n  var labelModel = itemModel.getModel('label');\n  var hoverLabelModel = itemModel.getModel('emphasis.label');\n  graphic.setLabelStyle(normalStyle, hoverStyle, labelModel, hoverLabelModel, {\n    labelFetcher: seriesModel,\n    labelDataIndex: dataIndex,\n    defaultText: getDefaultLabel(seriesModel.getData(), dataIndex),\n    isRectText: true,\n    autoColor: color\n  });\n  fixPosition(normalStyle);\n  fixPosition(hoverStyle);\n}\n\nfunction fixPosition(style, labelPositionOutside) {\n  if (style.textPosition === 'outside') {\n    style.textPosition = labelPositionOutside;\n  }\n}\n\nexports.setLabel = setLabel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./line/LineSeries\");\n\nrequire(\"./line/LineView\");\n\nvar visualSymbol = require(\"../visual/symbol\");\n\nvar layoutPoints = require(\"../layout/points\");\n\nvar dataSample = require(\"../processor/dataSample\");\n\nrequire(\"../component/gridSimple\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// In case developer forget to include grid component\necharts.registerVisual(visualSymbol('line', 'circle', 'line'));\necharts.registerLayout(layoutPoints('line')); // Down sample after filter\n\necharts.registerProcessor(echarts.PRIORITY.PROCESSOR.STATISTIC, dataSample('line'));","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _helper = require(\"./helper\");\n\nvar prepareDataCoordInfo = _helper.prepareDataCoordInfo;\nvar getStackedOnPoint = _helper.getStackedOnPoint;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// var arrayDiff = require('zrender/src/core/arrayDiff');\n// 'zrender/src/core/arrayDiff' has been used before, but it did\n// not do well in performance when roam with fixed dataZoom window.\n// function convertToIntId(newIdList, oldIdList) {\n//     // Generate int id instead of string id.\n//     // Compare string maybe slow in score function of arrDiff\n//     // Assume id in idList are all unique\n//     var idIndicesMap = {};\n//     var idx = 0;\n//     for (var i = 0; i < newIdList.length; i++) {\n//         idIndicesMap[newIdList[i]] = idx;\n//         newIdList[i] = idx++;\n//     }\n//     for (var i = 0; i < oldIdList.length; i++) {\n//         var oldId = oldIdList[i];\n//         // Same with newIdList\n//         if (idIndicesMap[oldId]) {\n//             oldIdList[i] = idIndicesMap[oldId];\n//         }\n//         else {\n//             oldIdList[i] = idx++;\n//         }\n//     }\n// }\nfunction diffData(oldData, newData) {\n  var diffResult = [];\n  newData.diff(oldData).add(function (idx) {\n    diffResult.push({\n      cmd: '+',\n      idx: idx\n    });\n  }).update(function (newIdx, oldIdx) {\n    diffResult.push({\n      cmd: '=',\n      idx: oldIdx,\n      idx1: newIdx\n    });\n  }).remove(function (idx) {\n    diffResult.push({\n      cmd: '-',\n      idx: idx\n    });\n  }).execute();\n  return diffResult;\n}\n\nfunction _default(oldData, newData, oldStackedOnPoints, newStackedOnPoints, oldCoordSys, newCoordSys, oldValueOrigin, newValueOrigin) {\n  var diff = diffData(oldData, newData); // var newIdList = newData.mapArray(newData.getId);\n  // var oldIdList = oldData.mapArray(oldData.getId);\n  // convertToIntId(newIdList, oldIdList);\n  // // FIXME One data ?\n  // diff = arrayDiff(oldIdList, newIdList);\n\n  var currPoints = [];\n  var nextPoints = []; // Points for stacking base line\n\n  var currStackedPoints = [];\n  var nextStackedPoints = [];\n  var status = [];\n  var sortedIndices = [];\n  var rawIndices = [];\n  var newDataOldCoordInfo = prepareDataCoordInfo(oldCoordSys, newData, oldValueOrigin);\n  var oldDataNewCoordInfo = prepareDataCoordInfo(newCoordSys, oldData, newValueOrigin);\n\n  for (var i = 0; i < diff.length; i++) {\n    var diffItem = diff[i];\n    var pointAdded = true; // FIXME, animation is not so perfect when dataZoom window moves fast\n    // Which is in case remvoing or add more than one data in the tail or head\n\n    switch (diffItem.cmd) {\n      case '=':\n        var currentPt = oldData.getItemLayout(diffItem.idx);\n        var nextPt = newData.getItemLayout(diffItem.idx1); // If previous data is NaN, use next point directly\n\n        if (isNaN(currentPt[0]) || isNaN(currentPt[1])) {\n          currentPt = nextPt.slice();\n        }\n\n        currPoints.push(currentPt);\n        nextPoints.push(nextPt);\n        currStackedPoints.push(oldStackedOnPoints[diffItem.idx]);\n        nextStackedPoints.push(newStackedOnPoints[diffItem.idx1]);\n        rawIndices.push(newData.getRawIndex(diffItem.idx1));\n        break;\n\n      case '+':\n        var idx = diffItem.idx;\n        currPoints.push(oldCoordSys.dataToPoint([newData.get(newDataOldCoordInfo.dataDimsForPoint[0], idx), newData.get(newDataOldCoordInfo.dataDimsForPoint[1], idx)]));\n        nextPoints.push(newData.getItemLayout(idx).slice());\n        currStackedPoints.push(getStackedOnPoint(newDataOldCoordInfo, oldCoordSys, newData, idx));\n        nextStackedPoints.push(newStackedOnPoints[idx]);\n        rawIndices.push(newData.getRawIndex(idx));\n        break;\n\n      case '-':\n        var idx = diffItem.idx;\n        var rawIndex = oldData.getRawIndex(idx); // Data is replaced. In the case of dynamic data queue\n        // FIXME FIXME FIXME\n\n        if (rawIndex !== idx) {\n          currPoints.push(oldData.getItemLayout(idx));\n          nextPoints.push(newCoordSys.dataToPoint([oldData.get(oldDataNewCoordInfo.dataDimsForPoint[0], idx), oldData.get(oldDataNewCoordInfo.dataDimsForPoint[1], idx)]));\n          currStackedPoints.push(oldStackedOnPoints[idx]);\n          nextStackedPoints.push(getStackedOnPoint(oldDataNewCoordInfo, newCoordSys, oldData, idx));\n          rawIndices.push(rawIndex);\n        } else {\n          pointAdded = false;\n        }\n\n    } // Original indices\n\n\n    if (pointAdded) {\n      status.push(diffItem);\n      sortedIndices.push(sortedIndices.length);\n    }\n  } // Diff result may be crossed if all items are changed\n  // Sort by data index\n\n\n  sortedIndices.sort(function (a, b) {\n    return rawIndices[a] - rawIndices[b];\n  });\n  var sortedCurrPoints = [];\n  var sortedNextPoints = [];\n  var sortedCurrStackedPoints = [];\n  var sortedNextStackedPoints = [];\n  var sortedStatus = [];\n\n  for (var i = 0; i < sortedIndices.length; i++) {\n    var idx = sortedIndices[i];\n    sortedCurrPoints[i] = currPoints[idx];\n    sortedNextPoints[i] = nextPoints[idx];\n    sortedCurrStackedPoints[i] = currStackedPoints[idx];\n    sortedNextStackedPoints[i] = nextStackedPoints[idx];\n    sortedStatus[i] = status[idx];\n  }\n\n  return {\n    current: sortedCurrPoints,\n    next: sortedNextPoints,\n    stackedOnCurrent: sortedCurrStackedPoints,\n    stackedOnNext: sortedNextStackedPoints,\n    status: sortedStatus\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _bbox = require(\"zrender/lib/core/bbox\");\n\nvar fromPoints = _bbox.fromPoints;\n\nvar SymbolDraw = require(\"../helper/SymbolDraw\");\n\nvar SymbolClz = require(\"../helper/Symbol\");\n\nvar lineAnimationDiff = require(\"./lineAnimationDiff\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar _poly = require(\"./poly\");\n\nvar Polyline = _poly.Polyline;\nvar Polygon = _poly.Polygon;\n\nvar ChartView = require(\"../../view/Chart\");\n\nvar _helper = require(\"./helper\");\n\nvar prepareDataCoordInfo = _helper.prepareDataCoordInfo;\nvar getStackedOnPoint = _helper.getStackedOnPoint;\n\nvar _createClipPathFromCoordSys = require(\"../helper/createClipPathFromCoordSys\");\n\nvar createGridClipPath = _createClipPathFromCoordSys.createGridClipPath;\nvar createPolarClipPath = _createClipPathFromCoordSys.createPolarClipPath;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME step not support polar\nfunction isPointsSame(points1, points2) {\n  if (points1.length !== points2.length) {\n    return;\n  }\n\n  for (var i = 0; i < points1.length; i++) {\n    var p1 = points1[i];\n    var p2 = points2[i];\n\n    if (p1[0] !== p2[0] || p1[1] !== p2[1]) {\n      return;\n    }\n  }\n\n  return true;\n}\n\nfunction getBoundingDiff(points1, points2) {\n  var min1 = [];\n  var max1 = [];\n  var min2 = [];\n  var max2 = [];\n  fromPoints(points1, min1, max1);\n  fromPoints(points2, min2, max2); // Get a max value from each corner of two boundings.\n\n  return Math.max(Math.abs(min1[0] - min2[0]), Math.abs(min1[1] - min2[1]), Math.abs(max1[0] - max2[0]), Math.abs(max1[1] - max2[1]));\n}\n\nfunction getSmooth(smooth) {\n  return typeof smooth === 'number' ? smooth : smooth ? 0.5 : 0;\n}\n/**\n * @param {module:echarts/coord/cartesian/Cartesian2D|module:echarts/coord/polar/Polar} coordSys\n * @param {module:echarts/data/List} data\n * @param {Object} dataCoordInfo\n * @param {Array.<Array.<number>>} points\n */\n\n\nfunction getStackedOnPoints(coordSys, data, dataCoordInfo) {\n  if (!dataCoordInfo.valueDim) {\n    return [];\n  }\n\n  var points = [];\n\n  for (var idx = 0, len = data.count(); idx < len; idx++) {\n    points.push(getStackedOnPoint(dataCoordInfo, coordSys, data, idx));\n  }\n\n  return points;\n}\n\nfunction turnPointsIntoStep(points, coordSys, stepTurnAt) {\n  var baseAxis = coordSys.getBaseAxis();\n  var baseIndex = baseAxis.dim === 'x' || baseAxis.dim === 'radius' ? 0 : 1;\n  var stepPoints = [];\n\n  for (var i = 0; i < points.length - 1; i++) {\n    var nextPt = points[i + 1];\n    var pt = points[i];\n    stepPoints.push(pt);\n    var stepPt = [];\n\n    switch (stepTurnAt) {\n      case 'end':\n        stepPt[baseIndex] = nextPt[baseIndex];\n        stepPt[1 - baseIndex] = pt[1 - baseIndex]; // default is start\n\n        stepPoints.push(stepPt);\n        break;\n\n      case 'middle':\n        // default is start\n        var middle = (pt[baseIndex] + nextPt[baseIndex]) / 2;\n        var stepPt2 = [];\n        stepPt[baseIndex] = stepPt2[baseIndex] = middle;\n        stepPt[1 - baseIndex] = pt[1 - baseIndex];\n        stepPt2[1 - baseIndex] = nextPt[1 - baseIndex];\n        stepPoints.push(stepPt);\n        stepPoints.push(stepPt2);\n        break;\n\n      default:\n        stepPt[baseIndex] = pt[baseIndex];\n        stepPt[1 - baseIndex] = nextPt[1 - baseIndex]; // default is start\n\n        stepPoints.push(stepPt);\n    }\n  } // Last points\n\n\n  points[i] && stepPoints.push(points[i]);\n  return stepPoints;\n}\n\nfunction getVisualGradient(data, coordSys) {\n  var visualMetaList = data.getVisual('visualMeta');\n\n  if (!visualMetaList || !visualMetaList.length || !data.count()) {\n    // When data.count() is 0, gradient range can not be calculated.\n    return;\n  }\n\n  if (coordSys.type !== 'cartesian2d') {\n    return;\n  }\n\n  var coordDim;\n  var visualMeta;\n\n  for (var i = visualMetaList.length - 1; i >= 0; i--) {\n    var dimIndex = visualMetaList[i].dimension;\n    var dimName = data.dimensions[dimIndex];\n    var dimInfo = data.getDimensionInfo(dimName);\n    coordDim = dimInfo && dimInfo.coordDim; // Can only be x or y\n\n    if (coordDim === 'x' || coordDim === 'y') {\n      visualMeta = visualMetaList[i];\n      break;\n    }\n  }\n\n  if (!visualMeta) {\n    return;\n  } // If the area to be rendered is bigger than area defined by LinearGradient,\n  // the canvas spec prescribes that the color of the first stop and the last\n  // stop should be used. But if two stops are added at offset 0, in effect\n  // browsers use the color of the second stop to render area outside\n  // LinearGradient. So we can only infinitesimally extend area defined in\n  // LinearGradient to render `outerColors`.\n\n\n  var axis = coordSys.getAxis(coordDim); // dataToCoor mapping may not be linear, but must be monotonic.\n\n  var colorStops = zrUtil.map(visualMeta.stops, function (stop) {\n    return {\n      coord: axis.toGlobalCoord(axis.dataToCoord(stop.value)),\n      color: stop.color\n    };\n  });\n  var stopLen = colorStops.length;\n  var outerColors = visualMeta.outerColors.slice();\n\n  if (stopLen && colorStops[0].coord > colorStops[stopLen - 1].coord) {\n    colorStops.reverse();\n    outerColors.reverse();\n  }\n\n  var tinyExtent = 10; // Arbitrary value: 10px\n\n  var minCoord = colorStops[0].coord - tinyExtent;\n  var maxCoord = colorStops[stopLen - 1].coord + tinyExtent;\n  var coordSpan = maxCoord - minCoord;\n\n  if (coordSpan < 1e-3) {\n    return 'transparent';\n  }\n\n  zrUtil.each(colorStops, function (stop) {\n    stop.offset = (stop.coord - minCoord) / coordSpan;\n  });\n  colorStops.push({\n    offset: stopLen ? colorStops[stopLen - 1].offset : 0.5,\n    color: outerColors[1] || 'transparent'\n  });\n  colorStops.unshift({\n    // notice colorStops.length have been changed.\n    offset: stopLen ? colorStops[0].offset : 0.5,\n    color: outerColors[0] || 'transparent'\n  }); // zrUtil.each(colorStops, function (colorStop) {\n  //     // Make sure each offset has rounded px to avoid not sharp edge\n  //     colorStop.offset = (Math.round(colorStop.offset * (end - start) + start) - start) / (end - start);\n  // });\n\n  var gradient = new graphic.LinearGradient(0, 0, 0, 0, colorStops, true);\n  gradient[coordDim] = minCoord;\n  gradient[coordDim + '2'] = maxCoord;\n  return gradient;\n}\n\nfunction getIsIgnoreFunc(seriesModel, data, coordSys) {\n  var showAllSymbol = seriesModel.get('showAllSymbol');\n  var isAuto = showAllSymbol === 'auto';\n\n  if (showAllSymbol && !isAuto) {\n    return;\n  }\n\n  var categoryAxis = coordSys.getAxesByScale('ordinal')[0];\n\n  if (!categoryAxis) {\n    return;\n  } // Note that category label interval strategy might bring some weird effect\n  // in some scenario: users may wonder why some of the symbols are not\n  // displayed. So we show all symbols as possible as we can.\n\n\n  if (isAuto // Simplify the logic, do not determine label overlap here.\n  && canShowAllSymbolForCategory(categoryAxis, data)) {\n    return;\n  } // Otherwise follow the label interval strategy on category axis.\n\n\n  var categoryDataDim = data.mapDimension(categoryAxis.dim);\n  var labelMap = {};\n  zrUtil.each(categoryAxis.getViewLabels(), function (labelItem) {\n    labelMap[labelItem.tickValue] = 1;\n  });\n  return function (dataIndex) {\n    return !labelMap.hasOwnProperty(data.get(categoryDataDim, dataIndex));\n  };\n}\n\nfunction canShowAllSymbolForCategory(categoryAxis, data) {\n  // In mose cases, line is monotonous on category axis, and the label size\n  // is close with each other. So we check the symbol size and some of the\n  // label size alone with the category axis to estimate whether all symbol\n  // can be shown without overlap.\n  var axisExtent = categoryAxis.getExtent();\n  var availSize = Math.abs(axisExtent[1] - axisExtent[0]) / categoryAxis.scale.count();\n  isNaN(availSize) && (availSize = 0); // 0/0 is NaN.\n  // Sampling some points, max 5.\n\n  var dataLen = data.count();\n  var step = Math.max(1, Math.round(dataLen / 5));\n\n  for (var dataIndex = 0; dataIndex < dataLen; dataIndex += step) {\n    if (SymbolClz.getSymbolSize(data, dataIndex // Only for cartesian, where `isHorizontal` exists.\n    )[categoryAxis.isHorizontal() ? 1 : 0] // Empirical number\n    * 1.5 > availSize) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction createLineClipPath(coordSys, hasAnimation, seriesModel) {\n  if (coordSys.type === 'cartesian2d') {\n    var isHorizontal = coordSys.getBaseAxis().isHorizontal();\n    var clipPath = createGridClipPath(coordSys, hasAnimation, seriesModel); // Expand clip shape to avoid clipping when line value exceeds axis\n\n    if (!seriesModel.get('clip', true)) {\n      var rectShape = clipPath.shape;\n      var expandSize = Math.max(rectShape.width, rectShape.height);\n\n      if (isHorizontal) {\n        rectShape.y -= expandSize;\n        rectShape.height += expandSize * 2;\n      } else {\n        rectShape.x -= expandSize;\n        rectShape.width += expandSize * 2;\n      }\n    }\n\n    return clipPath;\n  } else {\n    return createPolarClipPath(coordSys, hasAnimation, seriesModel);\n  }\n}\n\nvar _default = ChartView.extend({\n  type: 'line',\n  init: function () {\n    var lineGroup = new graphic.Group();\n    var symbolDraw = new SymbolDraw();\n    this.group.add(symbolDraw.group);\n    this._symbolDraw = symbolDraw;\n    this._lineGroup = lineGroup;\n  },\n  render: function (seriesModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var group = this.group;\n    var data = seriesModel.getData();\n    var lineStyleModel = seriesModel.getModel('lineStyle');\n    var areaStyleModel = seriesModel.getModel('areaStyle');\n    var points = data.mapArray(data.getItemLayout);\n    var isCoordSysPolar = coordSys.type === 'polar';\n    var prevCoordSys = this._coordSys;\n    var symbolDraw = this._symbolDraw;\n    var polyline = this._polyline;\n    var polygon = this._polygon;\n    var lineGroup = this._lineGroup;\n    var hasAnimation = seriesModel.get('animation');\n    var isAreaChart = !areaStyleModel.isEmpty();\n    var valueOrigin = areaStyleModel.get('origin');\n    var dataCoordInfo = prepareDataCoordInfo(coordSys, data, valueOrigin);\n    var stackedOnPoints = getStackedOnPoints(coordSys, data, dataCoordInfo);\n    var showSymbol = seriesModel.get('showSymbol');\n    var isIgnoreFunc = showSymbol && !isCoordSysPolar && getIsIgnoreFunc(seriesModel, data, coordSys); // Remove temporary symbols\n\n    var oldData = this._data;\n    oldData && oldData.eachItemGraphicEl(function (el, idx) {\n      if (el.__temp) {\n        group.remove(el);\n        oldData.setItemGraphicEl(idx, null);\n      }\n    }); // Remove previous created symbols if showSymbol changed to false\n\n    if (!showSymbol) {\n      symbolDraw.remove();\n    }\n\n    group.add(lineGroup); // FIXME step not support polar\n\n    var step = !isCoordSysPolar && seriesModel.get('step');\n    var clipShapeForSymbol;\n\n    if (coordSys && coordSys.getArea && seriesModel.get('clip', true)) {\n      clipShapeForSymbol = coordSys.getArea(); // Avoid float number rounding error for symbol on the edge of axis extent.\n      // See #7913 and `test/dataZoom-clip.html`.\n\n      if (clipShapeForSymbol.width != null) {\n        clipShapeForSymbol.x -= 0.1;\n        clipShapeForSymbol.y -= 0.1;\n        clipShapeForSymbol.width += 0.2;\n        clipShapeForSymbol.height += 0.2;\n      } else if (clipShapeForSymbol.r0) {\n        clipShapeForSymbol.r0 -= 0.5;\n        clipShapeForSymbol.r1 += 0.5;\n      }\n    }\n\n    this._clipShapeForSymbol = clipShapeForSymbol; // Initialization animation or coordinate system changed\n\n    if (!(polyline && prevCoordSys.type === coordSys.type && step === this._step)) {\n      showSymbol && symbolDraw.updateData(data, {\n        isIgnore: isIgnoreFunc,\n        clipShape: clipShapeForSymbol\n      });\n\n      if (step) {\n        // TODO If stacked series is not step\n        points = turnPointsIntoStep(points, coordSys, step);\n        stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step);\n      }\n\n      polyline = this._newPolyline(points, coordSys, hasAnimation);\n\n      if (isAreaChart) {\n        polygon = this._newPolygon(points, stackedOnPoints, coordSys, hasAnimation);\n      }\n\n      lineGroup.setClipPath(createLineClipPath(coordSys, true, seriesModel));\n    } else {\n      if (isAreaChart && !polygon) {\n        // If areaStyle is added\n        polygon = this._newPolygon(points, stackedOnPoints, coordSys, hasAnimation);\n      } else if (polygon && !isAreaChart) {\n        // If areaStyle is removed\n        lineGroup.remove(polygon);\n        polygon = this._polygon = null;\n      } // Update clipPath\n\n\n      lineGroup.setClipPath(createLineClipPath(coordSys, false, seriesModel)); // Always update, or it is wrong in the case turning on legend\n      // because points are not changed\n\n      showSymbol && symbolDraw.updateData(data, {\n        isIgnore: isIgnoreFunc,\n        clipShape: clipShapeForSymbol\n      }); // Stop symbol animation and sync with line points\n      // FIXME performance?\n\n      data.eachItemGraphicEl(function (el) {\n        el.stopAnimation(true);\n      }); // In the case data zoom triggerred refreshing frequently\n      // Data may not change if line has a category axis. So it should animate nothing\n\n      if (!isPointsSame(this._stackedOnPoints, stackedOnPoints) || !isPointsSame(this._points, points)) {\n        if (hasAnimation) {\n          this._updateAnimation(data, stackedOnPoints, coordSys, api, step, valueOrigin);\n        } else {\n          // Not do it in update with animation\n          if (step) {\n            // TODO If stacked series is not step\n            points = turnPointsIntoStep(points, coordSys, step);\n            stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step);\n          }\n\n          polyline.setShape({\n            points: points\n          });\n          polygon && polygon.setShape({\n            points: points,\n            stackedOnPoints: stackedOnPoints\n          });\n        }\n      }\n    }\n\n    var visualColor = getVisualGradient(data, coordSys) || data.getVisual('color');\n    polyline.useStyle(zrUtil.defaults( // Use color in lineStyle first\n    lineStyleModel.getLineStyle(), {\n      fill: 'none',\n      stroke: visualColor,\n      lineJoin: 'bevel'\n    }));\n    var smooth = seriesModel.get('smooth');\n    smooth = getSmooth(seriesModel.get('smooth'));\n    polyline.setShape({\n      smooth: smooth,\n      smoothMonotone: seriesModel.get('smoothMonotone'),\n      connectNulls: seriesModel.get('connectNulls')\n    });\n\n    if (polygon) {\n      var stackedOnSeries = data.getCalculationInfo('stackedOnSeries');\n      var stackedOnSmooth = 0;\n      polygon.useStyle(zrUtil.defaults(areaStyleModel.getAreaStyle(), {\n        fill: visualColor,\n        opacity: 0.7,\n        lineJoin: 'bevel'\n      }));\n\n      if (stackedOnSeries) {\n        stackedOnSmooth = getSmooth(stackedOnSeries.get('smooth'));\n      }\n\n      polygon.setShape({\n        smooth: smooth,\n        stackedOnSmooth: stackedOnSmooth,\n        smoothMonotone: seriesModel.get('smoothMonotone'),\n        connectNulls: seriesModel.get('connectNulls')\n      });\n    }\n\n    this._data = data; // Save the coordinate system for transition animation when data changed\n\n    this._coordSys = coordSys;\n    this._stackedOnPoints = stackedOnPoints;\n    this._points = points;\n    this._step = step;\n    this._valueOrigin = valueOrigin;\n  },\n  dispose: function () {},\n  highlight: function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var dataIndex = modelUtil.queryDataIndex(data, payload);\n\n    if (!(dataIndex instanceof Array) && dataIndex != null && dataIndex >= 0) {\n      var symbol = data.getItemGraphicEl(dataIndex);\n\n      if (!symbol) {\n        // Create a temporary symbol if it is not exists\n        var pt = data.getItemLayout(dataIndex);\n\n        if (!pt) {\n          // Null data\n          return;\n        } // fix #11360: should't draw symbol outside clipShapeForSymbol\n\n\n        if (this._clipShapeForSymbol && !this._clipShapeForSymbol.contain(pt[0], pt[1])) {\n          return;\n        }\n\n        symbol = new SymbolClz(data, dataIndex);\n        symbol.position = pt;\n        symbol.setZ(seriesModel.get('zlevel'), seriesModel.get('z'));\n        symbol.ignore = isNaN(pt[0]) || isNaN(pt[1]);\n        symbol.__temp = true;\n        data.setItemGraphicEl(dataIndex, symbol); // Stop scale animation\n\n        symbol.stopSymbolAnimation(true);\n        this.group.add(symbol);\n      }\n\n      symbol.highlight();\n    } else {\n      // Highlight whole series\n      ChartView.prototype.highlight.call(this, seriesModel, ecModel, api, payload);\n    }\n  },\n  downplay: function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var dataIndex = modelUtil.queryDataIndex(data, payload);\n\n    if (dataIndex != null && dataIndex >= 0) {\n      var symbol = data.getItemGraphicEl(dataIndex);\n\n      if (symbol) {\n        if (symbol.__temp) {\n          data.setItemGraphicEl(dataIndex, null);\n          this.group.remove(symbol);\n        } else {\n          symbol.downplay();\n        }\n      }\n    } else {\n      // FIXME\n      // can not downplay completely.\n      // Downplay whole series\n      ChartView.prototype.downplay.call(this, seriesModel, ecModel, api, payload);\n    }\n  },\n\n  /**\n   * @param {module:zrender/container/Group} group\n   * @param {Array.<Array.<number>>} points\n   * @private\n   */\n  _newPolyline: function (points) {\n    var polyline = this._polyline; // Remove previous created polyline\n\n    if (polyline) {\n      this._lineGroup.remove(polyline);\n    }\n\n    polyline = new Polyline({\n      shape: {\n        points: points\n      },\n      silent: true,\n      z2: 10\n    });\n\n    this._lineGroup.add(polyline);\n\n    this._polyline = polyline;\n    return polyline;\n  },\n\n  /**\n   * @param {module:zrender/container/Group} group\n   * @param {Array.<Array.<number>>} stackedOnPoints\n   * @param {Array.<Array.<number>>} points\n   * @private\n   */\n  _newPolygon: function (points, stackedOnPoints) {\n    var polygon = this._polygon; // Remove previous created polygon\n\n    if (polygon) {\n      this._lineGroup.remove(polygon);\n    }\n\n    polygon = new Polygon({\n      shape: {\n        points: points,\n        stackedOnPoints: stackedOnPoints\n      },\n      silent: true\n    });\n\n    this._lineGroup.add(polygon);\n\n    this._polygon = polygon;\n    return polygon;\n  },\n\n  /**\n   * @private\n   */\n  // FIXME Two value axis\n  _updateAnimation: function (data, stackedOnPoints, coordSys, api, step, valueOrigin) {\n    var polyline = this._polyline;\n    var polygon = this._polygon;\n    var seriesModel = data.hostModel;\n    var diff = lineAnimationDiff(this._data, data, this._stackedOnPoints, stackedOnPoints, this._coordSys, coordSys, this._valueOrigin, valueOrigin);\n    var current = diff.current;\n    var stackedOnCurrent = diff.stackedOnCurrent;\n    var next = diff.next;\n    var stackedOnNext = diff.stackedOnNext;\n\n    if (step) {\n      // TODO If stacked series is not step\n      current = turnPointsIntoStep(diff.current, coordSys, step);\n      stackedOnCurrent = turnPointsIntoStep(diff.stackedOnCurrent, coordSys, step);\n      next = turnPointsIntoStep(diff.next, coordSys, step);\n      stackedOnNext = turnPointsIntoStep(diff.stackedOnNext, coordSys, step);\n    } // Don't apply animation if diff is large.\n    // For better result and avoid memory explosion problems like\n    // https://github.com/apache/incubator-echarts/issues/12229\n\n\n    if (getBoundingDiff(current, next) > 3000 || polygon && getBoundingDiff(stackedOnCurrent, stackedOnNext) > 3000) {\n      polyline.setShape({\n        points: next\n      });\n\n      if (polygon) {\n        polygon.setShape({\n          points: next,\n          stackedOnPoints: stackedOnNext\n        });\n      }\n\n      return;\n    } // `diff.current` is subset of `current` (which should be ensured by\n    // turnPointsIntoStep), so points in `__points` can be updated when\n    // points in `current` are update during animation.\n\n\n    polyline.shape.__points = diff.current;\n    polyline.shape.points = current;\n    graphic.updateProps(polyline, {\n      shape: {\n        points: next\n      }\n    }, seriesModel);\n\n    if (polygon) {\n      polygon.setShape({\n        points: current,\n        stackedOnPoints: stackedOnCurrent\n      });\n      graphic.updateProps(polygon, {\n        shape: {\n          points: next,\n          stackedOnPoints: stackedOnNext\n        }\n      }, seriesModel);\n    }\n\n    var updatedDataInfo = [];\n    var diffStatus = diff.status;\n\n    for (var i = 0; i < diffStatus.length; i++) {\n      var cmd = diffStatus[i].cmd;\n\n      if (cmd === '=') {\n        var el = data.getItemGraphicEl(diffStatus[i].idx1);\n\n        if (el) {\n          updatedDataInfo.push({\n            el: el,\n            ptIdx: i // Index of points\n\n          });\n        }\n      }\n    }\n\n    if (polyline.animators && polyline.animators.length) {\n      polyline.animators[0].during(function () {\n        for (var i = 0; i < updatedDataInfo.length; i++) {\n          var el = updatedDataInfo[i].el;\n          el.attr('position', polyline.shape.__points[updatedDataInfo[i].ptIdx]);\n        }\n      });\n    }\n  },\n  remove: function (ecModel) {\n    var group = this.group;\n    var oldData = this._data;\n\n    this._lineGroup.removeAll();\n\n    this._symbolDraw.remove(true); // Remove temporary created elements when highlighting\n\n\n    oldData && oldData.eachItemGraphicEl(function (el, idx) {\n      if (el.__temp) {\n        group.remove(el);\n        oldData.setItemGraphicEl(idx, null);\n      }\n    });\n    this._polyline = this._polygon = this._coordSys = this._points = this._stackedOnPoints = this._data = null;\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar SymbolClz = require(\"./Symbol\");\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar isObject = _util.isObject;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @module echarts/chart/helper/SymbolDraw\n */\n\n/**\n * @constructor\n * @alias module:echarts/chart/helper/SymbolDraw\n * @param {module:zrender/graphic/Group} [symbolCtor]\n */\nfunction SymbolDraw(symbolCtor) {\n  this.group = new graphic.Group();\n  this._symbolCtor = symbolCtor || SymbolClz;\n}\n\nvar symbolDrawProto = SymbolDraw.prototype;\n\nfunction symbolNeedsDraw(data, point, idx, opt) {\n  return point && !isNaN(point[0]) && !isNaN(point[1]) && !(opt.isIgnore && opt.isIgnore(idx)) // We do not set clipShape on group, because it will cut part of\n  // the symbol element shape. We use the same clip shape here as\n  // the line clip.\n  && !(opt.clipShape && !opt.clipShape.contain(point[0], point[1])) && data.getItemVisual(idx, 'symbol') !== 'none';\n}\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n * @param {Object} [opt] Or isIgnore\n * @param {Function} [opt.isIgnore]\n * @param {Object} [opt.clipShape]\n */\n\n\nsymbolDrawProto.updateData = function (data, opt) {\n  opt = normalizeUpdateOpt(opt);\n  var group = this.group;\n  var seriesModel = data.hostModel;\n  var oldData = this._data;\n  var SymbolCtor = this._symbolCtor;\n  var seriesScope = makeSeriesScope(data); // There is no oldLineData only when first rendering or switching from\n  // stream mode to normal mode, where previous elements should be removed.\n\n  if (!oldData) {\n    group.removeAll();\n  }\n\n  data.diff(oldData).add(function (newIdx) {\n    var point = data.getItemLayout(newIdx);\n\n    if (symbolNeedsDraw(data, point, newIdx, opt)) {\n      var symbolEl = new SymbolCtor(data, newIdx, seriesScope);\n      symbolEl.attr('position', point);\n      data.setItemGraphicEl(newIdx, symbolEl);\n      group.add(symbolEl);\n    }\n  }).update(function (newIdx, oldIdx) {\n    var symbolEl = oldData.getItemGraphicEl(oldIdx);\n    var point = data.getItemLayout(newIdx);\n\n    if (!symbolNeedsDraw(data, point, newIdx, opt)) {\n      group.remove(symbolEl);\n      return;\n    }\n\n    if (!symbolEl) {\n      symbolEl = new SymbolCtor(data, newIdx);\n      symbolEl.attr('position', point);\n    } else {\n      symbolEl.updateData(data, newIdx, seriesScope);\n      graphic.updateProps(symbolEl, {\n        position: point\n      }, seriesModel);\n    } // Add back\n\n\n    group.add(symbolEl);\n    data.setItemGraphicEl(newIdx, symbolEl);\n  }).remove(function (oldIdx) {\n    var el = oldData.getItemGraphicEl(oldIdx);\n    el && el.fadeOut(function () {\n      group.remove(el);\n    });\n  }).execute();\n  this._data = data;\n};\n\nsymbolDrawProto.isPersistent = function () {\n  return true;\n};\n\nsymbolDrawProto.updateLayout = function () {\n  var data = this._data;\n\n  if (data) {\n    // Not use animation\n    data.eachItemGraphicEl(function (el, idx) {\n      var point = data.getItemLayout(idx);\n      el.attr('position', point);\n    });\n  }\n};\n\nsymbolDrawProto.incrementalPrepareUpdate = function (data) {\n  this._seriesScope = makeSeriesScope(data);\n  this._data = null;\n  this.group.removeAll();\n};\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n * @param {Object} [opt] Or isIgnore\n * @param {Function} [opt.isIgnore]\n * @param {Object} [opt.clipShape]\n */\n\n\nsymbolDrawProto.incrementalUpdate = function (taskParams, data, opt) {\n  opt = normalizeUpdateOpt(opt);\n\n  function updateIncrementalAndHover(el) {\n    if (!el.isGroup) {\n      el.incremental = el.useHoverLayer = true;\n    }\n  }\n\n  for (var idx = taskParams.start; idx < taskParams.end; idx++) {\n    var point = data.getItemLayout(idx);\n\n    if (symbolNeedsDraw(data, point, idx, opt)) {\n      var el = new this._symbolCtor(data, idx, this._seriesScope);\n      el.traverse(updateIncrementalAndHover);\n      el.attr('position', point);\n      this.group.add(el);\n      data.setItemGraphicEl(idx, el);\n    }\n  }\n};\n\nfunction normalizeUpdateOpt(opt) {\n  if (opt != null && !isObject(opt)) {\n    opt = {\n      isIgnore: opt\n    };\n  }\n\n  return opt || {};\n}\n\nsymbolDrawProto.remove = function (enableAnimation) {\n  var group = this.group;\n  var data = this._data; // Incremental model do not have this._data.\n\n  if (data && enableAnimation) {\n    data.eachItemGraphicEl(function (el) {\n      el.fadeOut(function () {\n        group.remove(el);\n      });\n    });\n  } else {\n    group.removeAll();\n  }\n};\n\nfunction makeSeriesScope(data) {\n  var seriesModel = data.hostModel;\n  return {\n    itemStyle: seriesModel.getModel('itemStyle').getItemStyle(['color']),\n    hoverItemStyle: seriesModel.getModel('emphasis.itemStyle').getItemStyle(),\n    symbolRotate: seriesModel.get('symbolRotate'),\n    symbolOffset: seriesModel.get('symbolOffset'),\n    hoverAnimation: seriesModel.get('hoverAnimation'),\n    labelModel: seriesModel.getModel('label'),\n    hoverLabelModel: seriesModel.getModel('emphasis.label'),\n    cursorStyle: seriesModel.get('cursor')\n  };\n}\n\nvar _default = SymbolDraw;\nmodule.exports = _default;"],"sourceRoot":""}