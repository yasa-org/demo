{"version":3,"sources":["webpack:///./node_modules/monaco-editor/esm/vs/editor/contrib/caretOperations/moveCaretCommand.js","webpack:///./node_modules/monaco-editor/esm/vs/editor/contrib/caretOperations/caretOperations.js","webpack:///./node_modules/monaco-editor/esm/vs/editor/contrib/caretOperations/transpose.js","webpack:///./node_modules/monaco-editor/esm/vs/editor/contrib/bracketMatching/bracketMatching.js"],"names":["MoveCaretCommand","selection","isMovingLeft","this","_selection","_isMovingLeft","_cutStartIndex","_cutEndIndex","_moved","_selectionId","prototype","getEditOperations","model","builder","s","trackSelection","startLineNumber","endLineNumber","startColumn","endColumn","getLineMaxColumn","left","middle","right","lineNumber","selectionStartLineNumber","lineContent","getLineContent","substring","newLineContent","addEditOperation","computeCursorState","helper","result","getTrackedSelection","setStartPosition","setEndPosition","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","_super","MoveCaretAction","opts","_this","call","run","accessor","editor","hasModel","commands","selections","getSelections","_i","selections_1","length","push","pushUndoStop","executeCommands","id","MoveCaretLeftAction","label","nls","alias","precondition","writable","MoveCaretRightAction","TransposeLettersAction","kbOpts","kbExpr","textInputFocus","primary","mac","weight","getModel","isEmpty","column","lastColumn","endPosition","getPosition","rightPosition","middlePosition","leftPosition","beginPosition","leftChar","getValueInRange","fromPositions","rightChar","replaceRange","overviewRulerBracketMatchForeground","dark","light","hc","JumpToBracketAction","undefined","editorTextFocus","controller","BracketMatchingController","get","jumpToBracket","SelectToBracketAction","description","args","name","schema","type","properties","default","selectBrackets","selectToBracket","BracketsData","position","brackets","options","_editor","_lastBracketsData","_lastVersionId","_decorations","_updateBracketsSoon","_register","_updateBrackets","_matchBrackets","getOption","schedule","onDidChangeCursorPosition","e","onDidChangeModelContent","onDidChangeModel","onDidChangeModelLanguageConfiguration","onDidChangeConfiguration","hasChanged","deltaDecorations","getContribution","ID","newSelections","map","getStartPosition","matchBracket","newCursorPosition","containsPosition","enclosingBrackets","findEnclosingBrackets","nextBracket","findNextBracket","range","setSelections","revealRange","forEach","selectFrom","selectTo","sort","compareRangesUsingStarts","open_1","close_1","getEndPosition","_recomputeBrackets","newDecorations","newDecorationsLen","_a","bracketData","versionId","getVersionId","previousData","positions","positionsLen","i","len","compare","newData","newDataLen","previousIndex","previousLen","isBefore","equals","_DECORATION_OPTIONS_WITH_OVERVIEW_RULER","_DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER","register","stickiness","className","overviewRuler","color","Center","theme","collector","bracketMatchBackground","getColor","addRule","bracketMatchBorder","appendMenuItem","group","command","title","key","comment","order"],"mappings":"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","file":"js/chunk-vendors~a1c5ba5f.77ccf228.js","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { Range } from '../../common/core/range.js';\r\nvar MoveCaretCommand = /** @class */ (function () {\r\n    function MoveCaretCommand(selection, isMovingLeft) {\r\n        this._selection = selection;\r\n        this._isMovingLeft = isMovingLeft;\r\n        this._cutStartIndex = -1;\r\n        this._cutEndIndex = -1;\r\n        this._moved = false;\r\n        this._selectionId = null;\r\n    }\r\n    MoveCaretCommand.prototype.getEditOperations = function (model, builder) {\r\n        var s = this._selection;\r\n        this._selectionId = builder.trackSelection(s);\r\n        if (s.startLineNumber !== s.endLineNumber) {\r\n            return;\r\n        }\r\n        if (this._isMovingLeft && s.startColumn === 0) {\r\n            return;\r\n        }\r\n        else if (!this._isMovingLeft && s.endColumn === model.getLineMaxColumn(s.startLineNumber)) {\r\n            return;\r\n        }\r\n        var lineNumber = s.selectionStartLineNumber;\r\n        var lineContent = model.getLineContent(lineNumber);\r\n        var left;\r\n        var middle;\r\n        var right;\r\n        if (this._isMovingLeft) {\r\n            left = lineContent.substring(0, s.startColumn - 2);\r\n            middle = lineContent.substring(s.startColumn - 1, s.endColumn - 1);\r\n            right = lineContent.substring(s.startColumn - 2, s.startColumn - 1) + lineContent.substring(s.endColumn - 1);\r\n        }\r\n        else {\r\n            left = lineContent.substring(0, s.startColumn - 1) + lineContent.substring(s.endColumn - 1, s.endColumn);\r\n            middle = lineContent.substring(s.startColumn - 1, s.endColumn - 1);\r\n            right = lineContent.substring(s.endColumn);\r\n        }\r\n        var newLineContent = left + middle + right;\r\n        builder.addEditOperation(new Range(lineNumber, 1, lineNumber, model.getLineMaxColumn(lineNumber)), null);\r\n        builder.addEditOperation(new Range(lineNumber, 1, lineNumber, 1), newLineContent);\r\n        this._cutStartIndex = s.startColumn + (this._isMovingLeft ? -1 : 1);\r\n        this._cutEndIndex = this._cutStartIndex + s.endColumn - s.startColumn;\r\n        this._moved = true;\r\n    };\r\n    MoveCaretCommand.prototype.computeCursorState = function (model, helper) {\r\n        var result = helper.getTrackedSelection(this._selectionId);\r\n        if (this._moved) {\r\n            result = result.setStartPosition(result.startLineNumber, this._cutStartIndex);\r\n            result = result.setEndPosition(result.startLineNumber, this._cutEndIndex);\r\n        }\r\n        return result;\r\n    };\r\n    return MoveCaretCommand;\r\n}());\r\nexport { MoveCaretCommand };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as nls from '../../../nls.js';\r\nimport { EditorAction, registerEditorAction } from '../../browser/editorExtensions.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { MoveCaretCommand } from './moveCaretCommand.js';\r\nvar MoveCaretAction = /** @class */ (function (_super) {\r\n    __extends(MoveCaretAction, _super);\r\n    function MoveCaretAction(left, opts) {\r\n        var _this = _super.call(this, opts) || this;\r\n        _this.left = left;\r\n        return _this;\r\n    }\r\n    MoveCaretAction.prototype.run = function (accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var commands = [];\r\n        var selections = editor.getSelections();\r\n        for (var _i = 0, selections_1 = selections; _i < selections_1.length; _i++) {\r\n            var selection = selections_1[_i];\r\n            commands.push(new MoveCaretCommand(selection, this.left));\r\n        }\r\n        editor.pushUndoStop();\r\n        editor.executeCommands(this.id, commands);\r\n        editor.pushUndoStop();\r\n    };\r\n    return MoveCaretAction;\r\n}(EditorAction));\r\nvar MoveCaretLeftAction = /** @class */ (function (_super) {\r\n    __extends(MoveCaretLeftAction, _super);\r\n    function MoveCaretLeftAction() {\r\n        return _super.call(this, true, {\r\n            id: 'editor.action.moveCarretLeftAction',\r\n            label: nls.localize('caret.moveLeft', \"Move Caret Left\"),\r\n            alias: 'Move Caret Left',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    return MoveCaretLeftAction;\r\n}(MoveCaretAction));\r\nvar MoveCaretRightAction = /** @class */ (function (_super) {\r\n    __extends(MoveCaretRightAction, _super);\r\n    function MoveCaretRightAction() {\r\n        return _super.call(this, false, {\r\n            id: 'editor.action.moveCarretRightAction',\r\n            label: nls.localize('caret.moveRight', \"Move Caret Right\"),\r\n            alias: 'Move Caret Right',\r\n            precondition: EditorContextKeys.writable\r\n        }) || this;\r\n    }\r\n    return MoveCaretRightAction;\r\n}(MoveCaretAction));\r\nregisterEditorAction(MoveCaretLeftAction);\r\nregisterEditorAction(MoveCaretRightAction);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as nls from '../../../nls.js';\r\nimport { EditorAction, registerEditorAction } from '../../browser/editorExtensions.js';\r\nimport { ReplaceCommand } from '../../common/commands/replaceCommand.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { MoveOperations } from '../../common/controller/cursorMoveOperations.js';\r\nvar TransposeLettersAction = /** @class */ (function (_super) {\r\n    __extends(TransposeLettersAction, _super);\r\n    function TransposeLettersAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.transposeLetters',\r\n            label: nls.localize('transposeLetters.label', \"Transpose Letters\"),\r\n            alias: 'Transpose Letters',\r\n            precondition: EditorContextKeys.writable,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.textInputFocus,\r\n                primary: 0,\r\n                mac: {\r\n                    primary: 256 /* WinCtrl */ | 50 /* KEY_T */\r\n                },\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    TransposeLettersAction.prototype.run = function (accessor, editor) {\r\n        if (!editor.hasModel()) {\r\n            return;\r\n        }\r\n        var model = editor.getModel();\r\n        var commands = [];\r\n        var selections = editor.getSelections();\r\n        for (var _i = 0, selections_1 = selections; _i < selections_1.length; _i++) {\r\n            var selection = selections_1[_i];\r\n            if (!selection.isEmpty()) {\r\n                continue;\r\n            }\r\n            var lineNumber = selection.startLineNumber;\r\n            var column = selection.startColumn;\r\n            var lastColumn = model.getLineMaxColumn(lineNumber);\r\n            if (lineNumber === 1 && (column === 1 || (column === 2 && lastColumn === 2))) {\r\n                // at beginning of file, nothing to do\r\n                continue;\r\n            }\r\n            // handle special case: when at end of line, transpose left two chars\r\n            // otherwise, transpose left and right chars\r\n            var endPosition = (column === lastColumn) ?\r\n                selection.getPosition() :\r\n                MoveOperations.rightPosition(model, selection.getPosition().lineNumber, selection.getPosition().column);\r\n            var middlePosition = MoveOperations.leftPosition(model, endPosition.lineNumber, endPosition.column);\r\n            var beginPosition = MoveOperations.leftPosition(model, middlePosition.lineNumber, middlePosition.column);\r\n            var leftChar = model.getValueInRange(Range.fromPositions(beginPosition, middlePosition));\r\n            var rightChar = model.getValueInRange(Range.fromPositions(middlePosition, endPosition));\r\n            var replaceRange = Range.fromPositions(beginPosition, endPosition);\r\n            commands.push(new ReplaceCommand(replaceRange, rightChar + leftChar));\r\n        }\r\n        if (commands.length > 0) {\r\n            editor.pushUndoStop();\r\n            editor.executeCommands(this.id, commands);\r\n            editor.pushUndoStop();\r\n        }\r\n    };\r\n    return TransposeLettersAction;\r\n}(EditorAction));\r\nregisterEditorAction(TransposeLettersAction);\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './bracketMatching.css';\r\nimport * as nls from '../../../nls.js';\r\nimport { RunOnceScheduler } from '../../../base/common/async.js';\r\nimport { Disposable } from '../../../base/common/lifecycle.js';\r\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../browser/editorExtensions.js';\r\nimport { Position } from '../../common/core/position.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { Selection } from '../../common/core/selection.js';\r\nimport { EditorContextKeys } from '../../common/editorContextKeys.js';\r\nimport { OverviewRulerLane } from '../../common/model.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nimport { editorBracketMatchBackground, editorBracketMatchBorder } from '../../common/view/editorColorRegistry.js';\r\nimport { registerColor } from '../../../platform/theme/common/colorRegistry.js';\r\nimport { registerThemingParticipant, themeColorFromId } from '../../../platform/theme/common/themeService.js';\r\nimport { MenuRegistry } from '../../../platform/actions/common/actions.js';\r\nvar overviewRulerBracketMatchForeground = registerColor('editorOverviewRuler.bracketMatchForeground', { dark: '#A0A0A0', light: '#A0A0A0', hc: '#A0A0A0' }, nls.localize('overviewRulerBracketMatchForeground', 'Overview ruler marker color for matching brackets.'));\r\nvar JumpToBracketAction = /** @class */ (function (_super) {\r\n    __extends(JumpToBracketAction, _super);\r\n    function JumpToBracketAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.jumpToBracket',\r\n            label: nls.localize('smartSelect.jumpBracket', \"Go to Bracket\"),\r\n            alias: 'Go to Bracket',\r\n            precondition: undefined,\r\n            kbOpts: {\r\n                kbExpr: EditorContextKeys.editorTextFocus,\r\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 88 /* US_BACKSLASH */,\r\n                weight: 100 /* EditorContrib */\r\n            }\r\n        }) || this;\r\n    }\r\n    JumpToBracketAction.prototype.run = function (accessor, editor) {\r\n        var controller = BracketMatchingController.get(editor);\r\n        if (!controller) {\r\n            return;\r\n        }\r\n        controller.jumpToBracket();\r\n    };\r\n    return JumpToBracketAction;\r\n}(EditorAction));\r\nvar SelectToBracketAction = /** @class */ (function (_super) {\r\n    __extends(SelectToBracketAction, _super);\r\n    function SelectToBracketAction() {\r\n        return _super.call(this, {\r\n            id: 'editor.action.selectToBracket',\r\n            label: nls.localize('smartSelect.selectToBracket', \"Select to Bracket\"),\r\n            alias: 'Select to Bracket',\r\n            precondition: undefined,\r\n            description: {\r\n                description: \"Select to Bracket\",\r\n                args: [{\r\n                        name: 'args',\r\n                        schema: {\r\n                            type: 'object',\r\n                            properties: {\r\n                                'selectBrackets': {\r\n                                    type: 'boolean',\r\n                                    default: true\r\n                                }\r\n                            },\r\n                        }\r\n                    }]\r\n            }\r\n        }) || this;\r\n    }\r\n    SelectToBracketAction.prototype.run = function (accessor, editor, args) {\r\n        var controller = BracketMatchingController.get(editor);\r\n        if (!controller) {\r\n            return;\r\n        }\r\n        var selectBrackets = true;\r\n        if (args && args.selectBrackets === false) {\r\n            selectBrackets = false;\r\n        }\r\n        controller.selectToBracket(selectBrackets);\r\n    };\r\n    return SelectToBracketAction;\r\n}(EditorAction));\r\nvar BracketsData = /** @class */ (function () {\r\n    function BracketsData(position, brackets, options) {\r\n        this.position = position;\r\n        this.brackets = brackets;\r\n        this.options = options;\r\n    }\r\n    return BracketsData;\r\n}());\r\nvar BracketMatchingController = /** @class */ (function (_super) {\r\n    __extends(BracketMatchingController, _super);\r\n    function BracketMatchingController(editor) {\r\n        var _this = _super.call(this) || this;\r\n        _this._editor = editor;\r\n        _this._lastBracketsData = [];\r\n        _this._lastVersionId = 0;\r\n        _this._decorations = [];\r\n        _this._updateBracketsSoon = _this._register(new RunOnceScheduler(function () { return _this._updateBrackets(); }, 50));\r\n        _this._matchBrackets = _this._editor.getOption(53 /* matchBrackets */);\r\n        _this._updateBracketsSoon.schedule();\r\n        _this._register(editor.onDidChangeCursorPosition(function (e) {\r\n            if (_this._matchBrackets === 'never') {\r\n                // Early exit if nothing needs to be done!\r\n                // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\r\n                return;\r\n            }\r\n            _this._updateBracketsSoon.schedule();\r\n        }));\r\n        _this._register(editor.onDidChangeModelContent(function (e) {\r\n            _this._updateBracketsSoon.schedule();\r\n        }));\r\n        _this._register(editor.onDidChangeModel(function (e) {\r\n            _this._lastBracketsData = [];\r\n            _this._decorations = [];\r\n            _this._updateBracketsSoon.schedule();\r\n        }));\r\n        _this._register(editor.onDidChangeModelLanguageConfiguration(function (e) {\r\n            _this._lastBracketsData = [];\r\n            _this._updateBracketsSoon.schedule();\r\n        }));\r\n        _this._register(editor.onDidChangeConfiguration(function (e) {\r\n            if (e.hasChanged(53 /* matchBrackets */)) {\r\n                _this._matchBrackets = _this._editor.getOption(53 /* matchBrackets */);\r\n                _this._decorations = _this._editor.deltaDecorations(_this._decorations, []);\r\n                _this._lastBracketsData = [];\r\n                _this._lastVersionId = 0;\r\n                _this._updateBracketsSoon.schedule();\r\n            }\r\n        }));\r\n        return _this;\r\n    }\r\n    BracketMatchingController.get = function (editor) {\r\n        return editor.getContribution(BracketMatchingController.ID);\r\n    };\r\n    BracketMatchingController.prototype.jumpToBracket = function () {\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        var model = this._editor.getModel();\r\n        var newSelections = this._editor.getSelections().map(function (selection) {\r\n            var position = selection.getStartPosition();\r\n            // find matching brackets if position is on a bracket\r\n            var brackets = model.matchBracket(position);\r\n            var newCursorPosition = null;\r\n            if (brackets) {\r\n                if (brackets[0].containsPosition(position)) {\r\n                    newCursorPosition = brackets[1].getStartPosition();\r\n                }\r\n                else if (brackets[1].containsPosition(position)) {\r\n                    newCursorPosition = brackets[0].getStartPosition();\r\n                }\r\n            }\r\n            else {\r\n                // find the enclosing brackets if the position isn't on a matching bracket\r\n                var enclosingBrackets = model.findEnclosingBrackets(position);\r\n                if (enclosingBrackets) {\r\n                    newCursorPosition = enclosingBrackets[0].getStartPosition();\r\n                }\r\n                else {\r\n                    // no enclosing brackets, try the very first next bracket\r\n                    var nextBracket = model.findNextBracket(position);\r\n                    if (nextBracket && nextBracket.range) {\r\n                        newCursorPosition = nextBracket.range.getStartPosition();\r\n                    }\r\n                }\r\n            }\r\n            if (newCursorPosition) {\r\n                return new Selection(newCursorPosition.lineNumber, newCursorPosition.column, newCursorPosition.lineNumber, newCursorPosition.column);\r\n            }\r\n            return new Selection(position.lineNumber, position.column, position.lineNumber, position.column);\r\n        });\r\n        this._editor.setSelections(newSelections);\r\n        this._editor.revealRange(newSelections[0]);\r\n    };\r\n    BracketMatchingController.prototype.selectToBracket = function (selectBrackets) {\r\n        if (!this._editor.hasModel()) {\r\n            return;\r\n        }\r\n        var model = this._editor.getModel();\r\n        var newSelections = [];\r\n        this._editor.getSelections().forEach(function (selection) {\r\n            var position = selection.getStartPosition();\r\n            var brackets = model.matchBracket(position);\r\n            if (!brackets) {\r\n                brackets = model.findEnclosingBrackets(position);\r\n                if (!brackets) {\r\n                    var nextBracket = model.findNextBracket(position);\r\n                    if (nextBracket && nextBracket.range) {\r\n                        brackets = model.matchBracket(nextBracket.range.getStartPosition());\r\n                    }\r\n                }\r\n            }\r\n            var selectFrom = null;\r\n            var selectTo = null;\r\n            if (brackets) {\r\n                brackets.sort(Range.compareRangesUsingStarts);\r\n                var open_1 = brackets[0], close_1 = brackets[1];\r\n                selectFrom = selectBrackets ? open_1.getStartPosition() : open_1.getEndPosition();\r\n                selectTo = selectBrackets ? close_1.getEndPosition() : close_1.getStartPosition();\r\n            }\r\n            if (selectFrom && selectTo) {\r\n                newSelections.push(new Selection(selectFrom.lineNumber, selectFrom.column, selectTo.lineNumber, selectTo.column));\r\n            }\r\n        });\r\n        if (newSelections.length > 0) {\r\n            this._editor.setSelections(newSelections);\r\n            this._editor.revealRange(newSelections[0]);\r\n        }\r\n    };\r\n    BracketMatchingController.prototype._updateBrackets = function () {\r\n        if (this._matchBrackets === 'never') {\r\n            return;\r\n        }\r\n        this._recomputeBrackets();\r\n        var newDecorations = [], newDecorationsLen = 0;\r\n        for (var _i = 0, _a = this._lastBracketsData; _i < _a.length; _i++) {\r\n            var bracketData = _a[_i];\r\n            var brackets = bracketData.brackets;\r\n            if (brackets) {\r\n                newDecorations[newDecorationsLen++] = { range: brackets[0], options: bracketData.options };\r\n                newDecorations[newDecorationsLen++] = { range: brackets[1], options: bracketData.options };\r\n            }\r\n        }\r\n        this._decorations = this._editor.deltaDecorations(this._decorations, newDecorations);\r\n    };\r\n    BracketMatchingController.prototype._recomputeBrackets = function () {\r\n        if (!this._editor.hasModel()) {\r\n            // no model => no brackets!\r\n            this._lastBracketsData = [];\r\n            this._lastVersionId = 0;\r\n            return;\r\n        }\r\n        var selections = this._editor.getSelections();\r\n        if (selections.length > 100) {\r\n            // no bracket matching for high numbers of selections\r\n            this._lastBracketsData = [];\r\n            this._lastVersionId = 0;\r\n            return;\r\n        }\r\n        var model = this._editor.getModel();\r\n        var versionId = model.getVersionId();\r\n        var previousData = [];\r\n        if (this._lastVersionId === versionId) {\r\n            // use the previous data only if the model is at the same version id\r\n            previousData = this._lastBracketsData;\r\n        }\r\n        var positions = [], positionsLen = 0;\r\n        for (var i = 0, len = selections.length; i < len; i++) {\r\n            var selection = selections[i];\r\n            if (selection.isEmpty()) {\r\n                // will bracket match a cursor only if the selection is collapsed\r\n                positions[positionsLen++] = selection.getStartPosition();\r\n            }\r\n        }\r\n        // sort positions for `previousData` cache hits\r\n        if (positions.length > 1) {\r\n            positions.sort(Position.compare);\r\n        }\r\n        var newData = [], newDataLen = 0;\r\n        var previousIndex = 0, previousLen = previousData.length;\r\n        for (var i = 0, len = positions.length; i < len; i++) {\r\n            var position = positions[i];\r\n            while (previousIndex < previousLen && previousData[previousIndex].position.isBefore(position)) {\r\n                previousIndex++;\r\n            }\r\n            if (previousIndex < previousLen && previousData[previousIndex].position.equals(position)) {\r\n                newData[newDataLen++] = previousData[previousIndex];\r\n            }\r\n            else {\r\n                var brackets = model.matchBracket(position);\r\n                var options = BracketMatchingController._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;\r\n                if (!brackets && this._matchBrackets === 'always') {\r\n                    brackets = model.findEnclosingBrackets(position, 20 /* give at most 20ms to compute */);\r\n                    options = BracketMatchingController._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER;\r\n                }\r\n                newData[newDataLen++] = new BracketsData(position, brackets, options);\r\n            }\r\n        }\r\n        this._lastBracketsData = newData;\r\n        this._lastVersionId = versionId;\r\n    };\r\n    BracketMatchingController.ID = 'editor.contrib.bracketMatchingController';\r\n    BracketMatchingController._DECORATION_OPTIONS_WITH_OVERVIEW_RULER = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'bracket-match',\r\n        overviewRuler: {\r\n            color: themeColorFromId(overviewRulerBracketMatchForeground),\r\n            position: OverviewRulerLane.Center\r\n        }\r\n    });\r\n    BracketMatchingController._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER = ModelDecorationOptions.register({\r\n        stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\r\n        className: 'bracket-match'\r\n    });\r\n    return BracketMatchingController;\r\n}(Disposable));\r\nexport { BracketMatchingController };\r\nregisterEditorContribution(BracketMatchingController.ID, BracketMatchingController);\r\nregisterEditorAction(SelectToBracketAction);\r\nregisterEditorAction(JumpToBracketAction);\r\nregisterThemingParticipant(function (theme, collector) {\r\n    var bracketMatchBackground = theme.getColor(editorBracketMatchBackground);\r\n    if (bracketMatchBackground) {\r\n        collector.addRule(\".monaco-editor .bracket-match { background-color: \" + bracketMatchBackground + \"; }\");\r\n    }\r\n    var bracketMatchBorder = theme.getColor(editorBracketMatchBorder);\r\n    if (bracketMatchBorder) {\r\n        collector.addRule(\".monaco-editor .bracket-match { border: 1px solid \" + bracketMatchBorder + \"; }\");\r\n    }\r\n});\r\n// Go to menu\r\nMenuRegistry.appendMenuItem(19 /* MenubarGoMenu */, {\r\n    group: '5_infile_nav',\r\n    command: {\r\n        id: 'editor.action.jumpToBracket',\r\n        title: nls.localize({ key: 'miGoToBracket', comment: ['&& denotes a mnemonic'] }, \"Go to &&Bracket\")\r\n    },\r\n    order: 2\r\n});\r\n"],"sourceRoot":""}