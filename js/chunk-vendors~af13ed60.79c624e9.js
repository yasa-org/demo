(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~af13ed60"],{"3a19":function(t,o,e){},fd11:function(t,o,e){"use strict";e.r(o),e.d(o,"DragAndDropController",(function(){return l}));e("3a19");var i=e("a666"),n=e("30db"),r=e("b2cc"),s=e("7061"),u=e("6a89"),d=e("8025"),_=e("5e55"),a=e("b57f"),c=function(){var t=function(o,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])},t(o,e)};return function(o,e){function i(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();function p(t){return n["e"]?t.altKey:t.ctrlKey}var l=function(t){function o(o){var e=t.call(this)||this;return e._editor=o,e._register(e._editor.onMouseDown((function(t){return e._onEditorMouseDown(t)}))),e._register(e._editor.onMouseUp((function(t){return e._onEditorMouseUp(t)}))),e._register(e._editor.onMouseDrag((function(t){return e._onEditorMouseDrag(t)}))),e._register(e._editor.onMouseDrop((function(t){return e._onEditorMouseDrop(t)}))),e._register(e._editor.onKeyDown((function(t){return e.onEditorKeyDown(t)}))),e._register(e._editor.onKeyUp((function(t){return e.onEditorKeyUp(t)}))),e._register(e._editor.onDidBlurEditorWidget((function(){return e.onEditorBlur()}))),e._dndDecorationIds=[],e._mouseDown=!1,e._modifierPressed=!1,e._dragSelection=null,e}return c(o,t),o.prototype.onEditorBlur=function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1},o.prototype.onEditorKeyDown=function(t){this._editor.getOption(24)&&(p(t)&&(this._modifierPressed=!0),this._mouseDown&&p(t)&&this._editor.updateOptions({mouseStyle:"copy"}))},o.prototype.onEditorKeyUp=function(t){this._editor.getOption(24)&&(p(t)&&(this._modifierPressed=!1),this._mouseDown&&t.keyCode===o.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))},o.prototype._onEditorMouseDown=function(t){this._mouseDown=!0},o.prototype._onEditorMouseUp=function(t){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})},o.prototype._onEditorMouseDrag=function(t){var o=t.target;if(null===this._dragSelection){var e=this._editor.getSelections()||[],i=e.filter((function(t){return o.position&&t.containsPosition(o.position)}));if(1!==i.length)return;this._dragSelection=i[0]}p(t.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),o.position&&(this._dragSelection.containsPosition(o.position)?this._removeDecoration():this.showAt(o.position))},o.prototype._onEditorMouseDrop=function(t){if(t.target&&(this._hitContent(t.target)||this._hitMargin(t.target))&&t.target.position){var e=new s["a"](t.target.position.lineNumber,t.target.position.column);if(null===this._dragSelection){var i=null;if(t.event.shiftKey){var n=this._editor.getSelection();if(n){var r=n.selectionStartLineNumber,u=n.selectionStartColumn;i=[new d["a"](r,u,e.lineNumber,e.column)]}}else i=(this._editor.getSelections()||[]).map((function(t){return t.containsPosition(e)?new d["a"](e.lineNumber,e.column,e.lineNumber,e.column):t}));this._editor.setSelections(i||[],"mouse")}else(!this._dragSelection.containsPosition(e)||(p(t.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(e)||this._dragSelection.getStartPosition().equals(e)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(o.ID,new _["a"](this._dragSelection,e,p(t.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1},o.prototype.showAt=function(t){var e=[{range:new u["a"](t.lineNumber,t.column,t.lineNumber,t.column),options:o._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,e),this._editor.revealPosition(t,1)},o.prototype._removeDecoration=function(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])},o.prototype._hitContent=function(t){return 6===t.type||7===t.type},o.prototype._hitMargin=function(t){return 2===t.type||3===t.type||4===t.type},o.prototype.dispose=function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,t.prototype.dispose.call(this)},o.ID="editor.contrib.dragAndDrop",o.TRIGGER_KEY_VALUE=n["e"]?6:5,o._DECORATION_OPTIONS=a["a"].register({className:"dnd-target"}),o}(i["a"]);Object(r["h"])(l.ID,l)}}]);
//# sourceMappingURL=chunk-vendors~af13ed60.79c624e9.js.map