{"version":3,"sources":["webpack:///./node_modules/monaco-editor/esm/vs/editor/contrib/zoneWidget/zoneWidget.js"],"names":["defaultColor","defaultOptions","showArrow","showFrame","className","frameColor","arrowColor","keepEditorSelection","WIDGET_ID","ViewZoneDelegate","domNode","afterLineNumber","afterColumn","heightInLines","onDomNodeTop","onComputedHeight","this","id","_onDomNodeTop","_onComputedHeight","prototype","top","height","OverlayWidgetDelegate","_id","_domNode","getId","getDomNode","getPosition","Arrow","_editor","_ruleName","_IdGenerator","nextId","_decorations","_color","_height","dispose","hide","Object","defineProperty","set","value","_updateStyle","enumerable","configurable","show","where","deltaDecorations","range","fromPositions","options","stickiness","ZoneWidget","editor","_this","_arrow","_overlayWidget","_resizeSash","_positionMarkerId","_viewZone","_disposables","container","_isShowing","document","createElement","isAccessible","setAttribute","add","onDidLayoutChange","info","width","_getWidth","style","left","_getLeft","_onWidth","removeOverlayWidget","changeViewZones","accessor","removeZone","create","appendChild","_fillContainer","_initSash","_applyStyles","styles","toString","borderTopColor","borderBottomColor","color","minimapWidth","verticalScrollbarWidth","minimapLeft","_onViewZoneTop","_onViewZoneHeight","containerHeight","_decoratingElementsHeight","layoutInfo","getLayoutInfo","_doLayout","layout","get","model","getModel","getDecorationRange","getStartPosition","rangeOrPos","isIRange","lift","_showImpl","EMPTY","lineHeight","getOption","result","arrowHeight","Math","round","frameThickness","position","viewZoneDomNode","overflow","maxHeightInLines","lineNumber","column","addZone","addOverlayWidget","width_1","frameWidth","borderTopWidth","borderBottomWidth","setSelection","revealLine","endLineNumber","getLineCount","isLastLine","revealLineInCenter","setCssClass","classToReplace","classList","remove","widthInPixel","heightInPixel","_relayout","newHeightInLines","layoutZone","data","orientation","isResizeable","state","onDidStart","e","startY","onDidEnd","undefined","onDidChange","evt","lineDelta","currentY","roundedLineDelta","ceil","floor","getHorizontalSashLeft","getHorizontalSashTop","parseInt","getHorizontalSashWidth"],"mappings":"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","file":"js/chunk-vendors~e175964f.a6151388.js","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './zoneWidget.css';\r\nimport * as dom from '../../../base/browser/dom.js';\r\nimport { Sash } from '../../../base/browser/ui/sash/sash.js';\r\nimport { Color, RGBA } from '../../../base/common/color.js';\r\nimport { IdGenerator } from '../../../base/common/idGenerator.js';\r\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\r\nimport * as objects from '../../../base/common/objects.js';\r\nimport { Range } from '../../common/core/range.js';\r\nimport { ModelDecorationOptions } from '../../common/model/textModel.js';\r\nvar defaultColor = new Color(new RGBA(0, 122, 204));\r\nvar defaultOptions = {\r\n    showArrow: true,\r\n    showFrame: true,\r\n    className: '',\r\n    frameColor: defaultColor,\r\n    arrowColor: defaultColor,\r\n    keepEditorSelection: false\r\n};\r\nvar WIDGET_ID = 'vs.editor.contrib.zoneWidget';\r\nvar ViewZoneDelegate = /** @class */ (function () {\r\n    function ViewZoneDelegate(domNode, afterLineNumber, afterColumn, heightInLines, onDomNodeTop, onComputedHeight) {\r\n        this.id = ''; // A valid zone id should be greater than 0\r\n        this.domNode = domNode;\r\n        this.afterLineNumber = afterLineNumber;\r\n        this.afterColumn = afterColumn;\r\n        this.heightInLines = heightInLines;\r\n        this._onDomNodeTop = onDomNodeTop;\r\n        this._onComputedHeight = onComputedHeight;\r\n    }\r\n    ViewZoneDelegate.prototype.onDomNodeTop = function (top) {\r\n        this._onDomNodeTop(top);\r\n    };\r\n    ViewZoneDelegate.prototype.onComputedHeight = function (height) {\r\n        this._onComputedHeight(height);\r\n    };\r\n    return ViewZoneDelegate;\r\n}());\r\nexport { ViewZoneDelegate };\r\nvar OverlayWidgetDelegate = /** @class */ (function () {\r\n    function OverlayWidgetDelegate(id, domNode) {\r\n        this._id = id;\r\n        this._domNode = domNode;\r\n    }\r\n    OverlayWidgetDelegate.prototype.getId = function () {\r\n        return this._id;\r\n    };\r\n    OverlayWidgetDelegate.prototype.getDomNode = function () {\r\n        return this._domNode;\r\n    };\r\n    OverlayWidgetDelegate.prototype.getPosition = function () {\r\n        return null;\r\n    };\r\n    return OverlayWidgetDelegate;\r\n}());\r\nexport { OverlayWidgetDelegate };\r\nvar Arrow = /** @class */ (function () {\r\n    function Arrow(_editor) {\r\n        this._editor = _editor;\r\n        this._ruleName = Arrow._IdGenerator.nextId();\r\n        this._decorations = [];\r\n        this._color = null;\r\n        this._height = -1;\r\n        //\r\n    }\r\n    Arrow.prototype.dispose = function () {\r\n        this.hide();\r\n        dom.removeCSSRulesContainingSelector(this._ruleName);\r\n    };\r\n    Object.defineProperty(Arrow.prototype, \"color\", {\r\n        set: function (value) {\r\n            if (this._color !== value) {\r\n                this._color = value;\r\n                this._updateStyle();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Arrow.prototype, \"height\", {\r\n        set: function (value) {\r\n            if (this._height !== value) {\r\n                this._height = value;\r\n                this._updateStyle();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Arrow.prototype._updateStyle = function () {\r\n        dom.removeCSSRulesContainingSelector(this._ruleName);\r\n        dom.createCSSRule(\".monaco-editor \" + this._ruleName, \"border-style: solid; border-color: transparent; border-bottom-color: \" + this._color + \"; border-width: \" + this._height + \"px; bottom: -\" + this._height + \"px; margin-left: -\" + this._height + \"px; \");\r\n    };\r\n    Arrow.prototype.show = function (where) {\r\n        this._decorations = this._editor.deltaDecorations(this._decorations, [{ range: Range.fromPositions(where), options: { className: this._ruleName, stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ } }]);\r\n    };\r\n    Arrow.prototype.hide = function () {\r\n        this._editor.deltaDecorations(this._decorations, []);\r\n    };\r\n    Arrow._IdGenerator = new IdGenerator('.arrow-decoration-');\r\n    return Arrow;\r\n}());\r\nvar ZoneWidget = /** @class */ (function () {\r\n    function ZoneWidget(editor, options) {\r\n        var _this = this;\r\n        if (options === void 0) { options = {}; }\r\n        this._arrow = null;\r\n        this._overlayWidget = null;\r\n        this._resizeSash = null;\r\n        this._positionMarkerId = [];\r\n        this._viewZone = null;\r\n        this._disposables = new DisposableStore();\r\n        this.container = null;\r\n        this._isShowing = false;\r\n        this.editor = editor;\r\n        this.options = objects.deepClone(options);\r\n        objects.mixin(this.options, defaultOptions, false);\r\n        this.domNode = document.createElement('div');\r\n        if (!this.options.isAccessible) {\r\n            this.domNode.setAttribute('aria-hidden', 'true');\r\n            this.domNode.setAttribute('role', 'presentation');\r\n        }\r\n        this._disposables.add(this.editor.onDidLayoutChange(function (info) {\r\n            var width = _this._getWidth(info);\r\n            _this.domNode.style.width = width + 'px';\r\n            _this.domNode.style.left = _this._getLeft(info) + 'px';\r\n            _this._onWidth(width);\r\n        }));\r\n    }\r\n    ZoneWidget.prototype.dispose = function () {\r\n        var _this = this;\r\n        if (this._overlayWidget) {\r\n            this.editor.removeOverlayWidget(this._overlayWidget);\r\n            this._overlayWidget = null;\r\n        }\r\n        if (this._viewZone) {\r\n            this.editor.changeViewZones(function (accessor) {\r\n                if (_this._viewZone) {\r\n                    accessor.removeZone(_this._viewZone.id);\r\n                }\r\n                _this._viewZone = null;\r\n            });\r\n        }\r\n        this.editor.deltaDecorations(this._positionMarkerId, []);\r\n        this._positionMarkerId = [];\r\n        this._disposables.dispose();\r\n    };\r\n    ZoneWidget.prototype.create = function () {\r\n        dom.addClass(this.domNode, 'zone-widget');\r\n        if (this.options.className) {\r\n            dom.addClass(this.domNode, this.options.className);\r\n        }\r\n        this.container = document.createElement('div');\r\n        dom.addClass(this.container, 'zone-widget-container');\r\n        this.domNode.appendChild(this.container);\r\n        if (this.options.showArrow) {\r\n            this._arrow = new Arrow(this.editor);\r\n            this._disposables.add(this._arrow);\r\n        }\r\n        this._fillContainer(this.container);\r\n        this._initSash();\r\n        this._applyStyles();\r\n    };\r\n    ZoneWidget.prototype.style = function (styles) {\r\n        if (styles.frameColor) {\r\n            this.options.frameColor = styles.frameColor;\r\n        }\r\n        if (styles.arrowColor) {\r\n            this.options.arrowColor = styles.arrowColor;\r\n        }\r\n        this._applyStyles();\r\n    };\r\n    ZoneWidget.prototype._applyStyles = function () {\r\n        if (this.container && this.options.frameColor) {\r\n            var frameColor = this.options.frameColor.toString();\r\n            this.container.style.borderTopColor = frameColor;\r\n            this.container.style.borderBottomColor = frameColor;\r\n        }\r\n        if (this._arrow && this.options.arrowColor) {\r\n            var arrowColor = this.options.arrowColor.toString();\r\n            this._arrow.color = arrowColor;\r\n        }\r\n    };\r\n    ZoneWidget.prototype._getWidth = function (info) {\r\n        return info.width - info.minimapWidth - info.verticalScrollbarWidth;\r\n    };\r\n    ZoneWidget.prototype._getLeft = function (info) {\r\n        // If minimap is to the left, we move beyond it\r\n        if (info.minimapWidth > 0 && info.minimapLeft === 0) {\r\n            return info.minimapWidth;\r\n        }\r\n        return 0;\r\n    };\r\n    ZoneWidget.prototype._onViewZoneTop = function (top) {\r\n        this.domNode.style.top = top + 'px';\r\n    };\r\n    ZoneWidget.prototype._onViewZoneHeight = function (height) {\r\n        this.domNode.style.height = height + \"px\";\r\n        if (this.container) {\r\n            var containerHeight = height - this._decoratingElementsHeight();\r\n            this.container.style.height = containerHeight + \"px\";\r\n            var layoutInfo = this.editor.getLayoutInfo();\r\n            this._doLayout(containerHeight, this._getWidth(layoutInfo));\r\n        }\r\n        if (this._resizeSash) {\r\n            this._resizeSash.layout();\r\n        }\r\n    };\r\n    Object.defineProperty(ZoneWidget.prototype, \"position\", {\r\n        get: function () {\r\n            var id = this._positionMarkerId[0];\r\n            if (!id) {\r\n                return undefined;\r\n            }\r\n            var model = this.editor.getModel();\r\n            if (!model) {\r\n                return undefined;\r\n            }\r\n            var range = model.getDecorationRange(id);\r\n            if (!range) {\r\n                return undefined;\r\n            }\r\n            return range.getStartPosition();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ZoneWidget.prototype.show = function (rangeOrPos, heightInLines) {\r\n        var range = Range.isIRange(rangeOrPos) ? Range.lift(rangeOrPos) : Range.fromPositions(rangeOrPos);\r\n        this._isShowing = true;\r\n        this._showImpl(range, heightInLines);\r\n        this._isShowing = false;\r\n        this._positionMarkerId = this.editor.deltaDecorations(this._positionMarkerId, [{ range: range, options: ModelDecorationOptions.EMPTY }]);\r\n    };\r\n    ZoneWidget.prototype.hide = function () {\r\n        var _this = this;\r\n        if (this._viewZone) {\r\n            this.editor.changeViewZones(function (accessor) {\r\n                if (_this._viewZone) {\r\n                    accessor.removeZone(_this._viewZone.id);\r\n                }\r\n            });\r\n            this._viewZone = null;\r\n        }\r\n        if (this._overlayWidget) {\r\n            this.editor.removeOverlayWidget(this._overlayWidget);\r\n            this._overlayWidget = null;\r\n        }\r\n        if (this._arrow) {\r\n            this._arrow.hide();\r\n        }\r\n    };\r\n    ZoneWidget.prototype._decoratingElementsHeight = function () {\r\n        var lineHeight = this.editor.getOption(49 /* lineHeight */);\r\n        var result = 0;\r\n        if (this.options.showArrow) {\r\n            var arrowHeight = Math.round(lineHeight / 3);\r\n            result += 2 * arrowHeight;\r\n        }\r\n        if (this.options.showFrame) {\r\n            var frameThickness = Math.round(lineHeight / 9);\r\n            result += 2 * frameThickness;\r\n        }\r\n        return result;\r\n    };\r\n    ZoneWidget.prototype._showImpl = function (where, heightInLines) {\r\n        var _this = this;\r\n        var position = where.getStartPosition();\r\n        var layoutInfo = this.editor.getLayoutInfo();\r\n        var width = this._getWidth(layoutInfo);\r\n        this.domNode.style.width = width + \"px\";\r\n        this.domNode.style.left = this._getLeft(layoutInfo) + 'px';\r\n        // Render the widget as zone (rendering) and widget (lifecycle)\r\n        var viewZoneDomNode = document.createElement('div');\r\n        viewZoneDomNode.style.overflow = 'hidden';\r\n        var lineHeight = this.editor.getOption(49 /* lineHeight */);\r\n        // adjust heightInLines to viewport\r\n        var maxHeightInLines = (this.editor.getLayoutInfo().height / lineHeight) * 0.8;\r\n        if (heightInLines >= maxHeightInLines) {\r\n            heightInLines = maxHeightInLines;\r\n        }\r\n        var arrowHeight = 0;\r\n        var frameThickness = 0;\r\n        // Render the arrow one 1/3 of an editor line height\r\n        if (this._arrow && this.options.showArrow) {\r\n            arrowHeight = Math.round(lineHeight / 3);\r\n            this._arrow.height = arrowHeight;\r\n            this._arrow.show(position);\r\n        }\r\n        // Render the frame as 1/9 of an editor line height\r\n        if (this.options.showFrame) {\r\n            frameThickness = Math.round(lineHeight / 9);\r\n        }\r\n        // insert zone widget\r\n        this.editor.changeViewZones(function (accessor) {\r\n            if (_this._viewZone) {\r\n                accessor.removeZone(_this._viewZone.id);\r\n            }\r\n            if (_this._overlayWidget) {\r\n                _this.editor.removeOverlayWidget(_this._overlayWidget);\r\n                _this._overlayWidget = null;\r\n            }\r\n            _this.domNode.style.top = '-1000px';\r\n            _this._viewZone = new ViewZoneDelegate(viewZoneDomNode, position.lineNumber, position.column, heightInLines, function (top) { return _this._onViewZoneTop(top); }, function (height) { return _this._onViewZoneHeight(height); });\r\n            _this._viewZone.id = accessor.addZone(_this._viewZone);\r\n            _this._overlayWidget = new OverlayWidgetDelegate(WIDGET_ID + _this._viewZone.id, _this.domNode);\r\n            _this.editor.addOverlayWidget(_this._overlayWidget);\r\n        });\r\n        if (this.container && this.options.showFrame) {\r\n            var width_1 = this.options.frameWidth ? this.options.frameWidth : frameThickness;\r\n            this.container.style.borderTopWidth = width_1 + 'px';\r\n            this.container.style.borderBottomWidth = width_1 + 'px';\r\n        }\r\n        var containerHeight = heightInLines * lineHeight - this._decoratingElementsHeight();\r\n        if (this.container) {\r\n            this.container.style.top = arrowHeight + 'px';\r\n            this.container.style.height = containerHeight + 'px';\r\n            this.container.style.overflow = 'hidden';\r\n        }\r\n        this._doLayout(containerHeight, width);\r\n        if (!this.options.keepEditorSelection) {\r\n            this.editor.setSelection(where);\r\n        }\r\n        var model = this.editor.getModel();\r\n        if (model) {\r\n            var revealLine = where.endLineNumber + 1;\r\n            if (revealLine <= model.getLineCount()) {\r\n                // reveal line below the zone widget\r\n                this.revealLine(revealLine, false);\r\n            }\r\n            else {\r\n                // reveal last line atop\r\n                this.revealLine(model.getLineCount(), true);\r\n            }\r\n        }\r\n    };\r\n    ZoneWidget.prototype.revealLine = function (lineNumber, isLastLine) {\r\n        if (isLastLine) {\r\n            this.editor.revealLineInCenter(lineNumber, 0 /* Smooth */);\r\n        }\r\n        else {\r\n            this.editor.revealLine(lineNumber, 0 /* Smooth */);\r\n        }\r\n    };\r\n    ZoneWidget.prototype.setCssClass = function (className, classToReplace) {\r\n        if (!this.container) {\r\n            return;\r\n        }\r\n        if (classToReplace) {\r\n            this.container.classList.remove(classToReplace);\r\n        }\r\n        dom.addClass(this.container, className);\r\n    };\r\n    ZoneWidget.prototype._onWidth = function (widthInPixel) {\r\n        // implement in subclass\r\n    };\r\n    ZoneWidget.prototype._doLayout = function (heightInPixel, widthInPixel) {\r\n        // implement in subclass\r\n    };\r\n    ZoneWidget.prototype._relayout = function (newHeightInLines) {\r\n        var _this = this;\r\n        if (this._viewZone && this._viewZone.heightInLines !== newHeightInLines) {\r\n            this.editor.changeViewZones(function (accessor) {\r\n                if (_this._viewZone) {\r\n                    _this._viewZone.heightInLines = newHeightInLines;\r\n                    accessor.layoutZone(_this._viewZone.id);\r\n                }\r\n            });\r\n        }\r\n    };\r\n    // --- sash\r\n    ZoneWidget.prototype._initSash = function () {\r\n        var _this = this;\r\n        if (this._resizeSash) {\r\n            return;\r\n        }\r\n        this._resizeSash = this._disposables.add(new Sash(this.domNode, this, { orientation: 1 /* HORIZONTAL */ }));\r\n        if (!this.options.isResizeable) {\r\n            this._resizeSash.hide();\r\n            this._resizeSash.state = 0 /* Disabled */;\r\n        }\r\n        var data;\r\n        this._disposables.add(this._resizeSash.onDidStart(function (e) {\r\n            if (_this._viewZone) {\r\n                data = {\r\n                    startY: e.startY,\r\n                    heightInLines: _this._viewZone.heightInLines,\r\n                };\r\n            }\r\n        }));\r\n        this._disposables.add(this._resizeSash.onDidEnd(function () {\r\n            data = undefined;\r\n        }));\r\n        this._disposables.add(this._resizeSash.onDidChange(function (evt) {\r\n            if (data) {\r\n                var lineDelta = (evt.currentY - data.startY) / _this.editor.getOption(49 /* lineHeight */);\r\n                var roundedLineDelta = lineDelta < 0 ? Math.ceil(lineDelta) : Math.floor(lineDelta);\r\n                var newHeightInLines = data.heightInLines + roundedLineDelta;\r\n                if (newHeightInLines > 5 && newHeightInLines < 35) {\r\n                    _this._relayout(newHeightInLines);\r\n                }\r\n            }\r\n        }));\r\n    };\r\n    ZoneWidget.prototype.getHorizontalSashLeft = function () {\r\n        return 0;\r\n    };\r\n    ZoneWidget.prototype.getHorizontalSashTop = function () {\r\n        return (this.domNode.style.height === null ? 0 : parseInt(this.domNode.style.height)) - (this._decoratingElementsHeight() / 2);\r\n    };\r\n    ZoneWidget.prototype.getHorizontalSashWidth = function () {\r\n        var layoutInfo = this.editor.getLayoutInfo();\r\n        return layoutInfo.width - layoutInfo.minimapWidth;\r\n    };\r\n    return ZoneWidget;\r\n}());\r\nexport { ZoneWidget };\r\n"],"sourceRoot":""}