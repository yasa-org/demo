{"version":3,"sources":["webpack:///./node_modules/monaco-editor/esm/vs/base/parts/quickopen/browser/quickOpenModel.js","webpack:///./node_modules/monaco-editor/esm/vs/base/parts/quickopen/browser/quickOpenViewer.js","webpack:///./node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeDefaults.js","webpack:///./node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeModel.js","webpack:///./node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeDnd.js","webpack:///./node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeViewModel.js","webpack:///./node_modules/monaco-editor/esm/vs/base/parts/tree/browser/tree.js","webpack:///./node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeView.js","webpack:///./node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeImpl.js","webpack:///./node_modules/monaco-editor/esm/vs/base/parts/quickopen/browser/quickOpenWidget.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","IDS","QuickOpenEntry","highlights","id","toString","labelHighlights","descriptionHighlights","getId","getLabel","getLabelOptions","getAriaLabel","getDescription","getDetail","join","getIcon","getTooltip","getDescriptionTooltip","getKeybinding","isHidden","hidden","setHighlights","detailHighlights","getHighlights","run","mode","context","QuickOpenEntryGroup","_super","entry","groupLabel","withBorder","_this","call","getGroupLabel","setGroupLabel","showBorder","setShowBorder","NoActionProvider","hasActions","tree","element","getActions","templateEntry","templateEntryGroup","Renderer","actionProvider","actionRunner","getHeight","getTemplateId","renderTemplate","templateId","container","styles","entryContainer","document","createElement","appendChild","row1","row2","undefined","icon","label","supportHighlights","supportDescriptionHighlights","supportCodicons","keybindingContainer","keybinding","detailContainer","group","detail","actionBarContainer","actionBar","renderElement","data","actions","isEmpty","length","push","clear","groupData","pickerGroupBorder","style","borderTopColor","textContent","pickerGroupForeground","color","_a","iconClass","className","options","matches","title","descriptionTitle","descriptionMatches","setLabel","set","disposeTemplate","templateData","dispose","QuickOpenModel","entries","_entries","_dataSource","_renderer","_filter","_runner","_accessibilityProvider","defineProperty","get","enumerable","configurable","ariaLabel","isVisible","DataSource","arg","modelProvider","getModel","model","dataSource","hasChildren","getChildren","Promise","resolve","getParent","AccessibilityProvider","accessibilityProvider","getPosInSet","i","filter","_i","indexOf","String","getSetSize","n","Filter","updateStyles","renderer","KeybindingDispatcher","_arr","callback","platform","dispatch","item","toChord","equals","DefaultController","clickBehavior","keyboardSupport","openMode","downKeyBindingDispatcher","upKeyBindingDispatcher","t","e","onUp","onDown","onLeft","onRight","onPageUp","onPageDown","onHome","onEnd","onSpace","onEscape","onEnter","bind","onMouseDown","event","origin","leftButton","middleButton","target","tagName","toLowerCase","dom","onLeftClick","onClick","isMac","ctrlKey","preventDefault","stopPropagation","eventish","payload","originalEvent","didClickOnTwistie","isClickOnTwistie","getInput","clearFocus","clearSelection","isSingleMouseDown","browserEvent","type","domFocus","setSelection","setFocus","shouldToggleExpansion","isExpanded","collapse","then","errors","expand","isDoubleClick","openOnSingleClick","twistieStyle","window","getComputedStyle","backgroundImage","display","twistieWidth","parseInt","width","paddingRight","offsetX","onContextMenu","onTap","initialTarget","onKeyDown","onKey","onKeyUp","bindings","handler","toKeybinding","getHighlight","clearHighlight","focusPrevious","reveal","getFocus","focusPreviousPage","focusNext","focusNextPage","focusFirst","focusLast","focus_1","didCollapse","focusParent","focus_2","didExpand","focusFirstChild","focus","toggleExpansion","getSelection","DefaultDragAndDrop","getDragURI","onDragStart","onDragOver","targetElement","drop","DefaultFilter","DefaultAccessibilityProvider","DefaultTreestyler","styleElement","selectorSuffix","suffix","content","listFocusBackground","listFocusForeground","listActiveSelectionBackground","listActiveSelectionForeground","listFocusAndSelectionBackground","listFocusAndSelectionForeground","listInactiveSelectionBackground","listInactiveSelectionForeground","listHoverBackground","listHoverForeground","listDropBackground","listFocusOutline","newStyles","innerHTML","LockData","_onDispose","onDispose","_item","fire","Lock","locks","isLocked","fn","result","lock","getLock","c","once","isDisposed","Error","r","key","intersects","ItemRegistry","_isDisposed","_onDidRevealItem","onDidRevealItem","_onExpandItem","onExpandItem","_onDidExpandItem","onDidExpandItem","_onCollapseItem","onCollapseItem","_onDidCollapseItem","onDidCollapseItem","_onDidAddTraitItem","onDidAddTraitItem","_onDidRemoveTraitItem","onDidRemoveTraitItem","_onDidRefreshItem","onDidRefreshItem","_onRefreshItemChildren","onRefreshItemChildren","_onDidRefreshItemChildren","onDidRefreshItemChildren","_onDidDisposeItem","onDidDisposeItem","items","register","isRegistered","disposable","add","onDidReveal","onExpand","onDidExpand","onCollapse","onDidCollapse","onDidAddTrait","onDidRemoveTrait","onDidRefresh","onRefreshChildren","onDidRefreshChildren","onDidDispose","deregister","getItem","Item","registry","_onDidCreate","_onDidReveal","_onExpand","_onDidExpand","_onCollapse","_onDidCollapse","_onDidAddTrait","_onDidRemoveTrait","_onDidRefresh","_onRefreshChildren","_onDidRefreshChildren","_onDidDispose","doesHaveChildren","needsChildrenRefresh","parent","previous","next","firstChild","lastChild","traits","depth","expanded","shouldAutoexpand","visible","_isVisible","height","_getHeight","getElement","getDepth","setVisible","value","_setExpanded","relativeTop","eventData","refreshChildren","autoExpandSingleChildren","recursive","collapseChildrenPromise_1","forEachChild","child","addTrait","trait","removeTrait","hasTrait","getAllTraits","safe","force","setNeedsChildrenRefresh_1","doRefresh","childrenPromise","isNested","elements","isArray","reject","slice","sort","staleItems","removeChild","len","addChild","staleItemId","all","mapEachChild","updateVisibility","refresh","getNavigator","TreeNavigator","other","isAncestorOf","startItem","afterItem","atHead","atTail","isFirstChild","isLastChild","NaN","sorter","otherElement","compare","RootItem","subTreeOnly","start","lastDescendantOf","current","parent_1","first","last","TreeModel","registryDisposable","None","_onSetInput","onSetInput","_onDidSetInput","onDidSetInput","_onRefresh","onRefresh","_onDidHighlight","onDidHighlight","_onDidSelect","onDidSelect","_onDidFocus","onDidFocus","input","traitsToItems","setInput","setHighlight","forEach","resolveUnknownParentChain","chain","eventPayload","setTraits","highlight","includeHidden","getElementsWithTrait","selection","count","nextItem","nav","previousItem","from","focusNth","index","navItem","fromItem","removeTraits","traitItems","itemsToRemoveTrait","ElementsDragAndDropData","update","dataTransfer","getData","ExternalElementsDragAndDropData","DesktopDragAndDropData","types","files","apply","f","size","HeightMap","heightMap","indexes","getContentHeight","top","onInsertItems","iterator","afterItemId","viewItem","j","totalSize","sizeDiff","console","error","boundSplice","splice","itemsToInsert","createViewItem","onInsertItem","onRefreshItem","onRemoveItems","itemId","startIndex","onRemoveItem","onRefreshItemSet","sortedItems","a","onRefreshItems","newHeight","cummDiff","needsRender","indexAt","position","center","left","right","Math","floor","indexAfter","min","itemAtIndex","itemAfter","ContextMenuEvent","posx","posy","_posx","_posy","_target","MouseContextMenuEvent","KeyboardContextMenuEvent","removeFromParent","parentElement","RowCache","_cache","alloc","cache","pop","row","err","release","garbageCollect","keys","cachedRow","ViewItem","uri","unbindDragStart","_draggable","_styles","addClass","removeClass","render","_templateId","name","skipUserRender","classes","draggable","setAttribute","accessibility","base64Id","strings","removeAttribute","paddingOnRow","paddingLeft","twistiePixels","indentPixels","firstElementChild","dnd","horizontalScrolling","parseFloat","insertInDOM","afterElement","BINDING","insertBefore","warn","removeFromDOM","RootViewItem","wrapper","reactionEquals","one","accept","bubble","effect","TreeView","lastPointerType","lastClickTimeStamp","contentWidthUpdateDelayer","isRefreshing","refreshingPreviousChildrenIds","currentDragAndDropData","currentDropTarget","currentDropTargets","currentDropDisposable","gestureDisposable","dragAndDropScrollInterval","dragAndDropScrollTimeout","dragAndDropMouseY","highlightedItemWasDraggable","onHiddenScrollTop","_onDOMFocus","onDOMFocus","_onDOMBlur","_onDidScroll","counter","instance","horizontalScrollMode","controller","modelListeners","viewListeners","domNode","tabIndex","preventRootFocus","treeStyler","styler","alwaysFocused","scrollableElement","alwaysConsumeMouseWheel","horizontal","vertical","verticalScrollMode","useShadows","onScroll","scrollTop","scrollLeft","scrollWidth","msTouchAction","msContentZooming","addTarget","rowsContainer","showTwistie","focusTracker","onFocus","onDidBlur","onBlur","onMouseUp","button","onMouseMiddleClick","Tap","Change","onTouchChange","onMsPointerDown","onMsGestureTap","onThrottledMsGestureChange","lastEvent","translationY","translationX","onDrop","onDragEnd","getDomNode","lastRenderTop","lastRenderHeight","didJustPressContextMenuKey","shouldInvalidateDropReaction","onRowsChanged","layout","setupMSGesture","applyStyles","getHTMLElement","isFocused","activeElement","blur","MSGesture","msGesture","setTimeout","isTreeVisible","viewHeight","scrollHeight","viewWidth","stop","renderTop","renderBottom","thisRenderBottom","max","insertItemInDOM","removeItemFromDOM","topItem","setModel","newModel","releaseModel","onRefreshing","onRefreshed","onClearingInput","onModelFocusChange","onItemChildrenRefreshing","onItemChildrenRefreshed","onItemRefresh","onItemExpanding","onItemExpanded","onItemCollapsing","onItemReveal","onItemAddTrait","onItemRemoveTrait","updateScrollWidth","trigger","keys_1","lastPageIndex","lastPageElement","currentlyFocusedElement","previousScrollTop","firstPageIndex","firstPageElement","scrollDimensions","getScrollDimensions","setScrollDimensions","scrollPosition","getScrollPosition","setScrollPosition","inputItem","showLoading","loadingTimer","loading","LOADING_DECORATION_DELAY","childrenIds","navigator_1","childItem","clearTimeout","previousChildrenIds_1","afterModelItems_1","navigator_2","skipDiff","abs","diff","doToInsertItemsAlreadyExist","lcs","getElements","map","ComputeDiff","changes","some","modifiedLength","modifiedStart","diff_1","diffChange","originalLength","originalStart","beforeItem","onItemsRefresh","m","viewItemBottom","wrapperBottom","refreshViewItem","shouldBeRendered","getItemAround","Date","now","resultEvent","KeyboardEvent","keyboardEvent","mouseEvent","keyCode","shiftKey","effectAllowed","setData","RESOURCES","JSON","stringify","setDragImage","getDragLabel","dragImage_1","body","CurrentDragAndDropData","setupDragAndDropScrollInterval","viewTop","setInterval","scrollDiff","upperLimit","cancelDragAndDropScrollTimeout","cancelDragAndDropScrollInterval","clearInterval","DRAG_LEAVE","dropTarget","currentDropElement","reaction","canDrop","dropEffect","currentDropElementReaction","autoExpand","timeoutPromise_1","cancel","event_1","pointerType","MSPOINTER_TYPE_MOUSE","MSPOINTER_TYPE_TOUCH","addPointer","pointerId","elementFromPoint","clientX","clientY","elementAfter","candidate","el","parentNode","TreeContext","configuration","defaultStyles","fromHex","Tree","_onDidChangeFocus","onDidChangeFocus","_onDidChangeSelection","onDidChangeSelection","_onHighlightChange","view","isDOMFocused","domBlur","QuickOpenController","arguments","background","foreground","widgetShadow","progressBarBackground","DEFAULT_INPUT_ARIA_LABEL","nls","QuickOpenWidget","callbacks","_register","CONTEXT_MENU","FOCUS","gainingFocus","BLUR","loosingFocus","KEY_DOWN","hide","altKey","metaKey","stops","currentTarget","querySelectorAll","progressBar","inputContainer","inputBox","placeholder","inputPlaceHolder","inputBackground","inputForeground","inputBorder","inputValidationInfoBackground","inputValidationInfoForeground","inputValidationInfoBorder","inputValidationWarningBackground","inputValidationWarningForeground","inputValidationWarningBorder","inputValidationErrorBackground","inputValidationErrorForeground","inputValidationErrorBorder","inputElement","INPUT","onType","shouldOpenInBackground","navigateInTree","selectionStart","selectionEnd","elementSelected","resultCount","treeContainer","createTree","treeCreator","config","opts","treeElement","elementFocused","quickNavigateConfiguration","KEY_UP","quickNavKeys","keybindings","wasTriggerKeyPressed","k","getParts","firstPart","chordPart","focus_3","layoutDimensions","borderColor","backgroundColor","borderWidth","borderStyle","boxShadow","helpText","isShift","oldFocus","newFocus","arivaActiveDescendant","getAttribute","keymods","extractKeyMods","runner","preferredMode","ctrlCmd","alt","show","param","isLoosingFocus","doShowWithPrefix","restoreLastInput","doShowWithInput","autoFocus","inputSelection","select","onShow","lastInput","prefix","setInputAndLayout","isElementVisible","updateResultCount","autoFocusPrefixMatch","caseSensitiveMatch","caseInsensitiveMatch","lowerCasePrefix","entries_1","entryToFocus","autoFocusFirstEntry","autoFocusIndex","autoFocusSecondEntry","autoFocusLastEntry","itemHeight","minItemsToShow","preferredItemsHeight","MAX_ITEMS_HEIGHT","maxEntries","maxItemsToShow","entryHeight","comment","reason","hasFocus","onOk","onCancel","onHide","onInputChanging","setAriaLabel","inputChangingTimeoutHandle","dimension","quickOpenWidth","MAX_WIDTH","marginLeft","relatedTarget","veto","onFocusLost"],"mappings":"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","file":"js/chunk-vendors~a4f6c3ae.def39119.js","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as nls from '../../../../nls.js';\r\nimport * as types from '../../../common/types.js';\r\nimport { IconLabel } from '../../../browser/ui/iconLabel/iconLabel.js';\r\nimport { ActionBar } from '../../../browser/ui/actionbar/actionbar.js';\r\nimport { HighlightedLabel } from '../../../browser/ui/highlightedlabel/highlightedLabel.js';\r\nimport * as DOM from '../../../browser/dom.js';\r\nimport { KeybindingLabel } from '../../../browser/ui/keybindingLabel/keybindingLabel.js';\r\nimport { OS } from '../../../common/platform.js';\r\nimport { coalesce } from '../../../common/arrays.js';\r\nvar IDS = 0;\r\nvar QuickOpenEntry = /** @class */ (function () {\r\n    function QuickOpenEntry(highlights) {\r\n        if (highlights === void 0) { highlights = []; }\r\n        this.id = (IDS++).toString();\r\n        this.labelHighlights = highlights;\r\n        this.descriptionHighlights = [];\r\n    }\r\n    /**\r\n     * A unique identifier for the entry\r\n     */\r\n    QuickOpenEntry.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    /**\r\n     * The label of the entry to identify it from others in the list\r\n     */\r\n    QuickOpenEntry.prototype.getLabel = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * The options for the label to use for this entry\r\n     */\r\n    QuickOpenEntry.prototype.getLabelOptions = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * The label of the entry to use when a screen reader wants to read about the entry\r\n     */\r\n    QuickOpenEntry.prototype.getAriaLabel = function () {\r\n        return coalesce([this.getLabel(), this.getDescription(), this.getDetail()])\r\n            .join(', ');\r\n    };\r\n    /**\r\n     * Detail information about the entry that is optional and can be shown below the label\r\n     */\r\n    QuickOpenEntry.prototype.getDetail = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * The icon of the entry to identify it from others in the list\r\n     */\r\n    QuickOpenEntry.prototype.getIcon = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * A secondary description that is optional and can be shown right to the label\r\n     */\r\n    QuickOpenEntry.prototype.getDescription = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * A tooltip to show when hovering over the entry.\r\n     */\r\n    QuickOpenEntry.prototype.getTooltip = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * A tooltip to show when hovering over the description portion of the entry.\r\n     */\r\n    QuickOpenEntry.prototype.getDescriptionTooltip = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * An optional keybinding to show for an entry.\r\n     */\r\n    QuickOpenEntry.prototype.getKeybinding = function () {\r\n        return undefined;\r\n    };\r\n    /**\r\n     * Allows to reuse the same model while filtering. Hidden entries will not show up in the viewer.\r\n     */\r\n    QuickOpenEntry.prototype.isHidden = function () {\r\n        return !!this.hidden;\r\n    };\r\n    /**\r\n     * Allows to set highlight ranges that should show up for the entry label and optionally description if set.\r\n     */\r\n    QuickOpenEntry.prototype.setHighlights = function (labelHighlights, descriptionHighlights, detailHighlights) {\r\n        this.labelHighlights = labelHighlights;\r\n        this.descriptionHighlights = descriptionHighlights;\r\n        this.detailHighlights = detailHighlights;\r\n    };\r\n    /**\r\n     * Allows to return highlight ranges that should show up for the entry label and description.\r\n     */\r\n    QuickOpenEntry.prototype.getHighlights = function () {\r\n        return [this.labelHighlights, this.descriptionHighlights, this.detailHighlights];\r\n    };\r\n    /**\r\n     * Called when the entry is selected for opening. Returns a boolean value indicating if an action was performed or not.\r\n     * The mode parameter gives an indication if the element is previewed (using arrow keys) or opened.\r\n     *\r\n     * The context parameter provides additional context information how the run was triggered.\r\n     */\r\n    QuickOpenEntry.prototype.run = function (mode, context) {\r\n        return false;\r\n    };\r\n    return QuickOpenEntry;\r\n}());\r\nexport { QuickOpenEntry };\r\nvar QuickOpenEntryGroup = /** @class */ (function (_super) {\r\n    __extends(QuickOpenEntryGroup, _super);\r\n    function QuickOpenEntryGroup(entry, groupLabel, withBorder) {\r\n        var _this = _super.call(this) || this;\r\n        _this.entry = entry;\r\n        _this.groupLabel = groupLabel;\r\n        _this.withBorder = withBorder;\r\n        return _this;\r\n    }\r\n    /**\r\n     * The label of the group or null if none.\r\n     */\r\n    QuickOpenEntryGroup.prototype.getGroupLabel = function () {\r\n        return this.groupLabel;\r\n    };\r\n    QuickOpenEntryGroup.prototype.setGroupLabel = function (groupLabel) {\r\n        this.groupLabel = groupLabel;\r\n    };\r\n    /**\r\n     * Whether to show a border on top of the group entry or not.\r\n     */\r\n    QuickOpenEntryGroup.prototype.showBorder = function () {\r\n        return !!this.withBorder;\r\n    };\r\n    QuickOpenEntryGroup.prototype.setShowBorder = function (showBorder) {\r\n        this.withBorder = showBorder;\r\n    };\r\n    QuickOpenEntryGroup.prototype.getLabel = function () {\r\n        return this.entry ? this.entry.getLabel() : _super.prototype.getLabel.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.getLabelOptions = function () {\r\n        return this.entry ? this.entry.getLabelOptions() : _super.prototype.getLabelOptions.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.getAriaLabel = function () {\r\n        return this.entry ? this.entry.getAriaLabel() : _super.prototype.getAriaLabel.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.getDetail = function () {\r\n        return this.entry ? this.entry.getDetail() : _super.prototype.getDetail.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.getIcon = function () {\r\n        return this.entry ? this.entry.getIcon() : _super.prototype.getIcon.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.getDescription = function () {\r\n        return this.entry ? this.entry.getDescription() : _super.prototype.getDescription.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.getHighlights = function () {\r\n        return this.entry ? this.entry.getHighlights() : _super.prototype.getHighlights.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.isHidden = function () {\r\n        return this.entry ? this.entry.isHidden() : _super.prototype.isHidden.call(this);\r\n    };\r\n    QuickOpenEntryGroup.prototype.setHighlights = function (labelHighlights, descriptionHighlights, detailHighlights) {\r\n        this.entry ? this.entry.setHighlights(labelHighlights, descriptionHighlights, detailHighlights) : _super.prototype.setHighlights.call(this, labelHighlights, descriptionHighlights, detailHighlights);\r\n    };\r\n    QuickOpenEntryGroup.prototype.run = function (mode, context) {\r\n        return this.entry ? this.entry.run(mode, context) : _super.prototype.run.call(this, mode, context);\r\n    };\r\n    return QuickOpenEntryGroup;\r\n}(QuickOpenEntry));\r\nexport { QuickOpenEntryGroup };\r\nvar NoActionProvider = /** @class */ (function () {\r\n    function NoActionProvider() {\r\n    }\r\n    NoActionProvider.prototype.hasActions = function (tree, element) {\r\n        return false;\r\n    };\r\n    NoActionProvider.prototype.getActions = function (tree, element) {\r\n        return null;\r\n    };\r\n    return NoActionProvider;\r\n}());\r\nvar templateEntry = 'quickOpenEntry';\r\nvar templateEntryGroup = 'quickOpenEntryGroup';\r\nvar Renderer = /** @class */ (function () {\r\n    function Renderer(actionProvider, actionRunner) {\r\n        if (actionProvider === void 0) { actionProvider = new NoActionProvider(); }\r\n        this.actionProvider = actionProvider;\r\n        this.actionRunner = actionRunner;\r\n    }\r\n    Renderer.prototype.getHeight = function (entry) {\r\n        if (entry.getDetail()) {\r\n            return 44;\r\n        }\r\n        return 22;\r\n    };\r\n    Renderer.prototype.getTemplateId = function (entry) {\r\n        if (entry instanceof QuickOpenEntryGroup) {\r\n            return templateEntryGroup;\r\n        }\r\n        return templateEntry;\r\n    };\r\n    Renderer.prototype.renderTemplate = function (templateId, container, styles) {\r\n        var entryContainer = document.createElement('div');\r\n        DOM.addClass(entryContainer, 'sub-content');\r\n        container.appendChild(entryContainer);\r\n        // Entry\r\n        var row1 = DOM.$('.quick-open-row');\r\n        var row2 = DOM.$('.quick-open-row');\r\n        var entry = DOM.$('.quick-open-entry', undefined, row1, row2);\r\n        entryContainer.appendChild(entry);\r\n        // Icon\r\n        var icon = document.createElement('span');\r\n        row1.appendChild(icon);\r\n        // Label\r\n        var label = new IconLabel(row1, { supportHighlights: true, supportDescriptionHighlights: true, supportCodicons: true });\r\n        // Keybinding\r\n        var keybindingContainer = document.createElement('span');\r\n        row1.appendChild(keybindingContainer);\r\n        DOM.addClass(keybindingContainer, 'quick-open-entry-keybinding');\r\n        var keybinding = new KeybindingLabel(keybindingContainer, OS);\r\n        // Detail\r\n        var detailContainer = document.createElement('div');\r\n        row2.appendChild(detailContainer);\r\n        DOM.addClass(detailContainer, 'quick-open-entry-meta');\r\n        var detail = new HighlightedLabel(detailContainer, true);\r\n        // Entry Group\r\n        var group;\r\n        if (templateId === templateEntryGroup) {\r\n            group = document.createElement('div');\r\n            DOM.addClass(group, 'results-group');\r\n            container.appendChild(group);\r\n        }\r\n        // Actions\r\n        DOM.addClass(container, 'actions');\r\n        var actionBarContainer = document.createElement('div');\r\n        DOM.addClass(actionBarContainer, 'primary-action-bar');\r\n        container.appendChild(actionBarContainer);\r\n        var actionBar = new ActionBar(actionBarContainer, {\r\n            actionRunner: this.actionRunner\r\n        });\r\n        return {\r\n            container: container,\r\n            entry: entry,\r\n            icon: icon,\r\n            label: label,\r\n            detail: detail,\r\n            keybinding: keybinding,\r\n            group: group,\r\n            actionBar: actionBar\r\n        };\r\n    };\r\n    Renderer.prototype.renderElement = function (entry, templateId, data, styles) {\r\n        // Action Bar\r\n        if (this.actionProvider.hasActions(null, entry)) {\r\n            DOM.addClass(data.container, 'has-actions');\r\n        }\r\n        else {\r\n            DOM.removeClass(data.container, 'has-actions');\r\n        }\r\n        data.actionBar.context = entry; // make sure the context is the current element\r\n        var actions = this.actionProvider.getActions(null, entry);\r\n        if (data.actionBar.isEmpty() && actions && actions.length > 0) {\r\n            data.actionBar.push(actions, { icon: true, label: false });\r\n        }\r\n        else if (!data.actionBar.isEmpty() && (!actions || actions.length === 0)) {\r\n            data.actionBar.clear();\r\n        }\r\n        // Entry group class\r\n        if (entry instanceof QuickOpenEntryGroup && entry.getGroupLabel()) {\r\n            DOM.addClass(data.container, 'has-group-label');\r\n        }\r\n        else {\r\n            DOM.removeClass(data.container, 'has-group-label');\r\n        }\r\n        // Entry group\r\n        if (entry instanceof QuickOpenEntryGroup) {\r\n            var group = entry;\r\n            var groupData = data;\r\n            // Border\r\n            if (group.showBorder()) {\r\n                DOM.addClass(groupData.container, 'results-group-separator');\r\n                if (styles.pickerGroupBorder) {\r\n                    groupData.container.style.borderTopColor = styles.pickerGroupBorder.toString();\r\n                }\r\n            }\r\n            else {\r\n                DOM.removeClass(groupData.container, 'results-group-separator');\r\n                groupData.container.style.borderTopColor = '';\r\n            }\r\n            // Group Label\r\n            var groupLabel = group.getGroupLabel() || '';\r\n            if (groupData.group) {\r\n                groupData.group.textContent = groupLabel;\r\n                if (styles.pickerGroupForeground) {\r\n                    groupData.group.style.color = styles.pickerGroupForeground.toString();\r\n                }\r\n            }\r\n        }\r\n        // Normal Entry\r\n        if (entry instanceof QuickOpenEntry) {\r\n            var _a = entry.getHighlights(), labelHighlights = _a[0], descriptionHighlights = _a[1], detailHighlights = _a[2];\r\n            // Icon\r\n            var iconClass = entry.getIcon() ? ('quick-open-entry-icon ' + entry.getIcon()) : '';\r\n            data.icon.className = iconClass;\r\n            // Label\r\n            var options = entry.getLabelOptions() || Object.create(null);\r\n            options.matches = labelHighlights || [];\r\n            options.title = entry.getTooltip();\r\n            options.descriptionTitle = entry.getDescriptionTooltip() || entry.getDescription(); // tooltip over description because it could overflow\r\n            options.descriptionMatches = descriptionHighlights || [];\r\n            data.label.setLabel(entry.getLabel() || '', entry.getDescription(), options);\r\n            // Meta\r\n            data.detail.set(entry.getDetail(), detailHighlights);\r\n            // Keybinding\r\n            data.keybinding.set(entry.getKeybinding());\r\n        }\r\n    };\r\n    Renderer.prototype.disposeTemplate = function (templateId, templateData) {\r\n        templateData.actionBar.dispose();\r\n        templateData.actionBar = null;\r\n        templateData.container = null;\r\n        templateData.entry = null;\r\n        templateData.keybinding = null;\r\n        templateData.detail = null;\r\n        templateData.group = null;\r\n        templateData.icon = null;\r\n        templateData.label.dispose();\r\n        templateData.label = null;\r\n    };\r\n    return Renderer;\r\n}());\r\nvar QuickOpenModel = /** @class */ (function () {\r\n    function QuickOpenModel(entries, actionProvider) {\r\n        if (entries === void 0) { entries = []; }\r\n        if (actionProvider === void 0) { actionProvider = new NoActionProvider(); }\r\n        this._entries = entries;\r\n        this._dataSource = this;\r\n        this._renderer = new Renderer(actionProvider);\r\n        this._filter = this;\r\n        this._runner = this;\r\n        this._accessibilityProvider = this;\r\n    }\r\n    Object.defineProperty(QuickOpenModel.prototype, \"entries\", {\r\n        get: function () { return this._entries; },\r\n        set: function (entries) {\r\n            this._entries = entries;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(QuickOpenModel.prototype, \"dataSource\", {\r\n        get: function () { return this._dataSource; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(QuickOpenModel.prototype, \"renderer\", {\r\n        get: function () { return this._renderer; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(QuickOpenModel.prototype, \"filter\", {\r\n        get: function () { return this._filter; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(QuickOpenModel.prototype, \"runner\", {\r\n        get: function () { return this._runner; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(QuickOpenModel.prototype, \"accessibilityProvider\", {\r\n        get: function () { return this._accessibilityProvider; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    QuickOpenModel.prototype.getId = function (entry) {\r\n        return entry.getId();\r\n    };\r\n    QuickOpenModel.prototype.getLabel = function (entry) {\r\n        return types.withUndefinedAsNull(entry.getLabel());\r\n    };\r\n    QuickOpenModel.prototype.getAriaLabel = function (entry) {\r\n        var ariaLabel = entry.getAriaLabel();\r\n        if (ariaLabel) {\r\n            return nls.localize('quickOpenAriaLabelEntry', \"{0}, picker\", entry.getAriaLabel());\r\n        }\r\n        return nls.localize('quickOpenAriaLabel', \"picker\");\r\n    };\r\n    QuickOpenModel.prototype.isVisible = function (entry) {\r\n        return !entry.isHidden();\r\n    };\r\n    QuickOpenModel.prototype.run = function (entry, mode, context) {\r\n        return entry.run(mode, context);\r\n    };\r\n    return QuickOpenModel;\r\n}());\r\nexport { QuickOpenModel };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { isFunction } from '../../../common/types.js';\r\nvar DataSource = /** @class */ (function () {\r\n    function DataSource(arg) {\r\n        this.modelProvider = isFunction(arg.getModel) ? arg : { getModel: function () { return arg; } };\r\n    }\r\n    DataSource.prototype.getId = function (tree, element) {\r\n        if (!element) {\r\n            return null;\r\n        }\r\n        var model = this.modelProvider.getModel();\r\n        return model === element ? '__root__' : model.dataSource.getId(element);\r\n    };\r\n    DataSource.prototype.hasChildren = function (tree, element) {\r\n        var model = this.modelProvider.getModel();\r\n        return !!(model && model === element && model.entries.length > 0);\r\n    };\r\n    DataSource.prototype.getChildren = function (tree, element) {\r\n        var model = this.modelProvider.getModel();\r\n        return Promise.resolve(model === element ? model.entries : []);\r\n    };\r\n    DataSource.prototype.getParent = function (tree, element) {\r\n        return Promise.resolve(null);\r\n    };\r\n    return DataSource;\r\n}());\r\nexport { DataSource };\r\nvar AccessibilityProvider = /** @class */ (function () {\r\n    function AccessibilityProvider(modelProvider) {\r\n        this.modelProvider = modelProvider;\r\n    }\r\n    AccessibilityProvider.prototype.getAriaLabel = function (tree, element) {\r\n        var model = this.modelProvider.getModel();\r\n        return model.accessibilityProvider ? model.accessibilityProvider.getAriaLabel(element) : null;\r\n    };\r\n    AccessibilityProvider.prototype.getPosInSet = function (tree, element) {\r\n        var model = this.modelProvider.getModel();\r\n        var i = 0;\r\n        if (model.filter) {\r\n            for (var _i = 0, _a = model.entries; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                if (model.filter.isVisible(entry)) {\r\n                    i++;\r\n                }\r\n                if (entry === element) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            i = model.entries.indexOf(element) + 1;\r\n        }\r\n        return String(i);\r\n    };\r\n    AccessibilityProvider.prototype.getSetSize = function () {\r\n        var model = this.modelProvider.getModel();\r\n        var n = 0;\r\n        if (model.filter) {\r\n            for (var _i = 0, _a = model.entries; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                if (model.filter.isVisible(entry)) {\r\n                    n++;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            n = model.entries.length;\r\n        }\r\n        return String(n);\r\n    };\r\n    return AccessibilityProvider;\r\n}());\r\nexport { AccessibilityProvider };\r\nvar Filter = /** @class */ (function () {\r\n    function Filter(modelProvider) {\r\n        this.modelProvider = modelProvider;\r\n    }\r\n    Filter.prototype.isVisible = function (tree, element) {\r\n        var model = this.modelProvider.getModel();\r\n        if (!model.filter) {\r\n            return true;\r\n        }\r\n        return model.filter.isVisible(element);\r\n    };\r\n    return Filter;\r\n}());\r\nexport { Filter };\r\nvar Renderer = /** @class */ (function () {\r\n    function Renderer(modelProvider, styles) {\r\n        this.modelProvider = modelProvider;\r\n        this.styles = styles;\r\n    }\r\n    Renderer.prototype.updateStyles = function (styles) {\r\n        this.styles = styles;\r\n    };\r\n    Renderer.prototype.getHeight = function (tree, element) {\r\n        var model = this.modelProvider.getModel();\r\n        return model.renderer.getHeight(element);\r\n    };\r\n    Renderer.prototype.getTemplateId = function (tree, element) {\r\n        var model = this.modelProvider.getModel();\r\n        return model.renderer.getTemplateId(element);\r\n    };\r\n    Renderer.prototype.renderTemplate = function (tree, templateId, container) {\r\n        var model = this.modelProvider.getModel();\r\n        return model.renderer.renderTemplate(templateId, container, this.styles);\r\n    };\r\n    Renderer.prototype.renderElement = function (tree, element, templateId, templateData) {\r\n        var model = this.modelProvider.getModel();\r\n        model.renderer.renderElement(element, templateId, templateData, this.styles);\r\n    };\r\n    Renderer.prototype.disposeTemplate = function (tree, templateId, templateData) {\r\n        var model = this.modelProvider.getModel();\r\n        model.renderer.disposeTemplate(templateId, templateData);\r\n    };\r\n    return Renderer;\r\n}());\r\nexport { Renderer };\r\n","import * as platform from '../../../common/platform.js';\r\nimport * as errors from '../../../common/errors.js';\r\nimport * as dom from '../../../browser/dom.js';\r\nimport { createKeybinding } from '../../../common/keyCodes.js';\r\nvar KeybindingDispatcher = /** @class */ (function () {\r\n    function KeybindingDispatcher() {\r\n        this._arr = [];\r\n    }\r\n    KeybindingDispatcher.prototype.set = function (keybinding, callback) {\r\n        this._arr.push({\r\n            keybinding: createKeybinding(keybinding, platform.OS),\r\n            callback: callback\r\n        });\r\n    };\r\n    KeybindingDispatcher.prototype.dispatch = function (keybinding) {\r\n        // Loop from the last to the first to handle overwrites\r\n        for (var i = this._arr.length - 1; i >= 0; i--) {\r\n            var item = this._arr[i];\r\n            if (keybinding.toChord().equals(item.keybinding)) {\r\n                return item.callback;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    return KeybindingDispatcher;\r\n}());\r\nexport { KeybindingDispatcher };\r\nvar DefaultController = /** @class */ (function () {\r\n    function DefaultController(options) {\r\n        var _this = this;\r\n        if (options === void 0) { options = { clickBehavior: 0 /* ON_MOUSE_DOWN */, keyboardSupport: true, openMode: 0 /* SINGLE_CLICK */ }; }\r\n        this.options = options;\r\n        this.downKeyBindingDispatcher = new KeybindingDispatcher();\r\n        this.upKeyBindingDispatcher = new KeybindingDispatcher();\r\n        if (typeof options.keyboardSupport !== 'boolean' || options.keyboardSupport) {\r\n            this.downKeyBindingDispatcher.set(16 /* UpArrow */, function (t, e) { return _this.onUp(t, e); });\r\n            this.downKeyBindingDispatcher.set(18 /* DownArrow */, function (t, e) { return _this.onDown(t, e); });\r\n            this.downKeyBindingDispatcher.set(15 /* LeftArrow */, function (t, e) { return _this.onLeft(t, e); });\r\n            this.downKeyBindingDispatcher.set(17 /* RightArrow */, function (t, e) { return _this.onRight(t, e); });\r\n            if (platform.isMacintosh) {\r\n                this.downKeyBindingDispatcher.set(2048 /* CtrlCmd */ | 16 /* UpArrow */, function (t, e) { return _this.onLeft(t, e); });\r\n                this.downKeyBindingDispatcher.set(256 /* WinCtrl */ | 44 /* KEY_N */, function (t, e) { return _this.onDown(t, e); });\r\n                this.downKeyBindingDispatcher.set(256 /* WinCtrl */ | 46 /* KEY_P */, function (t, e) { return _this.onUp(t, e); });\r\n            }\r\n            this.downKeyBindingDispatcher.set(11 /* PageUp */, function (t, e) { return _this.onPageUp(t, e); });\r\n            this.downKeyBindingDispatcher.set(12 /* PageDown */, function (t, e) { return _this.onPageDown(t, e); });\r\n            this.downKeyBindingDispatcher.set(14 /* Home */, function (t, e) { return _this.onHome(t, e); });\r\n            this.downKeyBindingDispatcher.set(13 /* End */, function (t, e) { return _this.onEnd(t, e); });\r\n            this.downKeyBindingDispatcher.set(10 /* Space */, function (t, e) { return _this.onSpace(t, e); });\r\n            this.downKeyBindingDispatcher.set(9 /* Escape */, function (t, e) { return _this.onEscape(t, e); });\r\n            this.upKeyBindingDispatcher.set(3 /* Enter */, this.onEnter.bind(this));\r\n            this.upKeyBindingDispatcher.set(2048 /* CtrlCmd */ | 3 /* Enter */, this.onEnter.bind(this));\r\n        }\r\n    }\r\n    DefaultController.prototype.onMouseDown = function (tree, element, event, origin) {\r\n        if (origin === void 0) { origin = 'mouse'; }\r\n        if (this.options.clickBehavior === 0 /* ON_MOUSE_DOWN */ && (event.leftButton || event.middleButton)) {\r\n            if (event.target) {\r\n                if (event.target.tagName && event.target.tagName.toLowerCase() === 'input') {\r\n                    return false; // Ignore event if target is a form input field (avoids browser specific issues)\r\n                }\r\n                if (dom.findParentWithClass(event.target, 'scrollbar', 'monaco-tree')) {\r\n                    return false;\r\n                }\r\n                if (dom.findParentWithClass(event.target, 'monaco-action-bar', 'row')) { // TODO@Joao not very nice way of checking for the action bar (implicit knowledge)\r\n                    return false; // Ignore event if target is over an action bar of the row\r\n                }\r\n            }\r\n            // Propagate to onLeftClick now\r\n            return this.onLeftClick(tree, element, event, origin);\r\n        }\r\n        return false;\r\n    };\r\n    DefaultController.prototype.onClick = function (tree, element, event) {\r\n        var isMac = platform.isMacintosh;\r\n        // A Ctrl click on the Mac is a context menu event\r\n        if (isMac && event.ctrlKey) {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            return false;\r\n        }\r\n        if (event.target && event.target.tagName && event.target.tagName.toLowerCase() === 'input') {\r\n            return false; // Ignore event if target is a form input field (avoids browser specific issues)\r\n        }\r\n        if (this.options.clickBehavior === 0 /* ON_MOUSE_DOWN */ && (event.leftButton || event.middleButton)) {\r\n            return false; // Already handled by onMouseDown\r\n        }\r\n        return this.onLeftClick(tree, element, event);\r\n    };\r\n    DefaultController.prototype.onLeftClick = function (tree, element, eventish, origin) {\r\n        if (origin === void 0) { origin = 'mouse'; }\r\n        var event = eventish;\r\n        var payload = { origin: origin, originalEvent: eventish, didClickOnTwistie: this.isClickOnTwistie(event) };\r\n        if (tree.getInput() === element) {\r\n            tree.clearFocus(payload);\r\n            tree.clearSelection(payload);\r\n        }\r\n        else {\r\n            var isSingleMouseDown = eventish && event.browserEvent && event.browserEvent.type === 'mousedown' && event.browserEvent.detail === 1;\r\n            if (!isSingleMouseDown) {\r\n                eventish.preventDefault(); // we cannot preventDefault onMouseDown with single click because this would break DND otherwise\r\n            }\r\n            eventish.stopPropagation();\r\n            tree.domFocus();\r\n            tree.setSelection([element], payload);\r\n            tree.setFocus(element, payload);\r\n            if (this.shouldToggleExpansion(element, event, origin)) {\r\n                if (tree.isExpanded(element)) {\r\n                    tree.collapse(element).then(undefined, errors.onUnexpectedError);\r\n                }\r\n                else {\r\n                    tree.expand(element).then(undefined, errors.onUnexpectedError);\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.shouldToggleExpansion = function (element, event, origin) {\r\n        var isDoubleClick = (origin === 'mouse' && event.detail === 2);\r\n        return this.openOnSingleClick || isDoubleClick || this.isClickOnTwistie(event);\r\n    };\r\n    Object.defineProperty(DefaultController.prototype, \"openOnSingleClick\", {\r\n        get: function () {\r\n            return this.options.openMode === 0 /* SINGLE_CLICK */;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    DefaultController.prototype.isClickOnTwistie = function (event) {\r\n        var element = event.target;\r\n        if (!dom.hasClass(element, 'content')) {\r\n            return false;\r\n        }\r\n        var twistieStyle = window.getComputedStyle(element, ':before');\r\n        if (twistieStyle.backgroundImage === 'none' || twistieStyle.display === 'none') {\r\n            return false;\r\n        }\r\n        var twistieWidth = parseInt(twistieStyle.width) + parseInt(twistieStyle.paddingRight);\r\n        return event.browserEvent.offsetX <= twistieWidth;\r\n    };\r\n    DefaultController.prototype.onContextMenu = function (tree, element, event) {\r\n        if (event.target && event.target.tagName && event.target.tagName.toLowerCase() === 'input') {\r\n            return false; // allow context menu on input fields\r\n        }\r\n        // Prevent native context menu from showing up\r\n        if (event) {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n        }\r\n        return false;\r\n    };\r\n    DefaultController.prototype.onTap = function (tree, element, event) {\r\n        var target = event.initialTarget;\r\n        if (target && target.tagName && target.tagName.toLowerCase() === 'input') {\r\n            return false; // Ignore event if target is a form input field (avoids browser specific issues)\r\n        }\r\n        return this.onLeftClick(tree, element, event, 'touch');\r\n    };\r\n    DefaultController.prototype.onKeyDown = function (tree, event) {\r\n        return this.onKey(this.downKeyBindingDispatcher, tree, event);\r\n    };\r\n    DefaultController.prototype.onKeyUp = function (tree, event) {\r\n        return this.onKey(this.upKeyBindingDispatcher, tree, event);\r\n    };\r\n    DefaultController.prototype.onKey = function (bindings, tree, event) {\r\n        var handler = bindings.dispatch(event.toKeybinding());\r\n        if (handler) {\r\n            // TODO: TS 3.1 upgrade. Why are we checking against void?\r\n            if (handler(tree, event)) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    DefaultController.prototype.onUp = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            tree.clearHighlight(payload);\r\n        }\r\n        else {\r\n            tree.focusPrevious(1, payload);\r\n            tree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onPageUp = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            tree.clearHighlight(payload);\r\n        }\r\n        else {\r\n            tree.focusPreviousPage(payload);\r\n            tree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onDown = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            tree.clearHighlight(payload);\r\n        }\r\n        else {\r\n            tree.focusNext(1, payload);\r\n            tree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onPageDown = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            tree.clearHighlight(payload);\r\n        }\r\n        else {\r\n            tree.focusNextPage(payload);\r\n            tree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onHome = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            tree.clearHighlight(payload);\r\n        }\r\n        else {\r\n            tree.focusFirst(payload);\r\n            tree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onEnd = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            tree.clearHighlight(payload);\r\n        }\r\n        else {\r\n            tree.focusLast(payload);\r\n            tree.reveal(tree.getFocus()).then(undefined, errors.onUnexpectedError);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onLeft = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            tree.clearHighlight(payload);\r\n        }\r\n        else {\r\n            var focus_1 = tree.getFocus();\r\n            tree.collapse(focus_1).then(function (didCollapse) {\r\n                if (focus_1 && !didCollapse) {\r\n                    tree.focusParent(payload);\r\n                    return tree.reveal(tree.getFocus());\r\n                }\r\n                return undefined;\r\n            }).then(undefined, errors.onUnexpectedError);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onRight = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            tree.clearHighlight(payload);\r\n        }\r\n        else {\r\n            var focus_2 = tree.getFocus();\r\n            tree.expand(focus_2).then(function (didExpand) {\r\n                if (focus_2 && !didExpand) {\r\n                    tree.focusFirstChild(payload);\r\n                    return tree.reveal(tree.getFocus());\r\n                }\r\n                return undefined;\r\n            }).then(undefined, errors.onUnexpectedError);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onEnter = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            return false;\r\n        }\r\n        var focus = tree.getFocus();\r\n        if (focus) {\r\n            tree.setSelection([focus], payload);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onSpace = function (tree, event) {\r\n        if (tree.getHighlight()) {\r\n            return false;\r\n        }\r\n        var focus = tree.getFocus();\r\n        if (focus) {\r\n            tree.toggleExpansion(focus);\r\n        }\r\n        return true;\r\n    };\r\n    DefaultController.prototype.onEscape = function (tree, event) {\r\n        var payload = { origin: 'keyboard', originalEvent: event };\r\n        if (tree.getHighlight()) {\r\n            tree.clearHighlight(payload);\r\n            return true;\r\n        }\r\n        if (tree.getSelection().length) {\r\n            tree.clearSelection(payload);\r\n            return true;\r\n        }\r\n        if (tree.getFocus()) {\r\n            tree.clearFocus(payload);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return DefaultController;\r\n}());\r\nexport { DefaultController };\r\nvar DefaultDragAndDrop = /** @class */ (function () {\r\n    function DefaultDragAndDrop() {\r\n    }\r\n    DefaultDragAndDrop.prototype.getDragURI = function (tree, element) {\r\n        return null;\r\n    };\r\n    DefaultDragAndDrop.prototype.onDragStart = function (tree, data, originalEvent) {\r\n        return;\r\n    };\r\n    DefaultDragAndDrop.prototype.onDragOver = function (tree, data, targetElement, originalEvent) {\r\n        return null;\r\n    };\r\n    DefaultDragAndDrop.prototype.drop = function (tree, data, targetElement, originalEvent) {\r\n        return;\r\n    };\r\n    return DefaultDragAndDrop;\r\n}());\r\nexport { DefaultDragAndDrop };\r\nvar DefaultFilter = /** @class */ (function () {\r\n    function DefaultFilter() {\r\n    }\r\n    DefaultFilter.prototype.isVisible = function (tree, element) {\r\n        return true;\r\n    };\r\n    return DefaultFilter;\r\n}());\r\nexport { DefaultFilter };\r\nvar DefaultAccessibilityProvider = /** @class */ (function () {\r\n    function DefaultAccessibilityProvider() {\r\n    }\r\n    DefaultAccessibilityProvider.prototype.getAriaLabel = function (tree, element) {\r\n        return null;\r\n    };\r\n    return DefaultAccessibilityProvider;\r\n}());\r\nexport { DefaultAccessibilityProvider };\r\nvar DefaultTreestyler = /** @class */ (function () {\r\n    function DefaultTreestyler(styleElement, selectorSuffix) {\r\n        this.styleElement = styleElement;\r\n        this.selectorSuffix = selectorSuffix;\r\n    }\r\n    DefaultTreestyler.prototype.style = function (styles) {\r\n        var suffix = this.selectorSuffix ? \".\" + this.selectorSuffix : '';\r\n        var content = [];\r\n        if (styles.listFocusBackground) {\r\n            content.push(\".monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { background-color: \" + styles.listFocusBackground + \"; }\");\r\n        }\r\n        if (styles.listFocusForeground) {\r\n            content.push(\".monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { color: \" + styles.listFocusForeground + \"; }\");\r\n        }\r\n        if (styles.listActiveSelectionBackground) {\r\n            content.push(\".monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: \" + styles.listActiveSelectionBackground + \"; }\");\r\n        }\r\n        if (styles.listActiveSelectionForeground) {\r\n            content.push(\".monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: \" + styles.listActiveSelectionForeground + \"; }\");\r\n        }\r\n        if (styles.listFocusAndSelectionBackground) {\r\n            content.push(\"\\n\\t\\t\\t\\t.monaco-tree-drag-image,\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { background-color: \" + styles.listFocusAndSelectionBackground + \"; }\\n\\t\\t\\t\");\r\n        }\r\n        if (styles.listFocusAndSelectionForeground) {\r\n            content.push(\"\\n\\t\\t\\t\\t.monaco-tree-drag-image,\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { color: \" + styles.listFocusAndSelectionForeground + \"; }\\n\\t\\t\\t\");\r\n        }\r\n        if (styles.listInactiveSelectionBackground) {\r\n            content.push(\".monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: \" + styles.listInactiveSelectionBackground + \"; }\");\r\n        }\r\n        if (styles.listInactiveSelectionForeground) {\r\n            content.push(\".monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: \" + styles.listInactiveSelectionForeground + \"; }\");\r\n        }\r\n        if (styles.listHoverBackground) {\r\n            content.push(\".monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { background-color: \" + styles.listHoverBackground + \"; }\");\r\n        }\r\n        if (styles.listHoverForeground) {\r\n            content.push(\".monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { color: \" + styles.listHoverForeground + \"; }\");\r\n        }\r\n        if (styles.listDropBackground) {\r\n            content.push(\"\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \" .monaco-tree-wrapper.drop-target,\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row.drop-target { background-color: \" + styles.listDropBackground + \" !important; color: inherit !important; }\\n\\t\\t\\t\");\r\n        }\r\n        if (styles.listFocusOutline) {\r\n            content.push(\"\\n\\t\\t\\t\\t.monaco-tree-drag-image\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{ border: 1px solid \" + styles.listFocusOutline + \"; background: #000; }\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row \\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{ border: 1px solid transparent; }\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) \\t\\t\\t\\t\\t\\t{ border: 1px dotted \" + styles.listFocusOutline + \"; }\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) \\t\\t\\t\\t\\t\\t{ border: 1px solid \" + styles.listFocusOutline + \"; }\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted)  \\t\\t\\t\\t\\t\\t\\t{ border: 1px solid \" + styles.listFocusOutline + \"; }\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused)  \\t{ border: 1px dashed \" + styles.listFocusOutline + \"; }\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \" .monaco-tree-wrapper.drop-target,\\n\\t\\t\\t\\t.monaco-tree\" + suffix + \" .monaco-tree-rows > .monaco-tree-row.drop-target\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{ border: 1px dashed \" + styles.listFocusOutline + \"; }\\n\\t\\t\\t\");\r\n        }\r\n        var newStyles = content.join('\\n');\r\n        if (newStyles !== this.styleElement.innerHTML) {\r\n            this.styleElement.innerHTML = newStyles;\r\n        }\r\n    };\r\n    return DefaultTreestyler;\r\n}());\r\nexport { DefaultTreestyler };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as Assert from '../../../common/assert.js';\r\nimport { onUnexpectedError } from '../../../common/errors.js';\r\nimport { combinedDisposable, Disposable } from '../../../common/lifecycle.js';\r\nimport { Event, Emitter, EventMultiplexer, Relay } from '../../../common/event.js';\r\nvar LockData = /** @class */ (function () {\r\n    function LockData(item) {\r\n        this._onDispose = new Emitter();\r\n        this.onDispose = this._onDispose.event;\r\n        this._item = item;\r\n    }\r\n    Object.defineProperty(LockData.prototype, \"item\", {\r\n        get: function () {\r\n            return this._item;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    LockData.prototype.dispose = function () {\r\n        if (this._onDispose) {\r\n            this._onDispose.fire();\r\n            this._onDispose.dispose();\r\n            this._onDispose = undefined;\r\n        }\r\n    };\r\n    return LockData;\r\n}());\r\nexport { LockData };\r\nvar Lock = /** @class */ (function () {\r\n    function Lock() {\r\n        this.locks = Object.create({});\r\n    }\r\n    Lock.prototype.isLocked = function (item) {\r\n        return !!this.locks[item.id];\r\n    };\r\n    Lock.prototype.run = function (item, fn) {\r\n        var _this = this;\r\n        var lock = this.getLock(item);\r\n        if (lock) {\r\n            return new Promise(function (c, e) {\r\n                Event.once(lock.onDispose)(function () {\r\n                    return _this.run(item, fn).then(c, e);\r\n                });\r\n            });\r\n        }\r\n        var result;\r\n        return new Promise(function (c, e) {\r\n            if (item.isDisposed()) {\r\n                return e(new Error('Item is disposed.'));\r\n            }\r\n            var lock = _this.locks[item.id] = new LockData(item);\r\n            result = fn().then(function (r) {\r\n                delete _this.locks[item.id];\r\n                lock.dispose();\r\n                return r;\r\n            }).then(c, e);\r\n            return result;\r\n        });\r\n    };\r\n    Lock.prototype.getLock = function (item) {\r\n        var key;\r\n        for (key in this.locks) {\r\n            var lock = this.locks[key];\r\n            if (item.intersects(lock.item)) {\r\n                return lock;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    return Lock;\r\n}());\r\nexport { Lock };\r\nvar ItemRegistry = /** @class */ (function () {\r\n    function ItemRegistry() {\r\n        this._isDisposed = false;\r\n        this._onDidRevealItem = new EventMultiplexer();\r\n        this.onDidRevealItem = this._onDidRevealItem.event;\r\n        this._onExpandItem = new EventMultiplexer();\r\n        this.onExpandItem = this._onExpandItem.event;\r\n        this._onDidExpandItem = new EventMultiplexer();\r\n        this.onDidExpandItem = this._onDidExpandItem.event;\r\n        this._onCollapseItem = new EventMultiplexer();\r\n        this.onCollapseItem = this._onCollapseItem.event;\r\n        this._onDidCollapseItem = new EventMultiplexer();\r\n        this.onDidCollapseItem = this._onDidCollapseItem.event;\r\n        this._onDidAddTraitItem = new EventMultiplexer();\r\n        this.onDidAddTraitItem = this._onDidAddTraitItem.event;\r\n        this._onDidRemoveTraitItem = new EventMultiplexer();\r\n        this.onDidRemoveTraitItem = this._onDidRemoveTraitItem.event;\r\n        this._onDidRefreshItem = new EventMultiplexer();\r\n        this.onDidRefreshItem = this._onDidRefreshItem.event;\r\n        this._onRefreshItemChildren = new EventMultiplexer();\r\n        this.onRefreshItemChildren = this._onRefreshItemChildren.event;\r\n        this._onDidRefreshItemChildren = new EventMultiplexer();\r\n        this.onDidRefreshItemChildren = this._onDidRefreshItemChildren.event;\r\n        this._onDidDisposeItem = new EventMultiplexer();\r\n        this.onDidDisposeItem = this._onDidDisposeItem.event;\r\n        this.items = {};\r\n    }\r\n    ItemRegistry.prototype.register = function (item) {\r\n        Assert.ok(!this.isRegistered(item.id), 'item already registered: ' + item.id);\r\n        var disposable = combinedDisposable(this._onDidRevealItem.add(item.onDidReveal), this._onExpandItem.add(item.onExpand), this._onDidExpandItem.add(item.onDidExpand), this._onCollapseItem.add(item.onCollapse), this._onDidCollapseItem.add(item.onDidCollapse), this._onDidAddTraitItem.add(item.onDidAddTrait), this._onDidRemoveTraitItem.add(item.onDidRemoveTrait), this._onDidRefreshItem.add(item.onDidRefresh), this._onRefreshItemChildren.add(item.onRefreshChildren), this._onDidRefreshItemChildren.add(item.onDidRefreshChildren), this._onDidDisposeItem.add(item.onDidDispose));\r\n        this.items[item.id] = { item: item, disposable: disposable };\r\n    };\r\n    ItemRegistry.prototype.deregister = function (item) {\r\n        Assert.ok(this.isRegistered(item.id), 'item not registered: ' + item.id);\r\n        this.items[item.id].disposable.dispose();\r\n        delete this.items[item.id];\r\n    };\r\n    ItemRegistry.prototype.isRegistered = function (id) {\r\n        return this.items.hasOwnProperty(id);\r\n    };\r\n    ItemRegistry.prototype.getItem = function (id) {\r\n        var result = this.items[id];\r\n        return result ? result.item : null;\r\n    };\r\n    ItemRegistry.prototype.dispose = function () {\r\n        this.items = {};\r\n        this._onDidRevealItem.dispose();\r\n        this._onExpandItem.dispose();\r\n        this._onDidExpandItem.dispose();\r\n        this._onCollapseItem.dispose();\r\n        this._onDidCollapseItem.dispose();\r\n        this._onDidAddTraitItem.dispose();\r\n        this._onDidRemoveTraitItem.dispose();\r\n        this._onDidRefreshItem.dispose();\r\n        this._onRefreshItemChildren.dispose();\r\n        this._onDidRefreshItemChildren.dispose();\r\n        this._isDisposed = true;\r\n    };\r\n    ItemRegistry.prototype.isDisposed = function () {\r\n        return this._isDisposed;\r\n    };\r\n    return ItemRegistry;\r\n}());\r\nexport { ItemRegistry };\r\nvar Item = /** @class */ (function () {\r\n    function Item(id, registry, context, lock, element) {\r\n        this._onDidCreate = new Emitter();\r\n        this._onDidReveal = new Emitter();\r\n        this.onDidReveal = this._onDidReveal.event;\r\n        this._onExpand = new Emitter();\r\n        this.onExpand = this._onExpand.event;\r\n        this._onDidExpand = new Emitter();\r\n        this.onDidExpand = this._onDidExpand.event;\r\n        this._onCollapse = new Emitter();\r\n        this.onCollapse = this._onCollapse.event;\r\n        this._onDidCollapse = new Emitter();\r\n        this.onDidCollapse = this._onDidCollapse.event;\r\n        this._onDidAddTrait = new Emitter();\r\n        this.onDidAddTrait = this._onDidAddTrait.event;\r\n        this._onDidRemoveTrait = new Emitter();\r\n        this.onDidRemoveTrait = this._onDidRemoveTrait.event;\r\n        this._onDidRefresh = new Emitter();\r\n        this.onDidRefresh = this._onDidRefresh.event;\r\n        this._onRefreshChildren = new Emitter();\r\n        this.onRefreshChildren = this._onRefreshChildren.event;\r\n        this._onDidRefreshChildren = new Emitter();\r\n        this.onDidRefreshChildren = this._onDidRefreshChildren.event;\r\n        this._onDidDispose = new Emitter();\r\n        this.onDidDispose = this._onDidDispose.event;\r\n        this.registry = registry;\r\n        this.context = context;\r\n        this.lock = lock;\r\n        this.element = element;\r\n        this.id = id;\r\n        this.registry.register(this);\r\n        this.doesHaveChildren = this.context.dataSource.hasChildren(this.context.tree, this.element);\r\n        this.needsChildrenRefresh = true;\r\n        this.parent = null;\r\n        this.previous = null;\r\n        this.next = null;\r\n        this.firstChild = null;\r\n        this.lastChild = null;\r\n        this.traits = {};\r\n        this.depth = 0;\r\n        this.expanded = !!(this.context.dataSource.shouldAutoexpand && this.context.dataSource.shouldAutoexpand(this.context.tree, element));\r\n        this._onDidCreate.fire(this);\r\n        this.visible = this._isVisible();\r\n        this.height = this._getHeight();\r\n        this._isDisposed = false;\r\n    }\r\n    Item.prototype.getElement = function () {\r\n        return this.element;\r\n    };\r\n    Item.prototype.hasChildren = function () {\r\n        return this.doesHaveChildren;\r\n    };\r\n    Item.prototype.getDepth = function () {\r\n        return this.depth;\r\n    };\r\n    Item.prototype.isVisible = function () {\r\n        return this.visible;\r\n    };\r\n    Item.prototype.setVisible = function (value) {\r\n        this.visible = value;\r\n    };\r\n    Item.prototype.isExpanded = function () {\r\n        return this.expanded;\r\n    };\r\n    /* protected */ Item.prototype._setExpanded = function (value) {\r\n        this.expanded = value;\r\n    };\r\n    Item.prototype.reveal = function (relativeTop) {\r\n        if (relativeTop === void 0) { relativeTop = null; }\r\n        var eventData = { item: this, relativeTop: relativeTop };\r\n        this._onDidReveal.fire(eventData);\r\n    };\r\n    Item.prototype.expand = function () {\r\n        var _this = this;\r\n        if (this.isExpanded() || !this.doesHaveChildren || this.lock.isLocked(this)) {\r\n            return Promise.resolve(false);\r\n        }\r\n        var result = this.lock.run(this, function () {\r\n            if (_this.isExpanded() || !_this.doesHaveChildren) {\r\n                return Promise.resolve(false);\r\n            }\r\n            var eventData = { item: _this };\r\n            var result;\r\n            _this._onExpand.fire(eventData);\r\n            if (_this.needsChildrenRefresh) {\r\n                result = _this.refreshChildren(false, true, true);\r\n            }\r\n            else {\r\n                result = Promise.resolve(null);\r\n            }\r\n            return result.then(function () {\r\n                _this._setExpanded(true);\r\n                _this._onDidExpand.fire(eventData);\r\n                return true;\r\n            });\r\n        });\r\n        return result.then(function (r) {\r\n            if (_this.isDisposed()) {\r\n                return false;\r\n            }\r\n            // Auto expand single child folders\r\n            if (_this.context.options.autoExpandSingleChildren && r && _this.firstChild !== null && _this.firstChild === _this.lastChild && _this.firstChild.isVisible()) {\r\n                return _this.firstChild.expand().then(function () { return true; });\r\n            }\r\n            return r;\r\n        });\r\n    };\r\n    Item.prototype.collapse = function (recursive) {\r\n        var _this = this;\r\n        if (recursive === void 0) { recursive = false; }\r\n        if (recursive) {\r\n            var collapseChildrenPromise_1 = Promise.resolve(null);\r\n            this.forEachChild(function (child) {\r\n                collapseChildrenPromise_1 = collapseChildrenPromise_1.then(function () { return child.collapse(true); });\r\n            });\r\n            return collapseChildrenPromise_1.then(function () {\r\n                return _this.collapse(false);\r\n            });\r\n        }\r\n        else {\r\n            if (!this.isExpanded() || this.lock.isLocked(this)) {\r\n                return Promise.resolve(false);\r\n            }\r\n            return this.lock.run(this, function () {\r\n                var eventData = { item: _this };\r\n                _this._onCollapse.fire(eventData);\r\n                _this._setExpanded(false);\r\n                _this._onDidCollapse.fire(eventData);\r\n                return Promise.resolve(true);\r\n            });\r\n        }\r\n    };\r\n    Item.prototype.addTrait = function (trait) {\r\n        var eventData = { item: this, trait: trait };\r\n        this.traits[trait] = true;\r\n        this._onDidAddTrait.fire(eventData);\r\n    };\r\n    Item.prototype.removeTrait = function (trait) {\r\n        var eventData = { item: this, trait: trait };\r\n        delete this.traits[trait];\r\n        this._onDidRemoveTrait.fire(eventData);\r\n    };\r\n    Item.prototype.hasTrait = function (trait) {\r\n        return this.traits[trait] || false;\r\n    };\r\n    Item.prototype.getAllTraits = function () {\r\n        var result = [];\r\n        var trait;\r\n        for (trait in this.traits) {\r\n            if (this.traits.hasOwnProperty(trait) && this.traits[trait]) {\r\n                result.push(trait);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    Item.prototype.getHeight = function () {\r\n        return this.height;\r\n    };\r\n    Item.prototype.refreshChildren = function (recursive, safe, force) {\r\n        var _this = this;\r\n        if (safe === void 0) { safe = false; }\r\n        if (force === void 0) { force = false; }\r\n        if (!force && !this.isExpanded()) {\r\n            var setNeedsChildrenRefresh_1 = function (item) {\r\n                item.needsChildrenRefresh = true;\r\n                item.forEachChild(setNeedsChildrenRefresh_1);\r\n            };\r\n            setNeedsChildrenRefresh_1(this);\r\n            return Promise.resolve(this);\r\n        }\r\n        this.needsChildrenRefresh = false;\r\n        var doRefresh = function () {\r\n            var eventData = { item: _this, isNested: safe };\r\n            _this._onRefreshChildren.fire(eventData);\r\n            var childrenPromise;\r\n            if (_this.doesHaveChildren) {\r\n                childrenPromise = _this.context.dataSource.getChildren(_this.context.tree, _this.element);\r\n            }\r\n            else {\r\n                childrenPromise = Promise.resolve([]);\r\n            }\r\n            var result = childrenPromise.then(function (elements) {\r\n                if (_this.isDisposed() || _this.registry.isDisposed()) {\r\n                    return Promise.resolve(null);\r\n                }\r\n                if (!Array.isArray(elements)) {\r\n                    return Promise.reject(new Error('Please return an array of children.'));\r\n                }\r\n                elements = !elements ? [] : elements.slice(0);\r\n                elements = _this.sort(elements);\r\n                var staleItems = {};\r\n                while (_this.firstChild !== null) {\r\n                    staleItems[_this.firstChild.id] = _this.firstChild;\r\n                    _this.removeChild(_this.firstChild);\r\n                }\r\n                for (var i = 0, len = elements.length; i < len; i++) {\r\n                    var element = elements[i];\r\n                    var id = _this.context.dataSource.getId(_this.context.tree, element);\r\n                    var item = staleItems[id] || new Item(id, _this.registry, _this.context, _this.lock, element);\r\n                    item.element = element;\r\n                    if (recursive) {\r\n                        item.needsChildrenRefresh = recursive;\r\n                    }\r\n                    delete staleItems[id];\r\n                    _this.addChild(item);\r\n                }\r\n                for (var staleItemId in staleItems) {\r\n                    if (staleItems.hasOwnProperty(staleItemId)) {\r\n                        staleItems[staleItemId].dispose();\r\n                    }\r\n                }\r\n                if (recursive) {\r\n                    return Promise.all(_this.mapEachChild(function (child) {\r\n                        return child.doRefresh(recursive, true);\r\n                    }));\r\n                }\r\n                else {\r\n                    return Promise.all(_this.mapEachChild(function (child) {\r\n                        if (child.isExpanded() && child.needsChildrenRefresh) {\r\n                            return child.doRefresh(recursive, true);\r\n                        }\r\n                        else {\r\n                            child.updateVisibility();\r\n                            return Promise.resolve(null);\r\n                        }\r\n                    }));\r\n                }\r\n            });\r\n            return result\r\n                .then(undefined, onUnexpectedError)\r\n                .then(function () { return _this._onDidRefreshChildren.fire(eventData); });\r\n        };\r\n        return safe ? doRefresh() : this.lock.run(this, doRefresh);\r\n    };\r\n    Item.prototype.doRefresh = function (recursive, safe) {\r\n        if (safe === void 0) { safe = false; }\r\n        this.doesHaveChildren = this.context.dataSource.hasChildren(this.context.tree, this.element);\r\n        this.height = this._getHeight();\r\n        this.updateVisibility();\r\n        this._onDidRefresh.fire(this);\r\n        return this.refreshChildren(recursive, safe);\r\n    };\r\n    Item.prototype.updateVisibility = function () {\r\n        this.setVisible(this._isVisible());\r\n    };\r\n    Item.prototype.refresh = function (recursive) {\r\n        return this.doRefresh(recursive);\r\n    };\r\n    Item.prototype.getNavigator = function () {\r\n        return new TreeNavigator(this);\r\n    };\r\n    Item.prototype.intersects = function (other) {\r\n        return this.isAncestorOf(other) || other.isAncestorOf(this);\r\n    };\r\n    Item.prototype.isAncestorOf = function (startItem) {\r\n        var item = startItem;\r\n        while (item) {\r\n            if (item.id === this.id) {\r\n                return true;\r\n            }\r\n            item = item.parent;\r\n        }\r\n        return false;\r\n    };\r\n    Item.prototype.addChild = function (item, afterItem) {\r\n        if (afterItem === void 0) { afterItem = this.lastChild; }\r\n        var isEmpty = this.firstChild === null;\r\n        var atHead = afterItem === null;\r\n        var atTail = afterItem === this.lastChild;\r\n        if (isEmpty) {\r\n            this.firstChild = this.lastChild = item;\r\n            item.next = item.previous = null;\r\n        }\r\n        else if (atHead) {\r\n            if (!this.firstChild) {\r\n                throw new Error('Invalid tree state');\r\n            }\r\n            this.firstChild.previous = item;\r\n            item.next = this.firstChild;\r\n            item.previous = null;\r\n            this.firstChild = item;\r\n        }\r\n        else if (atTail) {\r\n            if (!this.lastChild) {\r\n                throw new Error('Invalid tree state');\r\n            }\r\n            this.lastChild.next = item;\r\n            item.next = null;\r\n            item.previous = this.lastChild;\r\n            this.lastChild = item;\r\n        }\r\n        else {\r\n            item.previous = afterItem;\r\n            if (!afterItem) {\r\n                throw new Error('Invalid tree state');\r\n            }\r\n            item.next = afterItem.next;\r\n            if (!afterItem.next) {\r\n                throw new Error('Invalid tree state');\r\n            }\r\n            afterItem.next.previous = item;\r\n            afterItem.next = item;\r\n        }\r\n        item.parent = this;\r\n        item.depth = this.depth + 1;\r\n    };\r\n    Item.prototype.removeChild = function (item) {\r\n        var isFirstChild = this.firstChild === item;\r\n        var isLastChild = this.lastChild === item;\r\n        if (isFirstChild && isLastChild) {\r\n            this.firstChild = this.lastChild = null;\r\n        }\r\n        else if (isFirstChild) {\r\n            if (!item.next) {\r\n                throw new Error('Invalid tree state');\r\n            }\r\n            item.next.previous = null;\r\n            this.firstChild = item.next;\r\n        }\r\n        else if (isLastChild) {\r\n            if (!item.previous) {\r\n                throw new Error('Invalid tree state');\r\n            }\r\n            item.previous.next = null;\r\n            this.lastChild = item.previous;\r\n        }\r\n        else {\r\n            if (!item.next) {\r\n                throw new Error('Invalid tree state');\r\n            }\r\n            item.next.previous = item.previous;\r\n            if (!item.previous) {\r\n                throw new Error('Invalid tree state');\r\n            }\r\n            item.previous.next = item.next;\r\n        }\r\n        item.parent = null;\r\n        item.depth = NaN;\r\n    };\r\n    Item.prototype.forEachChild = function (fn) {\r\n        var child = this.firstChild;\r\n        var next;\r\n        while (child) {\r\n            next = child.next;\r\n            fn(child);\r\n            child = next;\r\n        }\r\n    };\r\n    Item.prototype.mapEachChild = function (fn) {\r\n        var result = [];\r\n        this.forEachChild(function (child) {\r\n            result.push(fn(child));\r\n        });\r\n        return result;\r\n    };\r\n    Item.prototype.sort = function (elements) {\r\n        var _this = this;\r\n        var sorter = this.context.sorter;\r\n        if (sorter) {\r\n            return elements.sort(function (element, otherElement) {\r\n                return sorter.compare(_this.context.tree, element, otherElement);\r\n            });\r\n        }\r\n        return elements;\r\n    };\r\n    /* protected */ Item.prototype._getHeight = function () {\r\n        if (!this.context.renderer) {\r\n            return 0;\r\n        }\r\n        return this.context.renderer.getHeight(this.context.tree, this.element);\r\n    };\r\n    /* protected */ Item.prototype._isVisible = function () {\r\n        if (!this.context.filter) {\r\n            return false;\r\n        }\r\n        return this.context.filter.isVisible(this.context.tree, this.element);\r\n    };\r\n    Item.prototype.isDisposed = function () {\r\n        return this._isDisposed;\r\n    };\r\n    Item.prototype.dispose = function () {\r\n        this.forEachChild(function (child) { return child.dispose(); });\r\n        this.parent = null;\r\n        this.previous = null;\r\n        this.next = null;\r\n        this.firstChild = null;\r\n        this.lastChild = null;\r\n        this._onDidDispose.fire(this);\r\n        this.registry.deregister(this);\r\n        this._onDidCreate.dispose();\r\n        this._onDidReveal.dispose();\r\n        this._onExpand.dispose();\r\n        this._onDidExpand.dispose();\r\n        this._onCollapse.dispose();\r\n        this._onDidCollapse.dispose();\r\n        this._onDidAddTrait.dispose();\r\n        this._onDidRemoveTrait.dispose();\r\n        this._onDidRefresh.dispose();\r\n        this._onRefreshChildren.dispose();\r\n        this._onDidRefreshChildren.dispose();\r\n        this._onDidDispose.dispose();\r\n        this._isDisposed = true;\r\n    };\r\n    return Item;\r\n}());\r\nexport { Item };\r\nvar RootItem = /** @class */ (function (_super) {\r\n    __extends(RootItem, _super);\r\n    function RootItem(id, registry, context, lock, element) {\r\n        return _super.call(this, id, registry, context, lock, element) || this;\r\n    }\r\n    RootItem.prototype.isVisible = function () {\r\n        return false;\r\n    };\r\n    RootItem.prototype.setVisible = function (value) {\r\n        // no-op\r\n    };\r\n    RootItem.prototype.isExpanded = function () {\r\n        return true;\r\n    };\r\n    /* protected */ RootItem.prototype._setExpanded = function (value) {\r\n        // no-op\r\n    };\r\n    /* protected */ RootItem.prototype._getHeight = function () {\r\n        return 0;\r\n    };\r\n    /* protected */ RootItem.prototype._isVisible = function () {\r\n        return false;\r\n    };\r\n    return RootItem;\r\n}(Item));\r\nvar TreeNavigator = /** @class */ (function () {\r\n    function TreeNavigator(item, subTreeOnly) {\r\n        if (subTreeOnly === void 0) { subTreeOnly = true; }\r\n        this.item = item;\r\n        this.start = subTreeOnly ? item : null;\r\n    }\r\n    TreeNavigator.lastDescendantOf = function (item) {\r\n        if (!item) {\r\n            return null;\r\n        }\r\n        if (item instanceof RootItem) {\r\n            return TreeNavigator.lastDescendantOf(item.lastChild);\r\n        }\r\n        if (!item.isVisible()) {\r\n            return TreeNavigator.lastDescendantOf(item.previous);\r\n        }\r\n        if (!item.isExpanded() || item.lastChild === null) {\r\n            return item;\r\n        }\r\n        return TreeNavigator.lastDescendantOf(item.lastChild);\r\n    };\r\n    TreeNavigator.prototype.current = function () {\r\n        return this.item || null;\r\n    };\r\n    TreeNavigator.prototype.next = function () {\r\n        if (this.item) {\r\n            do {\r\n                if ((this.item instanceof RootItem || (this.item.isVisible() && this.item.isExpanded())) && this.item.firstChild) {\r\n                    this.item = this.item.firstChild;\r\n                }\r\n                else if (this.item === this.start) {\r\n                    this.item = null;\r\n                }\r\n                else {\r\n                    // select next brother, next uncle, next great-uncle, etc...\r\n                    while (this.item && this.item !== this.start && !this.item.next) {\r\n                        this.item = this.item.parent;\r\n                    }\r\n                    if (this.item === this.start) {\r\n                        this.item = null;\r\n                    }\r\n                    this.item = !this.item ? null : this.item.next;\r\n                }\r\n            } while (this.item && !this.item.isVisible());\r\n        }\r\n        return this.item || null;\r\n    };\r\n    TreeNavigator.prototype.previous = function () {\r\n        if (this.item) {\r\n            do {\r\n                var previous = TreeNavigator.lastDescendantOf(this.item.previous);\r\n                if (previous) {\r\n                    this.item = previous;\r\n                }\r\n                else if (this.item.parent && this.item.parent !== this.start && this.item.parent.isVisible()) {\r\n                    this.item = this.item.parent;\r\n                }\r\n                else {\r\n                    this.item = null;\r\n                }\r\n            } while (this.item && !this.item.isVisible());\r\n        }\r\n        return this.item || null;\r\n    };\r\n    TreeNavigator.prototype.parent = function () {\r\n        if (this.item) {\r\n            var parent_1 = this.item.parent;\r\n            if (parent_1 && parent_1 !== this.start && parent_1.isVisible()) {\r\n                this.item = parent_1;\r\n            }\r\n            else {\r\n                this.item = null;\r\n            }\r\n        }\r\n        return this.item || null;\r\n    };\r\n    TreeNavigator.prototype.first = function () {\r\n        this.item = this.start;\r\n        this.next();\r\n        return this.item || null;\r\n    };\r\n    TreeNavigator.prototype.last = function () {\r\n        return TreeNavigator.lastDescendantOf(this.start);\r\n    };\r\n    return TreeNavigator;\r\n}());\r\nexport { TreeNavigator };\r\nvar TreeModel = /** @class */ (function () {\r\n    function TreeModel(context) {\r\n        this.registry = new ItemRegistry();\r\n        this.registryDisposable = Disposable.None;\r\n        this._onSetInput = new Emitter();\r\n        this.onSetInput = this._onSetInput.event;\r\n        this._onDidSetInput = new Emitter();\r\n        this.onDidSetInput = this._onDidSetInput.event;\r\n        this._onRefresh = new Emitter();\r\n        this.onRefresh = this._onRefresh.event;\r\n        this._onDidRefresh = new Emitter();\r\n        this.onDidRefresh = this._onDidRefresh.event;\r\n        this._onDidHighlight = new Emitter();\r\n        this.onDidHighlight = this._onDidHighlight.event;\r\n        this._onDidSelect = new Emitter();\r\n        this.onDidSelect = this._onDidSelect.event;\r\n        this._onDidFocus = new Emitter();\r\n        this.onDidFocus = this._onDidFocus.event;\r\n        this._onDidRevealItem = new Relay();\r\n        this.onDidRevealItem = this._onDidRevealItem.event;\r\n        this._onExpandItem = new Relay();\r\n        this.onExpandItem = this._onExpandItem.event;\r\n        this._onDidExpandItem = new Relay();\r\n        this.onDidExpandItem = this._onDidExpandItem.event;\r\n        this._onCollapseItem = new Relay();\r\n        this.onCollapseItem = this._onCollapseItem.event;\r\n        this._onDidCollapseItem = new Relay();\r\n        this.onDidCollapseItem = this._onDidCollapseItem.event;\r\n        this._onDidAddTraitItem = new Relay();\r\n        this.onDidAddTraitItem = this._onDidAddTraitItem.event;\r\n        this._onDidRemoveTraitItem = new Relay();\r\n        this.onDidRemoveTraitItem = this._onDidRemoveTraitItem.event;\r\n        this._onDidRefreshItem = new Relay();\r\n        this.onDidRefreshItem = this._onDidRefreshItem.event;\r\n        this._onRefreshItemChildren = new Relay();\r\n        this.onRefreshItemChildren = this._onRefreshItemChildren.event;\r\n        this._onDidRefreshItemChildren = new Relay();\r\n        this.onDidRefreshItemChildren = this._onDidRefreshItemChildren.event;\r\n        this._onDidDisposeItem = new Relay();\r\n        this.context = context;\r\n        this.input = null;\r\n        this.traitsToItems = {};\r\n    }\r\n    TreeModel.prototype.setInput = function (element) {\r\n        var _this = this;\r\n        var eventData = { item: this.input };\r\n        this._onSetInput.fire(eventData);\r\n        this.setSelection([]);\r\n        this.setFocus();\r\n        this.setHighlight();\r\n        this.lock = new Lock();\r\n        if (this.input) {\r\n            this.input.dispose();\r\n        }\r\n        if (this.registry) {\r\n            this.registry.dispose();\r\n            this.registryDisposable.dispose();\r\n        }\r\n        this.registry = new ItemRegistry();\r\n        this._onDidRevealItem.input = this.registry.onDidRevealItem;\r\n        this._onExpandItem.input = this.registry.onExpandItem;\r\n        this._onDidExpandItem.input = this.registry.onDidExpandItem;\r\n        this._onCollapseItem.input = this.registry.onCollapseItem;\r\n        this._onDidCollapseItem.input = this.registry.onDidCollapseItem;\r\n        this._onDidAddTraitItem.input = this.registry.onDidAddTraitItem;\r\n        this._onDidRemoveTraitItem.input = this.registry.onDidRemoveTraitItem;\r\n        this._onDidRefreshItem.input = this.registry.onDidRefreshItem;\r\n        this._onRefreshItemChildren.input = this.registry.onRefreshItemChildren;\r\n        this._onDidRefreshItemChildren.input = this.registry.onDidRefreshItemChildren;\r\n        this._onDidDisposeItem.input = this.registry.onDidDisposeItem;\r\n        this.registryDisposable = this.registry\r\n            .onDidDisposeItem(function (item) { return item.getAllTraits().forEach(function (trait) { return delete _this.traitsToItems[trait][item.id]; }); });\r\n        var id = this.context.dataSource.getId(this.context.tree, element);\r\n        this.input = new RootItem(id, this.registry, this.context, this.lock, element);\r\n        eventData = { item: this.input };\r\n        this._onDidSetInput.fire(eventData);\r\n        return this.refresh(this.input);\r\n    };\r\n    TreeModel.prototype.getInput = function () {\r\n        return this.input ? this.input.getElement() : null;\r\n    };\r\n    TreeModel.prototype.refresh = function (element, recursive) {\r\n        var _this = this;\r\n        if (element === void 0) { element = null; }\r\n        if (recursive === void 0) { recursive = true; }\r\n        var item = this.getItem(element);\r\n        if (!item) {\r\n            return Promise.resolve(null);\r\n        }\r\n        var eventData = { item: item, recursive: recursive };\r\n        this._onRefresh.fire(eventData);\r\n        return item.refresh(recursive).then(function () {\r\n            _this._onDidRefresh.fire(eventData);\r\n        });\r\n    };\r\n    TreeModel.prototype.expand = function (element) {\r\n        var item = this.getItem(element);\r\n        if (!item) {\r\n            return Promise.resolve(false);\r\n        }\r\n        return item.expand();\r\n    };\r\n    TreeModel.prototype.collapse = function (element, recursive) {\r\n        if (recursive === void 0) { recursive = false; }\r\n        var item = this.getItem(element);\r\n        if (!item) {\r\n            return Promise.resolve(false);\r\n        }\r\n        return item.collapse(recursive);\r\n    };\r\n    TreeModel.prototype.toggleExpansion = function (element, recursive) {\r\n        if (recursive === void 0) { recursive = false; }\r\n        return this.isExpanded(element) ? this.collapse(element, recursive) : this.expand(element);\r\n    };\r\n    TreeModel.prototype.isExpanded = function (element) {\r\n        var item = this.getItem(element);\r\n        if (!item) {\r\n            return false;\r\n        }\r\n        return item.isExpanded();\r\n    };\r\n    TreeModel.prototype.reveal = function (element, relativeTop) {\r\n        var _this = this;\r\n        if (relativeTop === void 0) { relativeTop = null; }\r\n        return this.resolveUnknownParentChain(element).then(function (chain) {\r\n            var result = Promise.resolve(null);\r\n            chain.forEach(function (e) {\r\n                result = result.then(function () { return _this.expand(e); });\r\n            });\r\n            return result;\r\n        }).then(function () {\r\n            var item = _this.getItem(element);\r\n            if (item) {\r\n                return item.reveal(relativeTop);\r\n            }\r\n        });\r\n    };\r\n    TreeModel.prototype.resolveUnknownParentChain = function (element) {\r\n        var _this = this;\r\n        return this.context.dataSource.getParent(this.context.tree, element).then(function (parent) {\r\n            if (!parent) {\r\n                return Promise.resolve([]);\r\n            }\r\n            return _this.resolveUnknownParentChain(parent).then(function (result) {\r\n                result.push(parent);\r\n                return result;\r\n            });\r\n        });\r\n    };\r\n    TreeModel.prototype.setHighlight = function (element, eventPayload) {\r\n        this.setTraits('highlighted', element ? [element] : []);\r\n        var eventData = { highlight: this.getHighlight(), payload: eventPayload };\r\n        this._onDidHighlight.fire(eventData);\r\n    };\r\n    TreeModel.prototype.getHighlight = function (includeHidden) {\r\n        if (includeHidden === void 0) { includeHidden = false; }\r\n        var result = this.getElementsWithTrait('highlighted', includeHidden);\r\n        return result.length === 0 ? null : result[0];\r\n    };\r\n    TreeModel.prototype.setSelection = function (elements, eventPayload) {\r\n        this.setTraits('selected', elements);\r\n        var eventData = { selection: this.getSelection(), payload: eventPayload };\r\n        this._onDidSelect.fire(eventData);\r\n    };\r\n    TreeModel.prototype.getSelection = function (includeHidden) {\r\n        if (includeHidden === void 0) { includeHidden = false; }\r\n        return this.getElementsWithTrait('selected', includeHidden);\r\n    };\r\n    TreeModel.prototype.setFocus = function (element, eventPayload) {\r\n        this.setTraits('focused', element ? [element] : []);\r\n        var eventData = { focus: this.getFocus(), payload: eventPayload };\r\n        this._onDidFocus.fire(eventData);\r\n    };\r\n    TreeModel.prototype.getFocus = function (includeHidden) {\r\n        if (includeHidden === void 0) { includeHidden = false; }\r\n        var result = this.getElementsWithTrait('focused', includeHidden);\r\n        return result.length === 0 ? null : result[0];\r\n    };\r\n    TreeModel.prototype.focusNext = function (count, eventPayload) {\r\n        if (count === void 0) { count = 1; }\r\n        var item = this.getFocus() || this.input;\r\n        var nextItem;\r\n        var nav = this.getNavigator(item, false);\r\n        for (var i = 0; i < count; i++) {\r\n            nextItem = nav.next();\r\n            if (!nextItem) {\r\n                break;\r\n            }\r\n            item = nextItem;\r\n        }\r\n        this.setFocus(item, eventPayload);\r\n    };\r\n    TreeModel.prototype.focusPrevious = function (count, eventPayload) {\r\n        if (count === void 0) { count = 1; }\r\n        var item = this.getFocus() || this.input;\r\n        var previousItem;\r\n        var nav = this.getNavigator(item, false);\r\n        for (var i = 0; i < count; i++) {\r\n            previousItem = nav.previous();\r\n            if (!previousItem) {\r\n                break;\r\n            }\r\n            item = previousItem;\r\n        }\r\n        this.setFocus(item, eventPayload);\r\n    };\r\n    TreeModel.prototype.focusParent = function (eventPayload) {\r\n        var item = this.getFocus() || this.input;\r\n        var nav = this.getNavigator(item, false);\r\n        var parent = nav.parent();\r\n        if (parent) {\r\n            this.setFocus(parent, eventPayload);\r\n        }\r\n    };\r\n    TreeModel.prototype.focusFirstChild = function (eventPayload) {\r\n        var item = this.getItem(this.getFocus() || this.input);\r\n        var nav = this.getNavigator(item, false);\r\n        var next = nav.next();\r\n        var parent = nav.parent();\r\n        if (parent === item) {\r\n            this.setFocus(next, eventPayload);\r\n        }\r\n    };\r\n    TreeModel.prototype.focusFirst = function (eventPayload, from) {\r\n        this.focusNth(0, eventPayload, from);\r\n    };\r\n    TreeModel.prototype.focusNth = function (index, eventPayload, from) {\r\n        var navItem = this.getParent(from);\r\n        var nav = this.getNavigator(navItem);\r\n        var item = nav.first();\r\n        for (var i = 0; i < index; i++) {\r\n            item = nav.next();\r\n        }\r\n        if (item) {\r\n            this.setFocus(item, eventPayload);\r\n        }\r\n    };\r\n    TreeModel.prototype.focusLast = function (eventPayload, from) {\r\n        var navItem = this.getParent(from);\r\n        var item;\r\n        if (from && navItem) {\r\n            item = navItem.lastChild;\r\n        }\r\n        else {\r\n            var nav = this.getNavigator(navItem);\r\n            item = nav.last();\r\n        }\r\n        if (item) {\r\n            this.setFocus(item, eventPayload);\r\n        }\r\n    };\r\n    TreeModel.prototype.getParent = function (from) {\r\n        if (from) {\r\n            var fromItem = this.getItem(from);\r\n            if (fromItem && fromItem.parent) {\r\n                return fromItem.parent;\r\n            }\r\n        }\r\n        return this.getItem(this.input);\r\n    };\r\n    TreeModel.prototype.getNavigator = function (element, subTreeOnly) {\r\n        if (element === void 0) { element = null; }\r\n        if (subTreeOnly === void 0) { subTreeOnly = true; }\r\n        return new TreeNavigator(this.getItem(element), subTreeOnly);\r\n    };\r\n    TreeModel.prototype.getItem = function (element) {\r\n        if (element === void 0) { element = null; }\r\n        if (element === null) {\r\n            return this.input;\r\n        }\r\n        else if (element instanceof Item) {\r\n            return element;\r\n        }\r\n        else if (typeof element === 'string') {\r\n            return this.registry.getItem(element);\r\n        }\r\n        else {\r\n            return this.registry.getItem(this.context.dataSource.getId(this.context.tree, element));\r\n        }\r\n    };\r\n    TreeModel.prototype.removeTraits = function (trait, elements) {\r\n        var items = this.traitsToItems[trait] || {};\r\n        var item;\r\n        var id;\r\n        if (elements.length === 0) {\r\n            for (id in items) {\r\n                if (items.hasOwnProperty(id)) {\r\n                    item = items[id];\r\n                    item.removeTrait(trait);\r\n                }\r\n            }\r\n            delete this.traitsToItems[trait];\r\n        }\r\n        else {\r\n            for (var i = 0, len = elements.length; i < len; i++) {\r\n                item = this.getItem(elements[i]);\r\n                if (item) {\r\n                    item.removeTrait(trait);\r\n                    delete items[item.id];\r\n                }\r\n            }\r\n        }\r\n    };\r\n    TreeModel.prototype.setTraits = function (trait, elements) {\r\n        if (elements.length === 0) {\r\n            this.removeTraits(trait, elements);\r\n        }\r\n        else {\r\n            var items = {};\r\n            var item = void 0;\r\n            for (var i = 0, len = elements.length; i < len; i++) {\r\n                item = this.getItem(elements[i]);\r\n                if (item) {\r\n                    items[item.id] = item;\r\n                }\r\n            }\r\n            var traitItems = this.traitsToItems[trait] || {};\r\n            var itemsToRemoveTrait = [];\r\n            var id = void 0;\r\n            for (id in traitItems) {\r\n                if (traitItems.hasOwnProperty(id)) {\r\n                    if (items.hasOwnProperty(id)) {\r\n                        delete items[id];\r\n                    }\r\n                    else {\r\n                        itemsToRemoveTrait.push(traitItems[id]);\r\n                    }\r\n                }\r\n            }\r\n            for (var i = 0, len = itemsToRemoveTrait.length; i < len; i++) {\r\n                item = itemsToRemoveTrait[i];\r\n                item.removeTrait(trait);\r\n                delete traitItems[item.id];\r\n            }\r\n            for (id in items) {\r\n                if (items.hasOwnProperty(id)) {\r\n                    item = items[id];\r\n                    item.addTrait(trait);\r\n                    traitItems[id] = item;\r\n                }\r\n            }\r\n            this.traitsToItems[trait] = traitItems;\r\n        }\r\n    };\r\n    TreeModel.prototype.getElementsWithTrait = function (trait, includeHidden) {\r\n        var elements = [];\r\n        var items = this.traitsToItems[trait] || {};\r\n        var id;\r\n        for (id in items) {\r\n            if (items.hasOwnProperty(id) && (items[id].isVisible() || includeHidden)) {\r\n                elements.push(items[id].getElement());\r\n            }\r\n        }\r\n        return elements;\r\n    };\r\n    TreeModel.prototype.dispose = function () {\r\n        this.registry.dispose();\r\n        this._onSetInput.dispose();\r\n        this._onDidSetInput.dispose();\r\n        this._onRefresh.dispose();\r\n        this._onDidRefresh.dispose();\r\n        this._onDidHighlight.dispose();\r\n        this._onDidSelect.dispose();\r\n        this._onDidFocus.dispose();\r\n        this._onDidRevealItem.dispose();\r\n        this._onExpandItem.dispose();\r\n        this._onDidExpandItem.dispose();\r\n        this._onCollapseItem.dispose();\r\n        this._onDidCollapseItem.dispose();\r\n        this._onDidAddTraitItem.dispose();\r\n        this._onDidRemoveTraitItem.dispose();\r\n        this._onDidRefreshItem.dispose();\r\n        this._onRefreshItemChildren.dispose();\r\n        this._onDidRefreshItemChildren.dispose();\r\n        this._onDidDisposeItem.dispose();\r\n    };\r\n    return TreeModel;\r\n}());\r\nexport { TreeModel };\r\n","var ElementsDragAndDropData = /** @class */ (function () {\r\n    function ElementsDragAndDropData(elements) {\r\n        this.elements = elements;\r\n    }\r\n    ElementsDragAndDropData.prototype.update = function (dataTransfer) {\r\n        // no-op\r\n    };\r\n    ElementsDragAndDropData.prototype.getData = function () {\r\n        return this.elements;\r\n    };\r\n    return ElementsDragAndDropData;\r\n}());\r\nexport { ElementsDragAndDropData };\r\nvar ExternalElementsDragAndDropData = /** @class */ (function () {\r\n    function ExternalElementsDragAndDropData(elements) {\r\n        this.elements = elements;\r\n    }\r\n    ExternalElementsDragAndDropData.prototype.update = function (dataTransfer) {\r\n        // no-op\r\n    };\r\n    ExternalElementsDragAndDropData.prototype.getData = function () {\r\n        return this.elements;\r\n    };\r\n    return ExternalElementsDragAndDropData;\r\n}());\r\nexport { ExternalElementsDragAndDropData };\r\nvar DesktopDragAndDropData = /** @class */ (function () {\r\n    function DesktopDragAndDropData() {\r\n        this.types = [];\r\n        this.files = [];\r\n    }\r\n    DesktopDragAndDropData.prototype.update = function (dataTransfer) {\r\n        if (dataTransfer.types) {\r\n            this.types = [];\r\n            Array.prototype.push.apply(this.types, dataTransfer.types);\r\n        }\r\n        if (dataTransfer.files) {\r\n            this.files = [];\r\n            Array.prototype.push.apply(this.files, dataTransfer.files);\r\n            this.files = this.files.filter(function (f) { return f.size || f.type; });\r\n        }\r\n    };\r\n    DesktopDragAndDropData.prototype.getData = function () {\r\n        return {\r\n            types: this.types,\r\n            files: this.files\r\n        };\r\n    };\r\n    return DesktopDragAndDropData;\r\n}());\r\nexport { DesktopDragAndDropData };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport { ArrayIterator } from '../../../common/iterator.js';\r\nvar HeightMap = /** @class */ (function () {\r\n    function HeightMap() {\r\n        this.heightMap = [];\r\n        this.indexes = {};\r\n    }\r\n    HeightMap.prototype.getContentHeight = function () {\r\n        var last = this.heightMap[this.heightMap.length - 1];\r\n        return !last ? 0 : last.top + last.height;\r\n    };\r\n    HeightMap.prototype.onInsertItems = function (iterator, afterItemId) {\r\n        if (afterItemId === void 0) { afterItemId = null; }\r\n        var item = null;\r\n        var viewItem;\r\n        var i, j;\r\n        var totalSize;\r\n        var sizeDiff = 0;\r\n        if (afterItemId === null) {\r\n            i = 0;\r\n            totalSize = 0;\r\n        }\r\n        else {\r\n            i = this.indexes[afterItemId] + 1;\r\n            viewItem = this.heightMap[i - 1];\r\n            if (!viewItem) {\r\n                console.error('view item doesnt exist');\r\n                return undefined;\r\n            }\r\n            totalSize = viewItem.top + viewItem.height;\r\n        }\r\n        var boundSplice = this.heightMap.splice.bind(this.heightMap, i, 0);\r\n        var itemsToInsert = [];\r\n        while (item = iterator.next()) {\r\n            viewItem = this.createViewItem(item);\r\n            viewItem.top = totalSize + sizeDiff;\r\n            this.indexes[item.id] = i++;\r\n            itemsToInsert.push(viewItem);\r\n            sizeDiff += viewItem.height;\r\n        }\r\n        boundSplice.apply(this.heightMap, itemsToInsert);\r\n        for (j = i; j < this.heightMap.length; j++) {\r\n            viewItem = this.heightMap[j];\r\n            viewItem.top += sizeDiff;\r\n            this.indexes[viewItem.model.id] = j;\r\n        }\r\n        for (j = itemsToInsert.length - 1; j >= 0; j--) {\r\n            this.onInsertItem(itemsToInsert[j]);\r\n        }\r\n        for (j = this.heightMap.length - 1; j >= i; j--) {\r\n            this.onRefreshItem(this.heightMap[j]);\r\n        }\r\n        return sizeDiff;\r\n    };\r\n    HeightMap.prototype.onInsertItem = function (item) {\r\n        // noop\r\n    };\r\n    // Contiguous items\r\n    HeightMap.prototype.onRemoveItems = function (iterator) {\r\n        var itemId = null;\r\n        var viewItem;\r\n        var startIndex = null;\r\n        var i = 0;\r\n        var sizeDiff = 0;\r\n        while (itemId = iterator.next()) {\r\n            i = this.indexes[itemId];\r\n            viewItem = this.heightMap[i];\r\n            if (!viewItem) {\r\n                console.error('view item doesnt exist');\r\n                return;\r\n            }\r\n            sizeDiff -= viewItem.height;\r\n            delete this.indexes[itemId];\r\n            this.onRemoveItem(viewItem);\r\n            if (startIndex === null) {\r\n                startIndex = i;\r\n            }\r\n        }\r\n        if (sizeDiff === 0 || startIndex === null) {\r\n            return;\r\n        }\r\n        this.heightMap.splice(startIndex, i - startIndex + 1);\r\n        for (i = startIndex; i < this.heightMap.length; i++) {\r\n            viewItem = this.heightMap[i];\r\n            viewItem.top += sizeDiff;\r\n            this.indexes[viewItem.model.id] = i;\r\n            this.onRefreshItem(viewItem);\r\n        }\r\n    };\r\n    HeightMap.prototype.onRemoveItem = function (item) {\r\n        // noop\r\n    };\r\n    HeightMap.prototype.onRefreshItemSet = function (items) {\r\n        var _this = this;\r\n        var sortedItems = items.sort(function (a, b) { return _this.indexes[a.id] - _this.indexes[b.id]; });\r\n        this.onRefreshItems(new ArrayIterator(sortedItems));\r\n    };\r\n    // Ordered, but not necessarily contiguous items\r\n    HeightMap.prototype.onRefreshItems = function (iterator) {\r\n        var item = null;\r\n        var viewItem;\r\n        var newHeight;\r\n        var i, j = null;\r\n        var cummDiff = 0;\r\n        while (item = iterator.next()) {\r\n            i = this.indexes[item.id];\r\n            for (; cummDiff !== 0 && j !== null && j < i; j++) {\r\n                viewItem = this.heightMap[j];\r\n                viewItem.top += cummDiff;\r\n                this.onRefreshItem(viewItem);\r\n            }\r\n            viewItem = this.heightMap[i];\r\n            newHeight = item.getHeight();\r\n            viewItem.top += cummDiff;\r\n            cummDiff += newHeight - viewItem.height;\r\n            viewItem.height = newHeight;\r\n            this.onRefreshItem(viewItem, true);\r\n            j = i + 1;\r\n        }\r\n        if (cummDiff !== 0 && j !== null) {\r\n            for (; j < this.heightMap.length; j++) {\r\n                viewItem = this.heightMap[j];\r\n                viewItem.top += cummDiff;\r\n                this.onRefreshItem(viewItem);\r\n            }\r\n        }\r\n    };\r\n    HeightMap.prototype.onRefreshItem = function (item, needsRender) {\r\n        if (needsRender === void 0) { needsRender = false; }\r\n        // noop\r\n    };\r\n    HeightMap.prototype.indexAt = function (position) {\r\n        var left = 0;\r\n        var right = this.heightMap.length;\r\n        var center;\r\n        var item;\r\n        // Binary search\r\n        while (left < right) {\r\n            center = Math.floor((left + right) / 2);\r\n            item = this.heightMap[center];\r\n            if (position < item.top) {\r\n                right = center;\r\n            }\r\n            else if (position >= item.top + item.height) {\r\n                if (left === center) {\r\n                    break;\r\n                }\r\n                left = center;\r\n            }\r\n            else {\r\n                return center;\r\n            }\r\n        }\r\n        return this.heightMap.length;\r\n    };\r\n    HeightMap.prototype.indexAfter = function (position) {\r\n        return Math.min(this.indexAt(position) + 1, this.heightMap.length);\r\n    };\r\n    HeightMap.prototype.itemAtIndex = function (index) {\r\n        return this.heightMap[index];\r\n    };\r\n    HeightMap.prototype.itemAfter = function (item) {\r\n        return this.heightMap[this.indexes[item.model.id] + 1] || null;\r\n    };\r\n    HeightMap.prototype.createViewItem = function (item) {\r\n        throw new Error('not implemented');\r\n    };\r\n    HeightMap.prototype.dispose = function () {\r\n        this.heightMap = [];\r\n        this.indexes = {};\r\n    };\r\n    return HeightMap;\r\n}());\r\nexport { HeightMap };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar ContextMenuEvent = /** @class */ (function () {\r\n    function ContextMenuEvent(posx, posy, target) {\r\n        this._posx = posx;\r\n        this._posy = posy;\r\n        this._target = target;\r\n    }\r\n    ContextMenuEvent.prototype.preventDefault = function () {\r\n        // no-op\r\n    };\r\n    ContextMenuEvent.prototype.stopPropagation = function () {\r\n        // no-op\r\n    };\r\n    Object.defineProperty(ContextMenuEvent.prototype, \"target\", {\r\n        get: function () {\r\n            return this._target;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return ContextMenuEvent;\r\n}());\r\nexport { ContextMenuEvent };\r\nvar MouseContextMenuEvent = /** @class */ (function (_super) {\r\n    __extends(MouseContextMenuEvent, _super);\r\n    function MouseContextMenuEvent(originalEvent) {\r\n        var _this = _super.call(this, originalEvent.posx, originalEvent.posy, originalEvent.target) || this;\r\n        _this.originalEvent = originalEvent;\r\n        return _this;\r\n    }\r\n    MouseContextMenuEvent.prototype.preventDefault = function () {\r\n        this.originalEvent.preventDefault();\r\n    };\r\n    MouseContextMenuEvent.prototype.stopPropagation = function () {\r\n        this.originalEvent.stopPropagation();\r\n    };\r\n    return MouseContextMenuEvent;\r\n}(ContextMenuEvent));\r\nexport { MouseContextMenuEvent };\r\nvar KeyboardContextMenuEvent = /** @class */ (function (_super) {\r\n    __extends(KeyboardContextMenuEvent, _super);\r\n    function KeyboardContextMenuEvent(posx, posy, originalEvent) {\r\n        var _this = _super.call(this, posx, posy, originalEvent.target) || this;\r\n        _this.originalEvent = originalEvent;\r\n        return _this;\r\n    }\r\n    KeyboardContextMenuEvent.prototype.preventDefault = function () {\r\n        this.originalEvent.preventDefault();\r\n    };\r\n    KeyboardContextMenuEvent.prototype.stopPropagation = function () {\r\n        this.originalEvent.stopPropagation();\r\n    };\r\n    return KeyboardContextMenuEvent;\r\n}(ContextMenuEvent));\r\nexport { KeyboardContextMenuEvent };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as Platform from '../../../common/platform.js';\r\nimport * as Browser from '../../../browser/browser.js';\r\nimport * as Lifecycle from '../../../common/lifecycle.js';\r\nimport * as DOM from '../../../browser/dom.js';\r\nimport * as Diff from '../../../common/diff/diff.js';\r\nimport * as Touch from '../../../browser/touch.js';\r\nimport * as strings from '../../../common/strings.js';\r\nimport * as Mouse from '../../../browser/mouseEvent.js';\r\nimport * as Keyboard from '../../../browser/keyboardEvent.js';\r\nimport * as dnd from './treeDnd.js';\r\nimport { ArrayIterator, MappedIterator } from '../../../common/iterator.js';\r\nimport { ScrollableElement } from '../../../browser/ui/scrollbar/scrollableElement.js';\r\nimport { HeightMap } from './treeViewModel.js';\r\nimport * as _ from './tree.js';\r\nimport { Emitter } from '../../../common/event.js';\r\nimport { DataTransfers, StaticDND } from '../../../browser/dnd.js';\r\nimport { DefaultTreestyler } from './treeDefaults.js';\r\nimport { Delayer, timeout } from '../../../common/async.js';\r\nfunction removeFromParent(element) {\r\n    try {\r\n        element.parentElement.removeChild(element);\r\n    }\r\n    catch (e) {\r\n        // this will throw if this happens due to a blur event, nasty business\r\n    }\r\n}\r\nvar RowCache = /** @class */ (function () {\r\n    function RowCache(context) {\r\n        this.context = context;\r\n        this._cache = { '': [] };\r\n    }\r\n    RowCache.prototype.alloc = function (templateId) {\r\n        var result = this.cache(templateId).pop();\r\n        if (!result) {\r\n            var content = document.createElement('div');\r\n            content.className = 'content';\r\n            var row = document.createElement('div');\r\n            row.appendChild(content);\r\n            var templateData = null;\r\n            try {\r\n                templateData = this.context.renderer.renderTemplate(this.context.tree, templateId, content);\r\n            }\r\n            catch (err) {\r\n                console.error('Tree usage error: exception while rendering template');\r\n                console.error(err);\r\n            }\r\n            result = {\r\n                element: row,\r\n                templateId: templateId,\r\n                templateData: templateData\r\n            };\r\n        }\r\n        return result;\r\n    };\r\n    RowCache.prototype.release = function (templateId, row) {\r\n        removeFromParent(row.element);\r\n        this.cache(templateId).push(row);\r\n    };\r\n    RowCache.prototype.cache = function (templateId) {\r\n        return this._cache[templateId] || (this._cache[templateId] = []);\r\n    };\r\n    RowCache.prototype.garbageCollect = function () {\r\n        var _this = this;\r\n        if (this._cache) {\r\n            Object.keys(this._cache).forEach(function (templateId) {\r\n                _this._cache[templateId].forEach(function (cachedRow) {\r\n                    _this.context.renderer.disposeTemplate(_this.context.tree, templateId, cachedRow.templateData);\r\n                    cachedRow.element = null;\r\n                    cachedRow.templateData = null;\r\n                });\r\n                delete _this._cache[templateId];\r\n            });\r\n        }\r\n    };\r\n    RowCache.prototype.dispose = function () {\r\n        this.garbageCollect();\r\n        this._cache = null;\r\n    };\r\n    return RowCache;\r\n}());\r\nexport { RowCache };\r\nvar ViewItem = /** @class */ (function () {\r\n    function ViewItem(context, model) {\r\n        var _this = this;\r\n        this.width = 0;\r\n        this.needsRender = false;\r\n        this.uri = null;\r\n        this.unbindDragStart = Lifecycle.Disposable.None;\r\n        this._draggable = false;\r\n        this.context = context;\r\n        this.model = model;\r\n        this.id = this.model.id;\r\n        this.row = null;\r\n        this.top = 0;\r\n        this.height = model.getHeight();\r\n        this._styles = {};\r\n        model.getAllTraits().forEach(function (t) { return _this._styles[t] = true; });\r\n        if (model.isExpanded()) {\r\n            this.addClass('expanded');\r\n        }\r\n    }\r\n    Object.defineProperty(ViewItem.prototype, \"expanded\", {\r\n        set: function (value) {\r\n            value ? this.addClass('expanded') : this.removeClass('expanded');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"loading\", {\r\n        set: function (value) {\r\n            value ? this.addClass('codicon-loading') : this.removeClass('codicon-loading');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"draggable\", {\r\n        get: function () {\r\n            return this._draggable;\r\n        },\r\n        set: function (value) {\r\n            this._draggable = value;\r\n            this.render(true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"dropTarget\", {\r\n        set: function (value) {\r\n            value ? this.addClass('drop-target') : this.removeClass('drop-target');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"element\", {\r\n        get: function () {\r\n            return (this.row && this.row.element);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ViewItem.prototype, \"templateId\", {\r\n        get: function () {\r\n            return this._templateId || (this._templateId = (this.context.renderer.getTemplateId && this.context.renderer.getTemplateId(this.context.tree, this.model.getElement())));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ViewItem.prototype.addClass = function (name) {\r\n        this._styles[name] = true;\r\n        this.render(true);\r\n    };\r\n    ViewItem.prototype.removeClass = function (name) {\r\n        delete this._styles[name]; // is this slow?\r\n        this.render(true);\r\n    };\r\n    ViewItem.prototype.render = function (skipUserRender) {\r\n        var _this = this;\r\n        if (skipUserRender === void 0) { skipUserRender = false; }\r\n        if (!this.model || !this.element) {\r\n            return;\r\n        }\r\n        var classes = ['monaco-tree-row'];\r\n        classes.push.apply(classes, Object.keys(this._styles));\r\n        if (this.model.hasChildren()) {\r\n            classes.push('has-children');\r\n        }\r\n        this.element.className = classes.join(' ');\r\n        this.element.draggable = this.draggable;\r\n        this.element.style.height = this.height + 'px';\r\n        // ARIA\r\n        this.element.setAttribute('role', 'treeitem');\r\n        var accessibility = this.context.accessibilityProvider;\r\n        var ariaLabel = accessibility.getAriaLabel(this.context.tree, this.model.getElement());\r\n        if (ariaLabel) {\r\n            this.element.setAttribute('aria-label', ariaLabel);\r\n        }\r\n        if (accessibility.getPosInSet && accessibility.getSetSize) {\r\n            this.element.setAttribute('aria-setsize', accessibility.getSetSize());\r\n            this.element.setAttribute('aria-posinset', accessibility.getPosInSet(this.context.tree, this.model.getElement()));\r\n        }\r\n        if (this.model.hasTrait('focused')) {\r\n            var base64Id = strings.safeBtoa(this.model.id);\r\n            this.element.setAttribute('aria-selected', 'true');\r\n            this.element.setAttribute('id', base64Id);\r\n        }\r\n        else {\r\n            this.element.setAttribute('aria-selected', 'false');\r\n            this.element.removeAttribute('id');\r\n        }\r\n        if (this.model.hasChildren()) {\r\n            this.element.setAttribute('aria-expanded', String(!!this._styles['expanded']));\r\n        }\r\n        else {\r\n            this.element.removeAttribute('aria-expanded');\r\n        }\r\n        this.element.setAttribute('aria-level', String(this.model.getDepth()));\r\n        if (this.context.options.paddingOnRow) {\r\n            this.element.style.paddingLeft = this.context.options.twistiePixels + ((this.model.getDepth() - 1) * this.context.options.indentPixels) + 'px';\r\n        }\r\n        else {\r\n            this.element.style.paddingLeft = ((this.model.getDepth() - 1) * this.context.options.indentPixels) + 'px';\r\n            this.row.element.firstElementChild.style.paddingLeft = this.context.options.twistiePixels + 'px';\r\n        }\r\n        var uri = this.context.dnd.getDragURI(this.context.tree, this.model.getElement());\r\n        if (uri !== this.uri) {\r\n            if (this.unbindDragStart) {\r\n                this.unbindDragStart.dispose();\r\n            }\r\n            if (uri) {\r\n                this.uri = uri;\r\n                this.draggable = true;\r\n                this.unbindDragStart = DOM.addDisposableListener(this.element, 'dragstart', function (e) {\r\n                    _this.onDragStart(e);\r\n                });\r\n            }\r\n            else {\r\n                this.uri = null;\r\n            }\r\n        }\r\n        if (!skipUserRender && this.element) {\r\n            var paddingLeft = 0;\r\n            if (this.context.horizontalScrolling) {\r\n                var style = window.getComputedStyle(this.element);\r\n                paddingLeft = parseFloat(style.paddingLeft);\r\n            }\r\n            if (this.context.horizontalScrolling) {\r\n                this.element.style.width = Browser.isFirefox ? '-moz-fit-content' : 'fit-content';\r\n            }\r\n            try {\r\n                this.context.renderer.renderElement(this.context.tree, this.model.getElement(), this.templateId, this.row.templateData);\r\n            }\r\n            catch (err) {\r\n                console.error('Tree usage error: exception while rendering element');\r\n                console.error(err);\r\n            }\r\n            if (this.context.horizontalScrolling) {\r\n                this.width = DOM.getContentWidth(this.element) + paddingLeft;\r\n                this.element.style.width = '';\r\n            }\r\n        }\r\n    };\r\n    ViewItem.prototype.insertInDOM = function (container, afterElement) {\r\n        if (!this.row) {\r\n            this.row = this.context.cache.alloc(this.templateId);\r\n            // used in reverse lookup from HTMLElement to Item\r\n            this.element[TreeView.BINDING] = this;\r\n        }\r\n        if (this.element.parentElement) {\r\n            return;\r\n        }\r\n        if (afterElement === null) {\r\n            container.appendChild(this.element);\r\n        }\r\n        else {\r\n            try {\r\n                container.insertBefore(this.element, afterElement);\r\n            }\r\n            catch (e) {\r\n                console.warn('Failed to locate previous tree element');\r\n                container.appendChild(this.element);\r\n            }\r\n        }\r\n        this.render();\r\n    };\r\n    ViewItem.prototype.removeFromDOM = function () {\r\n        if (!this.row) {\r\n            return;\r\n        }\r\n        this.unbindDragStart.dispose();\r\n        this.uri = null;\r\n        this.element[TreeView.BINDING] = null;\r\n        this.context.cache.release(this.templateId, this.row);\r\n        this.row = null;\r\n    };\r\n    ViewItem.prototype.dispose = function () {\r\n        this.row = null;\r\n    };\r\n    return ViewItem;\r\n}());\r\nexport { ViewItem };\r\nvar RootViewItem = /** @class */ (function (_super) {\r\n    __extends(RootViewItem, _super);\r\n    function RootViewItem(context, model, wrapper) {\r\n        var _this = _super.call(this, context, model) || this;\r\n        _this.row = {\r\n            element: wrapper,\r\n            templateData: null,\r\n            templateId: null\r\n        };\r\n        return _this;\r\n    }\r\n    RootViewItem.prototype.render = function () {\r\n        if (!this.model || !this.element) {\r\n            return;\r\n        }\r\n        var classes = ['monaco-tree-wrapper'];\r\n        classes.push.apply(classes, Object.keys(this._styles));\r\n        if (this.model.hasChildren()) {\r\n            classes.push('has-children');\r\n        }\r\n        this.element.className = classes.join(' ');\r\n    };\r\n    RootViewItem.prototype.insertInDOM = function (container, afterElement) {\r\n        // noop\r\n    };\r\n    RootViewItem.prototype.removeFromDOM = function () {\r\n        // noop\r\n    };\r\n    return RootViewItem;\r\n}(ViewItem));\r\nfunction reactionEquals(one, other) {\r\n    if (!one && !other) {\r\n        return true;\r\n    }\r\n    else if (!one || !other) {\r\n        return false;\r\n    }\r\n    else if (one.accept !== other.accept) {\r\n        return false;\r\n    }\r\n    else if (one.bubble !== other.bubble) {\r\n        return false;\r\n    }\r\n    else if (one.effect !== other.effect) {\r\n        return false;\r\n    }\r\n    else {\r\n        return true;\r\n    }\r\n}\r\nvar TreeView = /** @class */ (function (_super) {\r\n    __extends(TreeView, _super);\r\n    function TreeView(context, container) {\r\n        var _this = _super.call(this) || this;\r\n        _this.model = null;\r\n        _this.lastPointerType = '';\r\n        _this.lastClickTimeStamp = 0;\r\n        _this.contentWidthUpdateDelayer = new Delayer(50);\r\n        _this.isRefreshing = false;\r\n        _this.refreshingPreviousChildrenIds = {};\r\n        _this.currentDragAndDropData = null;\r\n        _this.currentDropTarget = null;\r\n        _this.currentDropTargets = null;\r\n        _this.currentDropDisposable = Lifecycle.Disposable.None;\r\n        _this.gestureDisposable = Lifecycle.Disposable.None;\r\n        _this.dragAndDropScrollInterval = null;\r\n        _this.dragAndDropScrollTimeout = null;\r\n        _this.dragAndDropMouseY = null;\r\n        _this.highlightedItemWasDraggable = false;\r\n        _this.onHiddenScrollTop = null;\r\n        _this._onDOMFocus = new Emitter();\r\n        _this.onDOMFocus = _this._onDOMFocus.event;\r\n        _this._onDOMBlur = new Emitter();\r\n        _this._onDidScroll = new Emitter();\r\n        TreeView.counter++;\r\n        _this.instance = TreeView.counter;\r\n        var horizontalScrollMode = typeof context.options.horizontalScrollMode === 'undefined' ? 2 /* Hidden */ : context.options.horizontalScrollMode;\r\n        _this.horizontalScrolling = horizontalScrollMode !== 2 /* Hidden */;\r\n        _this.context = {\r\n            dataSource: context.dataSource,\r\n            renderer: context.renderer,\r\n            controller: context.controller,\r\n            dnd: context.dnd,\r\n            filter: context.filter,\r\n            sorter: context.sorter,\r\n            tree: context.tree,\r\n            accessibilityProvider: context.accessibilityProvider,\r\n            options: context.options,\r\n            cache: new RowCache(context),\r\n            horizontalScrolling: _this.horizontalScrolling\r\n        };\r\n        _this.modelListeners = [];\r\n        _this.viewListeners = [];\r\n        _this.items = {};\r\n        _this.domNode = document.createElement('div');\r\n        _this.domNode.className = \"monaco-tree no-focused-item monaco-tree-instance-\" + _this.instance;\r\n        // to allow direct tabbing into the tree instead of first focusing the tree\r\n        _this.domNode.tabIndex = context.options.preventRootFocus ? -1 : 0;\r\n        _this.styleElement = DOM.createStyleSheet(_this.domNode);\r\n        _this.treeStyler = context.styler || new DefaultTreestyler(_this.styleElement, \"monaco-tree-instance-\" + _this.instance);\r\n        // ARIA\r\n        _this.domNode.setAttribute('role', 'tree');\r\n        if (_this.context.options.ariaLabel) {\r\n            _this.domNode.setAttribute('aria-label', _this.context.options.ariaLabel);\r\n        }\r\n        if (_this.context.options.alwaysFocused) {\r\n            DOM.addClass(_this.domNode, 'focused');\r\n        }\r\n        if (!_this.context.options.paddingOnRow) {\r\n            DOM.addClass(_this.domNode, 'no-row-padding');\r\n        }\r\n        _this.wrapper = document.createElement('div');\r\n        _this.wrapper.className = 'monaco-tree-wrapper';\r\n        _this.scrollableElement = new ScrollableElement(_this.wrapper, {\r\n            alwaysConsumeMouseWheel: true,\r\n            horizontal: horizontalScrollMode,\r\n            vertical: (typeof context.options.verticalScrollMode !== 'undefined' ? context.options.verticalScrollMode : 1 /* Auto */),\r\n            useShadows: context.options.useShadows\r\n        });\r\n        _this.scrollableElement.onScroll(function (e) {\r\n            _this.render(e.scrollTop, e.height, e.scrollLeft, e.width, e.scrollWidth);\r\n            _this._onDidScroll.fire();\r\n        });\r\n        if (Browser.isIE) {\r\n            _this.wrapper.style.msTouchAction = 'none';\r\n            _this.wrapper.style.msContentZooming = 'none';\r\n        }\r\n        else {\r\n            _this.gestureDisposable = Touch.Gesture.addTarget(_this.wrapper);\r\n        }\r\n        _this.rowsContainer = document.createElement('div');\r\n        _this.rowsContainer.className = 'monaco-tree-rows';\r\n        if (context.options.showTwistie) {\r\n            _this.rowsContainer.className += ' show-twisties';\r\n        }\r\n        var focusTracker = DOM.trackFocus(_this.domNode);\r\n        _this.viewListeners.push(focusTracker.onDidFocus(function () { return _this.onFocus(); }));\r\n        _this.viewListeners.push(focusTracker.onDidBlur(function () { return _this.onBlur(); }));\r\n        _this.viewListeners.push(focusTracker);\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.domNode, 'keydown', function (e) { return _this.onKeyDown(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.domNode, 'keyup', function (e) { return _this.onKeyUp(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.domNode, 'mousedown', function (e) { return _this.onMouseDown(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.domNode, 'mouseup', function (e) { return _this.onMouseUp(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.wrapper, 'auxclick', function (e) {\r\n            if (e && e.button === 1) {\r\n                _this.onMouseMiddleClick(e);\r\n            }\r\n        }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.wrapper, 'click', function (e) { return _this.onClick(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.domNode, 'contextmenu', function (e) { return _this.onContextMenu(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.wrapper, Touch.EventType.Tap, function (e) { return _this.onTap(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.wrapper, Touch.EventType.Change, function (e) { return _this.onTouchChange(e); }));\r\n        if (Browser.isIE) {\r\n            _this.viewListeners.push(DOM.addDisposableListener(_this.wrapper, 'MSPointerDown', function (e) { return _this.onMsPointerDown(e); }));\r\n            _this.viewListeners.push(DOM.addDisposableListener(_this.wrapper, 'MSGestureTap', function (e) { return _this.onMsGestureTap(e); }));\r\n            // these events come too fast, we throttle them\r\n            _this.viewListeners.push(DOM.addDisposableThrottledListener(_this.wrapper, 'MSGestureChange', function (e) { return _this.onThrottledMsGestureChange(e); }, function (lastEvent, event) {\r\n                event.stopPropagation();\r\n                event.preventDefault();\r\n                var result = { translationY: event.translationY, translationX: event.translationX };\r\n                if (lastEvent) {\r\n                    result.translationY += lastEvent.translationY;\r\n                    result.translationX += lastEvent.translationX;\r\n                }\r\n                return result;\r\n            }));\r\n        }\r\n        _this.viewListeners.push(DOM.addDisposableListener(window, 'dragover', function (e) { return _this.onDragOver(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(_this.wrapper, 'drop', function (e) { return _this.onDrop(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(window, 'dragend', function (e) { return _this.onDragEnd(e); }));\r\n        _this.viewListeners.push(DOM.addDisposableListener(window, 'dragleave', function (e) { return _this.onDragOver(e); }));\r\n        _this.wrapper.appendChild(_this.rowsContainer);\r\n        _this.domNode.appendChild(_this.scrollableElement.getDomNode());\r\n        container.appendChild(_this.domNode);\r\n        _this.lastRenderTop = 0;\r\n        _this.lastRenderHeight = 0;\r\n        _this.didJustPressContextMenuKey = false;\r\n        _this.currentDropTarget = null;\r\n        _this.currentDropTargets = [];\r\n        _this.shouldInvalidateDropReaction = false;\r\n        _this.dragAndDropScrollInterval = null;\r\n        _this.dragAndDropScrollTimeout = null;\r\n        _this.onRowsChanged();\r\n        _this.layout();\r\n        _this.setupMSGesture();\r\n        _this.applyStyles(context.options);\r\n        return _this;\r\n    }\r\n    TreeView.prototype.applyStyles = function (styles) {\r\n        this.treeStyler.style(styles);\r\n    };\r\n    TreeView.prototype.createViewItem = function (item) {\r\n        return new ViewItem(this.context, item);\r\n    };\r\n    TreeView.prototype.getHTMLElement = function () {\r\n        return this.domNode;\r\n    };\r\n    TreeView.prototype.focus = function () {\r\n        this.domNode.focus();\r\n    };\r\n    TreeView.prototype.isFocused = function () {\r\n        return document.activeElement === this.domNode;\r\n    };\r\n    TreeView.prototype.blur = function () {\r\n        this.domNode.blur();\r\n    };\r\n    TreeView.prototype.setupMSGesture = function () {\r\n        var _this = this;\r\n        if (window.MSGesture) {\r\n            this.msGesture = new MSGesture();\r\n            setTimeout(function () { return _this.msGesture.target = _this.wrapper; }, 100); // TODO@joh, TODO@IETeam\r\n        }\r\n    };\r\n    TreeView.prototype.isTreeVisible = function () {\r\n        return this.onHiddenScrollTop === null;\r\n    };\r\n    TreeView.prototype.layout = function (height, width) {\r\n        if (!this.isTreeVisible()) {\r\n            return;\r\n        }\r\n        this.viewHeight = height || DOM.getContentHeight(this.wrapper); // render\r\n        this.scrollHeight = this.getContentHeight();\r\n        if (this.horizontalScrolling) {\r\n            this.viewWidth = width || DOM.getContentWidth(this.wrapper);\r\n        }\r\n    };\r\n    TreeView.prototype.render = function (scrollTop, viewHeight, scrollLeft, viewWidth, scrollWidth) {\r\n        var i;\r\n        var stop;\r\n        var renderTop = scrollTop;\r\n        var renderBottom = scrollTop + viewHeight;\r\n        var thisRenderBottom = this.lastRenderTop + this.lastRenderHeight;\r\n        // when view scrolls down, start rendering from the renderBottom\r\n        for (i = this.indexAfter(renderBottom) - 1, stop = this.indexAt(Math.max(thisRenderBottom, renderTop)); i >= stop; i--) {\r\n            this.insertItemInDOM(this.itemAtIndex(i));\r\n        }\r\n        // when view scrolls up, start rendering from either this.renderTop or renderBottom\r\n        for (i = Math.min(this.indexAt(this.lastRenderTop), this.indexAfter(renderBottom)) - 1, stop = this.indexAt(renderTop); i >= stop; i--) {\r\n            this.insertItemInDOM(this.itemAtIndex(i));\r\n        }\r\n        // when view scrolls down, start unrendering from renderTop\r\n        for (i = this.indexAt(this.lastRenderTop), stop = Math.min(this.indexAt(renderTop), this.indexAfter(thisRenderBottom)); i < stop; i++) {\r\n            this.removeItemFromDOM(this.itemAtIndex(i));\r\n        }\r\n        // when view scrolls up, start unrendering from either renderBottom this.renderTop\r\n        for (i = Math.max(this.indexAfter(renderBottom), this.indexAt(this.lastRenderTop)), stop = this.indexAfter(thisRenderBottom); i < stop; i++) {\r\n            this.removeItemFromDOM(this.itemAtIndex(i));\r\n        }\r\n        var topItem = this.itemAtIndex(this.indexAt(renderTop));\r\n        if (topItem) {\r\n            this.rowsContainer.style.top = (topItem.top - renderTop) + 'px';\r\n        }\r\n        if (this.horizontalScrolling) {\r\n            this.rowsContainer.style.left = -scrollLeft + 'px';\r\n            this.rowsContainer.style.width = Math.max(scrollWidth, viewWidth) + \"px\";\r\n        }\r\n        this.lastRenderTop = renderTop;\r\n        this.lastRenderHeight = renderBottom - renderTop;\r\n    };\r\n    TreeView.prototype.setModel = function (newModel) {\r\n        this.releaseModel();\r\n        this.model = newModel;\r\n        this.model.onRefresh(this.onRefreshing, this, this.modelListeners);\r\n        this.model.onDidRefresh(this.onRefreshed, this, this.modelListeners);\r\n        this.model.onSetInput(this.onClearingInput, this, this.modelListeners);\r\n        this.model.onDidSetInput(this.onSetInput, this, this.modelListeners);\r\n        this.model.onDidFocus(this.onModelFocusChange, this, this.modelListeners);\r\n        this.model.onRefreshItemChildren(this.onItemChildrenRefreshing, this, this.modelListeners);\r\n        this.model.onDidRefreshItemChildren(this.onItemChildrenRefreshed, this, this.modelListeners);\r\n        this.model.onDidRefreshItem(this.onItemRefresh, this, this.modelListeners);\r\n        this.model.onExpandItem(this.onItemExpanding, this, this.modelListeners);\r\n        this.model.onDidExpandItem(this.onItemExpanded, this, this.modelListeners);\r\n        this.model.onCollapseItem(this.onItemCollapsing, this, this.modelListeners);\r\n        this.model.onDidRevealItem(this.onItemReveal, this, this.modelListeners);\r\n        this.model.onDidAddTraitItem(this.onItemAddTrait, this, this.modelListeners);\r\n        this.model.onDidRemoveTraitItem(this.onItemRemoveTrait, this, this.modelListeners);\r\n    };\r\n    TreeView.prototype.onRefreshing = function () {\r\n        this.isRefreshing = true;\r\n    };\r\n    TreeView.prototype.onRefreshed = function () {\r\n        this.isRefreshing = false;\r\n        this.onRowsChanged();\r\n    };\r\n    TreeView.prototype.onRowsChanged = function (scrollTop) {\r\n        if (scrollTop === void 0) { scrollTop = this.scrollTop; }\r\n        if (this.isRefreshing) {\r\n            return;\r\n        }\r\n        this.scrollTop = scrollTop;\r\n        this.updateScrollWidth();\r\n    };\r\n    TreeView.prototype.updateScrollWidth = function () {\r\n        var _this = this;\r\n        if (!this.horizontalScrolling) {\r\n            return;\r\n        }\r\n        this.contentWidthUpdateDelayer.trigger(function () {\r\n            var keys = Object.keys(_this.items);\r\n            var scrollWidth = 0;\r\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\r\n                var key = keys_1[_i];\r\n                scrollWidth = Math.max(scrollWidth, _this.items[key].width);\r\n            }\r\n            _this.scrollWidth = scrollWidth + 10 /* scrollbar */;\r\n        });\r\n    };\r\n    TreeView.prototype.focusNextPage = function (eventPayload) {\r\n        var _this = this;\r\n        var lastPageIndex = this.indexAt(this.scrollTop + this.viewHeight);\r\n        lastPageIndex = lastPageIndex === 0 ? 0 : lastPageIndex - 1;\r\n        var lastPageElement = this.itemAtIndex(lastPageIndex).model.getElement();\r\n        var currentlyFocusedElement = this.model.getFocus();\r\n        if (currentlyFocusedElement !== lastPageElement) {\r\n            this.model.setFocus(lastPageElement, eventPayload);\r\n        }\r\n        else {\r\n            var previousScrollTop = this.scrollTop;\r\n            this.scrollTop += this.viewHeight;\r\n            if (this.scrollTop !== previousScrollTop) {\r\n                // Let the scroll event listener run\r\n                setTimeout(function () {\r\n                    _this.focusNextPage(eventPayload);\r\n                }, 0);\r\n            }\r\n        }\r\n    };\r\n    TreeView.prototype.focusPreviousPage = function (eventPayload) {\r\n        var _this = this;\r\n        var firstPageIndex;\r\n        if (this.scrollTop === 0) {\r\n            firstPageIndex = this.indexAt(this.scrollTop);\r\n        }\r\n        else {\r\n            firstPageIndex = this.indexAfter(this.scrollTop - 1);\r\n        }\r\n        var firstPageElement = this.itemAtIndex(firstPageIndex).model.getElement();\r\n        var currentlyFocusedElement = this.model.getFocus();\r\n        if (currentlyFocusedElement !== firstPageElement) {\r\n            this.model.setFocus(firstPageElement, eventPayload);\r\n        }\r\n        else {\r\n            var previousScrollTop = this.scrollTop;\r\n            this.scrollTop -= this.viewHeight;\r\n            if (this.scrollTop !== previousScrollTop) {\r\n                // Let the scroll event listener run\r\n                setTimeout(function () {\r\n                    _this.focusPreviousPage(eventPayload);\r\n                }, 0);\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(TreeView.prototype, \"viewHeight\", {\r\n        get: function () {\r\n            var scrollDimensions = this.scrollableElement.getScrollDimensions();\r\n            return scrollDimensions.height;\r\n        },\r\n        set: function (height) {\r\n            this.scrollableElement.setScrollDimensions({ height: height });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeView.prototype, \"scrollHeight\", {\r\n        set: function (scrollHeight) {\r\n            scrollHeight = scrollHeight + (this.horizontalScrolling ? 10 : 0);\r\n            this.scrollableElement.setScrollDimensions({ scrollHeight: scrollHeight });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeView.prototype, \"viewWidth\", {\r\n        get: function () {\r\n            var scrollDimensions = this.scrollableElement.getScrollDimensions();\r\n            return scrollDimensions.width;\r\n        },\r\n        set: function (viewWidth) {\r\n            this.scrollableElement.setScrollDimensions({ width: viewWidth });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeView.prototype, \"scrollWidth\", {\r\n        set: function (scrollWidth) {\r\n            this.scrollableElement.setScrollDimensions({ scrollWidth: scrollWidth });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeView.prototype, \"scrollTop\", {\r\n        get: function () {\r\n            var scrollPosition = this.scrollableElement.getScrollPosition();\r\n            return scrollPosition.scrollTop;\r\n        },\r\n        set: function (scrollTop) {\r\n            var scrollHeight = this.getContentHeight() + (this.horizontalScrolling ? 10 : 0);\r\n            this.scrollableElement.setScrollDimensions({ scrollHeight: scrollHeight });\r\n            this.scrollableElement.setScrollPosition({ scrollTop: scrollTop });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    // Events\r\n    TreeView.prototype.onClearingInput = function (e) {\r\n        var item = e.item;\r\n        if (item) {\r\n            this.onRemoveItems(new MappedIterator(item.getNavigator(), function (item) { return item && item.id; }));\r\n            this.onRowsChanged();\r\n        }\r\n    };\r\n    TreeView.prototype.onSetInput = function (e) {\r\n        this.context.cache.garbageCollect();\r\n        this.inputItem = new RootViewItem(this.context, e.item, this.wrapper);\r\n    };\r\n    TreeView.prototype.onItemChildrenRefreshing = function (e) {\r\n        var item = e.item;\r\n        var viewItem = this.items[item.id];\r\n        if (viewItem && this.context.options.showLoading) {\r\n            viewItem.loadingTimer = setTimeout(function () {\r\n                viewItem.loadingTimer = 0;\r\n                viewItem.loading = true;\r\n            }, TreeView.LOADING_DECORATION_DELAY);\r\n        }\r\n        if (!e.isNested) {\r\n            var childrenIds = [];\r\n            var navigator_1 = item.getNavigator();\r\n            var childItem = void 0;\r\n            while (childItem = navigator_1.next()) {\r\n                childrenIds.push(childItem.id);\r\n            }\r\n            this.refreshingPreviousChildrenIds[item.id] = childrenIds;\r\n        }\r\n    };\r\n    TreeView.prototype.onItemChildrenRefreshed = function (e) {\r\n        var _this = this;\r\n        var item = e.item;\r\n        var viewItem = this.items[item.id];\r\n        if (viewItem) {\r\n            if (viewItem.loadingTimer) {\r\n                clearTimeout(viewItem.loadingTimer);\r\n                viewItem.loadingTimer = 0;\r\n            }\r\n            viewItem.loading = false;\r\n        }\r\n        if (!e.isNested) {\r\n            var previousChildrenIds_1 = this.refreshingPreviousChildrenIds[item.id];\r\n            var afterModelItems_1 = [];\r\n            var navigator_2 = item.getNavigator();\r\n            var childItem = void 0;\r\n            while (childItem = navigator_2.next()) {\r\n                afterModelItems_1.push(childItem);\r\n            }\r\n            var skipDiff = Math.abs(previousChildrenIds_1.length - afterModelItems_1.length) > 1000;\r\n            var diff = [];\r\n            var doToInsertItemsAlreadyExist = false;\r\n            if (!skipDiff) {\r\n                var lcs = new Diff.LcsDiff({\r\n                    getElements: function () { return previousChildrenIds_1; }\r\n                }, {\r\n                    getElements: function () { return afterModelItems_1.map(function (item) { return item.id; }); }\r\n                }, null);\r\n                diff = lcs.ComputeDiff(false).changes;\r\n                // this means that the result of the diff algorithm would result\r\n                // in inserting items that were already registered. this can only\r\n                // happen if the data provider returns bad ids OR if the sorting\r\n                // of the elements has changed\r\n                doToInsertItemsAlreadyExist = diff.some(function (d) {\r\n                    if (d.modifiedLength > 0) {\r\n                        for (var i = d.modifiedStart, len = d.modifiedStart + d.modifiedLength; i < len; i++) {\r\n                            if (_this.items.hasOwnProperty(afterModelItems_1[i].id)) {\r\n                                return true;\r\n                            }\r\n                        }\r\n                    }\r\n                    return false;\r\n                });\r\n            }\r\n            // 50 is an optimization number, at some point we're better off\r\n            // just replacing everything\r\n            if (!skipDiff && !doToInsertItemsAlreadyExist && diff.length < 50) {\r\n                for (var _i = 0, diff_1 = diff; _i < diff_1.length; _i++) {\r\n                    var diffChange = diff_1[_i];\r\n                    if (diffChange.originalLength > 0) {\r\n                        this.onRemoveItems(new ArrayIterator(previousChildrenIds_1, diffChange.originalStart, diffChange.originalStart + diffChange.originalLength));\r\n                    }\r\n                    if (diffChange.modifiedLength > 0) {\r\n                        var beforeItem = afterModelItems_1[diffChange.modifiedStart - 1] || item;\r\n                        beforeItem = beforeItem.getDepth() > 0 ? beforeItem : null;\r\n                        this.onInsertItems(new ArrayIterator(afterModelItems_1, diffChange.modifiedStart, diffChange.modifiedStart + diffChange.modifiedLength), beforeItem ? beforeItem.id : null);\r\n                    }\r\n                }\r\n            }\r\n            else if (skipDiff || diff.length) {\r\n                this.onRemoveItems(new ArrayIterator(previousChildrenIds_1));\r\n                this.onInsertItems(new ArrayIterator(afterModelItems_1), item.getDepth() > 0 ? item.id : null);\r\n            }\r\n            if (skipDiff || diff.length) {\r\n                this.onRowsChanged();\r\n            }\r\n        }\r\n    };\r\n    TreeView.prototype.onItemRefresh = function (item) {\r\n        this.onItemsRefresh([item]);\r\n    };\r\n    TreeView.prototype.onItemsRefresh = function (items) {\r\n        var _this = this;\r\n        this.onRefreshItemSet(items.filter(function (item) { return _this.items.hasOwnProperty(item.id); }));\r\n        this.onRowsChanged();\r\n    };\r\n    TreeView.prototype.onItemExpanding = function (e) {\r\n        var viewItem = this.items[e.item.id];\r\n        if (viewItem) {\r\n            viewItem.expanded = true;\r\n        }\r\n    };\r\n    TreeView.prototype.onItemExpanded = function (e) {\r\n        var item = e.item;\r\n        var viewItem = this.items[item.id];\r\n        if (viewItem) {\r\n            viewItem.expanded = true;\r\n            var height = this.onInsertItems(item.getNavigator(), item.id) || 0;\r\n            var scrollTop = this.scrollTop;\r\n            if (viewItem.top + viewItem.height <= this.scrollTop) {\r\n                scrollTop += height;\r\n            }\r\n            this.onRowsChanged(scrollTop);\r\n        }\r\n    };\r\n    TreeView.prototype.onItemCollapsing = function (e) {\r\n        var item = e.item;\r\n        var viewItem = this.items[item.id];\r\n        if (viewItem) {\r\n            viewItem.expanded = false;\r\n            this.onRemoveItems(new MappedIterator(item.getNavigator(), function (item) { return item && item.id; }));\r\n            this.onRowsChanged();\r\n        }\r\n    };\r\n    TreeView.prototype.onItemReveal = function (e) {\r\n        var item = e.item;\r\n        var relativeTop = e.relativeTop;\r\n        var viewItem = this.items[item.id];\r\n        if (viewItem) {\r\n            if (relativeTop !== null) {\r\n                relativeTop = relativeTop < 0 ? 0 : relativeTop;\r\n                relativeTop = relativeTop > 1 ? 1 : relativeTop;\r\n                // y = mx + b\r\n                var m = viewItem.height - this.viewHeight;\r\n                this.scrollTop = m * relativeTop + viewItem.top;\r\n            }\r\n            else {\r\n                var viewItemBottom = viewItem.top + viewItem.height;\r\n                var wrapperBottom = this.scrollTop + this.viewHeight;\r\n                if (viewItem.top < this.scrollTop) {\r\n                    this.scrollTop = viewItem.top;\r\n                }\r\n                else if (viewItemBottom >= wrapperBottom) {\r\n                    this.scrollTop = viewItemBottom - this.viewHeight;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    TreeView.prototype.onItemAddTrait = function (e) {\r\n        var item = e.item;\r\n        var trait = e.trait;\r\n        var viewItem = this.items[item.id];\r\n        if (viewItem) {\r\n            viewItem.addClass(trait);\r\n        }\r\n        if (trait === 'highlighted') {\r\n            DOM.addClass(this.domNode, trait);\r\n            // Ugly Firefox fix: input fields can't be selected if parent nodes are draggable\r\n            if (viewItem) {\r\n                this.highlightedItemWasDraggable = !!viewItem.draggable;\r\n                if (viewItem.draggable) {\r\n                    viewItem.draggable = false;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    TreeView.prototype.onItemRemoveTrait = function (e) {\r\n        var item = e.item;\r\n        var trait = e.trait;\r\n        var viewItem = this.items[item.id];\r\n        if (viewItem) {\r\n            viewItem.removeClass(trait);\r\n        }\r\n        if (trait === 'highlighted') {\r\n            DOM.removeClass(this.domNode, trait);\r\n            // Ugly Firefox fix: input fields can't be selected if parent nodes are draggable\r\n            if (this.highlightedItemWasDraggable) {\r\n                viewItem.draggable = true;\r\n            }\r\n            this.highlightedItemWasDraggable = false;\r\n        }\r\n    };\r\n    TreeView.prototype.onModelFocusChange = function () {\r\n        var focus = this.model && this.model.getFocus();\r\n        DOM.toggleClass(this.domNode, 'no-focused-item', !focus);\r\n        // ARIA\r\n        if (focus) {\r\n            this.domNode.setAttribute('aria-activedescendant', strings.safeBtoa(this.context.dataSource.getId(this.context.tree, focus)));\r\n        }\r\n        else {\r\n            this.domNode.removeAttribute('aria-activedescendant');\r\n        }\r\n    };\r\n    // HeightMap \"events\"\r\n    TreeView.prototype.onInsertItem = function (item) {\r\n        var _this = this;\r\n        item.onDragStart = function (e) { _this.onDragStart(item, e); };\r\n        item.needsRender = true;\r\n        this.refreshViewItem(item);\r\n        this.items[item.id] = item;\r\n    };\r\n    TreeView.prototype.onRefreshItem = function (item, needsRender) {\r\n        if (needsRender === void 0) { needsRender = false; }\r\n        item.needsRender = item.needsRender || needsRender;\r\n        this.refreshViewItem(item);\r\n    };\r\n    TreeView.prototype.onRemoveItem = function (item) {\r\n        this.removeItemFromDOM(item);\r\n        item.dispose();\r\n        delete this.items[item.id];\r\n    };\r\n    // ViewItem refresh\r\n    TreeView.prototype.refreshViewItem = function (item) {\r\n        item.render();\r\n        if (this.shouldBeRendered(item)) {\r\n            this.insertItemInDOM(item);\r\n        }\r\n        else {\r\n            this.removeItemFromDOM(item);\r\n        }\r\n    };\r\n    // DOM Events\r\n    TreeView.prototype.onClick = function (e) {\r\n        if (this.lastPointerType && this.lastPointerType !== 'mouse') {\r\n            return;\r\n        }\r\n        var event = new Mouse.StandardMouseEvent(e);\r\n        var item = this.getItemAround(event.target);\r\n        if (!item) {\r\n            return;\r\n        }\r\n        if (Browser.isIE && Date.now() - this.lastClickTimeStamp < 300) {\r\n            // IE10+ doesn't set the detail property correctly. While IE10 simply\r\n            // counts the number of clicks, IE11 reports always 1. To align with\r\n            // other browser, we set the value to 2 if clicks events come in a 300ms\r\n            // sequence.\r\n            event.detail = 2;\r\n        }\r\n        this.lastClickTimeStamp = Date.now();\r\n        this.context.controller.onClick(this.context.tree, item.model.getElement(), event);\r\n    };\r\n    TreeView.prototype.onMouseMiddleClick = function (e) {\r\n        if (!this.context.controller.onMouseMiddleClick) {\r\n            return;\r\n        }\r\n        var event = new Mouse.StandardMouseEvent(e);\r\n        var item = this.getItemAround(event.target);\r\n        if (!item) {\r\n            return;\r\n        }\r\n        this.context.controller.onMouseMiddleClick(this.context.tree, item.model.getElement(), event);\r\n    };\r\n    TreeView.prototype.onMouseDown = function (e) {\r\n        this.didJustPressContextMenuKey = false;\r\n        if (!this.context.controller.onMouseDown) {\r\n            return;\r\n        }\r\n        if (this.lastPointerType && this.lastPointerType !== 'mouse') {\r\n            return;\r\n        }\r\n        var event = new Mouse.StandardMouseEvent(e);\r\n        if (event.ctrlKey && Platform.isNative && Platform.isMacintosh) {\r\n            return;\r\n        }\r\n        var item = this.getItemAround(event.target);\r\n        if (!item) {\r\n            return;\r\n        }\r\n        this.context.controller.onMouseDown(this.context.tree, item.model.getElement(), event);\r\n    };\r\n    TreeView.prototype.onMouseUp = function (e) {\r\n        if (!this.context.controller.onMouseUp) {\r\n            return;\r\n        }\r\n        if (this.lastPointerType && this.lastPointerType !== 'mouse') {\r\n            return;\r\n        }\r\n        var event = new Mouse.StandardMouseEvent(e);\r\n        if (event.ctrlKey && Platform.isNative && Platform.isMacintosh) {\r\n            return;\r\n        }\r\n        var item = this.getItemAround(event.target);\r\n        if (!item) {\r\n            return;\r\n        }\r\n        this.context.controller.onMouseUp(this.context.tree, item.model.getElement(), event);\r\n    };\r\n    TreeView.prototype.onTap = function (e) {\r\n        var item = this.getItemAround(e.initialTarget);\r\n        if (!item) {\r\n            return;\r\n        }\r\n        this.context.controller.onTap(this.context.tree, item.model.getElement(), e);\r\n    };\r\n    TreeView.prototype.onTouchChange = function (event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        this.scrollTop -= event.translationY;\r\n    };\r\n    TreeView.prototype.onContextMenu = function (event) {\r\n        var resultEvent;\r\n        var element;\r\n        if (event instanceof KeyboardEvent || this.didJustPressContextMenuKey) {\r\n            this.didJustPressContextMenuKey = false;\r\n            var keyboardEvent = new Keyboard.StandardKeyboardEvent(event);\r\n            element = this.model.getFocus();\r\n            var position = void 0;\r\n            if (!element) {\r\n                element = this.model.getInput();\r\n                position = DOM.getDomNodePagePosition(this.inputItem.element);\r\n            }\r\n            else {\r\n                var id = this.context.dataSource.getId(this.context.tree, element);\r\n                var viewItem = this.items[id];\r\n                position = DOM.getDomNodePagePosition(viewItem.element);\r\n            }\r\n            resultEvent = new _.KeyboardContextMenuEvent(position.left + position.width, position.top, keyboardEvent);\r\n        }\r\n        else {\r\n            var mouseEvent = new Mouse.StandardMouseEvent(event);\r\n            var item = this.getItemAround(mouseEvent.target);\r\n            if (!item) {\r\n                return;\r\n            }\r\n            element = item.model.getElement();\r\n            resultEvent = new _.MouseContextMenuEvent(mouseEvent);\r\n        }\r\n        this.context.controller.onContextMenu(this.context.tree, element, resultEvent);\r\n    };\r\n    TreeView.prototype.onKeyDown = function (e) {\r\n        var event = new Keyboard.StandardKeyboardEvent(e);\r\n        this.didJustPressContextMenuKey = event.keyCode === 58 /* ContextMenu */ || (event.shiftKey && event.keyCode === 68 /* F10 */);\r\n        if (event.target && event.target.tagName && event.target.tagName.toLowerCase() === 'input') {\r\n            return; // Ignore event if target is a form input field (avoids browser specific issues)\r\n        }\r\n        if (this.didJustPressContextMenuKey) {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n        }\r\n        this.context.controller.onKeyDown(this.context.tree, event);\r\n    };\r\n    TreeView.prototype.onKeyUp = function (e) {\r\n        if (this.didJustPressContextMenuKey) {\r\n            this.onContextMenu(e);\r\n        }\r\n        this.didJustPressContextMenuKey = false;\r\n        this.context.controller.onKeyUp(this.context.tree, new Keyboard.StandardKeyboardEvent(e));\r\n    };\r\n    TreeView.prototype.onDragStart = function (item, e) {\r\n        if (this.model.getHighlight()) {\r\n            return;\r\n        }\r\n        var element = item.model.getElement();\r\n        var selection = this.model.getSelection();\r\n        var elements;\r\n        if (selection.indexOf(element) > -1) {\r\n            elements = selection;\r\n        }\r\n        else {\r\n            elements = [element];\r\n        }\r\n        e.dataTransfer.effectAllowed = 'copyMove';\r\n        e.dataTransfer.setData(DataTransfers.RESOURCES, JSON.stringify([item.uri]));\r\n        if (e.dataTransfer.setDragImage) {\r\n            var label = void 0;\r\n            if (this.context.dnd.getDragLabel) {\r\n                label = this.context.dnd.getDragLabel(this.context.tree, elements);\r\n            }\r\n            else {\r\n                label = String(elements.length);\r\n            }\r\n            var dragImage_1 = document.createElement('div');\r\n            dragImage_1.className = 'monaco-tree-drag-image';\r\n            dragImage_1.textContent = label;\r\n            document.body.appendChild(dragImage_1);\r\n            e.dataTransfer.setDragImage(dragImage_1, -10, -10);\r\n            setTimeout(function () { return document.body.removeChild(dragImage_1); }, 0);\r\n        }\r\n        this.currentDragAndDropData = new dnd.ElementsDragAndDropData(elements);\r\n        StaticDND.CurrentDragAndDropData = new dnd.ExternalElementsDragAndDropData(elements);\r\n        this.context.dnd.onDragStart(this.context.tree, this.currentDragAndDropData, new Mouse.DragMouseEvent(e));\r\n    };\r\n    TreeView.prototype.setupDragAndDropScrollInterval = function () {\r\n        var _this = this;\r\n        var viewTop = DOM.getTopLeftOffset(this.wrapper).top;\r\n        if (!this.dragAndDropScrollInterval) {\r\n            this.dragAndDropScrollInterval = window.setInterval(function () {\r\n                if (_this.dragAndDropMouseY === null) {\r\n                    return;\r\n                }\r\n                var diff = _this.dragAndDropMouseY - viewTop;\r\n                var scrollDiff = 0;\r\n                var upperLimit = _this.viewHeight - 35;\r\n                if (diff < 35) {\r\n                    scrollDiff = Math.max(-14, 0.2 * (diff - 35));\r\n                }\r\n                else if (diff > upperLimit) {\r\n                    scrollDiff = Math.min(14, 0.2 * (diff - upperLimit));\r\n                }\r\n                _this.scrollTop += scrollDiff;\r\n            }, 10);\r\n            this.cancelDragAndDropScrollTimeout();\r\n            this.dragAndDropScrollTimeout = window.setTimeout(function () {\r\n                _this.cancelDragAndDropScrollInterval();\r\n                _this.dragAndDropScrollTimeout = null;\r\n            }, 1000);\r\n        }\r\n    };\r\n    TreeView.prototype.cancelDragAndDropScrollInterval = function () {\r\n        if (this.dragAndDropScrollInterval) {\r\n            window.clearInterval(this.dragAndDropScrollInterval);\r\n            this.dragAndDropScrollInterval = null;\r\n        }\r\n        this.cancelDragAndDropScrollTimeout();\r\n    };\r\n    TreeView.prototype.cancelDragAndDropScrollTimeout = function () {\r\n        if (this.dragAndDropScrollTimeout) {\r\n            window.clearTimeout(this.dragAndDropScrollTimeout);\r\n            this.dragAndDropScrollTimeout = null;\r\n        }\r\n    };\r\n    TreeView.prototype.onDragOver = function (e) {\r\n        var _this = this;\r\n        e.preventDefault(); // needed so that the drop event fires (https://stackoverflow.com/questions/21339924/drop-event-not-firing-in-chrome)\r\n        var event = new Mouse.DragMouseEvent(e);\r\n        var viewItem = this.getItemAround(event.target);\r\n        if (!viewItem || (event.posx === 0 && event.posy === 0 && event.browserEvent.type === DOM.EventType.DRAG_LEAVE)) {\r\n            // dragging outside of tree\r\n            if (this.currentDropTarget) {\r\n                // clear previously hovered element feedback\r\n                this.currentDropTargets.forEach(function (i) { return i.dropTarget = false; });\r\n                this.currentDropTargets = [];\r\n                this.currentDropDisposable.dispose();\r\n            }\r\n            this.cancelDragAndDropScrollInterval();\r\n            this.currentDropTarget = null;\r\n            this.currentDropElement = null;\r\n            this.dragAndDropMouseY = null;\r\n            return false;\r\n        }\r\n        // dragging inside the tree\r\n        this.setupDragAndDropScrollInterval();\r\n        this.dragAndDropMouseY = event.posy;\r\n        if (!this.currentDragAndDropData) {\r\n            // just started dragging\r\n            if (StaticDND.CurrentDragAndDropData) {\r\n                this.currentDragAndDropData = StaticDND.CurrentDragAndDropData;\r\n            }\r\n            else {\r\n                if (!event.dataTransfer.types) {\r\n                    return false;\r\n                }\r\n                this.currentDragAndDropData = new dnd.DesktopDragAndDropData();\r\n            }\r\n        }\r\n        this.currentDragAndDropData.update(event.browserEvent.dataTransfer);\r\n        var element;\r\n        var item = viewItem.model;\r\n        var reaction;\r\n        // check the bubble up behavior\r\n        do {\r\n            element = item ? item.getElement() : this.model.getInput();\r\n            reaction = this.context.dnd.onDragOver(this.context.tree, this.currentDragAndDropData, element, event);\r\n            if (!reaction || reaction.bubble !== 1 /* BUBBLE_UP */) {\r\n                break;\r\n            }\r\n            item = item && item.parent;\r\n        } while (item);\r\n        if (!item) {\r\n            this.currentDropElement = null;\r\n            return false;\r\n        }\r\n        var canDrop = reaction && reaction.accept;\r\n        if (canDrop) {\r\n            this.currentDropElement = item.getElement();\r\n            event.preventDefault();\r\n            event.dataTransfer.dropEffect = reaction.effect === 0 /* COPY */ ? 'copy' : 'move';\r\n        }\r\n        else {\r\n            this.currentDropElement = null;\r\n        }\r\n        // item is the model item where drop() should be called\r\n        // can be null\r\n        var currentDropTarget = item.id === this.inputItem.id ? this.inputItem : this.items[item.id];\r\n        if (this.shouldInvalidateDropReaction || this.currentDropTarget !== currentDropTarget || !reactionEquals(this.currentDropElementReaction, reaction)) {\r\n            this.shouldInvalidateDropReaction = false;\r\n            if (this.currentDropTarget) {\r\n                this.currentDropTargets.forEach(function (i) { return i.dropTarget = false; });\r\n                this.currentDropTargets = [];\r\n                this.currentDropDisposable.dispose();\r\n            }\r\n            this.currentDropTarget = currentDropTarget;\r\n            this.currentDropElementReaction = reaction;\r\n            if (canDrop) {\r\n                // setup hover feedback for drop target\r\n                if (this.currentDropTarget) {\r\n                    this.currentDropTarget.dropTarget = true;\r\n                    this.currentDropTargets.push(this.currentDropTarget);\r\n                }\r\n                if (reaction.bubble === 0 /* BUBBLE_DOWN */) {\r\n                    var nav = item.getNavigator();\r\n                    var child = void 0;\r\n                    while (child = nav.next()) {\r\n                        viewItem = this.items[child.id];\r\n                        if (viewItem) {\r\n                            viewItem.dropTarget = true;\r\n                            this.currentDropTargets.push(viewItem);\r\n                        }\r\n                    }\r\n                }\r\n                if (reaction.autoExpand) {\r\n                    var timeoutPromise_1 = timeout(500);\r\n                    this.currentDropDisposable = Lifecycle.toDisposable(function () { return timeoutPromise_1.cancel(); });\r\n                    timeoutPromise_1\r\n                        .then(function () { return _this.context.tree.expand(_this.currentDropElement); })\r\n                        .then(function () { return _this.shouldInvalidateDropReaction = true; });\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    TreeView.prototype.onDrop = function (e) {\r\n        if (this.currentDropElement) {\r\n            var event_1 = new Mouse.DragMouseEvent(e);\r\n            event_1.preventDefault();\r\n            this.currentDragAndDropData.update(event_1.browserEvent.dataTransfer);\r\n            this.context.dnd.drop(this.context.tree, this.currentDragAndDropData, this.currentDropElement, event_1);\r\n            this.onDragEnd(e);\r\n        }\r\n        this.cancelDragAndDropScrollInterval();\r\n    };\r\n    TreeView.prototype.onDragEnd = function (e) {\r\n        if (this.currentDropTarget) {\r\n            this.currentDropTargets.forEach(function (i) { return i.dropTarget = false; });\r\n            this.currentDropTargets = [];\r\n        }\r\n        this.currentDropDisposable.dispose();\r\n        this.cancelDragAndDropScrollInterval();\r\n        this.currentDragAndDropData = null;\r\n        StaticDND.CurrentDragAndDropData = undefined;\r\n        this.currentDropElement = null;\r\n        this.currentDropTarget = null;\r\n        this.dragAndDropMouseY = null;\r\n    };\r\n    TreeView.prototype.onFocus = function () {\r\n        if (!this.context.options.alwaysFocused) {\r\n            DOM.addClass(this.domNode, 'focused');\r\n        }\r\n        this._onDOMFocus.fire();\r\n    };\r\n    TreeView.prototype.onBlur = function () {\r\n        if (!this.context.options.alwaysFocused) {\r\n            DOM.removeClass(this.domNode, 'focused');\r\n        }\r\n        this.domNode.removeAttribute('aria-activedescendant'); // ARIA\r\n        this._onDOMBlur.fire();\r\n    };\r\n    // MS specific DOM Events\r\n    TreeView.prototype.onMsPointerDown = function (event) {\r\n        if (!this.msGesture) {\r\n            return;\r\n        }\r\n        // Circumvent IE11 breaking change in e.pointerType & TypeScript's stale definitions\r\n        var pointerType = event.pointerType;\r\n        if (pointerType === (event.MSPOINTER_TYPE_MOUSE || 'mouse')) {\r\n            this.lastPointerType = 'mouse';\r\n            return;\r\n        }\r\n        else if (pointerType === (event.MSPOINTER_TYPE_TOUCH || 'touch')) {\r\n            this.lastPointerType = 'touch';\r\n        }\r\n        else {\r\n            return;\r\n        }\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n        this.msGesture.addPointer(event.pointerId);\r\n    };\r\n    TreeView.prototype.onThrottledMsGestureChange = function (event) {\r\n        this.scrollTop -= event.translationY;\r\n    };\r\n    TreeView.prototype.onMsGestureTap = function (event) {\r\n        event.initialTarget = document.elementFromPoint(event.clientX, event.clientY);\r\n        this.onTap(event);\r\n    };\r\n    // DOM changes\r\n    TreeView.prototype.insertItemInDOM = function (item) {\r\n        var elementAfter = null;\r\n        var itemAfter = this.itemAfter(item);\r\n        if (itemAfter && itemAfter.element) {\r\n            elementAfter = itemAfter.element;\r\n        }\r\n        item.insertInDOM(this.rowsContainer, elementAfter);\r\n    };\r\n    TreeView.prototype.removeItemFromDOM = function (item) {\r\n        if (!item) {\r\n            return;\r\n        }\r\n        item.removeFromDOM();\r\n    };\r\n    // Helpers\r\n    TreeView.prototype.shouldBeRendered = function (item) {\r\n        return item.top < this.lastRenderTop + this.lastRenderHeight && item.top + item.height > this.lastRenderTop;\r\n    };\r\n    TreeView.prototype.getItemAround = function (element) {\r\n        var candidate = this.inputItem;\r\n        var el = element;\r\n        do {\r\n            if (el[TreeView.BINDING]) {\r\n                candidate = el[TreeView.BINDING];\r\n            }\r\n            if (el === this.wrapper || el === this.domNode) {\r\n                return candidate;\r\n            }\r\n            if (el === this.scrollableElement.getDomNode() || el === document.body) {\r\n                return undefined;\r\n            }\r\n        } while (el = el.parentElement);\r\n        return undefined;\r\n    };\r\n    // Cleanup\r\n    TreeView.prototype.releaseModel = function () {\r\n        if (this.model) {\r\n            this.modelListeners = Lifecycle.dispose(this.modelListeners);\r\n            this.model = null;\r\n        }\r\n    };\r\n    TreeView.prototype.dispose = function () {\r\n        var _this = this;\r\n        // TODO@joao: improve\r\n        this.scrollableElement.dispose();\r\n        this.releaseModel();\r\n        this.viewListeners = Lifecycle.dispose(this.viewListeners);\r\n        this._onDOMFocus.dispose();\r\n        this._onDOMBlur.dispose();\r\n        if (this.domNode.parentNode) {\r\n            this.domNode.parentNode.removeChild(this.domNode);\r\n        }\r\n        if (this.items) {\r\n            Object.keys(this.items).forEach(function (key) { return _this.items[key].removeFromDOM(); });\r\n        }\r\n        if (this.context.cache) {\r\n            this.context.cache.dispose();\r\n        }\r\n        this.gestureDisposable.dispose();\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    TreeView.BINDING = 'monaco-tree-row';\r\n    TreeView.LOADING_DECORATION_DELAY = 800;\r\n    TreeView.counter = 0;\r\n    return TreeView;\r\n}(HeightMap));\r\nexport { TreeView };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nimport './tree.css';\r\nimport * as TreeDefaults from './treeDefaults.js';\r\nimport * as Model from './treeModel.js';\r\nimport * as View from './treeView.js';\r\nimport { Emitter, Relay } from '../../../common/event.js';\r\nimport { Color } from '../../../common/color.js';\r\nimport { mixin } from '../../../common/objects.js';\r\nvar TreeContext = /** @class */ (function () {\r\n    function TreeContext(tree, configuration, options) {\r\n        if (options === void 0) { options = {}; }\r\n        this.tree = tree;\r\n        this.configuration = configuration;\r\n        this.options = options;\r\n        if (!configuration.dataSource) {\r\n            throw new Error('You must provide a Data Source to the tree.');\r\n        }\r\n        this.dataSource = configuration.dataSource;\r\n        this.renderer = configuration.renderer;\r\n        this.controller = configuration.controller || new TreeDefaults.DefaultController({ clickBehavior: 1 /* ON_MOUSE_UP */, keyboardSupport: typeof options.keyboardSupport !== 'boolean' || options.keyboardSupport });\r\n        this.dnd = configuration.dnd || new TreeDefaults.DefaultDragAndDrop();\r\n        this.filter = configuration.filter || new TreeDefaults.DefaultFilter();\r\n        this.sorter = configuration.sorter;\r\n        this.accessibilityProvider = configuration.accessibilityProvider || new TreeDefaults.DefaultAccessibilityProvider();\r\n        this.styler = configuration.styler;\r\n    }\r\n    return TreeContext;\r\n}());\r\nexport { TreeContext };\r\nvar defaultStyles = {\r\n    listFocusBackground: Color.fromHex('#073655'),\r\n    listActiveSelectionBackground: Color.fromHex('#0E639C'),\r\n    listActiveSelectionForeground: Color.fromHex('#FFFFFF'),\r\n    listFocusAndSelectionBackground: Color.fromHex('#094771'),\r\n    listFocusAndSelectionForeground: Color.fromHex('#FFFFFF'),\r\n    listInactiveSelectionBackground: Color.fromHex('#3F3F46'),\r\n    listHoverBackground: Color.fromHex('#2A2D2E'),\r\n    listDropBackground: Color.fromHex('#383B3D')\r\n};\r\nvar Tree = /** @class */ (function () {\r\n    function Tree(container, configuration, options) {\r\n        if (options === void 0) { options = {}; }\r\n        this._onDidChangeFocus = new Relay();\r\n        this.onDidChangeFocus = this._onDidChangeFocus.event;\r\n        this._onDidChangeSelection = new Relay();\r\n        this.onDidChangeSelection = this._onDidChangeSelection.event;\r\n        this._onHighlightChange = new Relay();\r\n        this._onDidExpandItem = new Relay();\r\n        this._onDidCollapseItem = new Relay();\r\n        this._onDispose = new Emitter();\r\n        this.onDidDispose = this._onDispose.event;\r\n        this.container = container;\r\n        mixin(options, defaultStyles, false);\r\n        options.twistiePixels = typeof options.twistiePixels === 'number' ? options.twistiePixels : 32;\r\n        options.showTwistie = options.showTwistie === false ? false : true;\r\n        options.indentPixels = typeof options.indentPixels === 'number' ? options.indentPixels : 12;\r\n        options.alwaysFocused = options.alwaysFocused === true ? true : false;\r\n        options.useShadows = options.useShadows === false ? false : true;\r\n        options.paddingOnRow = options.paddingOnRow === false ? false : true;\r\n        options.showLoading = options.showLoading === false ? false : true;\r\n        this.context = new TreeContext(this, configuration, options);\r\n        this.model = new Model.TreeModel(this.context);\r\n        this.view = new View.TreeView(this.context, this.container);\r\n        this.view.setModel(this.model);\r\n        this._onDidChangeFocus.input = this.model.onDidFocus;\r\n        this._onDidChangeSelection.input = this.model.onDidSelect;\r\n        this._onHighlightChange.input = this.model.onDidHighlight;\r\n        this._onDidExpandItem.input = this.model.onDidExpandItem;\r\n        this._onDidCollapseItem.input = this.model.onDidCollapseItem;\r\n    }\r\n    Tree.prototype.style = function (styles) {\r\n        this.view.applyStyles(styles);\r\n    };\r\n    Object.defineProperty(Tree.prototype, \"onDidFocus\", {\r\n        get: function () {\r\n            return this.view.onDOMFocus;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Tree.prototype.getHTMLElement = function () {\r\n        return this.view.getHTMLElement();\r\n    };\r\n    Tree.prototype.layout = function (height, width) {\r\n        this.view.layout(height, width);\r\n    };\r\n    Tree.prototype.domFocus = function () {\r\n        this.view.focus();\r\n    };\r\n    Tree.prototype.isDOMFocused = function () {\r\n        return this.view.isFocused();\r\n    };\r\n    Tree.prototype.domBlur = function () {\r\n        this.view.blur();\r\n    };\r\n    Tree.prototype.setInput = function (element) {\r\n        return this.model.setInput(element);\r\n    };\r\n    Tree.prototype.getInput = function () {\r\n        return this.model.getInput();\r\n    };\r\n    Tree.prototype.expand = function (element) {\r\n        return this.model.expand(element);\r\n    };\r\n    Tree.prototype.collapse = function (element, recursive) {\r\n        if (recursive === void 0) { recursive = false; }\r\n        return this.model.collapse(element, recursive);\r\n    };\r\n    Tree.prototype.toggleExpansion = function (element, recursive) {\r\n        if (recursive === void 0) { recursive = false; }\r\n        return this.model.toggleExpansion(element, recursive);\r\n    };\r\n    Tree.prototype.isExpanded = function (element) {\r\n        return this.model.isExpanded(element);\r\n    };\r\n    Tree.prototype.reveal = function (element, relativeTop) {\r\n        if (relativeTop === void 0) { relativeTop = null; }\r\n        return this.model.reveal(element, relativeTop);\r\n    };\r\n    Tree.prototype.getHighlight = function () {\r\n        return this.model.getHighlight();\r\n    };\r\n    Tree.prototype.clearHighlight = function (eventPayload) {\r\n        this.model.setHighlight(null, eventPayload);\r\n    };\r\n    Tree.prototype.setSelection = function (elements, eventPayload) {\r\n        this.model.setSelection(elements, eventPayload);\r\n    };\r\n    Tree.prototype.getSelection = function () {\r\n        return this.model.getSelection();\r\n    };\r\n    Tree.prototype.clearSelection = function (eventPayload) {\r\n        this.model.setSelection([], eventPayload);\r\n    };\r\n    Tree.prototype.setFocus = function (element, eventPayload) {\r\n        this.model.setFocus(element, eventPayload);\r\n    };\r\n    Tree.prototype.getFocus = function () {\r\n        return this.model.getFocus();\r\n    };\r\n    Tree.prototype.focusNext = function (count, eventPayload) {\r\n        this.model.focusNext(count, eventPayload);\r\n    };\r\n    Tree.prototype.focusPrevious = function (count, eventPayload) {\r\n        this.model.focusPrevious(count, eventPayload);\r\n    };\r\n    Tree.prototype.focusParent = function (eventPayload) {\r\n        this.model.focusParent(eventPayload);\r\n    };\r\n    Tree.prototype.focusFirstChild = function (eventPayload) {\r\n        this.model.focusFirstChild(eventPayload);\r\n    };\r\n    Tree.prototype.focusFirst = function (eventPayload, from) {\r\n        this.model.focusFirst(eventPayload, from);\r\n    };\r\n    Tree.prototype.focusNth = function (index, eventPayload) {\r\n        this.model.focusNth(index, eventPayload);\r\n    };\r\n    Tree.prototype.focusLast = function (eventPayload, from) {\r\n        this.model.focusLast(eventPayload, from);\r\n    };\r\n    Tree.prototype.focusNextPage = function (eventPayload) {\r\n        this.view.focusNextPage(eventPayload);\r\n    };\r\n    Tree.prototype.focusPreviousPage = function (eventPayload) {\r\n        this.view.focusPreviousPage(eventPayload);\r\n    };\r\n    Tree.prototype.clearFocus = function (eventPayload) {\r\n        this.model.setFocus(null, eventPayload);\r\n    };\r\n    Tree.prototype.dispose = function () {\r\n        this._onDispose.fire();\r\n        this.model.dispose();\r\n        this.view.dispose();\r\n        this._onDidChangeFocus.dispose();\r\n        this._onDidChangeSelection.dispose();\r\n        this._onHighlightChange.dispose();\r\n        this._onDidExpandItem.dispose();\r\n        this._onDidCollapseItem.dispose();\r\n        this._onDispose.dispose();\r\n    };\r\n    return Tree;\r\n}());\r\nexport { Tree };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport './quickopen.css';\r\nimport * as nls from '../../../../nls.js';\r\nimport * as platform from '../../../common/platform.js';\r\nimport * as types from '../../../common/types.js';\r\nimport { Filter, Renderer, DataSource, AccessibilityProvider } from './quickOpenViewer.js';\r\nimport { InputBox } from '../../../browser/ui/inputbox/inputBox.js';\r\nimport { Tree } from '../../tree/browser/treeImpl.js';\r\nimport { ProgressBar } from '../../../browser/ui/progressbar/progressbar.js';\r\nimport { StandardKeyboardEvent } from '../../../browser/keyboardEvent.js';\r\nimport { DefaultController } from '../../tree/browser/treeDefaults.js';\r\nimport * as DOM from '../../../browser/dom.js';\r\nimport { Disposable } from '../../../common/lifecycle.js';\r\nimport { Color } from '../../../common/color.js';\r\nimport { mixin } from '../../../common/objects.js';\r\nimport { StandardMouseEvent } from '../../../browser/mouseEvent.js';\r\nvar QuickOpenController = /** @class */ (function (_super) {\r\n    __extends(QuickOpenController, _super);\r\n    function QuickOpenController() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    QuickOpenController.prototype.onContextMenu = function (tree, element, event) {\r\n        if (platform.isMacintosh) {\r\n            return this.onLeftClick(tree, element, event); // https://github.com/Microsoft/vscode/issues/1011\r\n        }\r\n        return _super.prototype.onContextMenu.call(this, tree, element, event);\r\n    };\r\n    return QuickOpenController;\r\n}(DefaultController));\r\nexport { QuickOpenController };\r\nvar defaultStyles = {\r\n    background: Color.fromHex('#1E1E1E'),\r\n    foreground: Color.fromHex('#CCCCCC'),\r\n    pickerGroupForeground: Color.fromHex('#0097FB'),\r\n    pickerGroupBorder: Color.fromHex('#3F3F46'),\r\n    widgetShadow: Color.fromHex('#000000'),\r\n    progressBarBackground: Color.fromHex('#0E70C0')\r\n};\r\nvar DEFAULT_INPUT_ARIA_LABEL = nls.localize('quickOpenAriaLabel', \"Quick picker. Type to narrow down results.\");\r\nvar QuickOpenWidget = /** @class */ (function (_super) {\r\n    __extends(QuickOpenWidget, _super);\r\n    function QuickOpenWidget(container, callbacks, options) {\r\n        var _this = _super.call(this) || this;\r\n        _this.isDisposed = false;\r\n        _this.container = container;\r\n        _this.callbacks = callbacks;\r\n        _this.options = options;\r\n        _this.styles = options || Object.create(null);\r\n        mixin(_this.styles, defaultStyles, false);\r\n        _this.model = null;\r\n        return _this;\r\n    }\r\n    QuickOpenWidget.prototype.getModel = function () {\r\n        return this.model;\r\n    };\r\n    QuickOpenWidget.prototype.create = function () {\r\n        var _this = this;\r\n        // Container\r\n        this.element = document.createElement('div');\r\n        DOM.addClass(this.element, 'monaco-quick-open-widget');\r\n        this.container.appendChild(this.element);\r\n        this._register(DOM.addDisposableListener(this.element, DOM.EventType.CONTEXT_MENU, function (e) { return DOM.EventHelper.stop(e, true); })); // Do this to fix an issue on Mac where the menu goes into the way\r\n        this._register(DOM.addDisposableListener(this.element, DOM.EventType.FOCUS, function (e) { return _this.gainingFocus(); }, true));\r\n        this._register(DOM.addDisposableListener(this.element, DOM.EventType.BLUR, function (e) { return _this.loosingFocus(e); }, true));\r\n        this._register(DOM.addDisposableListener(this.element, DOM.EventType.KEY_DOWN, function (e) {\r\n            var keyboardEvent = new StandardKeyboardEvent(e);\r\n            if (keyboardEvent.keyCode === 9 /* Escape */) {\r\n                DOM.EventHelper.stop(e, true);\r\n                _this.hide(2 /* CANCELED */);\r\n            }\r\n            else if (keyboardEvent.keyCode === 2 /* Tab */ && !keyboardEvent.altKey && !keyboardEvent.ctrlKey && !keyboardEvent.metaKey) {\r\n                var stops = e.currentTarget.querySelectorAll('input, .monaco-tree, .monaco-tree-row.focused .action-label.icon');\r\n                if (keyboardEvent.shiftKey && keyboardEvent.target === stops[0]) {\r\n                    DOM.EventHelper.stop(e, true);\r\n                    stops[stops.length - 1].focus();\r\n                }\r\n                else if (!keyboardEvent.shiftKey && keyboardEvent.target === stops[stops.length - 1]) {\r\n                    DOM.EventHelper.stop(e, true);\r\n                    stops[0].focus();\r\n                }\r\n            }\r\n        }));\r\n        // Progress Bar\r\n        this.progressBar = this._register(new ProgressBar(this.element, { progressBarBackground: this.styles.progressBarBackground }));\r\n        this.progressBar.hide();\r\n        // Input Field\r\n        this.inputContainer = document.createElement('div');\r\n        DOM.addClass(this.inputContainer, 'quick-open-input');\r\n        this.element.appendChild(this.inputContainer);\r\n        this.inputBox = this._register(new InputBox(this.inputContainer, undefined, {\r\n            placeholder: this.options.inputPlaceHolder || '',\r\n            ariaLabel: DEFAULT_INPUT_ARIA_LABEL,\r\n            inputBackground: this.styles.inputBackground,\r\n            inputForeground: this.styles.inputForeground,\r\n            inputBorder: this.styles.inputBorder,\r\n            inputValidationInfoBackground: this.styles.inputValidationInfoBackground,\r\n            inputValidationInfoForeground: this.styles.inputValidationInfoForeground,\r\n            inputValidationInfoBorder: this.styles.inputValidationInfoBorder,\r\n            inputValidationWarningBackground: this.styles.inputValidationWarningBackground,\r\n            inputValidationWarningForeground: this.styles.inputValidationWarningForeground,\r\n            inputValidationWarningBorder: this.styles.inputValidationWarningBorder,\r\n            inputValidationErrorBackground: this.styles.inputValidationErrorBackground,\r\n            inputValidationErrorForeground: this.styles.inputValidationErrorForeground,\r\n            inputValidationErrorBorder: this.styles.inputValidationErrorBorder\r\n        }));\r\n        this.inputElement = this.inputBox.inputElement;\r\n        this.inputElement.setAttribute('role', 'combobox');\r\n        this.inputElement.setAttribute('aria-haspopup', 'false');\r\n        this.inputElement.setAttribute('aria-autocomplete', 'list');\r\n        this._register(DOM.addDisposableListener(this.inputBox.inputElement, DOM.EventType.INPUT, function (e) { return _this.onType(); }));\r\n        this._register(DOM.addDisposableListener(this.inputBox.inputElement, DOM.EventType.KEY_DOWN, function (e) {\r\n            var keyboardEvent = new StandardKeyboardEvent(e);\r\n            var shouldOpenInBackground = _this.shouldOpenInBackground(keyboardEvent);\r\n            // Do not handle Tab: It is used to navigate between elements without mouse\r\n            if (keyboardEvent.keyCode === 2 /* Tab */) {\r\n                return;\r\n            }\r\n            // Pass tree navigation keys to the tree but leave focus in input field\r\n            else if (keyboardEvent.keyCode === 18 /* DownArrow */ || keyboardEvent.keyCode === 16 /* UpArrow */ || keyboardEvent.keyCode === 12 /* PageDown */ || keyboardEvent.keyCode === 11 /* PageUp */) {\r\n                DOM.EventHelper.stop(e, true);\r\n                _this.navigateInTree(keyboardEvent.keyCode, keyboardEvent.shiftKey);\r\n                // Position cursor at the end of input to allow right arrow (open in background)\r\n                // to function immediately unless the user has made a selection\r\n                if (_this.inputBox.inputElement.selectionStart === _this.inputBox.inputElement.selectionEnd) {\r\n                    _this.inputBox.inputElement.selectionStart = _this.inputBox.value.length;\r\n                }\r\n            }\r\n            // Select element on Enter or on Arrow-Right if we are at the end of the input\r\n            else if (keyboardEvent.keyCode === 3 /* Enter */ || shouldOpenInBackground) {\r\n                DOM.EventHelper.stop(e, true);\r\n                var focus_1 = _this.tree.getFocus();\r\n                if (focus_1) {\r\n                    _this.elementSelected(focus_1, e, shouldOpenInBackground ? 2 /* OPEN_IN_BACKGROUND */ : 1 /* OPEN */);\r\n                }\r\n            }\r\n        }));\r\n        // Result count for screen readers\r\n        this.resultCount = document.createElement('div');\r\n        DOM.addClass(this.resultCount, 'quick-open-result-count');\r\n        this.resultCount.setAttribute('aria-live', 'polite');\r\n        this.resultCount.setAttribute('aria-atomic', 'true');\r\n        this.element.appendChild(this.resultCount);\r\n        // Tree\r\n        this.treeContainer = document.createElement('div');\r\n        DOM.addClass(this.treeContainer, 'quick-open-tree');\r\n        this.element.appendChild(this.treeContainer);\r\n        var createTree = this.options.treeCreator || (function (container, config, opts) { return new Tree(container, config, opts); });\r\n        this.tree = this._register(createTree(this.treeContainer, {\r\n            dataSource: new DataSource(this),\r\n            controller: new QuickOpenController({ clickBehavior: 1 /* ON_MOUSE_UP */, keyboardSupport: this.options.keyboardSupport }),\r\n            renderer: (this.renderer = new Renderer(this, this.styles)),\r\n            filter: new Filter(this),\r\n            accessibilityProvider: new AccessibilityProvider(this)\r\n        }, {\r\n            twistiePixels: 11,\r\n            indentPixels: 0,\r\n            alwaysFocused: true,\r\n            verticalScrollMode: 3 /* Visible */,\r\n            horizontalScrollMode: 2 /* Hidden */,\r\n            ariaLabel: nls.localize('treeAriaLabel', \"Quick Picker\"),\r\n            keyboardSupport: this.options.keyboardSupport,\r\n            preventRootFocus: false\r\n        }));\r\n        this.treeElement = this.tree.getHTMLElement();\r\n        // Handle Focus and Selection event\r\n        this._register(this.tree.onDidChangeFocus(function (event) {\r\n            _this.elementFocused(event.focus, event);\r\n        }));\r\n        this._register(this.tree.onDidChangeSelection(function (event) {\r\n            if (event.selection && event.selection.length > 0) {\r\n                var mouseEvent = event.payload && event.payload.originalEvent instanceof StandardMouseEvent ? event.payload.originalEvent : undefined;\r\n                var shouldOpenInBackground = mouseEvent ? _this.shouldOpenInBackground(mouseEvent) : false;\r\n                _this.elementSelected(event.selection[0], event, shouldOpenInBackground ? 2 /* OPEN_IN_BACKGROUND */ : 1 /* OPEN */);\r\n            }\r\n        }));\r\n        this._register(DOM.addDisposableListener(this.treeContainer, DOM.EventType.KEY_DOWN, function (e) {\r\n            var keyboardEvent = new StandardKeyboardEvent(e);\r\n            // Only handle when in quick navigation mode\r\n            if (!_this.quickNavigateConfiguration) {\r\n                return;\r\n            }\r\n            // Support keyboard navigation in quick navigation mode\r\n            if (keyboardEvent.keyCode === 18 /* DownArrow */ || keyboardEvent.keyCode === 16 /* UpArrow */ || keyboardEvent.keyCode === 12 /* PageDown */ || keyboardEvent.keyCode === 11 /* PageUp */) {\r\n                DOM.EventHelper.stop(e, true);\r\n                _this.navigateInTree(keyboardEvent.keyCode);\r\n            }\r\n            // Support to open item with Enter still even in quick nav mode\r\n            else if (keyboardEvent.keyCode === 3 /* Enter */) {\r\n                DOM.EventHelper.stop(e, true);\r\n                var focus_2 = _this.tree.getFocus();\r\n                if (focus_2) {\r\n                    _this.elementSelected(focus_2, e);\r\n                }\r\n            }\r\n        }));\r\n        this._register(DOM.addDisposableListener(this.treeContainer, DOM.EventType.KEY_UP, function (e) {\r\n            var keyboardEvent = new StandardKeyboardEvent(e);\r\n            var keyCode = keyboardEvent.keyCode;\r\n            // Only handle when in quick navigation mode\r\n            if (!_this.quickNavigateConfiguration) {\r\n                return;\r\n            }\r\n            // Select element when keys are pressed that signal it\r\n            var quickNavKeys = _this.quickNavigateConfiguration.keybindings;\r\n            var wasTriggerKeyPressed = quickNavKeys.some(function (k) {\r\n                var _a = k.getParts(), firstPart = _a[0], chordPart = _a[1];\r\n                if (chordPart) {\r\n                    return false;\r\n                }\r\n                if (firstPart.shiftKey && keyCode === 4 /* Shift */) {\r\n                    if (keyboardEvent.ctrlKey || keyboardEvent.altKey || keyboardEvent.metaKey) {\r\n                        return false; // this is an optimistic check for the shift key being used to navigate back in quick open\r\n                    }\r\n                    return true;\r\n                }\r\n                if (firstPart.altKey && keyCode === 6 /* Alt */) {\r\n                    return true;\r\n                }\r\n                if (firstPart.ctrlKey && keyCode === 5 /* Ctrl */) {\r\n                    return true;\r\n                }\r\n                if (firstPart.metaKey && keyCode === 57 /* Meta */) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            });\r\n            if (wasTriggerKeyPressed) {\r\n                var focus_3 = _this.tree.getFocus();\r\n                if (focus_3) {\r\n                    _this.elementSelected(focus_3, e);\r\n                }\r\n            }\r\n        }));\r\n        // Support layout\r\n        if (this.layoutDimensions) {\r\n            this.layout(this.layoutDimensions);\r\n        }\r\n        this.applyStyles();\r\n        // Allows focus to switch to next/previous entry after tab into an actionbar item\r\n        this._register(DOM.addDisposableListener(this.treeContainer, DOM.EventType.KEY_DOWN, function (e) {\r\n            var keyboardEvent = new StandardKeyboardEvent(e);\r\n            // Only handle when not in quick navigation mode\r\n            if (_this.quickNavigateConfiguration) {\r\n                return;\r\n            }\r\n            if (keyboardEvent.keyCode === 18 /* DownArrow */ || keyboardEvent.keyCode === 16 /* UpArrow */ || keyboardEvent.keyCode === 12 /* PageDown */ || keyboardEvent.keyCode === 11 /* PageUp */) {\r\n                DOM.EventHelper.stop(e, true);\r\n                _this.navigateInTree(keyboardEvent.keyCode, keyboardEvent.shiftKey);\r\n                _this.treeElement.focus();\r\n            }\r\n        }));\r\n        return this.element;\r\n    };\r\n    QuickOpenWidget.prototype.style = function (styles) {\r\n        this.styles = styles;\r\n        this.applyStyles();\r\n    };\r\n    QuickOpenWidget.prototype.applyStyles = function () {\r\n        if (this.element) {\r\n            var foreground = this.styles.foreground ? this.styles.foreground.toString() : '';\r\n            var background = this.styles.background ? this.styles.background.toString() : '';\r\n            var borderColor = this.styles.borderColor ? this.styles.borderColor.toString() : '';\r\n            var widgetShadow = this.styles.widgetShadow ? this.styles.widgetShadow.toString() : '';\r\n            this.element.style.color = foreground;\r\n            this.element.style.backgroundColor = background;\r\n            this.element.style.borderColor = borderColor;\r\n            this.element.style.borderWidth = borderColor ? '1px' : '';\r\n            this.element.style.borderStyle = borderColor ? 'solid' : '';\r\n            this.element.style.boxShadow = widgetShadow ? \"0 5px 8px \" + widgetShadow : '';\r\n        }\r\n        if (this.progressBar) {\r\n            this.progressBar.style({\r\n                progressBarBackground: this.styles.progressBarBackground\r\n            });\r\n        }\r\n        if (this.inputBox) {\r\n            this.inputBox.style({\r\n                inputBackground: this.styles.inputBackground,\r\n                inputForeground: this.styles.inputForeground,\r\n                inputBorder: this.styles.inputBorder,\r\n                inputValidationInfoBackground: this.styles.inputValidationInfoBackground,\r\n                inputValidationInfoForeground: this.styles.inputValidationInfoForeground,\r\n                inputValidationInfoBorder: this.styles.inputValidationInfoBorder,\r\n                inputValidationWarningBackground: this.styles.inputValidationWarningBackground,\r\n                inputValidationWarningForeground: this.styles.inputValidationWarningForeground,\r\n                inputValidationWarningBorder: this.styles.inputValidationWarningBorder,\r\n                inputValidationErrorBackground: this.styles.inputValidationErrorBackground,\r\n                inputValidationErrorForeground: this.styles.inputValidationErrorForeground,\r\n                inputValidationErrorBorder: this.styles.inputValidationErrorBorder\r\n            });\r\n        }\r\n        if (this.tree && !this.options.treeCreator) {\r\n            this.tree.style(this.styles);\r\n        }\r\n        if (this.renderer) {\r\n            this.renderer.updateStyles(this.styles);\r\n        }\r\n    };\r\n    QuickOpenWidget.prototype.shouldOpenInBackground = function (e) {\r\n        // Keyboard\r\n        if (e instanceof StandardKeyboardEvent) {\r\n            if (e.keyCode !== 17 /* RightArrow */) {\r\n                return false; // only for right arrow\r\n            }\r\n            if (e.metaKey || e.ctrlKey || e.shiftKey || e.altKey) {\r\n                return false; // no modifiers allowed\r\n            }\r\n            // validate the cursor is at the end of the input and there is no selection,\r\n            // and if not prevent opening in the background such as the selection can be changed\r\n            var element = this.inputBox.inputElement;\r\n            return element.selectionEnd === this.inputBox.value.length && element.selectionStart === element.selectionEnd;\r\n        }\r\n        // Mouse\r\n        return e.middleButton;\r\n    };\r\n    QuickOpenWidget.prototype.onType = function () {\r\n        var value = this.inputBox.value;\r\n        // Adjust help text as needed if present\r\n        if (this.helpText) {\r\n            if (value) {\r\n                DOM.hide(this.helpText);\r\n            }\r\n            else {\r\n                DOM.show(this.helpText);\r\n            }\r\n        }\r\n        // Send to callbacks\r\n        this.callbacks.onType(value);\r\n    };\r\n    QuickOpenWidget.prototype.navigateInTree = function (keyCode, isShift) {\r\n        var model = this.tree.getInput();\r\n        var entries = model ? model.entries : [];\r\n        var oldFocus = this.tree.getFocus();\r\n        // Normal Navigation\r\n        switch (keyCode) {\r\n            case 18 /* DownArrow */:\r\n                this.tree.focusNext();\r\n                break;\r\n            case 16 /* UpArrow */:\r\n                this.tree.focusPrevious();\r\n                break;\r\n            case 12 /* PageDown */:\r\n                this.tree.focusNextPage();\r\n                break;\r\n            case 11 /* PageUp */:\r\n                this.tree.focusPreviousPage();\r\n                break;\r\n            case 2 /* Tab */:\r\n                if (isShift) {\r\n                    this.tree.focusPrevious();\r\n                }\r\n                else {\r\n                    this.tree.focusNext();\r\n                }\r\n                break;\r\n        }\r\n        var newFocus = this.tree.getFocus();\r\n        // Support cycle-through navigation if focus did not change\r\n        if (entries.length > 1 && oldFocus === newFocus) {\r\n            // Up from no entry or first entry goes down to last\r\n            if (keyCode === 16 /* UpArrow */ || (keyCode === 2 /* Tab */ && isShift)) {\r\n                this.tree.focusLast();\r\n            }\r\n            // Down from last entry goes to up to first\r\n            else if (keyCode === 18 /* DownArrow */ || keyCode === 2 /* Tab */ && !isShift) {\r\n                this.tree.focusFirst();\r\n            }\r\n        }\r\n        // Reveal\r\n        newFocus = this.tree.getFocus();\r\n        if (newFocus) {\r\n            this.tree.reveal(newFocus);\r\n        }\r\n    };\r\n    QuickOpenWidget.prototype.elementFocused = function (value, event) {\r\n        if (!value || !this.isVisible()) {\r\n            return;\r\n        }\r\n        // ARIA\r\n        var arivaActiveDescendant = this.treeElement.getAttribute('aria-activedescendant');\r\n        if (arivaActiveDescendant) {\r\n            this.inputElement.setAttribute('aria-activedescendant', arivaActiveDescendant);\r\n        }\r\n        else {\r\n            this.inputElement.removeAttribute('aria-activedescendant');\r\n        }\r\n        var context = { event: event, keymods: this.extractKeyMods(event), quickNavigateConfiguration: this.quickNavigateConfiguration };\r\n        this.model.runner.run(value, 0 /* PREVIEW */, context);\r\n    };\r\n    QuickOpenWidget.prototype.elementSelected = function (value, event, preferredMode) {\r\n        var hide = true;\r\n        // Trigger open of element on selection\r\n        if (this.isVisible()) {\r\n            var mode = preferredMode || 1 /* OPEN */;\r\n            var context = { event: event, keymods: this.extractKeyMods(event), quickNavigateConfiguration: this.quickNavigateConfiguration };\r\n            hide = this.model.runner.run(value, mode, context);\r\n        }\r\n        // Hide if command was run successfully\r\n        if (hide) {\r\n            this.hide(0 /* ELEMENT_SELECTED */);\r\n        }\r\n    };\r\n    QuickOpenWidget.prototype.extractKeyMods = function (event) {\r\n        return {\r\n            ctrlCmd: event && (event.ctrlKey || event.metaKey || (event.payload && event.payload.originalEvent && (event.payload.originalEvent.ctrlKey || event.payload.originalEvent.metaKey))),\r\n            alt: event && (event.altKey || (event.payload && event.payload.originalEvent && event.payload.originalEvent.altKey))\r\n        };\r\n    };\r\n    QuickOpenWidget.prototype.show = function (param, options) {\r\n        this.visible = true;\r\n        this.isLoosingFocus = false;\r\n        this.quickNavigateConfiguration = options ? options.quickNavigateConfiguration : undefined;\r\n        // Adjust UI for quick navigate mode\r\n        if (this.quickNavigateConfiguration) {\r\n            DOM.hide(this.inputContainer);\r\n            DOM.show(this.element);\r\n            this.tree.domFocus();\r\n        }\r\n        // Otherwise use normal UI\r\n        else {\r\n            DOM.show(this.inputContainer);\r\n            DOM.show(this.element);\r\n            this.inputBox.focus();\r\n        }\r\n        // Adjust Help text for IE\r\n        if (this.helpText) {\r\n            if (this.quickNavigateConfiguration || types.isString(param)) {\r\n                DOM.hide(this.helpText);\r\n            }\r\n            else {\r\n                DOM.show(this.helpText);\r\n            }\r\n        }\r\n        // Show based on param\r\n        if (types.isString(param)) {\r\n            this.doShowWithPrefix(param);\r\n        }\r\n        else {\r\n            if (options && options.value) {\r\n                this.restoreLastInput(options.value);\r\n            }\r\n            this.doShowWithInput(param, options && options.autoFocus ? options.autoFocus : {});\r\n        }\r\n        // Respect selectAll option\r\n        if (options && options.inputSelection && !this.quickNavigateConfiguration) {\r\n            this.inputBox.select(options.inputSelection);\r\n        }\r\n        if (this.callbacks.onShow) {\r\n            this.callbacks.onShow();\r\n        }\r\n    };\r\n    QuickOpenWidget.prototype.restoreLastInput = function (lastInput) {\r\n        this.inputBox.value = lastInput;\r\n        this.inputBox.select();\r\n        this.callbacks.onType(lastInput);\r\n    };\r\n    QuickOpenWidget.prototype.doShowWithPrefix = function (prefix) {\r\n        this.inputBox.value = prefix;\r\n        this.callbacks.onType(prefix);\r\n    };\r\n    QuickOpenWidget.prototype.doShowWithInput = function (input, autoFocus) {\r\n        this.setInput(input, autoFocus);\r\n    };\r\n    QuickOpenWidget.prototype.setInputAndLayout = function (input, autoFocus) {\r\n        var _this = this;\r\n        this.treeContainer.style.height = this.getHeight(input) + \"px\";\r\n        this.tree.setInput(null).then(function () {\r\n            _this.model = input;\r\n            // ARIA\r\n            _this.inputElement.setAttribute('aria-haspopup', String(input && input.entries && input.entries.length > 0));\r\n            return _this.tree.setInput(input);\r\n        }).then(function () {\r\n            // Indicate entries to tree\r\n            _this.tree.layout();\r\n            var entries = input ? input.entries.filter(function (e) { return _this.isElementVisible(input, e); }) : [];\r\n            _this.updateResultCount(entries.length);\r\n            // Handle auto focus\r\n            if (entries.length) {\r\n                _this.autoFocus(input, entries, autoFocus);\r\n            }\r\n        });\r\n    };\r\n    QuickOpenWidget.prototype.isElementVisible = function (input, e) {\r\n        if (!input.filter) {\r\n            return true;\r\n        }\r\n        return input.filter.isVisible(e);\r\n    };\r\n    QuickOpenWidget.prototype.autoFocus = function (input, entries, autoFocus) {\r\n        if (autoFocus === void 0) { autoFocus = {}; }\r\n        // First check for auto focus of prefix matches\r\n        if (autoFocus.autoFocusPrefixMatch) {\r\n            var caseSensitiveMatch = void 0;\r\n            var caseInsensitiveMatch = void 0;\r\n            var prefix = autoFocus.autoFocusPrefixMatch;\r\n            var lowerCasePrefix = prefix.toLowerCase();\r\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\r\n                var entry = entries_1[_i];\r\n                var label = input.dataSource.getLabel(entry) || '';\r\n                if (!caseSensitiveMatch && label.indexOf(prefix) === 0) {\r\n                    caseSensitiveMatch = entry;\r\n                }\r\n                else if (!caseInsensitiveMatch && label.toLowerCase().indexOf(lowerCasePrefix) === 0) {\r\n                    caseInsensitiveMatch = entry;\r\n                }\r\n                if (caseSensitiveMatch && caseInsensitiveMatch) {\r\n                    break;\r\n                }\r\n            }\r\n            var entryToFocus = caseSensitiveMatch || caseInsensitiveMatch;\r\n            if (entryToFocus) {\r\n                this.tree.setFocus(entryToFocus);\r\n                this.tree.reveal(entryToFocus, 0.5);\r\n                return;\r\n            }\r\n        }\r\n        // Second check for auto focus of first entry\r\n        if (autoFocus.autoFocusFirstEntry) {\r\n            this.tree.focusFirst();\r\n            this.tree.reveal(this.tree.getFocus());\r\n        }\r\n        // Third check for specific index option\r\n        else if (typeof autoFocus.autoFocusIndex === 'number') {\r\n            if (entries.length > autoFocus.autoFocusIndex) {\r\n                this.tree.focusNth(autoFocus.autoFocusIndex);\r\n                this.tree.reveal(this.tree.getFocus());\r\n            }\r\n        }\r\n        // Check for auto focus of second entry\r\n        else if (autoFocus.autoFocusSecondEntry) {\r\n            if (entries.length > 1) {\r\n                this.tree.focusNth(1);\r\n            }\r\n        }\r\n        // Finally check for auto focus of last entry\r\n        else if (autoFocus.autoFocusLastEntry) {\r\n            if (entries.length > 1) {\r\n                this.tree.focusLast();\r\n                this.tree.reveal(this.tree.getFocus());\r\n            }\r\n        }\r\n    };\r\n    QuickOpenWidget.prototype.getHeight = function (input) {\r\n        var _this = this;\r\n        var renderer = input.renderer;\r\n        if (!input) {\r\n            var itemHeight = renderer.getHeight(null);\r\n            return this.options.minItemsToShow ? this.options.minItemsToShow * itemHeight : 0;\r\n        }\r\n        var height = 0;\r\n        var preferredItemsHeight;\r\n        if (this.layoutDimensions && this.layoutDimensions.height) {\r\n            preferredItemsHeight = (this.layoutDimensions.height - 50 /* subtract height of input field (30px) and some spacing (drop shadow) to fit */) * 0.4 /* max 40% of screen */;\r\n        }\r\n        if (!preferredItemsHeight || preferredItemsHeight > QuickOpenWidget.MAX_ITEMS_HEIGHT) {\r\n            preferredItemsHeight = QuickOpenWidget.MAX_ITEMS_HEIGHT;\r\n        }\r\n        var entries = input.entries.filter(function (e) { return _this.isElementVisible(input, e); });\r\n        var maxEntries = this.options.maxItemsToShow || entries.length;\r\n        for (var i = 0; i < maxEntries && i < entries.length; i++) {\r\n            var entryHeight = renderer.getHeight(entries[i]);\r\n            if (height + entryHeight <= preferredItemsHeight) {\r\n                height += entryHeight;\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n        }\r\n        return height;\r\n    };\r\n    QuickOpenWidget.prototype.updateResultCount = function (count) {\r\n        this.resultCount.textContent = nls.localize({ key: 'quickInput.visibleCount', comment: ['This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers.'] }, \"{0} Results\", count);\r\n    };\r\n    QuickOpenWidget.prototype.hide = function (reason) {\r\n        if (!this.isVisible()) {\r\n            return;\r\n        }\r\n        this.visible = false;\r\n        DOM.hide(this.element);\r\n        this.element.blur();\r\n        // Clear input field and clear tree\r\n        this.inputBox.value = '';\r\n        this.tree.setInput(null);\r\n        // ARIA\r\n        this.inputElement.setAttribute('aria-haspopup', 'false');\r\n        // Reset Tree Height\r\n        this.treeContainer.style.height = (this.options.minItemsToShow ? this.options.minItemsToShow * 22 : 0) + \"px\";\r\n        // Clear any running Progress\r\n        this.progressBar.stop().hide();\r\n        // Clear Focus\r\n        if (this.tree.isDOMFocused()) {\r\n            this.tree.domBlur();\r\n        }\r\n        else if (this.inputBox.hasFocus()) {\r\n            this.inputBox.blur();\r\n        }\r\n        // Callbacks\r\n        if (reason === 0 /* ELEMENT_SELECTED */) {\r\n            this.callbacks.onOk();\r\n        }\r\n        else {\r\n            this.callbacks.onCancel();\r\n        }\r\n        if (this.callbacks.onHide) {\r\n            this.callbacks.onHide(reason);\r\n        }\r\n    };\r\n    QuickOpenWidget.prototype.setInput = function (input, autoFocus, ariaLabel) {\r\n        if (!this.isVisible()) {\r\n            return;\r\n        }\r\n        // If the input changes, indicate this to the tree\r\n        if (!!this.getInput()) {\r\n            this.onInputChanging();\r\n        }\r\n        // Adapt tree height to entries and apply input\r\n        this.setInputAndLayout(input, autoFocus);\r\n        // Apply ARIA\r\n        if (this.inputBox) {\r\n            this.inputBox.setAriaLabel(ariaLabel || DEFAULT_INPUT_ARIA_LABEL);\r\n        }\r\n    };\r\n    QuickOpenWidget.prototype.onInputChanging = function () {\r\n        var _this = this;\r\n        if (this.inputChangingTimeoutHandle) {\r\n            clearTimeout(this.inputChangingTimeoutHandle);\r\n            this.inputChangingTimeoutHandle = null;\r\n        }\r\n        // when the input is changing in quick open, we indicate this as CSS class to the widget\r\n        // for a certain timeout. this helps reducing some hectic UI updates when input changes quickly\r\n        DOM.addClass(this.element, 'content-changing');\r\n        this.inputChangingTimeoutHandle = setTimeout(function () {\r\n            DOM.removeClass(_this.element, 'content-changing');\r\n        }, 500);\r\n    };\r\n    QuickOpenWidget.prototype.getInput = function () {\r\n        return this.tree.getInput();\r\n    };\r\n    QuickOpenWidget.prototype.isVisible = function () {\r\n        return this.visible;\r\n    };\r\n    QuickOpenWidget.prototype.layout = function (dimension) {\r\n        this.layoutDimensions = dimension;\r\n        // Apply to quick open width (height is dynamic by number of items to show)\r\n        var quickOpenWidth = Math.min(this.layoutDimensions.width * 0.62 /* golden cut */, QuickOpenWidget.MAX_WIDTH);\r\n        if (this.element) {\r\n            // quick open\r\n            this.element.style.width = quickOpenWidth + \"px\";\r\n            this.element.style.marginLeft = \"-\" + quickOpenWidth / 2 + \"px\";\r\n            // input field\r\n            this.inputContainer.style.width = quickOpenWidth - 12 + \"px\";\r\n        }\r\n    };\r\n    QuickOpenWidget.prototype.gainingFocus = function () {\r\n        this.isLoosingFocus = false;\r\n    };\r\n    QuickOpenWidget.prototype.loosingFocus = function (e) {\r\n        var _this = this;\r\n        if (!this.isVisible()) {\r\n            return;\r\n        }\r\n        var relatedTarget = e.relatedTarget;\r\n        if (!this.quickNavigateConfiguration && DOM.isAncestor(relatedTarget, this.element)) {\r\n            return; // user clicked somewhere into quick open widget, do not close thereby\r\n        }\r\n        this.isLoosingFocus = true;\r\n        setTimeout(function () {\r\n            if (!_this.isLoosingFocus || _this.isDisposed) {\r\n                return;\r\n            }\r\n            var veto = _this.callbacks.onFocusLost && _this.callbacks.onFocusLost();\r\n            if (!veto) {\r\n                _this.hide(1 /* FOCUS_LOST */);\r\n            }\r\n        }, 0);\r\n    };\r\n    QuickOpenWidget.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n        this.isDisposed = true;\r\n    };\r\n    QuickOpenWidget.MAX_WIDTH = 600; // Max total width of quick open widget\r\n    QuickOpenWidget.MAX_ITEMS_HEIGHT = 20 * 22; // Max height of item list below input field\r\n    return QuickOpenWidget;\r\n}(Disposable));\r\nexport { QuickOpenWidget };\r\n"],"sourceRoot":""}