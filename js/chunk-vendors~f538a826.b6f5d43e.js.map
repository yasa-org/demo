{"version":3,"sources":["webpack:///./node_modules/zrender/lib/core/timsort.js","webpack:///./node_modules/zrender/lib/contain/polygon.js","webpack:///./node_modules/zrender/lib/core/GestureMgr.js","webpack:///./node_modules/zrender/lib/core/matrix.js","webpack:///./node_modules/zrender/lib/core/PathProxy.js","webpack:///./node_modules/zrender/lib/core/env.js","webpack:///./node_modules/zrender/lib/config.js","webpack:///./node_modules/zrender/lib/core/vector.js","webpack:///./node_modules/zrender/lib/core/log.js","webpack:///./node_modules/zrender/lib/core/curve.js","webpack:///./node_modules/zrender/lib/core/event.js","webpack:///./node_modules/zrender/lib/core/dom.js","webpack:///./node_modules/zrender/lib/contain/quadratic.js","webpack:///./node_modules/zrender/lib/core/util.js","webpack:///./node_modules/zrender/lib/core/fourPointsTransform.js","webpack:///./node_modules/zrender/lib/contain/util.js","webpack:///./node_modules/zrender/lib/contain/windingLine.js","webpack:///./node_modules/zrender/lib/contain/line.js","webpack:///./node_modules/zrender/lib/core/BoundingRect.js","webpack:///./node_modules/zrender/lib/contain/arc.js","webpack:///./node_modules/zrender/lib/dom/HandlerProxy.js","webpack:///./node_modules/zrender/lib/core/LRU.js","webpack:///./node_modules/zrender/lib/contain/path.js","webpack:///./node_modules/zrender/lib/core/guid.js","webpack:///./node_modules/zrender/lib/container/Group.js","webpack:///./node_modules/zrender/lib/core/bbox.js","webpack:///./node_modules/zrender/lib/contain/cubic.js","webpack:///./node_modules/zrender/lib/contain/text.js"],"names":["DEFAULT_MIN_MERGE","DEFAULT_MIN_GALLOPING","minRunLength","n","r","makeAscendingRun","array","lo","hi","compare","runHi","reverseRun","t","binaryInsertionSort","start","mid","pivot","left","right","gallopLeft","value","length","hint","lastOffset","maxOffset","offset","tmp","m","gallopRight","TimSort","runStart","runLength","minGallop","stackSize","pushRun","_runStart","_runLength","mergeRuns","mergeAt","forceMergeRuns","i","start1","length1","start2","length2","k","mergeLow","mergeHigh","cursor1","cursor2","dest","count1","count2","exit","_minGallop","Error","customCursor","customDest","this","sort","remaining","ts","minRun","force","module","exports","windingLine","EPSILON","isAroundEqual","a","b","Math","abs","contain","points","x","y","w","p","p2","p0","eventUtil","GestureMgr","_track","dist","pointPair","dx","dy","sqrt","center","prototype","constructor","recognize","event","target","root","_doTrack","_recognize","clear","touches","trackItem","len","touch","pos","clientToLocal","push","zrX","zrY","eventName","recognizers","hasOwnProperty","gestureInfo","pinch","track","trackLen","pinchEnd","pinchPre","pinchScale","isFinite","pinchCenter","pinchX","pinchY","type","_default","ArrayCtor","Float32Array","Array","create","out","identity","copy","mul","m1","m2","out0","out1","out2","out3","out4","out5","translate","v","rotate","rad","aa","ac","atx","ab","ad","aty","st","sin","ct","cos","scale","vx","vy","invert","det","clone","curve","vec2","bbox","BoundingRect","_config","dpr","devicePixelRatio","CMD","M","L","C","Q","A","Z","R","min","max","min2","max2","mathMin","mathMax","mathCos","mathSin","mathSqrt","mathAbs","hasTypedArray","PathProxy","notSaveData","_saveData","data","_ctx","_xi","_yi","_x0","_y0","_ux","_uy","_len","_lineDash","_dashOffset","_dashIdx","_dashSum","setScale","sx","sy","segmentIgnoreThreshold","getContext","beginPath","ctx","moveTo","addData","lineTo","exceedUnit","_needsDash","_dashedLineTo","bezierCurveTo","x1","y1","x2","y2","x3","y3","_dashedBezierTo","quadraticCurveTo","_dashedQuadraticTo","arc","cx","cy","startAngle","endAngle","anticlockwise","arcTo","radius","rect","h","closePath","x0","y0","fill","toStatic","stroke","setLineDash","lineDash","lineDashSum","setLineDashOffset","setData","appendPath","path","appendSize","appendPathData","cmd","arguments","_expandData","_prevCmd","newData","dash","idx","dashSum","nDash","cubicAt","bezierLen","tmpLen","getBoundingRect","Number","MAX_VALUE","xi","yi","fromLine","fromCubic","fromQuadratic","rx","ry","fromArc","width","height","rebuildPath","d","ux","uy","theta","dTheta","psi","fs","scaleX","scaleY","isEllipse","env","wx","getSystemInfoSync","browser","os","node","wxa","canvasSupported","svgSupported","touchEventsSupported","domSupported","document","self","worker","navigator","detect","userAgent","ua","firefox","match","ie","edge","weChat","test","version","createElement","SVGRect","window","pointerEventsSupported","debugMode","set","add","v1","v2","scaleAndAdd","sub","lenSquare","lengthSquare","div","dot","s","normalize","distance","distanceSquare","distSquare","negate","lerp","applyTransform","logError","console","error","_vector","v2Create","v2DistSquare","mathPow","pow","EPSILON_NUMERIC","THREE_SQRT","ONE_THIRD","_v0","_v1","_v2","isAroundZero","val","isNotAroundZero","p1","p3","onet","cubicDerivativeAt","cubicRootAt","roots","c","B","t1","disc","K","t2","discSqrt","Y1","Y2","T","acos","ASqrt","t3","cubicExtrema","extrema","cubicSubdivide","p01","p12","p23","p012","p123","p0123","cubicProjectPoint","prev","next","d1","d2","interval","Infinity","_t","quadraticAt","quadraticDerivativeAt","quadraticRootAt","quadraticExtremum","divider","quadraticSubdivide","quadraticProjectPoint","Eventful","Dispatcher","_dom","isCanvasEl","transformCoordWithViewport","isDomLevel2","addEventListener","MOUSE_EVENT_REG","_calcOut","el","e","calculate","calculateZrXY","layerX","offsetX","layerY","offsetY","getBoundingClientRect","ex","clientX","ey","clientY","box","top","getNativeEvent","normalizeEvent","eventType","isTouch","indexOf","targetTouches","changedTouches","zrDelta","wheelDelta","detail","button","which","undefined","name","handler","opt","attachEvent","removeEventListener","detachEvent","stop","preventDefault","stopPropagation","cancelBubble","returnValue","isMiddleOrRightButtonOnMouseUpDown","notLeftMouse","_fourPointsTransform","buildTransformer","EVENT_SAVED_PROP","transformLocalCoord","elFrom","elTarget","inX","inY","inverse","saved","markers","prepareCoordMarkers","transformer","preparePointerTransformer","propLR","propTB","marker","stl","style","idxLR","idxTB","cssText","join","appendChild","transformerName","oldSrcCoords","srcCoords","oldCoordTheSame","destCoords","ii","offsetLeft","offsetTop","nodeName","toUpperCase","_curve","containStroke","lineWidth","_l","BUILTIN_OBJECT","TYPED_ARRAY","objToString","Object","toString","arrayProto","nativeForEach","forEach","nativeFilter","filter","nativeSlice","slice","nativeMap","map","nativeReduce","reduce","methods","$override","fn","source","result","typeStr","call","isPrimitive","Ctor","from","isDom","key","merge","overwrite","isObject","targetProp","sourceProp","isArray","isBuiltInObject","mergeAll","targetAndSources","extend","defaults","overlay","createCanvas","inherits","clazz","baseClazz","clazzPrototype","F","prop","superClass","mixin","isArrayLike","each","obj","cb","context","memo","find","bind","func","args","apply","concat","curry","isFunction","isString","isTypedArray","nodeType","ownerDocument","eqNaN","retrieve","values","retrieve2","value0","value1","retrieve3","value2","Function","normalizeCssArray","assert","condition","message","trim","str","replace","primitiveKey","setAsPrimitive","HashMap","isArr","thisMap","visit","createHashMap","concatArray","newArray","noop","get","removeKey","LN2","log","determinant","rows","rank","rowStart","rowMask","colMask","detCache","cacheKey","fullRank","colStart","round","subRowMask","subRowStart","sum","j","colLocalIdx","colTag","src","mA","vh","srcPointX","srcPointY","pk","PI2","PI","normalizeRadian","angle","dir","x_","_a","_b","_s","matrix","v2ApplyTransform","union","other","lt","rb","lb","rt","maxX","maxY","calculateTransform","intersect","ax0","ax1","ay0","ay1","bx0","bx1","by0","by1","plain","_util","atan2","_event","zrUtil","TOUCH_CLICK_DELAY","globalEventSupported","localNativeListenerNames","mouseHandlerNames","touchHandlerNames","pointerEventNameMap","pointerdown","pointerup","pointermove","pointerout","pointerHandlerNames","nm","mouse","pointer","globalNativeListenerNames","eventNameFix","isPointerFromTouch","pointerType","setTouchTimer","scope","touching","touchTimer","clearTimeout","setTimeout","markTouch","zrByTouch","normalizeGlobalEvent","instance","dom","FakeGlobalEvent","isLocalEl","elTmp","isLocal","domBelongToZr","painterRoot","parentNode","currentTarget","fakeGlobalEventProto","stopImmediatePropagation","localDOMHandlers","mousedown","_mayPointerCapture","trigger","mousemove","downPoint","togglePointerCapture","mouseup","mouseout","_pointerCapturing","zrEventControl","element","toElement","relatedTarget","zrIsToLocalDOM","touchstart","_lastTouchMoment","Date","processGesture","touchmove","touchend","click","globalDOMHandlers","pointerCaptureReleasing","mountLocalDOMEventListeners","domHandlers","nativeEventName","mountSingleDOMEventListener","mountGlobalDOMEventListeners","mount","nativeEventListener","capture","listener","mounted","listenerOpts","domTarget","unmountDOMEventListeners","isPointerCapturing","globalHandlerScope","_globalHandlerScope","DOMHandlerScope","HandlerDomProxy","_localHandlerScope","handlerDomProxyProto","dispose","setCursor","cursorStyle","cursor","LinkedList","head","tail","linkedListProto","insert","entry","Entry","insertEntry","remove","LRU","maxSize","_list","_map","_maxSize","_lastRemovedEntry","LRUProto","put","list","removed","leastUsedEntry","line","cubic","quadratic","swapExtrema","windingCubic","nRoots","y0_","y1_","nExtrema","unit","windingQuadratic","y_","windingArc","diff","containPath","isStroke","_x","pathData","idStart","Element","Group","opts","_children","__storage","__dirty","isGroup","silent","children","childAt","childOfName","childCount","child","parent","_doAdd","addBefore","nextSibling","splice","storage","zr","__zr","addToStorage","addChildrenToStorage","refresh","delFromStorage","delChildrenFromStorage","removeAll","eachChild","traverse","dirty","includeChildren","tmpRect","tmpMat","ignore","invisible","childRect","transform","getLocalTransform","end","extremity","fromPoints","bottom","xDim","yDim","tx","ty","vec2Min","vec2Max","imageHelper","textWidthCache","textWidthCacheCounter","TEXT_CACHE_MAX","STYLE_REG","DEFAULT_FONT","getWidth","text","font","textLines","split","l","measureText","textAlign","textVerticalAlign","textPadding","textLineHeight","rich","truncate","getRichTextRect","getPlainTextRect","contentBlock","parsePlainText","outerWidth","outerHeight","adjustTextX","adjustTextY","lineHeight","parseRichText","calculateTextPosition","textPosition","textDistance","halfHeight","adjustTextPositionOnRect","dummyStyle","truncateText","containerWidth","ellipsis","options","prepareTruncateOptions","truncateSingleLine","maxIterations","minChar","cnCharWidth","ascCharWidth","placeholder","contentWidth","ellipsisWidth","textLine","subLength","estimateLength","floor","substr","charCode","charCodeAt","getLineHeight","padding","lines","canCacheByTextString","truncOuterHeight","truncOuterWidth","lastIndex","exec","matchedIndex","index","pushTokens","substring","contentHeight","pendingList","stlPadding","truncateWidth","truncateHeight","tokens","token","tokenStyle","styleName","tokenHeight","textHeight","textWidth","tokenWidth","tokenWidthNotSpecified","charAt","percentWidth","textBackgroundColor","bgImg","image","findExistImage","isImageReady","paddingW","remianTruncWidth","parseInt","block","isEmptyStr","strs","isLineHolder","tokensLen","makeFont","fontSize","fontFamily","fontStyle","fontWeight","textFont"],"mappings":"2GACA,IAAIA,EAAoB,GACpBC,EAAwB,EAG5B,SAASC,EAAaC,GACpB,IAAIC,EAAI,EAER,MAAOD,GAAKH,EACVI,GAAS,EAAJD,EACLA,IAAM,EAGR,OAAOA,EAAIC,EAGb,SAASC,EAAiBC,EAAOC,EAAIC,EAAIC,GACvC,IAAIC,EAAQH,EAAK,EAEjB,GAAIG,IAAUF,EACZ,OAAO,EAGT,GAAIC,EAAQH,EAAMI,KAAUJ,EAAMC,IAAO,EAAG,CAC1C,MAAOG,EAAQF,GAAMC,EAAQH,EAAMI,GAAQJ,EAAMI,EAAQ,IAAM,EAC7DA,IAGFC,EAAWL,EAAOC,EAAIG,QAEtB,MAAOA,EAAQF,GAAMC,EAAQH,EAAMI,GAAQJ,EAAMI,EAAQ,KAAO,EAC9DA,IAIJ,OAAOA,EAAQH,EAGjB,SAASI,EAAWL,EAAOC,EAAIC,GAC7BA,IAEA,MAAOD,EAAKC,EAAI,CACd,IAAII,EAAIN,EAAMC,GACdD,EAAMC,KAAQD,EAAME,GACpBF,EAAME,KAAQI,GAIlB,SAASC,EAAoBP,EAAOC,EAAIC,EAAIM,EAAOL,GAKjD,IAJIK,IAAUP,GACZO,IAGKA,EAAQN,EAAIM,IAAS,CAC1B,IAGIC,EAHAC,EAAQV,EAAMQ,GACdG,EAAOV,EACPW,EAAQJ,EAGZ,MAAOG,EAAOC,EACZH,EAAME,EAAOC,IAAU,EAEnBT,EAAQO,EAAOV,EAAMS,IAAQ,EAC/BG,EAAQH,EAERE,EAAOF,EAAM,EAIjB,IAAIZ,EAAIW,EAAQG,EAEhB,OAAQd,GACN,KAAK,EACHG,EAAMW,EAAO,GAAKX,EAAMW,EAAO,GAEjC,KAAK,EACHX,EAAMW,EAAO,GAAKX,EAAMW,EAAO,GAEjC,KAAK,EACHX,EAAMW,EAAO,GAAKX,EAAMW,GACxB,MAEF,QACE,MAAOd,EAAI,EACTG,EAAMW,EAAOd,GAAKG,EAAMW,EAAOd,EAAI,GACnCA,IAKNG,EAAMW,GAAQD,GAIlB,SAASG,EAAWC,EAAOd,EAAOQ,EAAOO,EAAQC,EAAMb,GACrD,IAAIc,EAAa,EACbC,EAAY,EACZC,EAAS,EAEb,GAAIhB,EAAQW,EAAOd,EAAMQ,EAAQQ,IAAS,EAAG,CAC3CE,EAAYH,EAASC,EAErB,MAAOG,EAASD,GAAaf,EAAQW,EAAOd,EAAMQ,EAAQQ,EAAOG,IAAW,EAC1EF,EAAaE,EACbA,EAAyB,GAAfA,GAAU,GAEhBA,GAAU,IACZA,EAASD,GAITC,EAASD,IACXC,EAASD,GAGXD,GAAcD,EACdG,GAAUH,MACL,CACLE,EAAYF,EAAO,EAEnB,MAAOG,EAASD,GAAaf,EAAQW,EAAOd,EAAMQ,EAAQQ,EAAOG,KAAY,EAC3EF,EAAaE,EACbA,EAAyB,GAAfA,GAAU,GAEhBA,GAAU,IACZA,EAASD,GAITC,EAASD,IACXC,EAASD,GAGX,IAAIE,EAAMH,EACVA,EAAaD,EAAOG,EACpBA,EAASH,EAAOI,EAGlBH,IAEA,MAAOA,EAAaE,EAAQ,CAC1B,IAAIE,EAAIJ,GAAcE,EAASF,IAAe,GAE1Cd,EAAQW,EAAOd,EAAMQ,EAAQa,IAAM,EACrCJ,EAAaI,EAAI,EAEjBF,EAASE,EAIb,OAAOF,EAGT,SAASG,EAAYR,EAAOd,EAAOQ,EAAOO,EAAQC,EAAMb,GACtD,IAAIc,EAAa,EACbC,EAAY,EACZC,EAAS,EAEb,GAAIhB,EAAQW,EAAOd,EAAMQ,EAAQQ,IAAS,EAAG,CAC3CE,EAAYF,EAAO,EAEnB,MAAOG,EAASD,GAAaf,EAAQW,EAAOd,EAAMQ,EAAQQ,EAAOG,IAAW,EAC1EF,EAAaE,EACbA,EAAyB,GAAfA,GAAU,GAEhBA,GAAU,IACZA,EAASD,GAITC,EAASD,IACXC,EAASD,GAGX,IAAIE,EAAMH,EACVA,EAAaD,EAAOG,EACpBA,EAASH,EAAOI,MACX,CACLF,EAAYH,EAASC,EAErB,MAAOG,EAASD,GAAaf,EAAQW,EAAOd,EAAMQ,EAAQQ,EAAOG,KAAY,EAC3EF,EAAaE,EACbA,EAAyB,GAAfA,GAAU,GAEhBA,GAAU,IACZA,EAASD,GAITC,EAASD,IACXC,EAASD,GAGXD,GAAcD,EACdG,GAAUH,EAGZC,IAEA,MAAOA,EAAaE,EAAQ,CAC1B,IAAIE,EAAIJ,GAAcE,EAASF,IAAe,GAE1Cd,EAAQW,EAAOd,EAAMQ,EAAQa,IAAM,EACrCF,EAASE,EAETJ,EAAaI,EAAI,EAIrB,OAAOF,EAGT,SAASI,EAAQvB,EAAOG,GACtB,IAIIqB,EACAC,EALAC,EAAY/B,EACZoB,EAAS,EAKTY,EAAY,EAChBZ,EAASf,EAAMe,OAMf,IAAIK,EAAM,GAKV,SAASQ,EAAQC,EAAWC,GAC1BN,EAASG,GAAaE,EACtBJ,EAAUE,GAAaG,EACvBH,GAAa,EAGf,SAASI,IACP,MAAOJ,EAAY,EAAG,CACpB,IAAI9B,EAAI8B,EAAY,EAEpB,GAAI9B,GAAK,GAAK4B,EAAU5B,EAAI,IAAM4B,EAAU5B,GAAK4B,EAAU5B,EAAI,IAAMA,GAAK,GAAK4B,EAAU5B,EAAI,IAAM4B,EAAU5B,GAAK4B,EAAU5B,EAAI,GAC1H4B,EAAU5B,EAAI,GAAK4B,EAAU5B,EAAI,IACnCA,SAEG,GAAI4B,EAAU5B,GAAK4B,EAAU5B,EAAI,GACtC,MAGFmC,EAAQnC,IAIZ,SAASoC,IACP,MAAON,EAAY,EAAG,CACpB,IAAI9B,EAAI8B,EAAY,EAEhB9B,EAAI,GAAK4B,EAAU5B,EAAI,GAAK4B,EAAU5B,EAAI,IAC5CA,IAGFmC,EAAQnC,IAIZ,SAASmC,EAAQE,GACf,IAAIC,EAASX,EAASU,GAClBE,EAAUX,EAAUS,GACpBG,EAASb,EAASU,EAAI,GACtBI,EAAUb,EAAUS,EAAI,GAC5BT,EAAUS,GAAKE,EAAUE,EAErBJ,IAAMP,EAAY,IACpBH,EAASU,EAAI,GAAKV,EAASU,EAAI,GAC/BT,EAAUS,EAAI,GAAKT,EAAUS,EAAI,IAGnCP,IACA,IAAIY,EAAIjB,EAAYtB,EAAMqC,GAASrC,EAAOmC,EAAQC,EAAS,EAAGjC,GAC9DgC,GAAUI,EACVH,GAAWG,EAEK,IAAZH,IAIJE,EAAUzB,EAAWb,EAAMmC,EAASC,EAAU,GAAIpC,EAAOqC,EAAQC,EAASA,EAAU,EAAGnC,GAEvE,IAAZmC,IAIAF,GAAWE,EACbE,EAASL,EAAQC,EAASC,EAAQC,GAElCG,EAAUN,EAAQC,EAASC,EAAQC,KAIvC,SAASE,EAASL,EAAQC,EAASC,EAAQC,GACzC,IAAIJ,EAAI,EAER,IAAKA,EAAI,EAAGA,EAAIE,EAASF,IACvBd,EAAIc,GAAKlC,EAAMmC,EAASD,GAG1B,IAAIQ,EAAU,EACVC,EAAUN,EACVO,EAAOT,EAGX,GAFAnC,EAAM4C,KAAU5C,EAAM2C,KAEJ,MAAZL,EAQN,GAAgB,IAAZF,EAAJ,CASA,IACIS,EACAC,EACAC,EAHAC,EAAatB,EAKjB,MAAO,EAAG,CACRmB,EAAS,EACTC,EAAS,EACTC,GAAO,EAEP,GACE,GAAI5C,EAAQH,EAAM2C,GAAUvB,EAAIsB,IAAY,GAK1C,GAJA1C,EAAM4C,KAAU5C,EAAM2C,KACtBG,IACAD,EAAS,EAES,MAAZP,EAAe,CACnBS,GAAO,EACP,YAOF,GAJA/C,EAAM4C,KAAUxB,EAAIsB,KACpBG,IACAC,EAAS,EAES,MAAZV,EAAe,CACnBW,GAAO,EACP,cAGIF,EAASC,GAAUE,GAE7B,GAAID,EACF,MAGF,EAAG,CAGD,GAFAF,EAASvB,EAAYtB,EAAM2C,GAAUvB,EAAKsB,EAASN,EAAS,EAAGjC,GAEhD,IAAX0C,EAAc,CAChB,IAAKX,EAAI,EAAGA,EAAIW,EAAQX,IACtBlC,EAAM4C,EAAOV,GAAKd,EAAIsB,EAAUR,GAOlC,GAJAU,GAAQC,EACRH,GAAWG,EACXT,GAAWS,EAEPT,GAAW,EAAG,CAChBW,GAAO,EACP,OAMJ,GAFA/C,EAAM4C,KAAU5C,EAAM2C,KAEJ,MAAZL,EAAe,CACnBS,GAAO,EACP,MAKF,GAFAD,EAASjC,EAAWO,EAAIsB,GAAU1C,EAAO2C,EAASL,EAAS,EAAGnC,GAE/C,IAAX2C,EAAc,CAChB,IAAKZ,EAAI,EAAGA,EAAIY,EAAQZ,IACtBlC,EAAM4C,EAAOV,GAAKlC,EAAM2C,EAAUT,GAOpC,GAJAU,GAAQE,EACRH,GAAWG,EACXR,GAAWQ,EAEK,IAAZR,EAAe,CACjBS,GAAO,EACP,OAMJ,GAFA/C,EAAM4C,KAAUxB,EAAIsB,KAEF,MAAZN,EAAe,CACnBW,GAAO,EACP,MAGFC,UACOH,GAAUlD,GAAyBmD,GAAUnD,GAEtD,GAAIoD,EACF,MAGEC,EAAa,IACfA,EAAa,GAGfA,GAAc,EAMhB,GAHAtB,EAAYsB,EACZtB,EAAY,IAAMA,EAAY,GAEd,IAAZU,EAAe,CACjB,IAAKF,EAAI,EAAGA,EAAII,EAASJ,IACvBlC,EAAM4C,EAAOV,GAAKlC,EAAM2C,EAAUT,GAGpClC,EAAM4C,EAAON,GAAWlB,EAAIsB,OACvB,IAAgB,IAAZN,EACT,MAAM,IAAIa,MAEV,IAAKf,EAAI,EAAGA,EAAIE,EAASF,IACvBlC,EAAM4C,EAAOV,GAAKd,EAAIsB,EAAUR,QAzHpC,CACE,IAAKA,EAAI,EAAGA,EAAII,EAASJ,IACvBlC,EAAM4C,EAAOV,GAAKlC,EAAM2C,EAAUT,GAGpClC,EAAM4C,EAAON,GAAWlB,EAAIsB,QAZ5B,IAAKR,EAAI,EAAGA,EAAIE,EAASF,IACvBlC,EAAM4C,EAAOV,GAAKd,EAAIsB,EAAUR,GAoItC,SAASO,EAAUN,EAAQC,EAASC,EAAQC,GAC1C,IAAIJ,EAAI,EAER,IAAKA,EAAI,EAAGA,EAAII,EAASJ,IACvBd,EAAIc,GAAKlC,EAAMqC,EAASH,GAG1B,IAAIQ,EAAUP,EAASC,EAAU,EAC7BO,EAAUL,EAAU,EACpBM,EAAOP,EAASC,EAAU,EAC1BY,EAAe,EACfC,EAAa,EAGjB,GAFAnD,EAAM4C,KAAU5C,EAAM0C,KAEJ,MAAZN,EAUN,GAAgB,IAAZE,EAAJ,CAcA,IAAIU,EAAatB,EAEjB,MAAO,EAAM,CACX,IAAImB,EAAS,EACTC,EAAS,EACTC,GAAO,EAEX,GACE,GAAI5C,EAAQiB,EAAIuB,GAAU3C,EAAM0C,IAAY,GAK1C,GAJA1C,EAAM4C,KAAU5C,EAAM0C,KACtBG,IACAC,EAAS,EAES,MAAZV,EAAe,CACnBW,GAAO,EACP,YAOF,GAJA/C,EAAM4C,KAAUxB,EAAIuB,KACpBG,IACAD,EAAS,EAES,MAAZP,EAAe,CACnBS,GAAO,EACP,cAGIF,EAASC,GAAUE,GAE7B,GAAID,EACF,MAGF,EAAG,CAGD,GAFAF,EAAST,EAAUd,EAAYF,EAAIuB,GAAU3C,EAAOmC,EAAQC,EAASA,EAAU,EAAGjC,GAEnE,IAAX0C,EAAc,CAOhB,IANAD,GAAQC,EACRH,GAAWG,EACXT,GAAWS,EACXM,EAAaP,EAAO,EACpBM,EAAeR,EAAU,EAEpBR,EAAIW,EAAS,EAAGX,GAAK,EAAGA,IAC3BlC,EAAMmD,EAAajB,GAAKlC,EAAMkD,EAAehB,GAG/C,GAAgB,IAAZE,EAAe,CACjBW,GAAO,EACP,OAMJ,GAFA/C,EAAM4C,KAAUxB,EAAIuB,KAEF,MAAZL,EAAe,CACnBS,GAAO,EACP,MAKF,GAFAD,EAASR,EAAUzB,EAAWb,EAAM0C,GAAUtB,EAAK,EAAGkB,EAASA,EAAU,EAAGnC,GAE7D,IAAX2C,EAAc,CAOhB,IANAF,GAAQE,EACRH,GAAWG,EACXR,GAAWQ,EACXK,EAAaP,EAAO,EACpBM,EAAeP,EAAU,EAEpBT,EAAI,EAAGA,EAAIY,EAAQZ,IACtBlC,EAAMmD,EAAajB,GAAKd,EAAI8B,EAAehB,GAG7C,GAAII,GAAW,EAAG,CAChBS,GAAO,EACP,OAMJ,GAFA/C,EAAM4C,KAAU5C,EAAM0C,KAEJ,MAAZN,EAAe,CACnBW,GAAO,EACP,MAGFC,UACOH,GAAUlD,GAAyBmD,GAAUnD,GAEtD,GAAIoD,EACF,MAGEC,EAAa,IACfA,EAAa,GAGfA,GAAc,EAShB,GANAtB,EAAYsB,EAERtB,EAAY,IACdA,EAAY,GAGE,IAAZY,EAAe,CAMjB,IALAM,GAAQR,EACRM,GAAWN,EACXe,EAAaP,EAAO,EACpBM,EAAeR,EAAU,EAEpBR,EAAIE,EAAU,EAAGF,GAAK,EAAGA,IAC5BlC,EAAMmD,EAAajB,GAAKlC,EAAMkD,EAAehB,GAG/ClC,EAAM4C,GAAQxB,EAAIuB,OACb,IAAgB,IAAZL,EACT,MAAM,IAAIW,MAIV,IAFAC,EAAeN,GAAQN,EAAU,GAE5BJ,EAAI,EAAGA,EAAII,EAASJ,IACvBlC,EAAMkD,EAAehB,GAAKd,EAAIc,QAzIlC,CAME,IALAU,GAAQR,EACRM,GAAWN,EACXe,EAAaP,EAAO,EACpBM,EAAeR,EAAU,EAEpBR,EAAIE,EAAU,EAAGF,GAAK,EAAGA,IAC5BlC,EAAMmD,EAAajB,GAAKlC,EAAMkD,EAAehB,GAG/ClC,EAAM4C,GAAQxB,EAAIuB,QAjBlB,IAFAO,EAAeN,GAAQN,EAAU,GAE5BJ,EAAI,EAAGA,EAAII,EAASJ,IACvBlC,EAAMkD,EAAehB,GAAKd,EAAIc,GA3OpCV,EAAW,GACXC,EAAY,GA8XZ2B,KAAKrB,UAAYA,EACjBqB,KAAKnB,eAAiBA,EACtBmB,KAAKxB,QAAUA,EAGjB,SAASyB,EAAKrD,EAAOG,EAASF,EAAIC,GAC3BD,IACHA,EAAK,GAGFC,IACHA,EAAKF,EAAMe,QAGb,IAAIuC,EAAYpD,EAAKD,EAErB,KAAIqD,EAAY,GAAhB,CAIA,IAAI7B,EAAY,EAEhB,GAAI6B,EAAY5D,EAGd,OAFA+B,EAAY1B,EAAiBC,EAAOC,EAAIC,EAAIC,QAC5CI,EAAoBP,EAAOC,EAAIC,EAAID,EAAKwB,EAAWtB,GAIrD,IAAIoD,EAAK,IAAIhC,EAAQvB,EAAOG,GACxBqD,EAAS5D,EAAa0D,GAE1B,EAAG,CAGD,GAFA7B,EAAY1B,EAAiBC,EAAOC,EAAIC,EAAIC,GAExCsB,EAAY+B,EAAQ,CACtB,IAAIC,EAAQH,EAERG,EAAQD,IACVC,EAAQD,GAGVjD,EAAoBP,EAAOC,EAAIA,EAAKwD,EAAOxD,EAAKwB,EAAWtB,GAC3DsB,EAAYgC,EAGdF,EAAG3B,QAAQ3B,EAAIwB,GACf8B,EAAGxB,YACHuB,GAAa7B,EACbxB,GAAMwB,QACe,IAAd6B,GAETC,EAAGtB,kBAGLyB,EAAOC,QAAUN,G,uBCzpBjB,IAAIO,EAAc,EAAQ,QAEtBC,EAAU,KAEd,SAASC,EAAcC,EAAGC,GACxB,OAAOC,KAAKC,IAAIH,EAAIC,GAAKH,EAG3B,SAASM,EAAQC,EAAQC,EAAGC,GAC1B,IAAIC,EAAI,EACJC,EAAIJ,EAAO,GAEf,IAAKI,EACH,OAAO,EAGT,IAAK,IAAItC,EAAI,EAAGA,EAAIkC,EAAOrD,OAAQmB,IAAK,CACtC,IAAIuC,EAAKL,EAAOlC,GAChBqC,GAAKX,EAAYY,EAAE,GAAIA,EAAE,GAAIC,EAAG,GAAIA,EAAG,GAAIJ,EAAGC,GAC9CE,EAAIC,EAIN,IAAIC,EAAKN,EAAO,GAMhB,OAJKN,EAAcU,EAAE,GAAIE,EAAG,KAAQZ,EAAcU,EAAE,GAAIE,EAAG,MACzDH,GAAKX,EAAYY,EAAE,GAAIA,EAAE,GAAIE,EAAG,GAAIA,EAAG,GAAIL,EAAGC,IAGnC,IAANC,EAGTZ,EAAQQ,QAAUA,G,uBChClB,IAAIQ,EAAY,EAAQ,QAKpBC,EAAa,WAKfxB,KAAKyB,OAAS,IAkDhB,SAASC,EAAKC,GACZ,IAAIC,EAAKD,EAAU,GAAG,GAAKA,EAAU,GAAG,GACpCE,EAAKF,EAAU,GAAG,GAAKA,EAAU,GAAG,GACxC,OAAOd,KAAKiB,KAAKF,EAAKA,EAAKC,EAAKA,GAGlC,SAASE,EAAOJ,GACd,MAAO,EAAEA,EAAU,GAAG,GAAKA,EAAU,GAAG,IAAM,GAAIA,EAAU,GAAG,GAAKA,EAAU,GAAG,IAAM,GAtDzFH,EAAWQ,UAAY,CACrBC,YAAaT,EACbU,UAAW,SAAUC,EAAOC,EAAQC,GAGlC,OAFArC,KAAKsC,SAASH,EAAOC,EAAQC,GAEtBrC,KAAKuC,WAAWJ,IAEzBK,MAAO,WAEL,OADAxC,KAAKyB,OAAO9D,OAAS,EACdqC,MAETsC,SAAU,SAAUH,EAAOC,EAAQC,GACjC,IAAII,EAAUN,EAAMM,QAEpB,GAAKA,EAAL,CAWA,IAPA,IAAIC,EAAY,CACd1B,OAAQ,GACRyB,QAAS,GACTL,OAAQA,EACRD,MAAOA,GAGArD,EAAI,EAAG6D,EAAMF,EAAQ9E,OAAQmB,EAAI6D,EAAK7D,IAAK,CAClD,IAAI8D,EAAQH,EAAQ3D,GAChB+D,EAAMtB,EAAUuB,cAAcT,EAAMO,EAAO,IAC/CF,EAAU1B,OAAO+B,KAAK,CAACF,EAAIG,IAAKH,EAAII,MACpCP,EAAUD,QAAQM,KAAKH,GAGzB5C,KAAKyB,OAAOsB,KAAKL,KAEnBH,WAAY,SAAUJ,GACpB,IAAK,IAAIe,KAAaC,EACpB,GAAIA,EAAYC,eAAeF,GAAY,CACzC,IAAIG,EAAcF,EAAYD,GAAWlD,KAAKyB,OAAQU,GAEtD,GAAIkB,EACF,OAAOA,KAiBjB,IAAIF,EAAc,CAChBG,MAAO,SAAUC,EAAOpB,GACtB,IAAIqB,EAAWD,EAAM5F,OAErB,GAAK6F,EAAL,CAIA,IAAIC,GAAYF,EAAMC,EAAW,IAAM,IAAIxC,OACvC0C,GAAYH,EAAMC,EAAW,IAAM,IAAIxC,QAAUyC,EAErD,GAAIC,GAAYA,EAAS/F,OAAS,GAAK8F,GAAYA,EAAS9F,OAAS,EAAG,CACtE,IAAIgG,EAAajC,EAAK+B,GAAY/B,EAAKgC,IACtCE,SAASD,KAAgBA,EAAa,GACvCxB,EAAMwB,WAAaA,EACnB,IAAIE,EAAc9B,EAAO0B,GAGzB,OAFAtB,EAAM2B,OAASD,EAAY,GAC3B1B,EAAM4B,OAASF,EAAY,GACpB,CACLG,KAAM,QACN5B,OAAQmB,EAAM,GAAGnB,OACjBD,MAAOA,OAMX8B,EAAWzC,EACflB,EAAOC,QAAU0D,G,mBC5FjB,IAAIC,EAAoC,qBAAjBC,aAA+BC,MAAQD,aAM9D,SAASE,IACP,IAAIC,EAAM,IAAIJ,EAAU,GAExB,OADAK,EAASD,GACFA,EAQT,SAASC,EAASD,GAOhB,OANAA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,EAST,SAASE,EAAKF,EAAKrG,GAOjB,OANAqG,EAAI,GAAKrG,EAAE,GACXqG,EAAI,GAAKrG,EAAE,GACXqG,EAAI,GAAKrG,EAAE,GACXqG,EAAI,GAAKrG,EAAE,GACXqG,EAAI,GAAKrG,EAAE,GACXqG,EAAI,GAAKrG,EAAE,GACJqG,EAUT,SAASG,EAAIH,EAAKI,EAAIC,GAIpB,IAAIC,EAAOF,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAAKC,EAAG,GAClCE,EAAOH,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAAKC,EAAG,GAClCG,EAAOJ,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAAKC,EAAG,GAClCI,EAAOL,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAAKC,EAAG,GAClCK,EAAON,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAC1CO,EAAOP,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAO9C,OANAJ,EAAI,GAAKM,EACTN,EAAI,GAAKO,EACTP,EAAI,GAAKQ,EACTR,EAAI,GAAKS,EACTT,EAAI,GAAKU,EACTV,EAAI,GAAKW,EACFX,EAUT,SAASY,EAAUZ,EAAK3D,EAAGwE,GAOzB,OANAb,EAAI,GAAK3D,EAAE,GACX2D,EAAI,GAAK3D,EAAE,GACX2D,EAAI,GAAK3D,EAAE,GACX2D,EAAI,GAAK3D,EAAE,GACX2D,EAAI,GAAK3D,EAAE,GAAKwE,EAAE,GAClBb,EAAI,GAAK3D,EAAE,GAAKwE,EAAE,GACXb,EAUT,SAASc,EAAOd,EAAK3D,EAAG0E,GACtB,IAAIC,EAAK3E,EAAE,GACP4E,EAAK5E,EAAE,GACP6E,EAAM7E,EAAE,GACR8E,EAAK9E,EAAE,GACP+E,EAAK/E,EAAE,GACPgF,EAAMhF,EAAE,GACRiF,EAAK/E,KAAKgF,IAAIR,GACdS,EAAKjF,KAAKkF,IAAIV,GAOlB,OANAf,EAAI,GAAKgB,EAAKQ,EAAKL,EAAKG,EACxBtB,EAAI,IAAMgB,EAAKM,EAAKH,EAAKK,EACzBxB,EAAI,GAAKiB,EAAKO,EAAKJ,EAAKE,EACxBtB,EAAI,IAAMiB,EAAKK,EAAKE,EAAKJ,EACzBpB,EAAI,GAAKwB,EAAKN,EAAMI,EAAKD,EACzBrB,EAAI,GAAKwB,EAAKH,EAAMC,EAAKJ,EAClBlB,EAUT,SAAS0B,EAAM1B,EAAK3D,EAAGwE,GACrB,IAAIc,EAAKd,EAAE,GACPe,EAAKf,EAAE,GAOX,OANAb,EAAI,GAAK3D,EAAE,GAAKsF,EAChB3B,EAAI,GAAK3D,EAAE,GAAKuF,EAChB5B,EAAI,GAAK3D,EAAE,GAAKsF,EAChB3B,EAAI,GAAK3D,EAAE,GAAKuF,EAChB5B,EAAI,GAAK3D,EAAE,GAAKsF,EAChB3B,EAAI,GAAK3D,EAAE,GAAKuF,EACT5B,EAST,SAAS6B,EAAO7B,EAAK3D,GACnB,IAAI2E,EAAK3E,EAAE,GACP4E,EAAK5E,EAAE,GACP6E,EAAM7E,EAAE,GACR8E,EAAK9E,EAAE,GACP+E,EAAK/E,EAAE,GACPgF,EAAMhF,EAAE,GACRyF,EAAMd,EAAKI,EAAKD,EAAKF,EAEzB,OAAKa,GAILA,EAAM,EAAMA,EACZ9B,EAAI,GAAKoB,EAAKU,EACd9B,EAAI,IAAMmB,EAAKW,EACf9B,EAAI,IAAMiB,EAAKa,EACf9B,EAAI,GAAKgB,EAAKc,EACd9B,EAAI,IAAMiB,EAAKI,EAAMD,EAAKF,GAAOY,EACjC9B,EAAI,IAAMmB,EAAKD,EAAMF,EAAKK,GAAOS,EAC1B9B,GAVE,KAkBX,SAAS+B,EAAM1F,GACb,IAAIC,EAAIyD,IAER,OADAG,EAAK5D,EAAGD,GACDC,EAGTL,EAAQ8D,OAASA,EACjB9D,EAAQgE,SAAWA,EACnBhE,EAAQiE,KAAOA,EACfjE,EAAQkE,IAAMA,EACdlE,EAAQ2E,UAAYA,EACpB3E,EAAQ6E,OAASA,EACjB7E,EAAQyF,MAAQA,EAChBzF,EAAQ4F,OAASA,EACjB5F,EAAQ8F,MAAQA,G,uBCxLhB,IAAIC,EAAQ,EAAQ,QAEhBC,EAAO,EAAQ,QAEfC,EAAO,EAAQ,QAEfC,EAAe,EAAQ,QAEvBC,EAAU,EAAQ,QAElBC,EAAMD,EAAQE,iBAYdC,EAAM,CACRC,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,EAEHC,EAAG,GAWDC,EAAM,GACNC,EAAM,GACNC,EAAO,GACPC,EAAO,GACPC,EAAU5G,KAAKwG,IACfK,EAAU7G,KAAKyG,IACfK,EAAU9G,KAAKkF,IACf6B,EAAU/G,KAAKgF,IACfgC,EAAWhH,KAAKiB,KAChBgG,EAAUjH,KAAKC,IACfiH,EAAwC,qBAAjB5D,aAMvB6D,EAAY,SAAUC,GACxBjI,KAAKkI,WAAcD,EAEfjI,KAAKkI,YAKPlI,KAAKmI,KAAO,IAGdnI,KAAKoI,KAAO,MAQdJ,EAAUhG,UAAY,CACpBC,YAAa+F,EACbK,IAAK,EACLC,IAAK,EACLC,IAAK,EACLC,IAAK,EAELC,IAAK,EACLC,IAAK,EACLC,KAAM,EACNC,UAAW,KACXC,YAAa,EACbC,SAAU,EACVC,SAAU,EAKVC,SAAU,SAAUC,EAAIC,EAAIC,GAE1BA,EAAyBA,GAA0B,EACnDnJ,KAAKyI,IAAMX,EAAQqB,EAAyBxC,EAAMsC,IAAO,EACzDjJ,KAAK0I,IAAMZ,EAAQqB,EAAyBxC,EAAMuC,IAAO,GAE3DE,WAAY,WACV,OAAOpJ,KAAKoI,MAOdiB,UAAW,SAAUC,GAcnB,OAbAtJ,KAAKoI,KAAOkB,EACZA,GAAOA,EAAID,YACXC,IAAQtJ,KAAK2G,IAAM2C,EAAI3C,KAEnB3G,KAAKkI,YACPlI,KAAK2I,KAAO,GAGV3I,KAAK4I,YACP5I,KAAK4I,UAAY,KACjB5I,KAAK6I,YAAc,GAGd7I,MAQTuJ,OAAQ,SAAUtI,EAAGC,GAWnB,OAVAlB,KAAKwJ,QAAQ3C,EAAIC,EAAG7F,EAAGC,GACvBlB,KAAKoI,MAAQpI,KAAKoI,KAAKmB,OAAOtI,EAAGC,GAKjClB,KAAKuI,IAAMtH,EACXjB,KAAKwI,IAAMtH,EACXlB,KAAKqI,IAAMpH,EACXjB,KAAKsI,IAAMpH,EACJlB,MAQTyJ,OAAQ,SAAUxI,EAAGC,GACnB,IAAIwI,EAAa5B,EAAQ7G,EAAIjB,KAAKqI,KAAOrI,KAAKyI,KAAOX,EAAQ5G,EAAIlB,KAAKsI,KAAOtI,KAAK0I,KAC/E1I,KAAK2I,KAAO,EAYf,OAXA3I,KAAKwJ,QAAQ3C,EAAIE,EAAG9F,EAAGC,GAEnBlB,KAAKoI,MAAQsB,IACf1J,KAAK2J,aAAe3J,KAAK4J,cAAc3I,EAAGC,GAAKlB,KAAKoI,KAAKqB,OAAOxI,EAAGC,IAGjEwI,IACF1J,KAAKqI,IAAMpH,EACXjB,KAAKsI,IAAMpH,GAGNlB,MAYT6J,cAAe,SAAUC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAS3C,OARAnK,KAAKwJ,QAAQ3C,EAAIG,EAAG8C,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAEpCnK,KAAKoI,OACPpI,KAAK2J,aAAe3J,KAAKoK,gBAAgBN,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAAMnK,KAAKoI,KAAKyB,cAAcC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,IAGjHnK,KAAKqI,IAAM6B,EACXlK,KAAKsI,IAAM6B,EACJnK,MAUTqK,iBAAkB,SAAUP,EAAIC,EAAIC,EAAIC,GAStC,OARAjK,KAAKwJ,QAAQ3C,EAAII,EAAG6C,EAAIC,EAAIC,EAAIC,GAE5BjK,KAAKoI,OACPpI,KAAK2J,aAAe3J,KAAKsK,mBAAmBR,EAAIC,EAAIC,EAAIC,GAAMjK,KAAKoI,KAAKiC,iBAAiBP,EAAIC,EAAIC,EAAIC,IAGvGjK,KAAKqI,IAAM2B,EACXhK,KAAKsI,IAAM2B,EACJjK,MAYTuK,IAAK,SAAUC,EAAIC,EAAI/N,EAAGgO,EAAYC,EAAUC,GAK9C,OAJA5K,KAAKwJ,QAAQ3C,EAAIK,EAAGsD,EAAIC,EAAI/N,EAAGA,EAAGgO,EAAYC,EAAWD,EAAY,EAAGE,EAAgB,EAAI,GAC5F5K,KAAKoI,MAAQpI,KAAKoI,KAAKmC,IAAIC,EAAIC,EAAI/N,EAAGgO,EAAYC,EAAUC,GAC5D5K,KAAKqI,IAAMV,EAAQgD,GAAYjO,EAAI8N,EACnCxK,KAAKsI,IAAMV,EAAQ+C,GAAYjO,EAAI+N,EAC5BzK,MAGT6K,MAAO,SAAUf,EAAIC,EAAIC,EAAIC,EAAIa,GAK/B,OAJI9K,KAAKoI,MACPpI,KAAKoI,KAAKyC,MAAMf,EAAIC,EAAIC,EAAIC,EAAIa,GAG3B9K,MAGT+K,KAAM,SAAU9J,EAAGC,EAAGC,EAAG6J,GAGvB,OAFAhL,KAAKoI,MAAQpI,KAAKoI,KAAK2C,KAAK9J,EAAGC,EAAGC,EAAG6J,GACrChL,KAAKwJ,QAAQ3C,EAAIO,EAAGnG,EAAGC,EAAGC,EAAG6J,GACtBhL,MAMTiL,UAAW,WACTjL,KAAKwJ,QAAQ3C,EAAIM,GACjB,IAAImC,EAAMtJ,KAAKoI,KACX8C,EAAKlL,KAAKuI,IACV4C,EAAKnL,KAAKwI,IASd,OAPIc,IACFtJ,KAAK2J,cAAgB3J,KAAK4J,cAAcsB,EAAIC,GAC5C7B,EAAI2B,aAGNjL,KAAKqI,IAAM6C,EACXlL,KAAKsI,IAAM6C,EACJnL,MASToL,KAAM,SAAU9B,GACdA,GAAOA,EAAI8B,OACXpL,KAAKqL,YAOPC,OAAQ,SAAUhC,GAChBA,GAAOA,EAAIgC,SACXtL,KAAKqL,YAQPE,YAAa,SAAUC,GACrB,GAAIA,aAAoBpH,MAAO,CAC7BpE,KAAK4I,UAAY4C,EACjBxL,KAAK8I,SAAW,EAGhB,IAFA,IAAI2C,EAAc,EAET3M,EAAI,EAAGA,EAAI0M,EAAS7N,OAAQmB,IACnC2M,GAAeD,EAAS1M,GAG1BkB,KAAK+I,SAAW0C,EAGlB,OAAOzL,MAQT0L,kBAAmB,SAAU3N,GAE3B,OADAiC,KAAK6I,YAAc9K,EACZiC,MAOT2C,IAAK,WACH,OAAO3C,KAAK2I,MAMdgD,QAAS,SAAUxD,GACjB,IAAIxF,EAAMwF,EAAKxK,OAETqC,KAAKmI,MAAQnI,KAAKmI,KAAKxK,SAAWgF,IAAQoF,IAC9C/H,KAAKmI,KAAO,IAAIhE,aAAaxB,IAG/B,IAAK,IAAI7D,EAAI,EAAGA,EAAI6D,EAAK7D,IACvBkB,KAAKmI,KAAKrJ,GAAKqJ,EAAKrJ,GAGtBkB,KAAK2I,KAAOhG,GAOdiJ,WAAY,SAAUC,GACdA,aAAgBzH,QACpByH,EAAO,CAACA,IAOV,IAJA,IAAIlJ,EAAMkJ,EAAKlO,OACXmO,EAAa,EACb/N,EAASiC,KAAK2I,KAET7J,EAAI,EAAGA,EAAI6D,EAAK7D,IACvBgN,GAAcD,EAAK/M,GAAG6D,MAGpBoF,GAAiB/H,KAAKmI,gBAAgBhE,eACxCnE,KAAKmI,KAAO,IAAIhE,aAAapG,EAAS+N,IAGxC,IAAShN,EAAI,EAAGA,EAAI6D,EAAK7D,IAGvB,IAFA,IAAIiN,EAAiBF,EAAK/M,GAAGqJ,KAEpBhJ,EAAI,EAAGA,EAAI4M,EAAepO,OAAQwB,IACzCa,KAAKmI,KAAKpK,KAAYgO,EAAe5M,GAIzCa,KAAK2I,KAAO5K,GAOdyL,QAAS,SAAUwC,GACjB,GAAKhM,KAAKkI,UAAV,CAIA,IAAIC,EAAOnI,KAAKmI,KAEZnI,KAAK2I,KAAOsD,UAAUtO,OAASwK,EAAKxK,SAGtCqC,KAAKkM,cAEL/D,EAAOnI,KAAKmI,MAGd,IAAK,IAAIrJ,EAAI,EAAGA,EAAImN,UAAUtO,OAAQmB,IACpCqJ,EAAKnI,KAAK2I,QAAUsD,UAAUnN,GAGhCkB,KAAKmM,SAAWH,IAElBE,YAAa,WAEX,KAAMlM,KAAKmI,gBAAgB/D,OAAQ,CAGjC,IAFA,IAAIgI,EAAU,GAELtN,EAAI,EAAGA,EAAIkB,KAAK2I,KAAM7J,IAC7BsN,EAAQtN,GAAKkB,KAAKmI,KAAKrJ,GAGzBkB,KAAKmI,KAAOiE,IAShBzC,WAAY,WACV,OAAO3J,KAAK4I,WAEdgB,cAAe,SAAUE,EAAIC,GAC3B,IAWIsC,EAEAC,EAbAC,EAAUvM,KAAK+I,SACfhL,EAASiC,KAAK6I,YACd2C,EAAWxL,KAAK4I,UAChBU,EAAMtJ,KAAKoI,KACX8C,EAAKlL,KAAKqI,IACV8C,EAAKnL,KAAKsI,IACV1G,EAAKkI,EAAKoB,EACVrJ,EAAKkI,EAAKoB,EACVzJ,EAAOmG,EAASjG,EAAKA,EAAKC,EAAKA,GAC/BZ,EAAIiK,EACJhK,EAAIiK,EAEJqB,EAAQhB,EAAS7N,OAErBiE,GAAMF,EACNG,GAAMH,EAEF3D,EAAS,IAEXA,EAASwO,EAAUxO,GAGrBA,GAAUwO,EACVtL,GAAKlD,EAAS6D,EACdV,GAAKnD,EAAS8D,EAEd,MAAOD,EAAK,GAAKX,GAAK6I,GAAMlI,EAAK,GAAKX,GAAK6I,GAAa,IAAPlI,IAAaC,EAAK,GAAKX,GAAK6I,GAAMlI,EAAK,GAAKX,GAAK6I,GAChGuC,EAAMtM,KAAK8I,SACXuD,EAAOb,EAASc,GAChBrL,GAAKW,EAAKyK,EACVnL,GAAKW,EAAKwK,EACVrM,KAAK8I,UAAYwD,EAAM,GAAKE,EAExB5K,EAAK,GAAKX,EAAIiK,GAAMtJ,EAAK,GAAKX,EAAIiK,GAAMrJ,EAAK,GAAKX,EAAIiK,GAAMtJ,EAAK,GAAKX,EAAIiK,GAI9E7B,EAAIgD,EAAM,EAAI,SAAW,UAAU1K,GAAM,EAAI6F,EAAQxG,EAAG6I,GAAMpC,EAAQzG,EAAG6I,GAAKjI,GAAM,EAAI4F,EAAQvG,EAAG6I,GAAMrC,EAAQxG,EAAG6I,IAItHnI,EAAKX,EAAI6I,EACTjI,EAAKX,EAAI6I,EACT/J,KAAK6I,aAAehB,EAASjG,EAAKA,EAAKC,EAAKA,IAG9CuI,gBAAiB,SAAUN,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAC7C,IAMIjN,EACA0E,EACAC,EAKAZ,EACAC,EAdAqL,EAAUvM,KAAK+I,SACfhL,EAASiC,KAAK6I,YACd2C,EAAWxL,KAAK4I,UAChBU,EAAMtJ,KAAKoI,KACX8C,EAAKlL,KAAKqI,IACV8C,EAAKnL,KAAKsI,IAIVmE,EAAUnG,EAAMmG,QAChBC,EAAY,EACZJ,EAAMtM,KAAK8I,SACX0D,EAAQhB,EAAS7N,OAGjBgP,EAAS,EASb,IAPI5O,EAAS,IAEXA,EAASwO,EAAUxO,GAGrBA,GAAUwO,EAELrP,EAAI,EAAGA,EAAI,EAAGA,GAAK,GACtB0E,EAAK6K,EAAQvB,EAAIpB,EAAIE,EAAIE,EAAIhN,EAAI,IAAOuP,EAAQvB,EAAIpB,EAAIE,EAAIE,EAAIhN,GAChE2E,EAAK4K,EAAQtB,EAAIpB,EAAIE,EAAIE,EAAIjN,EAAI,IAAOuP,EAAQtB,EAAIpB,EAAIE,EAAIE,EAAIjN,GAChEwP,GAAa7E,EAASjG,EAAKA,EAAKC,EAAKA,GAIvC,KAAOyK,EAAME,EAAOF,IAGlB,GAFAK,GAAUnB,EAASc,GAEfK,EAAS5O,EACX,MAIJb,GAAKyP,EAAS5O,GAAU2O,EAExB,MAAOxP,GAAK,EACV+D,EAAIwL,EAAQvB,EAAIpB,EAAIE,EAAIE,EAAIhN,GAC5BgE,EAAIuL,EAAQtB,EAAIpB,EAAIE,EAAIE,EAAIjN,GAG5BoP,EAAM,EAAIhD,EAAIC,OAAOtI,EAAGC,GAAKoI,EAAIG,OAAOxI,EAAGC,GAC3ChE,GAAKsO,EAASc,GAAOI,EACrBJ,GAAOA,EAAM,GAAKE,EAIpBF,EAAM,IAAM,GAAKhD,EAAIG,OAAOS,EAAIC,GAChCvI,EAAKsI,EAAKjJ,EACVY,EAAKsI,EAAKjJ,EACVlB,KAAK6I,aAAehB,EAASjG,EAAKA,EAAKC,EAAKA,IAE9CyI,mBAAoB,SAAUR,EAAIC,EAAIC,EAAIC,GAExC,IAAIC,EAAKF,EACLG,EAAKF,EACTD,GAAMA,EAAK,EAAIF,GAAM,EACrBG,GAAMA,EAAK,EAAIF,GAAM,EACrBD,GAAM9J,KAAKqI,IAAM,EAAIyB,GAAM,EAC3BC,GAAM/J,KAAKsI,IAAM,EAAIyB,GAAM,EAE3B/J,KAAKoK,gBAAgBN,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,IAO3CkB,SAAU,WACR,IAAIlD,EAAOnI,KAAKmI,KAEZA,aAAgB/D,QAClB+D,EAAKxK,OAASqC,KAAK2I,KAEfZ,IACF/H,KAAKmI,KAAO,IAAIhE,aAAagE,MAQnCyE,gBAAiB,WACfvF,EAAI,GAAKA,EAAI,GAAKE,EAAK,GAAKA,EAAK,GAAKsF,OAAOC,UAC7CxF,EAAI,GAAKA,EAAI,GAAKE,EAAK,GAAKA,EAAK,IAAMqF,OAAOC,UAO9C,IANA,IAAI3E,EAAOnI,KAAKmI,KACZ4E,EAAK,EACLC,EAAK,EACL9B,EAAK,EACLC,EAAK,EAEArM,EAAI,EAAGA,EAAIqJ,EAAKxK,QAAS,CAChC,IAAIqO,EAAM7D,EAAKrJ,KAaf,OAXU,IAANA,IAKFiO,EAAK5E,EAAKrJ,GACVkO,EAAK7E,EAAKrJ,EAAI,GACdoM,EAAK6B,EACL5B,EAAK6B,GAGChB,GACN,KAAKnF,EAAIC,EAGPoE,EAAK/C,EAAKrJ,KACVqM,EAAKhD,EAAKrJ,KACViO,EAAK7B,EACL8B,EAAK7B,EACL5D,EAAK,GAAK2D,EACV3D,EAAK,GAAK4D,EACV3D,EAAK,GAAK0D,EACV1D,EAAK,GAAK2D,EACV,MAEF,KAAKtE,EAAIE,EACPP,EAAKyG,SAASF,EAAIC,EAAI7E,EAAKrJ,GAAIqJ,EAAKrJ,EAAI,GAAIyI,EAAMC,GAClDuF,EAAK5E,EAAKrJ,KACVkO,EAAK7E,EAAKrJ,KACV,MAEF,KAAK+H,EAAIG,EACPR,EAAK0G,UAAUH,EAAIC,EAAI7E,EAAKrJ,KAAMqJ,EAAKrJ,KAAMqJ,EAAKrJ,KAAMqJ,EAAKrJ,KAAMqJ,EAAKrJ,GAAIqJ,EAAKrJ,EAAI,GAAIyI,EAAMC,GAC/FuF,EAAK5E,EAAKrJ,KACVkO,EAAK7E,EAAKrJ,KACV,MAEF,KAAK+H,EAAII,EACPT,EAAK2G,cAAcJ,EAAIC,EAAI7E,EAAKrJ,KAAMqJ,EAAKrJ,KAAMqJ,EAAKrJ,GAAIqJ,EAAKrJ,EAAI,GAAIyI,EAAMC,GAC7EuF,EAAK5E,EAAKrJ,KACVkO,EAAK7E,EAAKrJ,KACV,MAEF,KAAK+H,EAAIK,EAEP,IAAIsD,EAAKrC,EAAKrJ,KACV2L,EAAKtC,EAAKrJ,KACVsO,EAAKjF,EAAKrJ,KACVuO,EAAKlF,EAAKrJ,KACV4L,EAAavC,EAAKrJ,KAClB6L,EAAWxC,EAAKrJ,KAAO4L,EAE3B5L,GAAK,EACL,IAAI8L,EAAgB,EAAIzC,EAAKrJ,KAEnB,IAANA,IAGFoM,EAAKvD,EAAQ+C,GAAc0C,EAAK5C,EAChCW,EAAKvD,EAAQ8C,GAAc2C,EAAK5C,GAGlCjE,EAAK8G,QAAQ9C,EAAIC,EAAI2C,EAAIC,EAAI3C,EAAYC,EAAUC,EAAerD,EAAMC,GACxEuF,EAAKpF,EAAQgD,GAAYyC,EAAK5C,EAC9BwC,EAAKpF,EAAQ+C,GAAY0C,EAAK5C,EAC9B,MAEF,KAAK5D,EAAIO,EACP8D,EAAK6B,EAAK5E,EAAKrJ,KACfqM,EAAK6B,EAAK7E,EAAKrJ,KACf,IAAIyO,EAAQpF,EAAKrJ,KACb0O,EAASrF,EAAKrJ,KAElB0H,EAAKyG,SAAS/B,EAAIC,EAAID,EAAKqC,EAAOpC,EAAKqC,EAAQjG,EAAMC,GACrD,MAEF,KAAKX,EAAIM,EACP4F,EAAK7B,EACL8B,EAAK7B,EACL,MAIJ5E,EAAKc,IAAIA,EAAKA,EAAKE,GACnBhB,EAAKe,IAAIA,EAAKA,EAAKE,GAQrB,OAJU,IAAN1I,IACFuI,EAAI,GAAKA,EAAI,GAAKC,EAAI,GAAKA,EAAI,GAAK,GAG/B,IAAIb,EAAaY,EAAI,GAAIA,EAAI,GAAIC,EAAI,GAAKD,EAAI,GAAIC,EAAI,GAAKD,EAAI,KAQxEoG,YAAa,SAAUnE,GAYrB,IAXA,IACI4B,EACAC,EACA4B,EACAC,EACA/L,EACAC,EANAwM,EAAI1N,KAAKmI,KAOTwF,EAAK3N,KAAKyI,IACVmF,EAAK5N,KAAK0I,IACV/F,EAAM3C,KAAK2I,KAEN7J,EAAI,EAAGA,EAAI6D,GAAM,CACxB,IAAIqJ,EAAM0B,EAAE5O,KAaZ,OAXU,IAANA,IAKFiO,EAAKW,EAAE5O,GACPkO,EAAKU,EAAE5O,EAAI,GACXoM,EAAK6B,EACL5B,EAAK6B,GAGChB,GACN,KAAKnF,EAAIC,EACPoE,EAAK6B,EAAKW,EAAE5O,KACZqM,EAAK6B,EAAKU,EAAE5O,KACZwK,EAAIC,OAAOwD,EAAIC,GACf,MAEF,KAAKnG,EAAIE,EACP9F,EAAIyM,EAAE5O,KACNoC,EAAIwM,EAAE5O,MAEFgJ,EAAQ7G,EAAI8L,GAAMY,GAAM7F,EAAQ5G,EAAI8L,GAAMY,GAAM9O,IAAM6D,EAAM,KAC9D2G,EAAIG,OAAOxI,EAAGC,GACd6L,EAAK9L,EACL+L,EAAK9L,GAGP,MAEF,KAAK2F,EAAIG,EACPsC,EAAIO,cAAc6D,EAAE5O,KAAM4O,EAAE5O,KAAM4O,EAAE5O,KAAM4O,EAAE5O,KAAM4O,EAAE5O,KAAM4O,EAAE5O,MAC5DiO,EAAKW,EAAE5O,EAAI,GACXkO,EAAKU,EAAE5O,EAAI,GACX,MAEF,KAAK+H,EAAII,EACPqC,EAAIe,iBAAiBqD,EAAE5O,KAAM4O,EAAE5O,KAAM4O,EAAE5O,KAAM4O,EAAE5O,MAC/CiO,EAAKW,EAAE5O,EAAI,GACXkO,EAAKU,EAAE5O,EAAI,GACX,MAEF,KAAK+H,EAAIK,EACP,IAAIsD,EAAKkD,EAAE5O,KACP2L,EAAKiD,EAAE5O,KACPsO,EAAKM,EAAE5O,KACPuO,EAAKK,EAAE5O,KACP+O,EAAQH,EAAE5O,KACVgP,EAASJ,EAAE5O,KACXiP,EAAML,EAAE5O,KACRkP,EAAKN,EAAE5O,KACPpC,EAAI0Q,EAAKC,EAAKD,EAAKC,EACnBY,EAASb,EAAKC,EAAK,EAAID,EAAKC,EAC5Ba,EAASd,EAAKC,EAAKA,EAAKD,EAAK,EAC7Be,EAAYtN,KAAKC,IAAIsM,EAAKC,GAAM,KAChC1C,EAAWkD,EAAQC,EAEnBK,GACF7E,EAAIpE,UAAUsF,EAAIC,GAClBnB,EAAIlE,OAAO2I,GACXzE,EAAItD,MAAMiI,EAAQC,GAClB5E,EAAIiB,IAAI,EAAG,EAAG7N,EAAGmR,EAAOlD,EAAU,EAAIqD,GACtC1E,EAAItD,MAAM,EAAIiI,EAAQ,EAAIC,GAC1B5E,EAAIlE,QAAQ2I,GACZzE,EAAIpE,WAAWsF,GAAKC,IAEpBnB,EAAIiB,IAAIC,EAAIC,EAAI/N,EAAGmR,EAAOlD,EAAU,EAAIqD,GAGhC,IAANlP,IAGFoM,EAAKvD,EAAQkG,GAAST,EAAK5C,EAC3BW,EAAKvD,EAAQiG,GAASR,EAAK5C,GAG7BsC,EAAKpF,EAAQgD,GAAYyC,EAAK5C,EAC9BwC,EAAKpF,EAAQ+C,GAAY0C,EAAK5C,EAC9B,MAEF,KAAK5D,EAAIO,EACP8D,EAAK6B,EAAKW,EAAE5O,GACZqM,EAAK6B,EAAKU,EAAE5O,EAAI,GAChBwK,EAAIyB,KAAK2C,EAAE5O,KAAM4O,EAAE5O,KAAM4O,EAAE5O,KAAM4O,EAAE5O,MACnC,MAEF,KAAK+H,EAAIM,EACPmC,EAAI2B,YACJ8B,EAAK7B,EACL8B,EAAK7B,MAKfnD,EAAUnB,IAAMA,EAChB,IAAI5C,EAAW+D,EACf1H,EAAOC,QAAU0D,G,qBCxvBjB,IAAImK,EAAM,GAIRA,EAFgB,kBAAPC,IAAmD,oBAAzBA,GAAGC,kBAEhC,CACJC,QAAS,GACTC,GAAI,GACJC,MAAM,EACNC,KAAK,EAELC,iBAAiB,EACjBC,cAAc,EACdC,sBAAsB,EACtBC,cAAc,GAEa,qBAAbC,UAA4C,qBAATC,KAE7C,CACJT,QAAS,GACTC,GAAI,GACJC,MAAM,EACNQ,QAAQ,EACRN,iBAAiB,EACjBG,cAAc,GAEc,qBAAdI,UAEV,CACJX,QAAS,GACTC,GAAI,GACJC,MAAM,EACNQ,QAAQ,EAERN,iBAAiB,EACjBC,cAAc,EACdE,cAAc,GAGVK,EAAOD,UAAUE,WAGzB,IAAInL,EAAWmK,EAIf,SAASe,EAAOE,GACd,IAAIb,EAAK,GACLD,EAAU,GAeVe,EAAUD,EAAGE,MAAM,qBAGnBC,EAAKH,EAAGE,MAAM,mBACfF,EAAGE,MAAM,6BACRE,EAAOJ,EAAGE,MAAM,kBAEhBG,EAAS,kBAAkBC,KAAKN,GAiDpC,OA5BIC,IACFf,EAAQe,SAAU,EAClBf,EAAQqB,QAAUN,EAAQ,IAKxBE,IACFjB,EAAQiB,IAAK,EACbjB,EAAQqB,QAAUJ,EAAG,IAGnBC,IACFlB,EAAQkB,MAAO,EACflB,EAAQqB,QAAUH,EAAK,IAKrBC,IACFnB,EAAQmB,QAAS,GAQZ,CACLnB,QAASA,EACTC,GAAIA,EACJC,MAAM,EAGNE,kBAAmBI,SAASc,cAAc,UAAUzG,WACpDwF,aAAiC,qBAAZkB,QAIrBjB,qBAAsB,iBAAkBkB,SAAWxB,EAAQiB,KAAOjB,EAAQkB,KAE1EO,uBAQA,kBAAmBD,SAAWxB,EAAQkB,MAAQlB,EAAQiB,IAAMjB,EAAQqB,SAAW,IAE/Ed,aAAkC,qBAAbC,UAmBzBzO,EAAOC,QAAU0D,G,qBCzKjB,IAAI0C,EAAM,EAEY,qBAAXoJ,SACTpJ,EAAM9F,KAAKyG,IAAIyI,OAAOnJ,kBAAoB,EAAG,IAe/C,IAAIqJ,EAAY,EAEZrJ,EAAmBD,EACvBpG,EAAQ0P,UAAYA,EACpB1P,EAAQqG,iBAAmBA,G,qBCrB3B,IAAI1C,EAAoC,qBAAjBC,aAA+BC,MAAQD,aAQ9D,SAASE,EAAOpD,EAAGC,GACjB,IAAIoD,EAAM,IAAIJ,EAAU,GAYxB,OAVS,MAALjD,IACFA,EAAI,GAGG,MAALC,IACFA,EAAI,GAGNoD,EAAI,GAAKrD,EACTqD,EAAI,GAAKpD,EACFoD,EAUT,SAASE,EAAKF,EAAKa,GAGjB,OAFAb,EAAI,GAAKa,EAAE,GACXb,EAAI,GAAKa,EAAE,GACJb,EAST,SAAS+B,EAAMlB,GACb,IAAIb,EAAM,IAAIJ,EAAU,GAGxB,OAFAI,EAAI,GAAKa,EAAE,GACXb,EAAI,GAAKa,EAAE,GACJb,EAWT,SAAS4L,EAAI5L,EAAK3D,EAAGC,GAGnB,OAFA0D,EAAI,GAAK3D,EACT2D,EAAI,GAAK1D,EACF0D,EAUT,SAAS6L,EAAI7L,EAAK8L,EAAIC,GAGpB,OAFA/L,EAAI,GAAK8L,EAAG,GAAKC,EAAG,GACpB/L,EAAI,GAAK8L,EAAG,GAAKC,EAAG,GACb/L,EAWT,SAASgM,EAAYhM,EAAK8L,EAAIC,EAAI1P,GAGhC,OAFA2D,EAAI,GAAK8L,EAAG,GAAKC,EAAG,GAAK1P,EACzB2D,EAAI,GAAK8L,EAAG,GAAKC,EAAG,GAAK1P,EAClB2D,EAUT,SAASiM,EAAIjM,EAAK8L,EAAIC,GAGpB,OAFA/L,EAAI,GAAK8L,EAAG,GAAKC,EAAG,GACpB/L,EAAI,GAAK8L,EAAG,GAAKC,EAAG,GACb/L,EAST,SAAS3B,EAAIwC,GACX,OAAOtE,KAAKiB,KAAK0O,EAAUrL,IAG7B,IAAIxH,EAASgF,EAQb,SAAS6N,EAAUrL,GACjB,OAAOA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAGhC,IAAIsL,EAAeD,EAQnB,SAAS/L,EAAIH,EAAK8L,EAAIC,GAGpB,OAFA/L,EAAI,GAAK8L,EAAG,GAAKC,EAAG,GACpB/L,EAAI,GAAK8L,EAAG,GAAKC,EAAG,GACb/L,EAUT,SAASoM,EAAIpM,EAAK8L,EAAIC,GAGpB,OAFA/L,EAAI,GAAK8L,EAAG,GAAKC,EAAG,GACpB/L,EAAI,GAAK8L,EAAG,GAAKC,EAAG,GACb/L,EAUT,SAASqM,EAAIP,EAAIC,GACf,OAAOD,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAAKC,EAAG,GAUpC,SAASrK,EAAM1B,EAAKa,EAAGyL,GAGrB,OAFAtM,EAAI,GAAKa,EAAE,GAAKyL,EAChBtM,EAAI,GAAKa,EAAE,GAAKyL,EACTtM,EAST,SAASuM,EAAUvM,EAAKa,GACtB,IAAIuI,EAAI/K,EAAIwC,GAUZ,OARU,IAANuI,GACFpJ,EAAI,GAAK,EACTA,EAAI,GAAK,IAETA,EAAI,GAAKa,EAAE,GAAKuI,EAChBpJ,EAAI,GAAKa,EAAE,GAAKuI,GAGXpJ,EAUT,SAASwM,EAASV,EAAIC,GACpB,OAAOxP,KAAKiB,MAAMsO,EAAG,GAAKC,EAAG,KAAOD,EAAG,GAAKC,EAAG,KAAOD,EAAG,GAAKC,EAAG,KAAOD,EAAG,GAAKC,EAAG,KAGrF,IAAI3O,EAAOoP,EAQX,SAASC,EAAeX,EAAIC,GAC1B,OAAQD,EAAG,GAAKC,EAAG,KAAOD,EAAG,GAAKC,EAAG,KAAOD,EAAG,GAAKC,EAAG,KAAOD,EAAG,GAAKC,EAAG,IAG3E,IAAIW,EAAaD,EAOjB,SAASE,EAAO3M,EAAKa,GAGnB,OAFAb,EAAI,IAAMa,EAAE,GACZb,EAAI,IAAMa,EAAE,GACLb,EAWT,SAAS4M,EAAK5M,EAAK8L,EAAIC,EAAInT,GAGzB,OAFAoH,EAAI,GAAK8L,EAAG,GAAKlT,GAAKmT,EAAG,GAAKD,EAAG,IACjC9L,EAAI,GAAK8L,EAAG,GAAKlT,GAAKmT,EAAG,GAAKD,EAAG,IAC1B9L,EAUT,SAAS6M,EAAe7M,EAAKa,EAAGlH,GAC9B,IAAIgD,EAAIkE,EAAE,GACNjE,EAAIiE,EAAE,GAGV,OAFAb,EAAI,GAAKrG,EAAE,GAAKgD,EAAIhD,EAAE,GAAKiD,EAAIjD,EAAE,GACjCqG,EAAI,GAAKrG,EAAE,GAAKgD,EAAIhD,EAAE,GAAKiD,EAAIjD,EAAE,GAC1BqG,EAUT,SAAS+C,EAAI/C,EAAK8L,EAAIC,GAGpB,OAFA/L,EAAI,GAAKzD,KAAKwG,IAAI+I,EAAG,GAAIC,EAAG,IAC5B/L,EAAI,GAAKzD,KAAKwG,IAAI+I,EAAG,GAAIC,EAAG,IACrB/L,EAUT,SAASgD,EAAIhD,EAAK8L,EAAIC,GAGpB,OAFA/L,EAAI,GAAKzD,KAAKyG,IAAI8I,EAAG,GAAIC,EAAG,IAC5B/L,EAAI,GAAKzD,KAAKyG,IAAI8I,EAAG,GAAIC,EAAG,IACrB/L,EAGT/D,EAAQ8D,OAASA,EACjB9D,EAAQiE,KAAOA,EACfjE,EAAQ8F,MAAQA,EAChB9F,EAAQ2P,IAAMA,EACd3P,EAAQ4P,IAAMA,EACd5P,EAAQ+P,YAAcA,EACtB/P,EAAQgQ,IAAMA,EACdhQ,EAAQoC,IAAMA,EACdpC,EAAQ5C,OAASA,EACjB4C,EAAQiQ,UAAYA,EACpBjQ,EAAQkQ,aAAeA,EACvBlQ,EAAQkE,IAAMA,EACdlE,EAAQmQ,IAAMA,EACdnQ,EAAQoQ,IAAMA,EACdpQ,EAAQyF,MAAQA,EAChBzF,EAAQsQ,UAAYA,EACpBtQ,EAAQuQ,SAAWA,EACnBvQ,EAAQmB,KAAOA,EACfnB,EAAQwQ,eAAiBA,EACzBxQ,EAAQyQ,WAAaA,EACrBzQ,EAAQ0Q,OAASA,EACjB1Q,EAAQ2Q,KAAOA,EACf3Q,EAAQ4Q,eAAiBA,EACzB5Q,EAAQ8G,IAAMA,EACd9G,EAAQ+G,IAAMA,G,qBCzTd,IAAIZ,EAAU,EAAQ,QAElBuJ,EAAYvJ,EAAQuJ,UAEpBmB,EAAW,aAEG,IAAdnB,IACFmB,EAAWC,QAAQC,OAGrB,IAAIrN,EAAWmN,EACf9Q,EAAOC,QAAU0D,G,uBCXjB,IAAIsN,EAAU,EAAQ,QAElBC,EAAWD,EAAQlN,OACnBoN,EAAeF,EAAQP,WAOvBU,EAAU7Q,KAAK8Q,IACf9J,EAAWhH,KAAKiB,KAChBrB,EAAU,KACVmR,EAAkB,KAClBC,EAAahK,EAAS,GACtBiK,EAAY,EAAI,EAEhBC,EAAMP,IAENQ,EAAMR,IAENS,EAAMT,IAEV,SAASU,EAAaC,GACpB,OAAOA,GAAO1R,GAAW0R,EAAM1R,EAGjC,SAAS2R,EAAgBD,GACvB,OAAOA,EAAM1R,GAAW0R,GAAO1R,EAcjC,SAASgM,EAAQnL,EAAI+Q,EAAIhR,EAAIiR,EAAIpV,GAC/B,IAAIqV,EAAO,EAAIrV,EACf,OAAOqV,EAAOA,GAAQA,EAAOjR,EAAK,EAAIpE,EAAImV,GAAMnV,EAAIA,GAAKA,EAAIoV,EAAK,EAAIC,EAAOlR,GAc/E,SAASmR,EAAkBlR,EAAI+Q,EAAIhR,EAAIiR,EAAIpV,GACzC,IAAIqV,EAAO,EAAIrV,EACf,OAAO,KAAOmV,EAAK/Q,GAAMiR,EAAO,GAAKlR,EAAKgR,GAAMnV,GAAKqV,GAAQD,EAAKjR,GAAMnE,EAAIA,GAe9E,SAASuV,EAAYnR,EAAI+Q,EAAIhR,EAAIiR,EAAIH,EAAKO,GAExC,IAAI/R,EAAI2R,EAAK,GAAKD,EAAKhR,GAAMC,EACzBV,EAAI,GAAKS,EAAU,EAALgR,EAAS/Q,GACvBqR,EAAI,GAAKN,EAAK/Q,GACdoM,EAAIpM,EAAK6Q,EACTjL,EAAItG,EAAIA,EAAI,EAAID,EAAIgS,EACpBC,EAAIhS,EAAI+R,EAAI,EAAIhS,EAAI+M,EACpB1G,EAAI2L,EAAIA,EAAI,EAAI/R,EAAI8M,EACpBjR,EAAI,EAER,GAAIyV,EAAahL,IAAMgL,EAAaU,GAClC,GAAIV,EAAatR,GACf8R,EAAM,GAAK,MACN,CACL,IAAIG,GAAMF,EAAI/R,EAEViS,GAAM,GAAKA,GAAM,IACnBH,EAAMjW,KAAOoW,OAGZ,CACL,IAAIC,EAAOF,EAAIA,EAAI,EAAI1L,EAAIF,EAE3B,GAAIkL,EAAaY,GAAO,CACtB,IAAIC,EAAIH,EAAI1L,EAGR8L,GAFAH,GAAMjS,EAAID,EAAIoS,GAERA,EAAI,GAEVF,GAAM,GAAKA,GAAM,IACnBH,EAAMjW,KAAOoW,GAGXG,GAAM,GAAKA,GAAM,IACnBN,EAAMjW,KAAOuW,QAEV,GAAIF,EAAO,EAAG,CACnB,IAAIG,EAAWpL,EAASiL,GACpBI,EAAKhM,EAAItG,EAAI,IAAMD,IAAMiS,EAAIK,GAC7BE,EAAKjM,EAAItG,EAAI,IAAMD,IAAMiS,EAAIK,GAG/BC,EADEA,EAAK,GACDxB,GAASwB,EAAIpB,GAEdJ,EAAQwB,EAAIpB,GAIjBqB,EADEA,EAAK,GACDzB,GAASyB,EAAIrB,GAEdJ,EAAQyB,EAAIrB,GAGfe,IAAOjS,GAAKsS,EAAKC,KAAQ,EAAIxS,GAE7BkS,GAAM,GAAKA,GAAM,IACnBH,EAAMjW,KAAOoW,OAEV,CACL,IAAIO,GAAK,EAAIlM,EAAItG,EAAI,EAAID,EAAIiS,IAAM,EAAI/K,EAASX,EAAIA,EAAIA,IACpD2G,EAAQhN,KAAKwS,KAAKD,GAAK,EACvBE,EAAQzL,EAASX,GACjBlJ,EAAM6C,KAAKkF,IAAI8H,GAGf0F,GAFAV,IAAOjS,EAAI,EAAI0S,EAAQtV,IAAQ,EAAI2C,GACnCqS,IAAOpS,EAAI0S,GAAStV,EAAM6T,EAAahR,KAAKgF,IAAIgI,MAAY,EAAIlN,KACzDC,EAAI0S,GAAStV,EAAM6T,EAAahR,KAAKgF,IAAIgI,MAAY,EAAIlN,IAEhEkS,GAAM,GAAKA,GAAM,IACnBH,EAAMjW,KAAOoW,GAGXG,GAAM,GAAKA,GAAM,IACnBN,EAAMjW,KAAOuW,GAGXO,GAAM,GAAKA,GAAM,IACnBb,EAAMjW,KAAO8W,IAKnB,OAAO9W,EAcT,SAAS+W,EAAalS,EAAI+Q,EAAIhR,EAAIiR,EAAImB,GACpC,IAAI7S,EAAI,EAAIS,EAAK,GAAKgR,EAAK,EAAI/Q,EAC3BX,EAAI,EAAI0R,EAAK,EAAIC,EAAK,EAAIhR,EAAK,EAAID,EACnCsR,EAAI,EAAIN,EAAK,EAAI/Q,EACjB7E,EAAI,EAER,GAAIyV,EAAavR,IACf,GAAIyR,EAAgBxR,GAAI,CACtB,IAAIiS,GAAMF,EAAI/R,EAEViS,GAAM,GAAKA,GAAM,IACnBY,EAAQhX,KAAOoW,QAGd,CACL,IAAIC,EAAOlS,EAAIA,EAAI,EAAID,EAAIgS,EAE3B,GAAIT,EAAaY,GACfW,EAAQ,IAAM7S,GAAK,EAAID,QAClB,GAAImS,EAAO,EAAG,CACnB,IAAIG,EAAWpL,EAASiL,GAEpBE,GADAH,IAAOjS,EAAIqS,IAAa,EAAItS,KACrBC,EAAIqS,IAAa,EAAItS,IAE5BkS,GAAM,GAAKA,GAAM,IACnBY,EAAQhX,KAAOoW,GAGbG,GAAM,GAAKA,GAAM,IACnBS,EAAQhX,KAAOuW,IAKrB,OAAOvW,EAcT,SAASiX,EAAepS,EAAI+Q,EAAIhR,EAAIiR,EAAIpV,EAAGoH,GACzC,IAAIqP,GAAOtB,EAAK/Q,GAAMpE,EAAIoE,EACtBsS,GAAOvS,EAAKgR,GAAMnV,EAAImV,EACtBwB,GAAOvB,EAAKjR,GAAMnE,EAAImE,EACtByS,GAAQF,EAAMD,GAAOzW,EAAIyW,EACzBI,GAAQF,EAAMD,GAAO1W,EAAI0W,EACzBI,GAASD,EAAOD,GAAQ5W,EAAI4W,EAEhCxP,EAAI,GAAKhD,EACTgD,EAAI,GAAKqP,EACTrP,EAAI,GAAKwP,EACTxP,EAAI,GAAK0P,EAET1P,EAAI,GAAK0P,EACT1P,EAAI,GAAKyP,EACTzP,EAAI,GAAKuP,EACTvP,EAAI,GAAKgO,EAoBX,SAAS2B,EAAkB/I,EAAIC,EAAIrB,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIlJ,EAAGC,EAAGoD,GAE/D,IAAIpH,EAGAgX,EACAC,EACAC,EACAC,EALAC,EAAW,KACX5G,EAAI6G,IAKRxC,EAAI,GAAK9Q,EACT8Q,EAAI,GAAK7Q,EAGT,IAAK,IAAIsT,EAAK,EAAGA,EAAK,EAAGA,GAAM,IAC7BxC,EAAI,GAAKvF,EAAQvB,EAAIpB,EAAIE,EAAIE,EAAIsK,GACjCxC,EAAI,GAAKvF,EAAQtB,EAAIpB,EAAIE,EAAIE,EAAIqK,GACjCJ,EAAK3C,EAAaM,EAAKC,GAEnBoC,EAAK1G,IACPxQ,EAAIsX,EACJ9G,EAAI0G,GAIR1G,EAAI6G,IAEJ,IAAK,IAAIzV,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,GAAIwV,EAAW1C,EACb,MAGFsC,EAAOhX,EAAIoX,EACXH,EAAOjX,EAAIoX,EAEXtC,EAAI,GAAKvF,EAAQvB,EAAIpB,EAAIE,EAAIE,EAAIgK,GACjClC,EAAI,GAAKvF,EAAQtB,EAAIpB,EAAIE,EAAIE,EAAI+J,GACjCE,EAAK3C,EAAaO,EAAKD,GAEnBmC,GAAQ,GAAKE,EAAK1G,GACpBxQ,EAAIgX,EACJxG,EAAI0G,IAGJnC,EAAI,GAAKxF,EAAQvB,EAAIpB,EAAIE,EAAIE,EAAIiK,GACjClC,EAAI,GAAKxF,EAAQtB,EAAIpB,EAAIE,EAAIE,EAAIgK,GACjCE,EAAK5C,EAAaQ,EAAKF,GAEnBoC,GAAQ,GAAKE,EAAK3G,GACpBxQ,EAAIiX,EACJzG,EAAI2G,GAEJC,GAAY,IAYlB,OANIhQ,IACFA,EAAI,GAAKmI,EAAQvB,EAAIpB,EAAIE,EAAIE,EAAIhN,GACjCoH,EAAI,GAAKmI,EAAQtB,EAAIpB,EAAIE,EAAIE,EAAIjN,IAI5B2K,EAAS6F,GAYlB,SAAS+G,EAAYnT,EAAI+Q,EAAIhR,EAAInE,GAC/B,IAAIqV,EAAO,EAAIrV,EACf,OAAOqV,GAAQA,EAAOjR,EAAK,EAAIpE,EAAImV,GAAMnV,EAAIA,EAAImE,EAYnD,SAASqT,EAAsBpT,EAAI+Q,EAAIhR,EAAInE,GACzC,OAAO,IAAM,EAAIA,IAAMmV,EAAK/Q,GAAMpE,GAAKmE,EAAKgR,IAa9C,SAASsC,EAAgBrT,EAAI+Q,EAAIhR,EAAI8Q,EAAKO,GACxC,IAAI/R,EAAIW,EAAK,EAAI+Q,EAAKhR,EAClBT,EAAI,GAAKyR,EAAK/Q,GACdqR,EAAIrR,EAAK6Q,EACT1V,EAAI,EAER,GAAIyV,EAAavR,IACf,GAAIyR,EAAgBxR,GAAI,CACtB,IAAIiS,GAAMF,EAAI/R,EAEViS,GAAM,GAAKA,GAAM,IACnBH,EAAMjW,KAAOoW,QAGZ,CACL,IAAIC,EAAOlS,EAAIA,EAAI,EAAID,EAAIgS,EAE3B,GAAIT,EAAaY,GAAO,CAClBD,GAAMjS,GAAK,EAAID,GAEfkS,GAAM,GAAKA,GAAM,IACnBH,EAAMjW,KAAOoW,QAEV,GAAIC,EAAO,EAAG,CACnB,IAAIG,EAAWpL,EAASiL,GAEpBE,GADAH,IAAOjS,EAAIqS,IAAa,EAAItS,KACrBC,EAAIqS,IAAa,EAAItS,IAE5BkS,GAAM,GAAKA,GAAM,IACnBH,EAAMjW,KAAOoW,GAGXG,GAAM,GAAKA,GAAM,IACnBN,EAAMjW,KAAOuW,IAKnB,OAAOvW,EAYT,SAASmY,EAAkBtT,EAAI+Q,EAAIhR,GACjC,IAAIwT,EAAUvT,EAAKD,EAAK,EAAIgR,EAE5B,OAAgB,IAAZwC,EAEK,IAECvT,EAAK+Q,GAAMwC,EAcvB,SAASC,EAAmBxT,EAAI+Q,EAAIhR,EAAInE,EAAGoH,GACzC,IAAIqP,GAAOtB,EAAK/Q,GAAMpE,EAAIoE,EACtBsS,GAAOvS,EAAKgR,GAAMnV,EAAImV,EACtByB,GAAQF,EAAMD,GAAOzW,EAAIyW,EAE7BrP,EAAI,GAAKhD,EACTgD,EAAI,GAAKqP,EACTrP,EAAI,GAAKwP,EAETxP,EAAI,GAAKwP,EACTxP,EAAI,GAAKsP,EACTtP,EAAI,GAAKjD,EAkBX,SAAS0T,EAAsB7J,EAAIC,EAAIrB,EAAIC,EAAIC,EAAIC,EAAIhJ,EAAGC,EAAGoD,GAE3D,IAAIpH,EACAoX,EAAW,KACX5G,EAAI6G,IACRxC,EAAI,GAAK9Q,EACT8Q,EAAI,GAAK7Q,EAGT,IAAK,IAAIsT,EAAK,EAAGA,EAAK,EAAGA,GAAM,IAAM,CACnCxC,EAAI,GAAKyC,EAAYvJ,EAAIpB,EAAIE,EAAIwK,GACjCxC,EAAI,GAAKyC,EAAYtJ,EAAIpB,EAAIE,EAAIuK,GACjC,IAAIJ,EAAK3C,EAAaM,EAAKC,GAEvBoC,EAAK1G,IACPxQ,EAAIsX,EACJ9G,EAAI0G,GAIR1G,EAAI6G,IAEJ,IAAK,IAAIzV,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,GAAIwV,EAAW1C,EACb,MAGF,IAAIsC,EAAOhX,EAAIoX,EACXH,EAAOjX,EAAIoX,EAEftC,EAAI,GAAKyC,EAAYvJ,EAAIpB,EAAIE,EAAIkK,GACjClC,EAAI,GAAKyC,EAAYtJ,EAAIpB,EAAIE,EAAIiK,GAC7BE,EAAK3C,EAAaO,EAAKD,GAE3B,GAAImC,GAAQ,GAAKE,EAAK1G,EACpBxQ,EAAIgX,EACJxG,EAAI0G,MACC,CAELnC,EAAI,GAAKwC,EAAYvJ,EAAIpB,EAAIE,EAAImK,GACjClC,EAAI,GAAKwC,EAAYtJ,EAAIpB,EAAIE,EAAIkK,GACjC,IAAIE,EAAK5C,EAAaQ,EAAKF,GAEvBoC,GAAQ,GAAKE,EAAK3G,GACpBxQ,EAAIiX,EACJzG,EAAI2G,GAEJC,GAAY,IAYlB,OANIhQ,IACFA,EAAI,GAAKmQ,EAAYvJ,EAAIpB,EAAIE,EAAI9M,GACjCoH,EAAI,GAAKmQ,EAAYtJ,EAAIpB,EAAIE,EAAI/M,IAI5B2K,EAAS6F,GAGlBnN,EAAQkM,QAAUA,EAClBlM,EAAQiS,kBAAoBA,EAC5BjS,EAAQkS,YAAcA,EACtBlS,EAAQiT,aAAeA,EACvBjT,EAAQmT,eAAiBA,EACzBnT,EAAQ0T,kBAAoBA,EAC5B1T,EAAQkU,YAAcA,EACtBlU,EAAQmU,sBAAwBA,EAChCnU,EAAQoU,gBAAkBA,EAC1BpU,EAAQqU,kBAAoBA,EAC5BrU,EAAQuU,mBAAqBA,EAC7BvU,EAAQwU,sBAAwBA,G,uBCnhBhC,IAAIC,EAAW,EAAQ,QAEvBzU,EAAQ0U,WAAaD,EAErB,IAAI5G,EAAM,EAAQ,QAEd8G,EAAO,EAAQ,QAEfC,EAAaD,EAAKC,WAClBC,EAA6BF,EAAKE,2BAKlCC,EAAgC,qBAAXtF,UAA4BA,OAAOuF,iBACxDC,EAAkB,iDAClBC,EAAW,GAyBf,SAAS1S,EAAc2S,EAAIC,EAAGpR,EAAKqR,GA6BjC,OA5BArR,EAAMA,GAAO,GAOTqR,IAAcvH,EAAIO,gBACpBiH,EAAcH,EAAIC,EAAGpR,GAQd8J,EAAIG,QAAQe,SAAuB,MAAZoG,EAAEG,QAAkBH,EAAEG,SAAWH,EAAEI,SAC/DxR,EAAItB,IAAM0S,EAAEG,OACZvR,EAAIrB,IAAMyS,EAAEK,QAEQ,MAAbL,EAAEI,SACPxR,EAAItB,IAAM0S,EAAEI,QACZxR,EAAIrB,IAAMyS,EAAEM,SAGVJ,EAAcH,EAAIC,EAAGpR,GAGtBA,EAGT,SAASsR,EAAcH,EAAIC,EAAGpR,GAE5B,GAAI8J,EAAIU,cAAgB2G,EAAGQ,sBAAuB,CAChD,IAAIC,EAAKR,EAAES,QACPC,EAAKV,EAAEW,QAEX,GAAIlB,EAAWM,GAAK,CAMlB,IAAIa,EAAMb,EAAGQ,wBAGb,OAFA3R,EAAItB,IAAMkT,EAAKI,EAAI/Y,UACnB+G,EAAIrB,IAAMmT,EAAKE,EAAIC,KAGnB,GAAInB,EAA2BI,EAAUC,EAAIS,EAAIE,GAG/C,OAFA9R,EAAItB,IAAMwS,EAAS,QACnBlR,EAAIrB,IAAMuS,EAAS,IAMzBlR,EAAItB,IAAMsB,EAAIrB,IAAM,EAYtB,SAASuT,EAAed,GACtB,OAAOA,GAAK3F,OAAO5N,MAuBrB,SAASsU,EAAehB,EAAIC,EAAGC,GAG7B,GAFAD,EAAIc,EAAed,GAEN,MAATA,EAAE1S,IACJ,OAAO0S,EAGT,IAAIgB,EAAYhB,EAAE1R,KACd2S,EAAUD,GAAaA,EAAUE,QAAQ,UAAY,EAEzD,GAAKD,EAGE,CACL,IAAI/T,EAAsB,aAAd8T,EAA2BhB,EAAEmB,cAAc,GAAKnB,EAAEoB,eAAe,GAC7ElU,GAASE,EAAc2S,EAAI7S,EAAO8S,EAAGC,QAJrC7S,EAAc2S,EAAIC,EAAGA,EAAGC,GACxBD,EAAEqB,QAAUrB,EAAEsB,WAAatB,EAAEsB,WAAa,MAAQtB,EAAEuB,QAAU,GAAK,EAUrE,IAAIC,EAASxB,EAAEwB,OAUf,OARe,MAAXxB,EAAEyB,YAA4BC,IAAXF,GAAwB3B,EAAgB5F,KAAK+F,EAAE1R,QACpE0R,EAAEyB,MAAiB,EAATD,EAAa,EAAa,EAATA,EAAa,EAAa,EAATA,EAAa,EAAI,GAOxDxB,EAYT,SAASJ,EAAiBG,EAAI4B,EAAMC,EAASC,GACvClC,EAqBFI,EAAGH,iBAAiB+B,EAAMC,EAASC,GAGnC9B,EAAG+B,YAAY,KAAOH,EAAMC,GAYhC,SAASG,EAAoBhC,EAAI4B,EAAMC,EAASC,GAC1ClC,EACFI,EAAGgC,oBAAoBJ,EAAMC,EAASC,GAEtC9B,EAAGiC,YAAY,KAAOL,EAAMC,GAYhC,IAAIK,EAAOtC,EAAc,SAAUK,GACjCA,EAAEkC,iBACFlC,EAAEmC,kBACFnC,EAAEoC,cAAe,GACf,SAAUpC,GACZA,EAAEqC,aAAc,EAChBrC,EAAEoC,cAAe,GAUnB,SAASE,EAAmCtC,GAC1C,OAAmB,IAAZA,EAAEyB,OAA2B,IAAZzB,EAAEyB,MAQ5B,SAASc,EAAavC,GAEpB,OAAOA,EAAEyB,MAAQ,EAInB5W,EAAQuC,cAAgBA,EACxBvC,EAAQiW,eAAiBA,EACzBjW,EAAQkW,eAAiBA,EACzBlW,EAAQ+U,iBAAmBA,EAC3B/U,EAAQkX,oBAAsBA,EAC9BlX,EAAQoX,KAAOA,EACfpX,EAAQyX,mCAAqCA,EAC7CzX,EAAQ0X,aAAeA,G,uBC7QvB,IAAI7J,EAAM,EAAQ,QAEd8J,EAAuB,EAAQ,QAE/BC,EAAmBD,EAAqBC,iBACxCC,EAAmB,kBACnB5C,EAAW,GAmCf,SAAS6C,EAAoB/T,EAAKgU,EAAQC,EAAUC,EAAKC,GACvD,OAAOrD,EAA2BI,EAAU8C,EAAQE,EAAKC,GAAK,IAASrD,EAA2B9Q,EAAKiU,EAAU/C,EAAS,GAAIA,EAAS,IA0BzI,SAASJ,EAA2B9Q,EAAKmR,EAAI+C,EAAKC,EAAKC,GACrD,GAAIjD,EAAGQ,uBAAyB7H,EAAIU,eAAiBqG,EAAWM,GAAK,CACnE,IAAIkD,EAAQlD,EAAG2C,KAAsB3C,EAAG2C,GAAoB,IACxDQ,EAAUC,EAAoBpD,EAAIkD,GAClCG,EAAcC,EAA0BH,EAASD,EAAOD,GAE5D,GAAII,EAEF,OADAA,EAAYxU,EAAKkU,EAAKC,IACf,EAIX,OAAO,EAGT,SAASI,EAAoBpD,EAAIkD,GAC/B,IAAIC,EAAUD,EAAMC,QAEpB,GAAIA,EACF,OAAOA,EAGTA,EAAUD,EAAMC,QAAU,GAI1B,IAHA,IAAII,EAAS,CAAC,OAAQ,SAClBC,EAAS,CAAC,MAAO,UAEZna,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAIoa,EAASnK,SAASc,cAAc,OAChCsJ,EAAMD,EAAOE,MACbC,EAAQva,EAAI,EACZwa,GAASxa,GAAK,GAAK,EACvBqa,EAAII,QAAU,CAAC,qBAAsB,qBAAsB,aAAc,YAAa,kBAAmB,oBAAqB,UAAW,WAEzIP,EAAOK,GAAS,KAAMJ,EAAOK,GAAS,KAAMN,EAAO,EAAIK,GAAS,QAASJ,EAAO,EAAIK,GAAS,QAAS,IAAIE,KAAK,eAC/G/D,EAAGgE,YAAYP,GACfN,EAAQ7V,KAAKmW,GAGf,OAAON,EAGT,SAASG,EAA0BH,EAASD,EAAOD,GAQjD,IAPA,IAAIgB,EAAkBhB,EAAU,WAAa,QACzCI,EAAcH,EAAMe,GACpBC,EAAehB,EAAMiB,UACrBC,GAAkB,EAClBD,EAAY,GACZE,EAAa,GAERhb,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAIiM,EAAO6N,EAAQ9Z,GAAGmX,wBAClB8D,EAAK,EAAIjb,EACTmC,EAAI8J,EAAKxN,KACT2D,EAAI6J,EAAKwL,IACbqD,EAAU7W,KAAK9B,EAAGC,GAClB2Y,EAAkBA,GAAmBF,GAAgB1Y,IAAM0Y,EAAaI,IAAO7Y,IAAMyY,EAAaI,EAAK,GACvGD,EAAW/W,KAAK6V,EAAQ9Z,GAAGkb,WAAYpB,EAAQ9Z,GAAGmb,WAIpD,OAAOJ,GAAmBf,EAAcA,GAAeH,EAAMiB,UAAYA,EAAWjB,EAAMe,GAAmBhB,EAAUP,EAAiB2B,EAAYF,GAAazB,EAAiByB,EAAWE,IAG/L,SAAS3E,EAAWM,GAClB,MAAqC,WAA9BA,EAAGyE,SAASC,cAGrB5Z,EAAQ8X,oBAAsBA,EAC9B9X,EAAQ6U,2BAA6BA,EACrC7U,EAAQ4U,WAAaA,G,uBCzIrB,IAAIiF,EAAS,EAAQ,QAEjBrF,EAAwBqF,EAAOrF,sBAenC,SAASsF,EAAcnP,EAAIC,EAAIrB,EAAIC,EAAIC,EAAIC,EAAIqQ,EAAWrZ,EAAGC,GAC3D,GAAkB,IAAdoZ,EACF,OAAO,EAGT,IAAIC,EAAKD,EAET,GAAIpZ,EAAIiK,EAAKoP,GAAMrZ,EAAI6I,EAAKwQ,GAAMrZ,EAAI+I,EAAKsQ,GAAMrZ,EAAIiK,EAAKoP,GAAMrZ,EAAI6I,EAAKwQ,GAAMrZ,EAAI+I,EAAKsQ,GAAMtZ,EAAIiK,EAAKqP,GAAMtZ,EAAI6I,EAAKyQ,GAAMtZ,EAAI+I,EAAKuQ,GAAMtZ,EAAIiK,EAAKqP,GAAMtZ,EAAI6I,EAAKyQ,GAAMtZ,EAAI+I,EAAKuQ,EAChL,OAAO,EAGT,IAAI7M,EAAIqH,EAAsB7J,EAAIC,EAAIrB,EAAIC,EAAIC,EAAIC,EAAIhJ,EAAGC,EAAG,MAC5D,OAAOwM,GAAK6M,EAAK,EAGnBha,EAAQ8Z,cAAgBA,G,qBC5BxB,IAAIG,EAAiB,CACnB,oBAAqB,EACrB,kBAAmB,EACnB,gBAAiB,EACjB,iBAAkB,EAClB,0BAA2B,EAC3B,yBAA0B,EAE1B,iBAAkB,EAClB,kBAAmB,GAEjBC,EAAc,CAChB,qBAAsB,EACtB,sBAAuB,EACvB,6BAA8B,EAC9B,sBAAuB,EACvB,uBAAwB,EACxB,sBAAuB,EACvB,uBAAwB,EACxB,wBAAyB,EACzB,wBAAyB,GAEvBC,EAAcC,OAAO3Y,UAAU4Y,SAC/BC,EAAazW,MAAMpC,UACnB8Y,EAAgBD,EAAWE,QAC3BC,EAAeH,EAAWI,OAC1BC,EAAcL,EAAWM,MACzBC,EAAYP,EAAWQ,IACvBC,EAAeT,EAAWU,OAE1BC,EAAU,GAEd,SAASC,EAAUpE,EAAMqE,GAEV,iBAATrE,IACFjP,EAAO,MAGToT,EAAQnE,GAAQqE,EAoBlB,SAASrV,EAAMsV,GACb,GAAc,MAAVA,GAAoC,kBAAXA,EAC3B,OAAOA,EAGT,IAAIC,EAASD,EACTE,EAAUnB,EAAYoB,KAAKH,GAE/B,GAAgB,mBAAZE,GACF,IAAKE,EAAYJ,GAAS,CACxBC,EAAS,GAET,IAAK,IAAI9c,EAAI,EAAG6D,EAAMgZ,EAAOhe,OAAQmB,EAAI6D,EAAK7D,IAC5C8c,EAAO9c,GAAKuH,EAAMsV,EAAO7c,UAGxB,GAAI2b,EAAYoB,IACrB,IAAKE,EAAYJ,GAAS,CACxB,IAAIK,EAAOL,EAAO1Z,YAElB,GAAI0Z,EAAO1Z,YAAYga,KACrBL,EAASI,EAAKC,KAAKN,OACd,CACLC,EAAS,IAAII,EAAKL,EAAOhe,QAEzB,IAASmB,EAAI,EAAG6D,EAAMgZ,EAAOhe,OAAQmB,EAAI6D,EAAK7D,IAC5C8c,EAAO9c,GAAKuH,EAAMsV,EAAO7c,WAI1B,IAAK0b,EAAeqB,KAAaE,EAAYJ,KAAYO,EAAMP,GAGpE,IAAK,IAAIQ,KAFTP,EAAS,GAEOD,EACVA,EAAOvY,eAAe+Y,KACxBP,EAAOO,GAAO9V,EAAMsV,EAAOQ,KAKjC,OAAOP,EAUT,SAASQ,EAAMha,EAAQuZ,EAAQU,GAG7B,IAAKC,EAASX,KAAYW,EAASla,GACjC,OAAOia,EAAYhW,EAAMsV,GAAUvZ,EAGrC,IAAK,IAAI+Z,KAAOR,EACd,GAAIA,EAAOvY,eAAe+Y,GAAM,CAC9B,IAAII,EAAana,EAAO+Z,GACpBK,EAAab,EAAOQ,IAEpBG,EAASE,KAAeF,EAASC,IAAgBE,EAAQD,IAAgBC,EAAQF,IAAgBL,EAAMM,IAAgBN,EAAMK,IAAgBG,EAAgBF,IAAgBE,EAAgBH,IAAgBR,EAAYS,IAAgBT,EAAYQ,IAG9OF,GAAeF,KAAO/Z,IAG/BA,EAAO+Z,GAAO9V,EAAMsV,EAAOQ,IAAM,IAJjCC,EAAMG,EAAYC,EAAYH,GASpC,OAAOja,EAST,SAASua,EAASC,EAAkBP,GAGlC,IAFA,IAAIT,EAASgB,EAAiB,GAErB9d,EAAI,EAAG6D,EAAMia,EAAiBjf,OAAQmB,EAAI6D,EAAK7D,IACtD8c,EAASQ,EAAMR,EAAQgB,EAAiB9d,GAAIud,GAG9C,OAAOT,EAST,SAASiB,EAAOza,EAAQuZ,GACtB,IAAK,IAAIQ,KAAOR,EACVA,EAAOvY,eAAe+Y,KACxB/Z,EAAO+Z,GAAOR,EAAOQ,IAIzB,OAAO/Z,EAUT,SAAS0a,EAAS1a,EAAQuZ,EAAQoB,GAChC,IAAK,IAAIZ,KAAOR,EACVA,EAAOvY,eAAe+Y,KAASY,EAAyB,MAAfpB,EAAOQ,GAA8B,MAAf/Z,EAAO+Z,MACxE/Z,EAAO+Z,GAAOR,EAAOQ,IAIzB,OAAO/Z,EAGT,IASIgG,EATA4U,EAAe,WACjB,OAAOxB,EAAQwB,gBAUjB,SAAS5T,IAOP,OANKhB,IAGHA,EAAO4U,IAAe5T,WAAW,OAG5BhB,EAQT,SAASwO,EAAQha,EAAOc,GACtB,GAAId,EAAO,CACT,GAAIA,EAAMga,QACR,OAAOha,EAAMga,QAAQlZ,GAGvB,IAAK,IAAIoB,EAAI,EAAG6D,EAAM/F,EAAMe,OAAQmB,EAAI6D,EAAK7D,IAC3C,GAAIlC,EAAMkC,KAAOpB,EACf,OAAOoB,EAKb,OAAQ,EAWV,SAASme,EAASC,EAAOC,GACvB,IAAIC,EAAiBF,EAAMlb,UAE3B,SAASqb,KAKT,IAAK,IAAIC,KAHTD,EAAErb,UAAYmb,EAAUnb,UACxBkb,EAAMlb,UAAY,IAAIqb,EAELD,EACXA,EAAeha,eAAeka,KAChCJ,EAAMlb,UAAUsb,GAAQF,EAAeE,IAI3CJ,EAAMlb,UAAUC,YAAcib,EAC9BA,EAAMK,WAAaJ,EAUrB,SAASK,EAAMpb,EAAQuZ,EAAQoB,GAC7B3a,EAAS,cAAeA,EAASA,EAAOJ,UAAYI,EACpDuZ,EAAS,cAAeA,EAASA,EAAO3Z,UAAY2Z,EACpDmB,EAAS1a,EAAQuZ,EAAQoB,GAQ3B,SAASU,EAAYtV,GACnB,GAAKA,EAIL,MAAoB,kBAATA,GAImB,kBAAhBA,EAAKxK,OAWrB,SAAS+f,EAAKC,EAAKC,EAAIC,GACrB,GAAMF,GAAOC,EAIb,GAAID,EAAI5C,SAAW4C,EAAI5C,UAAYD,EACjC6C,EAAI5C,QAAQ6C,EAAIC,QACX,GAAIF,EAAIhgB,UAAYggB,EAAIhgB,OAC7B,IAAK,IAAImB,EAAI,EAAG6D,EAAMgb,EAAIhgB,OAAQmB,EAAI6D,EAAK7D,IACzC8e,EAAG9B,KAAK+B,EAASF,EAAI7e,GAAIA,EAAG6e,QAG9B,IAAK,IAAIxB,KAAOwB,EACVA,EAAIva,eAAe+Y,IACrByB,EAAG9B,KAAK+B,EAASF,EAAIxB,GAAMA,EAAKwB,GAexC,SAAStC,EAAIsC,EAAKC,EAAIC,GACpB,GAAMF,GAAOC,EAAb,CAIA,GAAID,EAAItC,KAAOsC,EAAItC,MAAQD,EACzB,OAAOuC,EAAItC,IAAIuC,EAAIC,GAInB,IAFA,IAAIjC,EAAS,GAEJ9c,EAAI,EAAG6D,EAAMgb,EAAIhgB,OAAQmB,EAAI6D,EAAK7D,IACzC8c,EAAO7Y,KAAK6a,EAAG9B,KAAK+B,EAASF,EAAI7e,GAAIA,EAAG6e,IAG1C,OAAO/B,GAaX,SAASL,EAAOoC,EAAKC,EAAIE,EAAMD,GAC7B,GAAMF,GAAOC,EAAb,CAIA,GAAID,EAAIpC,QAAUoC,EAAIpC,SAAWD,EAC/B,OAAOqC,EAAIpC,OAAOqC,EAAIE,EAAMD,GAE5B,IAAK,IAAI/e,EAAI,EAAG6D,EAAMgb,EAAIhgB,OAAQmB,EAAI6D,EAAK7D,IACzCgf,EAAOF,EAAG9B,KAAK+B,EAASC,EAAMH,EAAI7e,GAAIA,EAAG6e,GAG3C,OAAOG,GAaX,SAAS7C,EAAO0C,EAAKC,EAAIC,GACvB,GAAMF,GAAOC,EAAb,CAIA,GAAID,EAAI1C,QAAU0C,EAAI1C,SAAWD,EAC/B,OAAO2C,EAAI1C,OAAO2C,EAAIC,GAItB,IAFA,IAAIjC,EAAS,GAEJ9c,EAAI,EAAG6D,EAAMgb,EAAIhgB,OAAQmB,EAAI6D,EAAK7D,IACrC8e,EAAG9B,KAAK+B,EAASF,EAAI7e,GAAIA,EAAG6e,IAC9B/B,EAAO7Y,KAAK4a,EAAI7e,IAIpB,OAAO8c,GAaX,SAASmC,EAAKJ,EAAKC,EAAIC,GACrB,GAAMF,GAAOC,EAIb,IAAK,IAAI9e,EAAI,EAAG6D,EAAMgb,EAAIhgB,OAAQmB,EAAI6D,EAAK7D,IACzC,GAAI8e,EAAG9B,KAAK+B,EAASF,EAAI7e,GAAIA,EAAG6e,GAC9B,OAAOA,EAAI7e,GAYjB,SAASkf,EAAKC,EAAMJ,GAClB,IAAIK,EAAOhD,EAAYY,KAAK7P,UAAW,GACvC,OAAO,WACL,OAAOgS,EAAKE,MAAMN,EAASK,EAAKE,OAAOlD,EAAYY,KAAK7P,cAU5D,SAASoS,EAAMJ,GACb,IAAIC,EAAOhD,EAAYY,KAAK7P,UAAW,GACvC,OAAO,WACL,OAAOgS,EAAKE,MAAMne,KAAMke,EAAKE,OAAOlD,EAAYY,KAAK7P,cAUzD,SAASwQ,EAAQ/e,GACf,MAAmC,mBAA5Bgd,EAAYoB,KAAKpe,GAS1B,SAAS4gB,EAAW5gB,GAClB,MAAwB,oBAAVA,EAShB,SAAS6gB,EAAS7gB,GAChB,MAAmC,oBAA5Bgd,EAAYoB,KAAKpe,GAS1B,SAAS4e,EAAS5e,GAGhB,IAAIsG,SAActG,EAClB,MAAgB,aAATsG,KAAyBtG,GAAkB,WAATsG,EAS3C,SAAS0Y,EAAgBhf,GACvB,QAAS8c,EAAeE,EAAYoB,KAAKpe,IAS3C,SAAS8gB,EAAa9gB,GACpB,QAAS+c,EAAYC,EAAYoB,KAAKpe,IASxC,SAASwe,EAAMxe,GACb,MAAwB,kBAAVA,GAAgD,kBAAnBA,EAAM+gB,UAAwD,kBAAxB/gB,EAAMghB,cASzF,SAASC,EAAMjhB,GAEb,OAAOA,IAAUA,EAUnB,SAASkhB,EAASC,GAChB,IAAK,IAAI/f,EAAI,EAAG6D,EAAMsJ,UAAUtO,OAAQmB,EAAI6D,EAAK7D,IAC/C,GAAoB,MAAhBmN,UAAUnN,GACZ,OAAOmN,UAAUnN,GAKvB,SAASggB,EAAUC,EAAQC,GACzB,OAAiB,MAAVD,EAAiBA,EAASC,EAGnC,SAASC,EAAUF,EAAQC,EAAQE,GACjC,OAAiB,MAAVH,EAAiBA,EAAmB,MAAVC,EAAiBA,EAASE,EAW7D,SAAS/D,IACP,OAAOgE,SAASrD,KAAKqC,MAAMjD,EAAajP,WAa1C,SAASmT,EAAkBjN,GACzB,GAAmB,kBAARA,EACT,MAAO,CAACA,EAAKA,EAAKA,EAAKA,GAGzB,IAAIxP,EAAMwP,EAAIxU,OAEd,OAAY,IAARgF,EAEK,CAACwP,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,IACnB,IAARxP,EAEF,CAACwP,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAG/BA,EAST,SAASkN,EAAOC,EAAWC,GACzB,IAAKD,EACH,MAAM,IAAIzf,MAAM0f,GAUpB,SAASC,EAAKC,GACZ,OAAW,MAAPA,EACK,KACsB,oBAAbA,EAAID,KACbC,EAAID,OAEJC,EAAIC,QAAQ,qCAAsC,IAta7DlE,EAAQwB,aAAe,WACrB,OAAOjO,SAASc,cAAc,WAyahC,IAAI8P,EAAe,mBAKnB,SAASC,EAAejC,GACtBA,EAAIgC,IAAgB,EAGtB,SAAS5D,EAAY4B,GACnB,OAAOA,EAAIgC,GAQb,SAASE,EAAQlC,GACf,IAAImC,EAAQrD,EAAQkB,GAGpB3d,KAAKmI,KAAO,GACZ,IAAI4X,EAAU/f,KAGd,SAASggB,EAAMtiB,EAAOye,GACpB2D,EAAQC,EAAQ7P,IAAIxS,EAAOye,GAAO4D,EAAQ7P,IAAIiM,EAAKze,GAHrDigB,aAAekC,EAAUlC,EAAID,KAAKsC,GAASrC,GAAOD,EAAKC,EAAKqC,GAsC9D,SAASC,EAActC,GACrB,OAAO,IAAIkC,EAAQlC,GAGrB,SAASuC,EAAYvf,EAAGC,GAGtB,IAFA,IAAIuf,EAAW,IAAIxf,EAAEsB,YAAYtB,EAAEhD,OAASiD,EAAEjD,QAErCmB,EAAI,EAAGA,EAAI6B,EAAEhD,OAAQmB,IAC5BqhB,EAASrhB,GAAK6B,EAAE7B,GAGlB,IAAIf,EAAS4C,EAAEhD,OAEf,IAAKmB,EAAI,EAAGA,EAAI8B,EAAEjD,OAAQmB,IACxBqhB,EAASrhB,EAAIf,GAAU6C,EAAE9B,GAG3B,OAAOqhB,EAGT,SAASC,KAnDTP,EAAQ7d,UAAY,CAClBC,YAAa4d,EAIbQ,IAAK,SAAUlE,GACb,OAAOnc,KAAKmI,KAAK/E,eAAe+Y,GAAOnc,KAAKmI,KAAKgU,GAAO,MAE1DjM,IAAK,SAAUiM,EAAKze,GAGlB,OAAOsC,KAAKmI,KAAKgU,GAAOze,GAI1BggB,KAAM,SAAUE,EAAIC,GAIlB,IAAK,IAAI1B,UAHG,IAAZ0B,IAAuBD,EAAKI,EAAKJ,EAAIC,IAGrB7d,KAAKmI,KACnBnI,KAAKmI,KAAK/E,eAAe+Y,IAAQyB,EAAG5d,KAAKmI,KAAKgU,GAAMA,IAMxDmE,UAAW,SAAUnE,UACZnc,KAAKmI,KAAKgU,KA0BrB5b,EAAQkb,UAAYA,EACpBlb,EAAQ8F,MAAQA,EAChB9F,EAAQ6b,MAAQA,EAChB7b,EAAQoc,SAAWA,EACnBpc,EAAQsc,OAASA,EACjBtc,EAAQuc,SAAWA,EACnBvc,EAAQyc,aAAeA,EACvBzc,EAAQ6I,WAAaA,EACrB7I,EAAQqW,QAAUA,EAClBrW,EAAQ0c,SAAWA,EACnB1c,EAAQid,MAAQA,EAChBjd,EAAQkd,YAAcA,EACtBld,EAAQmd,KAAOA,EACfnd,EAAQ8a,IAAMA,EACd9a,EAAQgb,OAASA,EACjBhb,EAAQ0a,OAASA,EACjB1a,EAAQwd,KAAOA,EACfxd,EAAQyd,KAAOA,EACfzd,EAAQ8d,MAAQA,EAChB9d,EAAQkc,QAAUA,EAClBlc,EAAQ+d,WAAaA,EACrB/d,EAAQge,SAAWA,EACnBhe,EAAQ+b,SAAWA,EACnB/b,EAAQmc,gBAAkBA,EAC1Bnc,EAAQie,aAAeA,EACvBje,EAAQ2b,MAAQA,EAChB3b,EAAQoe,MAAQA,EAChBpe,EAAQqe,SAAWA,EACnBre,EAAQue,UAAYA,EACpBve,EAAQ0e,UAAYA,EACpB1e,EAAQ4a,MAAQA,EAChB5a,EAAQ6e,kBAAoBA,EAC5B7e,EAAQ8e,OAASA,EACjB9e,EAAQif,KAAOA,EACfjf,EAAQqf,eAAiBA,EACzBrf,EAAQwb,YAAcA,EACtBxb,EAAQ0f,cAAgBA,EACxB1f,EAAQ2f,YAAcA,EACtB3f,EAAQ6f,KAAOA,G,qBC5tBf,IAAIG,EAAM1f,KAAK2f,IAAI,GAEnB,SAASC,EAAYC,EAAMC,EAAMC,EAAUC,EAASC,EAASC,GAC3D,IAAIC,EAAWH,EAAU,IAAMC,EAC3BG,EAAWP,EAAK/iB,OAEpB,GAAIojB,EAAS3d,eAAe4d,GAC1B,OAAOD,EAASC,GAGlB,GAAa,IAATL,EAAY,CAEd,IAAIO,EAAWrgB,KAAKsgB,MAAMtgB,KAAK2f,KAAK,GAAKS,GAAY,GAAKH,GAAWP,GACrE,OAAOG,EAAKE,GAAUM,GAGxB,IAAIE,EAAaP,EAAU,GAAKD,EAC5BS,EAAcT,EAAW,EAE7B,MAAOC,EAAU,GAAKQ,EACpBA,IAKF,IAFA,IAAIC,EAAM,EAEDC,EAAI,EAAGC,EAAc,EAAGD,EAAIN,EAAUM,IAAK,CAClD,IAAIE,EAAS,GAAKF,EAEZE,EAASX,IACbQ,IAAQE,EAAc,GAAK,EAAI,GAAKd,EAAKE,GAAUW,GACjDd,EAAYC,EAAMC,EAAO,EAAGU,EAAaD,EAAYN,EAAUW,EAAQV,GACzES,KAKJ,OADAT,EAASC,GAAYM,EACdA,EAqBT,SAASnJ,EAAiBuJ,EAAKliB,GAC7B,IAAImiB,EAAK,CAAC,CAACD,EAAI,GAAIA,EAAI,GAAI,EAAG,EAAG,EAAG,GAAIliB,EAAK,GAAKkiB,EAAI,IAAKliB,EAAK,GAAKkiB,EAAI,IAAK,CAAC,EAAG,EAAG,EAAGA,EAAI,GAAIA,EAAI,GAAI,GAAIliB,EAAK,GAAKkiB,EAAI,IAAKliB,EAAK,GAAKkiB,EAAI,IAAK,CAACA,EAAI,GAAIA,EAAI,GAAI,EAAG,EAAG,EAAG,GAAIliB,EAAK,GAAKkiB,EAAI,IAAKliB,EAAK,GAAKkiB,EAAI,IAAK,CAAC,EAAG,EAAG,EAAGA,EAAI,GAAIA,EAAI,GAAI,GAAIliB,EAAK,GAAKkiB,EAAI,IAAKliB,EAAK,GAAKkiB,EAAI,IAAK,CAACA,EAAI,GAAIA,EAAI,GAAI,EAAG,EAAG,EAAG,GAAIliB,EAAK,GAAKkiB,EAAI,IAAKliB,EAAK,GAAKkiB,EAAI,IAAK,CAAC,EAAG,EAAG,EAAGA,EAAI,GAAIA,EAAI,GAAI,GAAIliB,EAAK,GAAKkiB,EAAI,IAAKliB,EAAK,GAAKkiB,EAAI,IAAK,CAACA,EAAI,GAAIA,EAAI,GAAI,EAAG,EAAG,EAAG,GAAIliB,EAAK,GAAKkiB,EAAI,IAAKliB,EAAK,GAAKkiB,EAAI,IAAK,CAAC,EAAG,EAAG,EAAGA,EAAI,GAAIA,EAAI,GAAI,GAAIliB,EAAK,GAAKkiB,EAAI,IAAKliB,EAAK,GAAKkiB,EAAI,KACjiBX,EAAW,GACX3a,EAAMqa,EAAYkB,EAAI,EAAG,EAAG,EAAG,EAAGZ,GAEtC,GAAY,IAAR3a,EAAJ,CASA,IAFA,IAAIwb,EAAK,GAEA9iB,EAAI,EAAGA,EAAI,EAAGA,IACrB,IAAK,IAAIyiB,EAAI,EAAGA,EAAI,EAAGA,IACZ,MAATK,EAAGL,KAAeK,EAAGL,GAAK,GAC1BK,EAAGL,MAAQziB,EAAIyiB,GAAK,GAAK,EAAI,GAC7Bd,EAAYkB,EAAI,EAAS,IAAN7iB,EAAU,EAAI,EAAG,GAAKA,EAAG,GAAKyiB,EAAGR,GAAY3a,EAAM5G,EAAKV,GAI/E,OAAO,SAAUwF,EAAKud,EAAWC,GAC/B,IAAIC,EAAKF,EAAYD,EAAG,GAAKE,EAAYF,EAAG,GAAK,EACjDtd,EAAI,IAAMud,EAAYD,EAAG,GAAKE,EAAYF,EAAG,GAAKA,EAAG,IAAMG,EAC3Dzd,EAAI,IAAMud,EAAYD,EAAG,GAAKE,EAAYF,EAAG,GAAKA,EAAG,IAAMG,IAI/DxhB,EAAQ4X,iBAAmBA,G,qBC7F3B,IAAI6J,EAAgB,EAAVnhB,KAAKohB,GAEf,SAASC,EAAgBC,GAOvB,OANAA,GAASH,EAELG,EAAQ,IACVA,GAASH,GAGJG,EAGT5hB,EAAQ2hB,gBAAkBA,G,mBCZ1B,SAAS1hB,EAAY0K,EAAIC,EAAIrB,EAAIC,EAAI9I,EAAGC,GACtC,GAAIA,EAAIiK,GAAMjK,EAAI6I,GAAM7I,EAAIiK,GAAMjK,EAAI6I,EACpC,OAAO,EAIT,GAAIA,IAAOoB,EACT,OAAO,EAGT,IAAIiX,EAAMrY,EAAKoB,EAAK,GAAK,EACrBjO,GAAKgE,EAAIiK,IAAOpB,EAAKoB,GAEf,IAANjO,GAAiB,IAANA,IACbklB,EAAMrY,EAAKoB,EAAK,IAAO,IAGzB,IAAIkX,EAAKnlB,GAAK4M,EAAKoB,GAAMA,EAEzB,OAAOmX,IAAOphB,EAAIsT,IAAW8N,EAAKphB,EAAImhB,EAAM,EAG9C9hB,EAAOC,QAAUC,G,mBCXjB,SAAS6Z,EAAcnP,EAAIC,EAAIrB,EAAIC,EAAIuQ,EAAWrZ,EAAGC,GACnD,GAAkB,IAAdoZ,EACF,OAAO,EAGT,IAAIC,EAAKD,EACLgI,EAAK,EACLC,EAAKrX,EAET,GAAIhK,EAAIiK,EAAKoP,GAAMrZ,EAAI6I,EAAKwQ,GAAMrZ,EAAIiK,EAAKoP,GAAMrZ,EAAI6I,EAAKwQ,GAAMtZ,EAAIiK,EAAKqP,GAAMtZ,EAAI6I,EAAKyQ,GAAMtZ,EAAIiK,EAAKqP,GAAMtZ,EAAI6I,EAAKyQ,EACpH,OAAO,EAGT,GAAIrP,IAAOpB,EAIT,OAAOjJ,KAAKC,IAAIG,EAAIiK,IAAOqP,EAAK,EAHhC+H,GAAMnX,EAAKpB,IAAOmB,EAAKpB,GACvByY,GAAMrX,EAAKnB,EAAKD,EAAKqB,IAAOD,EAAKpB,GAKnC,IAAI9L,EAAMskB,EAAKrhB,EAAIC,EAAIqhB,EAEnBC,EAAKxkB,EAAMA,GAAOskB,EAAKA,EAAK,GAEhC,OAAOE,GAAMjI,EAAK,EAAIA,EAAK,EAG7Bha,EAAQ8Z,cAAgBA,G,qBCtCxB,IAAI9T,EAAO,EAAQ,QAEfkc,EAAS,EAAQ,QAKjBC,EAAmBnc,EAAK4K,eACxB1J,EAAU5G,KAAKwG,IACfK,EAAU7G,KAAKyG,IAKnB,SAASb,EAAaxF,EAAGC,EAAGqM,EAAOC,GAC7BD,EAAQ,IACVtM,GAAQsM,EACRA,GAASA,GAGPC,EAAS,IACXtM,GAAQsM,EACRA,GAAUA,GAOZxN,KAAKiB,EAAIA,EAKTjB,KAAKkB,EAAIA,EAKTlB,KAAKuN,MAAQA,EAKbvN,KAAKwN,OAASA,EAGhB/G,EAAazE,UAAY,CACvBC,YAAawE,EAKbkc,MAAO,SAAUC,GACf,IAAI3hB,EAAIwG,EAAQmb,EAAM3hB,EAAGjB,KAAKiB,GAC1BC,EAAIuG,EAAQmb,EAAM1hB,EAAGlB,KAAKkB,GAC9BlB,KAAKuN,MAAQ7F,EAAQkb,EAAM3hB,EAAI2hB,EAAMrV,MAAOvN,KAAKiB,EAAIjB,KAAKuN,OAAStM,EACnEjB,KAAKwN,OAAS9F,EAAQkb,EAAM1hB,EAAI0hB,EAAMpV,OAAQxN,KAAKkB,EAAIlB,KAAKwN,QAAUtM,EACtElB,KAAKiB,EAAIA,EACTjB,KAAKkB,EAAIA,GAOXiQ,eAAgB,WACd,IAAI0R,EAAK,GACLC,EAAK,GACLC,EAAK,GACLC,EAAK,GACT,OAAO,SAAU/kB,GAIf,GAAKA,EAAL,CAIA4kB,EAAG,GAAKE,EAAG,GAAK/iB,KAAKiB,EACrB4hB,EAAG,GAAKG,EAAG,GAAKhjB,KAAKkB,EACrB4hB,EAAG,GAAKE,EAAG,GAAKhjB,KAAKiB,EAAIjB,KAAKuN,MAC9BuV,EAAG,GAAKC,EAAG,GAAK/iB,KAAKkB,EAAIlB,KAAKwN,OAC9BkV,EAAiBG,EAAIA,EAAI5kB,GACzBykB,EAAiBI,EAAIA,EAAI7kB,GACzBykB,EAAiBK,EAAIA,EAAI9kB,GACzBykB,EAAiBM,EAAIA,EAAI/kB,GACzB+B,KAAKiB,EAAIwG,EAAQob,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAIC,EAAG,IACzChjB,KAAKkB,EAAIuG,EAAQob,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAIC,EAAG,IACzC,IAAIC,EAAOvb,EAAQmb,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAIC,EAAG,IACvCE,EAAOxb,EAAQmb,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAIC,EAAG,IAC3ChjB,KAAKuN,MAAQ0V,EAAOjjB,KAAKiB,EACzBjB,KAAKwN,OAAS0V,EAAOljB,KAAKkB,IA1Bd,GAmChBiiB,mBAAoB,SAAUviB,GAC5B,IAAID,EAAIX,KACJiJ,EAAKrI,EAAE2M,MAAQ5M,EAAE4M,MACjBrE,EAAKtI,EAAE4M,OAAS7M,EAAE6M,OAClBvP,EAAIwkB,EAAOpe,SAKf,OAHAoe,EAAOvd,UAAUjH,EAAGA,EAAG,EAAE0C,EAAEM,GAAIN,EAAEO,IACjCuhB,EAAOzc,MAAM/H,EAAGA,EAAG,CAACgL,EAAIC,IACxBuZ,EAAOvd,UAAUjH,EAAGA,EAAG,CAAC2C,EAAEK,EAAGL,EAAEM,IACxBjD,GAOTmlB,UAAW,SAAUxiB,GACnB,IAAKA,EACH,OAAO,EAGHA,aAAa6F,IAEjB7F,EAAI6F,EAAapC,OAAOzD,IAG1B,IAAID,EAAIX,KACJqjB,EAAM1iB,EAAEM,EACRqiB,EAAM3iB,EAAEM,EAAIN,EAAE4M,MACdgW,EAAM5iB,EAAEO,EACRsiB,EAAM7iB,EAAEO,EAAIP,EAAE6M,OACdiW,EAAM7iB,EAAEK,EACRyiB,EAAM9iB,EAAEK,EAAIL,EAAE2M,MACdoW,EAAM/iB,EAAEM,EACR0iB,EAAMhjB,EAAEM,EAAIN,EAAE4M,OAClB,QAAS8V,EAAMG,GAAOC,EAAML,GAAOG,EAAMG,GAAOC,EAAML,IAExDxiB,QAAS,SAAUE,EAAGC,GACpB,IAAI6J,EAAO/K,KACX,OAAOiB,GAAK8J,EAAK9J,GAAKA,GAAK8J,EAAK9J,EAAI8J,EAAKwC,OAASrM,GAAK6J,EAAK7J,GAAKA,GAAK6J,EAAK7J,EAAI6J,EAAKyC,QAMtFnH,MAAO,WACL,OAAO,IAAII,EAAazG,KAAKiB,EAAGjB,KAAKkB,EAAGlB,KAAKuN,MAAOvN,KAAKwN,SAM3DhJ,KAAM,SAAUoe,GACd5iB,KAAKiB,EAAI2hB,EAAM3hB,EACfjB,KAAKkB,EAAI0hB,EAAM1hB,EACflB,KAAKuN,MAAQqV,EAAMrV,MACnBvN,KAAKwN,OAASoV,EAAMpV,QAEtBqW,MAAO,WACL,MAAO,CACL5iB,EAAGjB,KAAKiB,EACRC,EAAGlB,KAAKkB,EACRqM,MAAOvN,KAAKuN,MACZC,OAAQxN,KAAKwN,UAanB/G,EAAapC,OAAS,SAAU0G,GAC9B,OAAO,IAAItE,EAAasE,EAAK9J,EAAG8J,EAAK7J,EAAG6J,EAAKwC,MAAOxC,EAAKyC,SAG3D,IAAIvJ,EAAWwC,EACfnG,EAAOC,QAAU0D,G,uBCtLjB,IAAI6f,EAAQ,EAAQ,QAEhB5B,EAAkB4B,EAAM5B,gBACxBF,EAAgB,EAAVnhB,KAAKohB,GAef,SAAS5H,EAAc7P,EAAIC,EAAI/N,EAAGgO,EAAYC,EAAUC,EAAe0P,EAAWrZ,EAAGC,GACnF,GAAkB,IAAdoZ,EACF,OAAO,EAGT,IAAIC,EAAKD,EACTrZ,GAAKuJ,EACLtJ,GAAKuJ,EACL,IAAIiD,EAAI7M,KAAKiB,KAAKb,EAAIA,EAAIC,EAAIA,GAE9B,GAAIwM,EAAI6M,EAAK7d,GAAKgR,EAAI6M,EAAK7d,EACzB,OAAO,EAGT,GAAImE,KAAKC,IAAI4J,EAAaC,GAAYqX,EAAM,KAE1C,OAAO,EAGT,GAAIpX,EAAe,CACjB,IAAI5M,EAAM0M,EACVA,EAAawX,EAAgBvX,GAC7BA,EAAWuX,EAAgBlkB,QAE3B0M,EAAawX,EAAgBxX,GAC7BC,EAAWuX,EAAgBvX,GAGzBD,EAAaC,IACfA,GAAYqX,GAGd,IAAIG,EAAQthB,KAAKkjB,MAAM7iB,EAAGD,GAM1B,OAJIkhB,EAAQ,IACVA,GAASH,GAGJG,GAASzX,GAAcyX,GAASxX,GAAYwX,EAAQH,GAAOtX,GAAcyX,EAAQH,GAAOrX,EAGjGpK,EAAQ8Z,cAAgBA,G,qBC3DxB,IAAI2J,EAAS,EAAQ,QAEjB1O,EAAmB0O,EAAO1O,iBAC1BmC,EAAsBuM,EAAOvM,oBAC7BhB,EAAiBuN,EAAOvN,eACxBD,EAAiBwN,EAAOxN,eAExByN,EAAS,EAAQ,QAEjBjP,EAAW,EAAQ,QAEnB5G,EAAM,EAAQ,QAGd8V,EAAoB,IACpBC,EAAuB/V,EAAIU,aAE3BsV,EAA2B,WAC7B,IAAIC,EAAoB,CAAC,QAAS,WAAY,aAAc,WAAY,UAAW,YAAa,YAAa,eACzGC,EAAoB,CAAC,aAAc,WAAY,aAC/CC,EAAsB,CACxBC,YAAa,EACbC,UAAW,EACXC,YAAa,EACbC,WAAY,GAEVC,EAAsBX,EAAO5I,IAAIgJ,GAAmB,SAAUhN,GAChE,IAAIwN,EAAKxN,EAAKqI,QAAQ,QAAS,WAC/B,OAAO6E,EAAoBnhB,eAAeyhB,GAAMA,EAAKxN,KAEvD,MAAO,CACLyN,MAAOT,EACPzhB,MAAO0hB,EACPS,QAASH,GAhBkB,GAoB3BI,EAA4B,CAC9BF,MAAO,CAAC,YAAa,WACrBC,QAAS,CAAC,cAAe,cAG3B,SAASE,EAAa5N,GACpB,MAAgB,eAATA,GAAyBjJ,EAAIG,QAAQe,QAAU,iBAAmB+H,EAG3E,SAAS6N,EAAmB/iB,GAC1B,IAAIgjB,EAAchjB,EAAMgjB,YACxB,MAAuB,QAAhBA,GAAyC,UAAhBA,EA4BlC,SAASC,EAAcC,GACrBA,EAAMC,UAAW,EAEO,MAApBD,EAAME,aACRC,aAAaH,EAAME,YACnBF,EAAME,WAAa,MAGrBF,EAAME,WAAaE,YAAW,WAC5BJ,EAAMC,UAAW,EACjBD,EAAME,WAAa,OAClB,KAKL,SAASG,EAAUvjB,GACjBA,IAAUA,EAAMwjB,WAAY,GAS9B,SAASC,EAAqBC,EAAU1jB,GAGtC,OAAOsU,EAAeoP,EAASC,IAAK,IAAIC,EAAgBF,EAAU1jB,IAAQ,GAO5E,SAAS6jB,EAAUH,EAAUpQ,GAC3B,IAAIwQ,EAAQxQ,EACRyQ,GAAU,EAEd,MAAOD,GAA4B,IAAnBA,EAAMxH,YAAoByH,EAAUD,EAAME,eAAiBF,IAAUxQ,GAAMwQ,IAAUJ,EAASO,aAC5GH,EAAQA,EAAMI,WAGhB,OAAOH,EAUT,SAASH,EAAgBF,EAAU1jB,GACjCnC,KAAKgE,KAAO7B,EAAM6B,KAClBhE,KAAKoC,OAASpC,KAAKsmB,cAAgBT,EAASC,IAC5C9lB,KAAKmlB,YAAchjB,EAAMgjB,YAEzBnlB,KAAKmW,QAAUhU,EAAMgU,QACrBnW,KAAKqW,QAAUlU,EAAMkU,QAIvB,IAAIkQ,EAAuBR,EAAgB/jB,UAI3CukB,EAAqB1O,gBAAkB0O,EAAqBC,yBAA2BD,EAAqB3O,eAAiBqM,EAAO7D,KAMpI,IAAIqG,EAAmB,CACrBC,UAAW,SAAUvkB,GACnBA,EAAQsU,EAAezW,KAAK8lB,IAAK3jB,GACjCnC,KAAK2mB,mBAAqB,CAACxkB,EAAMa,IAAKb,EAAMc,KAC5CjD,KAAK4mB,QAAQ,YAAazkB,IAE5B0kB,UAAW,SAAU1kB,GACnBA,EAAQsU,EAAezW,KAAK8lB,IAAK3jB,GACjC,IAAI2kB,EAAY9mB,KAAK2mB,oBAEjBG,GAAc3kB,EAAMa,MAAQ8jB,EAAU,IAAM3kB,EAAMc,MAAQ6jB,EAAU,IACtEC,EAAqB/mB,MAAM,GAG7BA,KAAK4mB,QAAQ,YAAazkB,IAE5B6kB,QAAS,SAAU7kB,GACjBA,EAAQsU,EAAezW,KAAK8lB,IAAK3jB,GACjC4kB,EAAqB/mB,MAAM,GAC3BA,KAAK4mB,QAAQ,UAAWzkB,IAE1B8kB,SAAU,SAAU9kB,GAClBA,EAAQsU,EAAezW,KAAK8lB,IAAK3jB,GAG7BnC,KAAKknB,oBACP/kB,EAAMglB,eAAiB,gBAQzB,IAAIC,EAAUjlB,EAAMklB,WAAallB,EAAMmlB,cACvCnlB,EAAMolB,eAAiBvB,EAAUhmB,KAAMonB,GACvCpnB,KAAK4mB,QAAQ,WAAYzkB,IAE3BqlB,WAAY,SAAUrlB,GAGpBA,EAAQsU,EAAezW,KAAK8lB,IAAK3jB,GACjCujB,EAAUvjB,GACVnC,KAAKynB,iBAAmB,IAAIC,KAC5B1nB,KAAKsX,QAAQqQ,eAAexlB,EAAO,SAKnCskB,EAAiBI,UAAU/K,KAAK9b,KAAMmC,GACtCskB,EAAiBC,UAAU5K,KAAK9b,KAAMmC,IAExCylB,UAAW,SAAUzlB,GACnBA,EAAQsU,EAAezW,KAAK8lB,IAAK3jB,GACjCujB,EAAUvjB,GACVnC,KAAKsX,QAAQqQ,eAAexlB,EAAO,UAInCskB,EAAiBI,UAAU/K,KAAK9b,KAAMmC,IAExC0lB,SAAU,SAAU1lB,GAClBA,EAAQsU,EAAezW,KAAK8lB,IAAK3jB,GACjCujB,EAAUvjB,GACVnC,KAAKsX,QAAQqQ,eAAexlB,EAAO,OACnCskB,EAAiBO,QAAQlL,KAAK9b,KAAMmC,IAU/B,IAAIulB,KAAS1nB,KAAKynB,iBAAmBvD,GACxCuC,EAAiBqB,MAAMhM,KAAK9b,KAAMmC,IAGtCqiB,YAAa,SAAUriB,GACrBskB,EAAiBC,UAAU5K,KAAK9b,KAAMmC,IAIxCuiB,YAAa,SAAUviB,GAMhB+iB,EAAmB/iB,IACtBskB,EAAiBI,UAAU/K,KAAK9b,KAAMmC,IAG1CsiB,UAAW,SAAUtiB,GACnBskB,EAAiBO,QAAQlL,KAAK9b,KAAMmC,IAEtCwiB,WAAY,SAAUxiB,GAMf+iB,EAAmB/iB,IACtBskB,EAAiBQ,SAASnL,KAAK9b,KAAMmC,KAS3C8hB,EAAOvG,KAAK,CAAC,QAAS,aAAc,WAAY,gBAAgB,SAAUrG,GACxEoP,EAAiBpP,GAAQ,SAAUlV,GACjCA,EAAQsU,EAAezW,KAAK8lB,IAAK3jB,GACjCnC,KAAK4mB,QAAQvP,EAAMlV,OAYvB,IAAI4lB,EAAoB,CACtBrD,YAAa,SAAUviB,GAMhB+iB,EAAmB/iB,IACtB4lB,EAAkBlB,UAAU/K,KAAK9b,KAAMmC,IAG3CsiB,UAAW,SAAUtiB,GACnB4lB,EAAkBf,QAAQlL,KAAK9b,KAAMmC,IAEvC0kB,UAAW,SAAU1kB,GACnBnC,KAAK4mB,QAAQ,YAAazkB,IAE5B6kB,QAAS,SAAU7kB,GACjB,IAAI6lB,EAA0BhoB,KAAKknB,kBACnCH,EAAqB/mB,MAAM,GAC3BA,KAAK4mB,QAAQ,UAAWzkB,GAEpB6lB,IACF7lB,EAAMglB,eAAiB,iBACvBnnB,KAAK4mB,QAAQ,WAAYzkB,MAS/B,SAAS8lB,EAA4BpC,EAAUR,GAC7C,IAAI6C,EAAc7C,EAAM6C,YAEpB9Z,EAAI4B,uBAQNiU,EAAOvG,KAAK0G,EAAyBW,SAAS,SAAUoD,GACtDC,EAA4B/C,EAAO8C,GAAiB,SAAUhmB,GAE5D+lB,EAAYC,GAAiBrM,KAAK+J,EAAU1jB,UAgB5CiM,EAAIS,sBACNoV,EAAOvG,KAAK0G,EAAyBxhB,OAAO,SAAUulB,GACpDC,EAA4B/C,EAAO8C,GAAiB,SAAUhmB,GAE5D+lB,EAAYC,GAAiBrM,KAAK+J,EAAU1jB,GAC5CijB,EAAcC,SAWpBpB,EAAOvG,KAAK0G,EAAyBU,OAAO,SAAUqD,GACpDC,EAA4B/C,EAAO8C,GAAiB,SAAUhmB,GAC5DA,EAAQqU,EAAerU,GAElBkjB,EAAMC,UAET4C,EAAYC,GAAiBrM,KAAK+J,EAAU1jB,UAYtD,SAASkmB,EAA6BxC,EAAUR,GAY9C,SAASiD,EAAMH,GACb,SAASI,EAAoBpmB,GAC3BA,EAAQqU,EAAerU,GAMlB6jB,EAAUH,EAAU1jB,EAAMC,UAC7BD,EAAQyjB,EAAqBC,EAAU1jB,GACvCkjB,EAAM6C,YAAYC,GAAiBrM,KAAK+J,EAAU1jB,IAItDimB,EAA4B/C,EAAO8C,EAAiBI,EAAqB,CACvEC,SAAS,IAzBTpa,EAAI4B,uBACNiU,EAAOvG,KAAKsH,EAA0BD,QAASuD,GAKvCla,EAAIS,sBACVoV,EAAOvG,KAAKsH,EAA0BF,MAAOwD,GAwBnD,SAASF,EAA4B/C,EAAO8C,EAAiBM,EAAUlR,GACrE8N,EAAMqD,QAAQP,GAAmBM,EACjCpD,EAAMsD,aAAaR,GAAmB5Q,EACtCjC,EAAiB+P,EAAMuD,UAAW3D,EAAakD,GAAkBM,EAAUlR,GAG7E,SAASsR,EAAyBxD,GAChC,IAAIqD,EAAUrD,EAAMqD,QAEpB,IAAK,IAAIP,KAAmBO,EACtBA,EAAQtlB,eAAe+kB,IACzB1Q,EAAoB4N,EAAMuD,UAAW3D,EAAakD,GAAkBO,EAAQP,GAAkB9C,EAAMsD,aAAaR,IAIrH9C,EAAMqD,QAAU,GAWlB,SAAS3B,EAAqBlB,EAAUiD,GAGtC,GAFAjD,EAASc,mBAAqB,KAE1BxC,GAAwB0B,EAASqB,kBAAoB4B,EAAoB,CAC3EjD,EAASqB,kBAAoB4B,EAC7B,IAAIC,EAAqBlD,EAASmD,oBAClCF,EAAqBT,EAA6BxC,EAAUkD,GAAsBF,EAAyBE,IAS/G,SAASE,EAAgBL,EAAWV,GAClCloB,KAAK4oB,UAAYA,EACjB5oB,KAAKkoB,YAAcA,EAGnBloB,KAAK0oB,QAAU,GACf1oB,KAAK2oB,aAAe,GACpB3oB,KAAKulB,WAAa,KAClBvlB,KAAKslB,UAAW,EAQlB,SAAS4D,EAAgBpD,EAAKM,GAC5BpR,EAAS8G,KAAK9b,MACdA,KAAK8lB,IAAMA,EACX9lB,KAAKomB,YAAcA,EACnBpmB,KAAKmpB,mBAAqB,IAAIF,EAAgBnD,EAAKW,GAE/CtC,IACFnkB,KAAKgpB,oBAAsB,IAAIC,EAAgBla,SAAUgZ,IAO3D/nB,KAAKknB,mBAAoB,EAKzBlnB,KAAK2mB,mBAAqB,KAC1BsB,EAA4BjoB,KAAMA,KAAKmpB,oBAGzC,IAAIC,EAAuBF,EAAgBlnB,UAE3ConB,EAAqBC,QAAU,WAC7BR,EAAyB7oB,KAAKmpB,oBAE1BhF,GACF0E,EAAyB7oB,KAAKgpB,sBAIlCI,EAAqBE,UAAY,SAAUC,GACzCvpB,KAAK8lB,IAAI1M,QAAUpZ,KAAK8lB,IAAI1M,MAAMoQ,OAASD,GAAe,YAG5DtF,EAAOzG,MAAM0L,EAAiBlU,GAC9B,IAAI/Q,EAAWilB,EACf5oB,EAAOC,QAAU0D,G,mBCjfjB,IAAIwlB,EAAa,WAIfzpB,KAAK0pB,KAAO,KAKZ1pB,KAAK2pB,KAAO,KACZ3pB,KAAK2I,KAAO,GAGVihB,EAAkBH,EAAWznB,UAOjC4nB,EAAgBC,OAAS,SAAU1X,GACjC,IAAI2X,EAAQ,IAAIC,EAAM5X,GAEtB,OADAnS,KAAKgqB,YAAYF,GACVA,GAQTF,EAAgBI,YAAc,SAAUF,GACjC9pB,KAAK0pB,MAGR1pB,KAAK2pB,KAAKxV,KAAO2V,EACjBA,EAAM5V,KAAOlU,KAAK2pB,KAClBG,EAAM3V,KAAO,KACbnU,KAAK2pB,KAAOG,GALZ9pB,KAAK0pB,KAAO1pB,KAAK2pB,KAAOG,EAQ1B9pB,KAAK2I,QAQPihB,EAAgBK,OAAS,SAAUH,GACjC,IAAI5V,EAAO4V,EAAM5V,KACbC,EAAO2V,EAAM3V,KAEbD,EACFA,EAAKC,KAAOA,EAGZnU,KAAK0pB,KAAOvV,EAGVA,EACFA,EAAKD,KAAOA,EAGZlU,KAAK2pB,KAAOzV,EAGd4V,EAAM3V,KAAO2V,EAAM5V,KAAO,KAC1BlU,KAAK2I,QAOPihB,EAAgBjnB,IAAM,WACpB,OAAO3C,KAAK2I,MAOdihB,EAAgBpnB,MAAQ,WACtBxC,KAAK0pB,KAAO1pB,KAAK2pB,KAAO,KACxB3pB,KAAK2I,KAAO,GAQd,IAAIohB,EAAQ,SAAU5X,GAIpBnS,KAAKtC,MAAQyU,EAKbnS,KAAKmU,KAKLnU,KAAKkU,MASHgW,EAAM,SAAUC,GAClBnqB,KAAKoqB,MAAQ,IAAIX,EACjBzpB,KAAKqqB,KAAO,GACZrqB,KAAKsqB,SAAWH,GAAW,GAC3BnqB,KAAKuqB,kBAAoB,MAGvBC,EAAWN,EAAIloB,UAOnBwoB,EAASC,IAAM,SAAUtO,EAAKze,GAC5B,IAAIgtB,EAAO1qB,KAAKoqB,MACZ/O,EAAMrb,KAAKqqB,KACXM,EAAU,KAEd,GAAgB,MAAZtP,EAAIc,GAAc,CACpB,IAAIxZ,EAAM+nB,EAAK/nB,MAEXmnB,EAAQ9pB,KAAKuqB,kBAEjB,GAAI5nB,GAAO3C,KAAKsqB,UAAY3nB,EAAM,EAAG,CAEnC,IAAIioB,EAAiBF,EAAKhB,KAC1BgB,EAAKT,OAAOW,UACLvP,EAAIuP,EAAezO,KAC1BwO,EAAUC,EAAeltB,MACzBsC,KAAKuqB,kBAAoBK,EAGvBd,EACFA,EAAMpsB,MAAQA,EAEdosB,EAAQ,IAAIC,EAAMrsB,GAGpBosB,EAAM3N,IAAMA,EACZuO,EAAKV,YAAYF,GACjBzO,EAAIc,GAAO2N,EAGb,OAAOa,GAQTH,EAASnK,IAAM,SAAUlE,GACvB,IAAI2N,EAAQ9pB,KAAKqqB,KAAKlO,GAClBuO,EAAO1qB,KAAKoqB,MAEhB,GAAa,MAATN,EAOF,OALIA,IAAUY,EAAKf,OACjBe,EAAKT,OAAOH,GACZY,EAAKV,YAAYF,IAGZA,EAAMpsB,OAQjB8sB,EAAShoB,MAAQ,WACfxC,KAAKoqB,MAAM5nB,QAEXxC,KAAKqqB,KAAO,IAGd,IAAIpmB,EAAWimB,EACf5pB,EAAOC,QAAU0D,G,qBCzMjB,IAAI+D,EAAY,EAAQ,QAEpB6iB,EAAO,EAAQ,QAEfC,EAAQ,EAAQ,QAEhBC,EAAY,EAAQ,QAEpBxgB,EAAM,EAAQ,QAEduZ,EAAQ,EAAQ,QAEhB5B,EAAkB4B,EAAM5B,gBAExB5b,EAAQ,EAAQ,QAEhB9F,EAAc,EAAQ,QAEtBqG,EAAMmB,EAAUnB,IAChBmb,EAAgB,EAAVnhB,KAAKohB,GACXxhB,EAAU,KAEd,SAASC,EAAcC,EAAGC,GACxB,OAAOC,KAAKC,IAAIH,EAAIC,GAAKH,EAI3B,IAAIiS,EAAQ,EAAE,GAAI,GAAI,GAClBe,EAAU,EAAE,GAAI,GAEpB,SAASuX,IACP,IAAIhtB,EAAMyV,EAAQ,GAClBA,EAAQ,GAAKA,EAAQ,GACrBA,EAAQ,GAAKzV,EAGf,SAASitB,EAAa/f,EAAIC,EAAIrB,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIlJ,EAAGC,GAEvD,GAAIA,EAAIiK,GAAMjK,EAAI6I,GAAM7I,EAAI+I,GAAM/I,EAAIiJ,GAAMjJ,EAAIiK,GAAMjK,EAAI6I,GAAM7I,EAAI+I,GAAM/I,EAAIiJ,EAC5E,OAAO,EAGT,IAAI+gB,EAAS5kB,EAAMmM,YAAYtH,EAAIpB,EAAIE,EAAIE,EAAIjJ,EAAGwR,GAElD,GAAe,IAAXwY,EACF,OAAO,EAOP,IALA,IAEIC,EACAC,EAHAjqB,EAAI,EACJkqB,GAAY,EAIPvsB,EAAI,EAAGA,EAAIosB,EAAQpsB,IAAK,CAC/B,IAAI5B,EAAIwV,EAAM5T,GAEVwsB,EAAa,IAANpuB,GAAiB,IAANA,EAAU,GAAM,EAClCmlB,EAAK/b,EAAMmG,QAAQvB,EAAIpB,EAAIE,EAAIE,EAAIhN,GAEnCmlB,EAAKphB,IAKLoqB,EAAW,IACbA,EAAW/kB,EAAMkN,aAAarI,EAAIpB,EAAIE,EAAIE,EAAIsJ,GAE1CA,EAAQ,GAAKA,EAAQ,IAAM4X,EAAW,GACxCL,IAGFG,EAAM7kB,EAAMmG,QAAQtB,EAAIpB,EAAIE,EAAIE,EAAIsJ,EAAQ,IAExC4X,EAAW,IACbD,EAAM9kB,EAAMmG,QAAQtB,EAAIpB,EAAIE,EAAIE,EAAIsJ,EAAQ,MAI/B,IAAb4X,EAEEnuB,EAAIuW,EAAQ,GACdtS,GAAKgqB,EAAMhgB,EAAKmgB,GAAQA,EACfpuB,EAAIuW,EAAQ,GACrBtS,GAAKiqB,EAAMD,EAAMG,GAAQA,EAEzBnqB,GAAKgJ,EAAKihB,EAAME,GAAQA,EAItBpuB,EAAIuW,EAAQ,GACdtS,GAAKgqB,EAAMhgB,EAAKmgB,GAAQA,EAExBnqB,GAAKgJ,EAAKghB,EAAMG,GAAQA,GAK9B,OAAOnqB,EAIX,SAASoqB,EAAiBrgB,EAAIC,EAAIrB,EAAIC,EAAIC,EAAIC,EAAIhJ,EAAGC,GAEnD,GAAIA,EAAIiK,GAAMjK,EAAI6I,GAAM7I,EAAI+I,GAAM/I,EAAIiK,GAAMjK,EAAI6I,GAAM7I,EAAI+I,EACxD,OAAO,EAGT,IAAIihB,EAAS5kB,EAAMqO,gBAAgBxJ,EAAIpB,EAAIE,EAAI/I,EAAGwR,GAElD,GAAe,IAAXwY,EACF,OAAO,EAEP,IAAIhuB,EAAIoJ,EAAMsO,kBAAkBzJ,EAAIpB,EAAIE,GAExC,GAAI/M,GAAK,GAAKA,GAAK,EAAG,CAIpB,IAHA,IAAIiE,EAAI,EACJqqB,EAAKllB,EAAMmO,YAAYtJ,EAAIpB,EAAIE,EAAI/M,GAE9B4B,EAAI,EAAGA,EAAIosB,EAAQpsB,IAAK,CAE/B,IAAIwsB,EAAoB,IAAb5Y,EAAM5T,IAAyB,IAAb4T,EAAM5T,GAAW,GAAM,EAChDujB,EAAK/b,EAAMmO,YAAYvJ,EAAIpB,EAAIE,EAAI0I,EAAM5T,IAEzCujB,EAAKphB,IAKLyR,EAAM5T,GAAK5B,EACbiE,GAAKqqB,EAAKrgB,EAAKmgB,GAAQA,EAEvBnqB,GAAK8I,EAAKuhB,EAAKF,GAAQA,GAI3B,OAAOnqB,EAGHmqB,EAAoB,IAAb5Y,EAAM,IAAyB,IAAbA,EAAM,GAAW,GAAM,EAChD2P,EAAK/b,EAAMmO,YAAYvJ,EAAIpB,EAAIE,EAAI0I,EAAM,IAE7C,OAAI2P,EAAKphB,EAEA,EAGFgJ,EAAKkB,EAAKmgB,GAAQA,EAO/B,SAASG,EAAWjhB,EAAIC,EAAI/N,EAAGgO,EAAYC,EAAUC,EAAe3J,EAAGC,GAGrE,GAFAA,GAAKuJ,EAEDvJ,EAAIxE,GAAKwE,GAAKxE,EAChB,OAAO,EAGT,IAAIsB,EAAM6C,KAAKiB,KAAKpF,EAAIA,EAAIwE,EAAIA,GAChCwR,EAAM,IAAM1U,EACZ0U,EAAM,GAAK1U,EACX,IAAI0tB,EAAO7qB,KAAKC,IAAI4J,EAAaC,GAEjC,GAAI+gB,EAAO,KACT,OAAO,EAGT,GAAIA,EAAO1J,EAAM,KAAM,CAErBtX,EAAa,EACbC,EAAWqX,EACX,IAAII,EAAMxX,EAAgB,GAAK,EAE/B,OAAI3J,GAAKyR,EAAM,GAAKlI,GAAMvJ,GAAKyR,EAAM,GAAKlI,EACjC4X,EAEA,EAIX,GAAIxX,EAAe,CACb5M,EAAM0M,EACVA,EAAawX,EAAgBvX,GAC7BA,EAAWuX,EAAgBlkB,QAE3B0M,EAAawX,EAAgBxX,GAC7BC,EAAWuX,EAAgBvX,GAGzBD,EAAaC,IACfA,GAAYqX,GAKd,IAFA,IAAI7gB,EAAI,EAECrC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAIujB,EAAK3P,EAAM5T,GAEf,GAAIujB,EAAK7X,EAAKvJ,EAAG,CACf,IAAIkhB,EAAQthB,KAAKkjB,MAAM7iB,EAAGmhB,GACtBD,EAAMxX,EAAgB,GAAK,EAE3BuX,EAAQ,IACVA,EAAQH,EAAMG,IAGZA,GAASzX,GAAcyX,GAASxX,GAAYwX,EAAQH,GAAOtX,GAAcyX,EAAQH,GAAOrX,KACtFwX,EAAQthB,KAAKohB,GAAK,GAAKE,EAAkB,IAAVthB,KAAKohB,KACtCG,GAAOA,GAGTjhB,GAAKihB,IAKX,OAAOjhB,EAGT,SAASwqB,EAAYxjB,EAAMmS,EAAWsR,EAAU3qB,EAAGC,GAOjD,IANA,IAAIC,EAAI,EACJ4L,EAAK,EACLC,EAAK,EACL9B,EAAK,EACLC,EAAK,EAEArM,EAAI,EAAGA,EAAIqJ,EAAKxK,QAAS,CAChC,IAAIqO,EAAM7D,EAAKrJ,KAwBf,OAtBIkN,IAAQnF,EAAIC,GAAKhI,EAAI,IAElB8sB,IACHzqB,GAAKX,EAAYuM,EAAIC,EAAI9B,EAAIC,EAAIlK,EAAGC,KAQ9B,IAANpC,IAKFiO,EAAK5E,EAAKrJ,GACVkO,EAAK7E,EAAKrJ,EAAI,GACdoM,EAAK6B,EACL5B,EAAK6B,GAGChB,GACN,KAAKnF,EAAIC,EAGPoE,EAAK/C,EAAKrJ,KACVqM,EAAKhD,EAAKrJ,KACViO,EAAK7B,EACL8B,EAAK7B,EACL,MAEF,KAAKtE,EAAIE,EACP,GAAI6kB,GACF,GAAIf,EAAKxQ,cAActN,EAAIC,EAAI7E,EAAKrJ,GAAIqJ,EAAKrJ,EAAI,GAAIwb,EAAWrZ,EAAGC,GACjE,OAAO,OAITC,GAAKX,EAAYuM,EAAIC,EAAI7E,EAAKrJ,GAAIqJ,EAAKrJ,EAAI,GAAImC,EAAGC,IAAM,EAG1D6L,EAAK5E,EAAKrJ,KACVkO,EAAK7E,EAAKrJ,KACV,MAEF,KAAK+H,EAAIG,EACP,GAAI4kB,GACF,GAAId,EAAMzQ,cAActN,EAAIC,EAAI7E,EAAKrJ,KAAMqJ,EAAKrJ,KAAMqJ,EAAKrJ,KAAMqJ,EAAKrJ,KAAMqJ,EAAKrJ,GAAIqJ,EAAKrJ,EAAI,GAAIwb,EAAWrZ,EAAGC,GAC9G,OAAO,OAGTC,GAAK8pB,EAAale,EAAIC,EAAI7E,EAAKrJ,KAAMqJ,EAAKrJ,KAAMqJ,EAAKrJ,KAAMqJ,EAAKrJ,KAAMqJ,EAAKrJ,GAAIqJ,EAAKrJ,EAAI,GAAImC,EAAGC,IAAM,EAGvG6L,EAAK5E,EAAKrJ,KACVkO,EAAK7E,EAAKrJ,KACV,MAEF,KAAK+H,EAAII,EACP,GAAI2kB,GACF,GAAIb,EAAU1Q,cAActN,EAAIC,EAAI7E,EAAKrJ,KAAMqJ,EAAKrJ,KAAMqJ,EAAKrJ,GAAIqJ,EAAKrJ,EAAI,GAAIwb,EAAWrZ,EAAGC,GAC5F,OAAO,OAGTC,GAAKoqB,EAAiBxe,EAAIC,EAAI7E,EAAKrJ,KAAMqJ,EAAKrJ,KAAMqJ,EAAKrJ,GAAIqJ,EAAKrJ,EAAI,GAAImC,EAAGC,IAAM,EAGrF6L,EAAK5E,EAAKrJ,KACVkO,EAAK7E,EAAKrJ,KACV,MAEF,KAAK+H,EAAIK,EAEP,IAAIsD,EAAKrC,EAAKrJ,KACV2L,EAAKtC,EAAKrJ,KACVsO,EAAKjF,EAAKrJ,KACVuO,EAAKlF,EAAKrJ,KACV+O,EAAQ1F,EAAKrJ,KACbgP,EAAS3F,EAAKrJ,KAElBA,GAAK,EACL,IAAI8L,EAAgB,EAAIzC,EAAKrJ,KACzBgL,EAAKjJ,KAAKkF,IAAI8H,GAAST,EAAK5C,EAC5BT,EAAKlJ,KAAKgF,IAAIgI,GAASR,EAAK5C,EAE5B3L,EAAI,EACNqC,GAAKX,EAAYuM,EAAIC,EAAIlD,EAAIC,EAAI9I,EAAGC,IAGpCgK,EAAKpB,EACLqB,EAAKpB,GAIP,IAAI8hB,GAAM5qB,EAAIuJ,GAAM6C,EAAKD,EAAK5C,EAE9B,GAAIohB,GACF,GAAIrhB,EAAI8P,cAAc7P,EAAIC,EAAI4C,EAAIQ,EAAOA,EAAQC,EAAQlD,EAAe0P,EAAWuR,EAAI3qB,GACrF,OAAO,OAGTC,GAAKsqB,EAAWjhB,EAAIC,EAAI4C,EAAIQ,EAAOA,EAAQC,EAAQlD,EAAeihB,EAAI3qB,GAGxE6L,EAAKlM,KAAKkF,IAAI8H,EAAQC,GAAUV,EAAK5C,EACrCwC,EAAKnM,KAAKgF,IAAIgI,EAAQC,GAAUT,EAAK5C,EACrC,MAEF,KAAK5D,EAAIO,EACP8D,EAAK6B,EAAK5E,EAAKrJ,KACfqM,EAAK6B,EAAK7E,EAAKrJ,KACf,IAAIyO,EAAQpF,EAAKrJ,KACb0O,EAASrF,EAAKrJ,KACdgL,EAAKoB,EAAKqC,EACVxD,EAAKoB,EAAKqC,EAEd,GAAIoe,GACF,GAAIf,EAAKxQ,cAAcnP,EAAIC,EAAIrB,EAAIqB,EAAImP,EAAWrZ,EAAGC,IAAM2pB,EAAKxQ,cAAcvQ,EAAIqB,EAAIrB,EAAIC,EAAIuQ,EAAWrZ,EAAGC,IAAM2pB,EAAKxQ,cAAcvQ,EAAIC,EAAImB,EAAInB,EAAIuQ,EAAWrZ,EAAGC,IAAM2pB,EAAKxQ,cAAcnP,EAAInB,EAAImB,EAAIC,EAAImP,EAAWrZ,EAAGC,GACxN,OAAO,OAITC,GAAKX,EAAYsJ,EAAIqB,EAAIrB,EAAIC,EAAI9I,EAAGC,GACpCC,GAAKX,EAAY0K,EAAInB,EAAImB,EAAIC,EAAIlK,EAAGC,GAGtC,MAEF,KAAK2F,EAAIM,EACP,GAAIykB,GACF,GAAIf,EAAKxQ,cAActN,EAAIC,EAAI9B,EAAIC,EAAImP,EAAWrZ,EAAGC,GACnD,OAAO,OAITC,GAAKX,EAAYuM,EAAIC,EAAI9B,EAAIC,EAAIlK,EAAGC,GAOtC6L,EAAK7B,EACL8B,EAAK7B,EACL,OAQN,OAJKygB,GAAalrB,EAAcsM,EAAI7B,KAClChK,GAAKX,EAAYuM,EAAIC,EAAI9B,EAAIC,EAAIlK,EAAGC,IAAM,GAG/B,IAANC,EAGT,SAASJ,EAAQ+qB,EAAU7qB,EAAGC,GAC5B,OAAOyqB,EAAYG,EAAU,GAAG,EAAO7qB,EAAGC,GAG5C,SAASmZ,EAAcyR,EAAUxR,EAAWrZ,EAAGC,GAC7C,OAAOyqB,EAAYG,EAAUxR,GAAW,EAAMrZ,EAAGC,GAGnDX,EAAQQ,QAAUA,EAClBR,EAAQ8Z,cAAgBA,G,mBCtYxB,IAAI0R,EAAU,KAEd,SAAS9nB,IACP,OAAO8nB,IAGTzrB,EAAOC,QAAU0D,G,qBCXjB,IAAIggB,EAAS,EAAQ,QAEjB+H,EAAU,EAAQ,QAElBvlB,EAAe,EAAQ,QA2BvBwlB,EAAQ,SAAUC,GAIpB,IAAK,IAAI/P,KAHT+P,EAAOA,GAAQ,GACfF,EAAQlQ,KAAK9b,KAAMksB,GAEHA,EACVA,EAAK9oB,eAAe+Y,KACtBnc,KAAKmc,GAAO+P,EAAK/P,IAIrBnc,KAAKmsB,UAAY,GACjBnsB,KAAKosB,UAAY,KACjBpsB,KAAKqsB,SAAU,GAGjBJ,EAAMjqB,UAAY,CAChBC,YAAagqB,EACbK,SAAS,EAKTtoB,KAAM,QAQNuoB,QAAQ,EAKRC,SAAU,WACR,OAAOxsB,KAAKmsB,UAAUhR,SAQxBsR,QAAS,SAAUngB,GACjB,OAAOtM,KAAKmsB,UAAU7f,IAQxBogB,YAAa,SAAUrV,GAGrB,IAFA,IAAImV,EAAWxsB,KAAKmsB,UAEXrtB,EAAI,EAAGA,EAAI0tB,EAAS7uB,OAAQmB,IACnC,GAAI0tB,EAAS1tB,GAAGuY,OAASA,EACvB,OAAOmV,EAAS1tB,IAQtB6tB,WAAY,WACV,OAAO3sB,KAAKmsB,UAAUxuB,QAOxBwS,IAAK,SAAUyc,GAOb,OANIA,GAASA,IAAU5sB,MAAQ4sB,EAAMC,SAAW7sB,OAC9CA,KAAKmsB,UAAUppB,KAAK6pB,GAEpB5sB,KAAK8sB,OAAOF,IAGP5sB,MAQT+sB,UAAW,SAAUH,EAAOI,GAC1B,GAAIJ,GAASA,IAAU5sB,MAAQ4sB,EAAMC,SAAW7sB,MAAQgtB,GAAeA,EAAYH,SAAW7sB,KAAM,CAClG,IAAIwsB,EAAWxsB,KAAKmsB,UAChB7f,EAAMkgB,EAAS5V,QAAQoW,GAEvB1gB,GAAO,IACTkgB,EAASS,OAAO3gB,EAAK,EAAGsgB,GAExB5sB,KAAK8sB,OAAOF,IAIhB,OAAO5sB,MAET8sB,OAAQ,SAAUF,GACZA,EAAMC,QACRD,EAAMC,OAAO5C,OAAO2C,GAGtBA,EAAMC,OAAS7sB,KACf,IAAIktB,EAAUltB,KAAKosB,UACfe,EAAKntB,KAAKotB,KAEVF,GAAWA,IAAYN,EAAMR,YAC/Bc,EAAQG,aAAaT,GAEjBA,aAAiBX,GACnBW,EAAMU,qBAAqBJ,IAI/BC,GAAMA,EAAGI,WAOXtD,OAAQ,SAAU2C,GAChB,IAAIO,EAAKntB,KAAKotB,KACVF,EAAUltB,KAAKosB,UACfI,EAAWxsB,KAAKmsB,UAChB7f,EAAM2X,EAAOrN,QAAQ4V,EAAUI,GAEnC,OAAItgB,EAAM,IAIVkgB,EAASS,OAAO3gB,EAAK,GACrBsgB,EAAMC,OAAS,KAEXK,IACFA,EAAQM,eAAeZ,GAEnBA,aAAiBX,GACnBW,EAAMa,uBAAuBP,IAIjCC,GAAMA,EAAGI,WAdAvtB,MAqBX0tB,UAAW,WACT,IAEId,EACA9tB,EAHA0tB,EAAWxsB,KAAKmsB,UAChBe,EAAUltB,KAAKosB,UAInB,IAAKttB,EAAI,EAAGA,EAAI0tB,EAAS7uB,OAAQmB,IAC/B8tB,EAAQJ,EAAS1tB,GAEbouB,IACFA,EAAQM,eAAeZ,GAEnBA,aAAiBX,GACnBW,EAAMa,uBAAuBP,IAIjCN,EAAMC,OAAS,KAIjB,OADAL,EAAS7uB,OAAS,EACXqC,MAQT2tB,UAAW,SAAU/P,EAAIC,GAGvB,IAFA,IAAI2O,EAAWxsB,KAAKmsB,UAEXrtB,EAAI,EAAGA,EAAI0tB,EAAS7uB,OAAQmB,IAAK,CACxC,IAAI8tB,EAAQJ,EAAS1tB,GACrB8e,EAAG9B,KAAK+B,EAAS+O,EAAO9tB,GAG1B,OAAOkB,MAQT4tB,SAAU,SAAUhQ,EAAIC,GACtB,IAAK,IAAI/e,EAAI,EAAGA,EAAIkB,KAAKmsB,UAAUxuB,OAAQmB,IAAK,CAC9C,IAAI8tB,EAAQ5sB,KAAKmsB,UAAUrtB,GAC3B8e,EAAG9B,KAAK+B,EAAS+O,GAEE,UAAfA,EAAM5oB,MACR4oB,EAAMgB,SAAShQ,EAAIC,GAIvB,OAAO7d,MAETstB,qBAAsB,SAAUJ,GAC9B,IAAK,IAAIpuB,EAAI,EAAGA,EAAIkB,KAAKmsB,UAAUxuB,OAAQmB,IAAK,CAC9C,IAAI8tB,EAAQ5sB,KAAKmsB,UAAUrtB,GAC3BouB,EAAQG,aAAaT,GAEjBA,aAAiBX,GACnBW,EAAMU,qBAAqBJ,KAIjCO,uBAAwB,SAAUP,GAChC,IAAK,IAAIpuB,EAAI,EAAGA,EAAIkB,KAAKmsB,UAAUxuB,OAAQmB,IAAK,CAC9C,IAAI8tB,EAAQ5sB,KAAKmsB,UAAUrtB,GAC3BouB,EAAQM,eAAeZ,GAEnBA,aAAiBX,GACnBW,EAAMa,uBAAuBP,KAInCW,MAAO,WAGL,OAFA7tB,KAAKqsB,SAAU,EACfrsB,KAAKotB,MAAQptB,KAAKotB,KAAKG,UAChBvtB,MAMT4M,gBAAiB,SAAUkhB,GAOzB,IALA,IAAI/iB,EAAO,KACPgjB,EAAU,IAAItnB,EAAa,EAAG,EAAG,EAAG,GACpC+lB,EAAWsB,GAAmB9tB,KAAKmsB,UACnC6B,EAAS,GAEJlvB,EAAI,EAAGA,EAAI0tB,EAAS7uB,OAAQmB,IAAK,CACxC,IAAI8tB,EAAQJ,EAAS1tB,GAErB,IAAI8tB,EAAMqB,SAAUrB,EAAMsB,UAA1B,CAIA,IAAIC,EAAYvB,EAAMhgB,kBAClBwhB,EAAYxB,EAAMyB,kBAAkBL,GAQpCI,GACFL,EAAQvpB,KAAK2pB,GACbJ,EAAQ5c,eAAeid,GACvBrjB,EAAOA,GAAQgjB,EAAQ1nB,QACvB0E,EAAK4X,MAAMoL,KAEXhjB,EAAOA,GAAQojB,EAAU9nB,QACzB0E,EAAK4X,MAAMwL,KAIf,OAAOpjB,GAAQgjB,IAGnB9J,EAAOhH,SAASgP,EAAOD,GACvB,IAAI/nB,EAAWgoB,EACf3rB,EAAOC,QAAU0D,G,qBCvTjB,IAAIsC,EAAO,EAAQ,QAEfD,EAAQ,EAAQ,QAKhBmB,EAAU5G,KAAKwG,IACfK,EAAU7G,KAAKyG,IACfM,EAAU/G,KAAKgF,IACf8B,EAAU9G,KAAKkF,IACfic,EAAgB,EAAVnhB,KAAKohB,GACX7kB,EAAQmJ,EAAKlC,SACbiqB,EAAM/nB,EAAKlC,SACXkqB,EAAYhoB,EAAKlC,SASrB,SAASmqB,EAAWxtB,EAAQqG,EAAKC,GAC/B,GAAsB,IAAlBtG,EAAOrD,OAAX,CAIA,IAKImB,EALAsC,EAAIJ,EAAO,GACXzD,EAAO6D,EAAE,GACT5D,EAAQ4D,EAAE,GACVmV,EAAMnV,EAAE,GACRqtB,EAASrtB,EAAE,GAGf,IAAKtC,EAAI,EAAGA,EAAIkC,EAAOrD,OAAQmB,IAC7BsC,EAAIJ,EAAOlC,GACXvB,EAAOkK,EAAQlK,EAAM6D,EAAE,IACvB5D,EAAQkK,EAAQlK,EAAO4D,EAAE,IACzBmV,EAAM9O,EAAQ8O,EAAKnV,EAAE,IACrBqtB,EAAS/mB,EAAQ+mB,EAAQrtB,EAAE,IAG7BiG,EAAI,GAAK9J,EACT8J,EAAI,GAAKkP,EACTjP,EAAI,GAAK9J,EACT8J,EAAI,GAAKmnB,GAaX,SAASxhB,EAAS/B,EAAIC,EAAIrB,EAAIC,EAAI1C,EAAKC,GACrCD,EAAI,GAAKI,EAAQyD,EAAIpB,GACrBzC,EAAI,GAAKI,EAAQ0D,EAAIpB,GACrBzC,EAAI,GAAKI,EAAQwD,EAAIpB,GACrBxC,EAAI,GAAKI,EAAQyD,EAAIpB,GAGvB,IAAI2kB,EAAO,GACPC,EAAO,GAgBX,SAASzhB,EAAUhC,EAAIC,EAAIrB,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAI9C,EAAKC,GACtD,IAEIxI,EAFA0U,EAAelN,EAAMkN,aACrB/G,EAAUnG,EAAMmG,QAEhBhQ,EAAI+W,EAAatI,EAAIpB,EAAIE,EAAIE,EAAIwkB,GAMrC,IALArnB,EAAI,GAAKkN,IACTlN,EAAI,GAAKkN,IACTjN,EAAI,IAAMiN,IACVjN,EAAI,IAAMiN,IAELzV,EAAI,EAAGA,EAAIrC,EAAGqC,IAAK,CACtB,IAAImC,EAAIwL,EAAQvB,EAAIpB,EAAIE,EAAIE,EAAIwkB,EAAK5vB,IACrCuI,EAAI,GAAKI,EAAQxG,EAAGoG,EAAI,IACxBC,EAAI,GAAKI,EAAQzG,EAAGqG,EAAI,IAK1B,IAFA7K,EAAI+W,EAAarI,EAAIpB,EAAIE,EAAIE,EAAIwkB,GAE5B7vB,EAAI,EAAGA,EAAIrC,EAAGqC,IAAK,CACtB,IAAIoC,EAAIuL,EAAQtB,EAAIpB,EAAIE,EAAIE,EAAIwkB,EAAK7vB,IACrCuI,EAAI,GAAKI,EAAQvG,EAAGmG,EAAI,IACxBC,EAAI,GAAKI,EAAQxG,EAAGoG,EAAI,IAG1BD,EAAI,GAAKI,EAAQyD,EAAI7D,EAAI,IACzBC,EAAI,GAAKI,EAAQwD,EAAI5D,EAAI,IACzBD,EAAI,GAAKI,EAAQyC,EAAI7C,EAAI,IACzBC,EAAI,GAAKI,EAAQwC,EAAI5C,EAAI,IACzBD,EAAI,GAAKI,EAAQ0D,EAAI9D,EAAI,IACzBC,EAAI,GAAKI,EAAQyD,EAAI7D,EAAI,IACzBD,EAAI,GAAKI,EAAQ0C,EAAI9C,EAAI,IACzBC,EAAI,GAAKI,EAAQyC,EAAI7C,EAAI,IAgB3B,SAAS6F,EAAcjC,EAAIC,EAAIrB,EAAIC,EAAIC,EAAIC,EAAI5C,EAAKC,GAClD,IAAIsN,EAAoBtO,EAAMsO,kBAC1BH,EAAcnO,EAAMmO,YAEpBma,EAAKlnB,EAAQD,EAAQmN,EAAkB1J,EAAIpB,EAAIE,GAAK,GAAI,GACxD6kB,EAAKnnB,EAAQD,EAAQmN,EAAkBzJ,EAAIpB,EAAIE,GAAK,GAAI,GACxDhJ,EAAIwT,EAAYvJ,EAAIpB,EAAIE,EAAI4kB,GAC5B1tB,EAAIuT,EAAYtJ,EAAIpB,EAAIE,EAAI4kB,GAChCxnB,EAAI,GAAKI,EAAQyD,EAAIlB,EAAI/I,GACzBoG,EAAI,GAAKI,EAAQ0D,EAAIlB,EAAI/I,GACzBoG,EAAI,GAAKI,EAAQwD,EAAIlB,EAAI/I,GACzBqG,EAAI,GAAKI,EAAQyD,EAAIlB,EAAI/I,GAkB3B,SAASoM,EAAQrM,EAAGC,EAAGkM,EAAIC,EAAI3C,EAAYC,EAAUC,EAAevD,EAAKC,GACvE,IAAIwnB,EAAUvoB,EAAKc,IACf0nB,EAAUxoB,EAAKe,IACfokB,EAAO7qB,KAAKC,IAAI4J,EAAaC,GAEjC,GAAI+gB,EAAO1J,EAAM,MAAQ0J,EAAO,KAM9B,OAJArkB,EAAI,GAAKpG,EAAImM,EACb/F,EAAI,GAAKnG,EAAImM,EACb/F,EAAI,GAAKrG,EAAImM,OACb9F,EAAI,GAAKpG,EAAImM,GA6Bf,GAzBAjQ,EAAM,GAAKuK,EAAQ+C,GAAc0C,EAAKnM,EACtC7D,EAAM,GAAKwK,EAAQ8C,GAAc2C,EAAKnM,EACtCotB,EAAI,GAAK3mB,EAAQgD,GAAYyC,EAAKnM,EAClCqtB,EAAI,GAAK1mB,EAAQ+C,GAAY0C,EAAKnM,EAClC4tB,EAAQznB,EAAKjK,EAAOkxB,GACpBS,EAAQznB,EAAKlK,EAAOkxB,GAEpB5jB,GAA0BsX,EAEtBtX,EAAa,IACfA,GAA0BsX,GAG5BrX,GAAsBqX,EAElBrX,EAAW,IACbA,GAAsBqX,GAGpBtX,EAAaC,IAAaC,EAC5BD,GAAYqX,EACHtX,EAAaC,GAAYC,IAClCF,GAAcsX,GAGZpX,EAAe,CACjB,IAAI5M,EAAM2M,EACVA,EAAWD,EACXA,EAAa1M,EAKf,IAAK,IAAImkB,EAAQ,EAAGA,EAAQxX,EAAUwX,GAASthB,KAAKohB,GAAK,EACnDE,EAAQzX,IACV6jB,EAAU,GAAK5mB,EAAQwa,GAAS/U,EAAKnM,EACrCstB,EAAU,GAAK3mB,EAAQua,GAAS9U,EAAKnM,EACrC4tB,EAAQznB,EAAKknB,EAAWlnB,GACxB0nB,EAAQznB,EAAKinB,EAAWjnB,IAK9B/G,EAAQiuB,WAAaA,EACrBjuB,EAAQ0M,SAAWA,EACnB1M,EAAQ2M,UAAYA,EACpB3M,EAAQ4M,cAAgBA,EACxB5M,EAAQ+M,QAAUA,G,qBC5NlB,IAAIhH,EAAQ,EAAQ,QAiBpB,SAAS+T,EAAcnP,EAAIC,EAAIrB,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAImQ,EAAWrZ,EAAGC,GACnE,GAAkB,IAAdoZ,EACF,OAAO,EAGT,IAAIC,EAAKD,EAET,GAAIpZ,EAAIiK,EAAKoP,GAAMrZ,EAAI6I,EAAKwQ,GAAMrZ,EAAI+I,EAAKsQ,GAAMrZ,EAAIiJ,EAAKoQ,GAAMrZ,EAAIiK,EAAKoP,GAAMrZ,EAAI6I,EAAKwQ,GAAMrZ,EAAI+I,EAAKsQ,GAAMrZ,EAAIiJ,EAAKoQ,GAAMtZ,EAAIiK,EAAKqP,GAAMtZ,EAAI6I,EAAKyQ,GAAMtZ,EAAI+I,EAAKuQ,GAAMtZ,EAAIiJ,EAAKqQ,GAAMtZ,EAAIiK,EAAKqP,GAAMtZ,EAAI6I,EAAKyQ,GAAMtZ,EAAI+I,EAAKuQ,GAAMtZ,EAAIiJ,EAAKqQ,EAC5O,OAAO,EAGT,IAAI7M,EAAIpH,EAAM2N,kBAAkB/I,EAAIC,EAAIrB,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIlJ,EAAGC,EAAG,MACtE,OAAOwM,GAAK6M,EAAK,EAGnBha,EAAQ8Z,cAAgBA,G,qBChCxB,IAAI5T,EAAe,EAAQ,QAEvBuoB,EAAc,EAAQ,QAEtBlL,EAAQ,EAAQ,QAEhB1a,EAAa0a,EAAM1a,WACnByT,EAASiH,EAAMjH,OACfiC,EAAYgF,EAAMhF,UAClBG,EAAY6E,EAAM7E,UAClBO,EAAOsE,EAAMtE,KACbyP,EAAiB,GACjBC,EAAwB,EACxBC,EAAiB,IACjBC,EAAY,gCACZC,EAAe,kBAEf7T,EAAU,GAEd,SAASC,EAAUpE,EAAMqE,GACvBF,EAAQnE,GAAQqE,EAUlB,SAAS4T,EAASC,EAAMC,GACtBA,EAAOA,GAAQH,EACf,IAAIlT,EAAMoT,EAAO,IAAMC,EAEvB,GAAIP,EAAe9S,GACjB,OAAO8S,EAAe9S,GAMxB,IAHA,IAAIsT,GAAaF,EAAO,IAAIG,MAAM,MAC9BniB,EAAQ,EAEHzO,EAAI,EAAG6wB,EAAIF,EAAU9xB,OAAQmB,EAAI6wB,EAAG7wB,IAE3CyO,EAAQ1M,KAAKyG,IAAIsoB,EAAYH,EAAU3wB,GAAI0wB,GAAMjiB,MAAOA,GAU1D,OAPI2hB,EAAwBC,IAC1BD,EAAwB,EACxBD,EAAiB,IAGnBC,IACAD,EAAe9S,GAAO5O,EACfA,EAeT,SAASX,EAAgB2iB,EAAMC,EAAMK,EAAWC,EAAmBC,EAAaC,EAAgBC,EAAMC,GACpG,OAAOD,EAAOE,EAAgBZ,EAAMC,EAAMK,EAAWC,EAAmBC,EAAaC,EAAgBC,EAAMC,GAAYE,EAAiBb,EAAMC,EAAMK,EAAWC,EAAmBC,EAAaC,EAAgBE,GAGjN,SAASE,EAAiBb,EAAMC,EAAMK,EAAWC,EAAmBC,EAAaC,EAAgBE,GAC/F,IAAIG,EAAeC,EAAef,EAAMC,EAAMO,EAAaC,EAAgBE,GACvEK,EAAajB,EAASC,EAAMC,GAE5BO,IACFQ,GAAcR,EAAY,GAAKA,EAAY,IAG7C,IAAIS,EAAcH,EAAaG,YAC3BvvB,EAAIwvB,EAAY,EAAGF,EAAYV,GAC/B3uB,EAAIwvB,EAAY,EAAGF,EAAaV,GAChC/kB,EAAO,IAAItE,EAAaxF,EAAGC,EAAGqvB,EAAYC,GAE9C,OADAzlB,EAAK4lB,WAAaN,EAAaM,WACxB5lB,EAGT,SAASolB,EAAgBZ,EAAMC,EAAMK,EAAWC,EAAmBC,EAAaC,EAAgBC,EAAMC,GACpG,IAAIG,EAAeO,EAAcrB,EAAM,CACrCU,KAAMA,EACNC,SAAUA,EACVV,KAAMA,EACNK,UAAWA,EACXE,YAAaA,EACbC,eAAgBA,IAEdO,EAAaF,EAAaE,WAC1BC,EAAcH,EAAaG,YAC3BvvB,EAAIwvB,EAAY,EAAGF,EAAYV,GAC/B3uB,EAAIwvB,EAAY,EAAGF,EAAaV,GACpC,OAAO,IAAIrpB,EAAaxF,EAAGC,EAAGqvB,EAAYC,GAW5C,SAASC,EAAYxvB,EAAGsM,EAAOsiB,GAQ7B,MANkB,UAAdA,EACF5uB,GAAKsM,EACkB,WAAdsiB,IACT5uB,GAAKsM,EAAQ,GAGRtM,EAWT,SAASyvB,EAAYxvB,EAAGsM,EAAQsiB,GAO9B,MAN0B,WAAtBA,EACF5uB,GAAKsM,EAAS,EACiB,WAAtBsiB,IACT5uB,GAAKsM,GAGAtM,EAYT,SAAS2vB,EAAsBvsB,EAAK8U,EAAOrO,GACzC,IAAI+lB,EAAe1X,EAAM0X,aACrBhgB,EAAWsI,EAAM2X,aACjB9vB,EAAI8J,EAAK9J,EACTC,EAAI6J,EAAK7J,EACb4P,EAAWA,GAAY,EACvB,IAAItD,EAASzC,EAAKyC,OACdD,EAAQxC,EAAKwC,MACbyjB,EAAaxjB,EAAS,EACtBqiB,EAAY,OACZC,EAAoB,MAExB,OAAQgB,GACN,IAAK,OACH7vB,GAAK6P,EACL5P,GAAK8vB,EACLnB,EAAY,QACZC,EAAoB,SACpB,MAEF,IAAK,QACH7uB,GAAK6P,EAAWvD,EAChBrM,GAAK8vB,EACLlB,EAAoB,SACpB,MAEF,IAAK,MACH7uB,GAAKsM,EAAQ,EACbrM,GAAK4P,EACL+e,EAAY,SACZC,EAAoB,SACpB,MAEF,IAAK,SACH7uB,GAAKsM,EAAQ,EACbrM,GAAKsM,EAASsD,EACd+e,EAAY,SACZ,MAEF,IAAK,SACH5uB,GAAKsM,EAAQ,EACbrM,GAAK8vB,EACLnB,EAAY,SACZC,EAAoB,SACpB,MAEF,IAAK,aACH7uB,GAAK6P,EACL5P,GAAK8vB,EACLlB,EAAoB,SACpB,MAEF,IAAK,cACH7uB,GAAKsM,EAAQuD,EACb5P,GAAK8vB,EACLnB,EAAY,QACZC,EAAoB,SACpB,MAEF,IAAK,YACH7uB,GAAKsM,EAAQ,EACbrM,GAAK4P,EACL+e,EAAY,SACZ,MAEF,IAAK,eACH5uB,GAAKsM,EAAQ,EACbrM,GAAKsM,EAASsD,EACd+e,EAAY,SACZC,EAAoB,SACpB,MAEF,IAAK,gBACH7uB,GAAK6P,EACL5P,GAAK4P,EACL,MAEF,IAAK,iBACH7P,GAAKsM,EAAQuD,EACb5P,GAAK4P,EACL+e,EAAY,QACZ,MAEF,IAAK,mBACH5uB,GAAK6P,EACL5P,GAAKsM,EAASsD,EACdgf,EAAoB,SACpB,MAEF,IAAK,oBACH7uB,GAAKsM,EAAQuD,EACb5P,GAAKsM,EAASsD,EACd+e,EAAY,QACZC,EAAoB,SACpB,MAQJ,OALAxrB,EAAMA,GAAO,GACbA,EAAIrD,EAAIA,EACRqD,EAAIpD,EAAIA,EACRoD,EAAIurB,UAAYA,EAChBvrB,EAAIwrB,kBAAoBA,EACjBxrB,EAaT,SAAS2sB,EAAyBH,EAAc/lB,EAAM+F,GACpD,IAAIogB,EAAa,CACfJ,aAAcA,EACdC,aAAcjgB,GAEhB,OAAO+f,EAAsB,GAAIK,EAAYnmB,GAoB/C,SAASomB,EAAa5B,EAAM6B,EAAgB5B,EAAM6B,EAAUC,GAC1D,IAAKF,EACH,MAAO,GAGT,IAAI3B,GAAaF,EAAO,IAAIG,MAAM,MAClC4B,EAAUC,EAAuBH,EAAgB5B,EAAM6B,EAAUC,GAGjE,IAAK,IAAIxyB,EAAI,EAAG6D,EAAM8sB,EAAU9xB,OAAQmB,EAAI6D,EAAK7D,IAC/C2wB,EAAU3wB,GAAK0yB,EAAmB/B,EAAU3wB,GAAIwyB,GAGlD,OAAO7B,EAAUjW,KAAK,MAGxB,SAAS+X,EAAuBH,EAAgB5B,EAAM6B,EAAUC,GAC9DA,EAAUzU,EAAO,GAAIyU,GACrBA,EAAQ9B,KAAOA,EACX6B,EAAWvS,EAAUuS,EAAU,OACnCC,EAAQG,cAAgB3S,EAAUwS,EAAQG,cAAe,GACzD,IAAIC,EAAUJ,EAAQI,QAAU5S,EAAUwS,EAAQI,QAAS,GAG3DJ,EAAQK,YAAcrC,EAAS,IAAKE,GAGpC,IAAIoC,EAAeN,EAAQM,aAAetC,EAAS,IAAKE,GACxD8B,EAAQO,YAAc/S,EAAUwS,EAAQO,YAAa,IAKrD,IAFA,IAAIC,EAAeV,EAAiBvwB,KAAKyG,IAAI,EAAG8pB,EAAiB,GAExDtyB,EAAI,EAAGA,EAAI4yB,GAAWI,GAAgBF,EAAc9yB,IAC3DgzB,GAAgBF,EAGlB,IAAIG,EAAgBzC,EAAS+B,EAAU7B,GAYvC,OAVIuC,EAAgBD,IAClBT,EAAW,GACXU,EAAgB,GAGlBD,EAAeV,EAAiBW,EAChCT,EAAQD,SAAWA,EACnBC,EAAQS,cAAgBA,EACxBT,EAAQQ,aAAeA,EACvBR,EAAQF,eAAiBA,EAClBE,EAGT,SAASE,EAAmBQ,EAAUV,GACpC,IAAIF,EAAiBE,EAAQF,eACzB5B,EAAO8B,EAAQ9B,KACfsC,EAAeR,EAAQQ,aAE3B,IAAKV,EACH,MAAO,GAGT,IAAI9W,EAAYgV,EAAS0C,EAAUxC,GAEnC,GAAIlV,GAAa8W,EACf,OAAOY,EAGT,IAAK,IAAIzQ,EAAI,GAAIA,IAAK,CACpB,GAAIjH,GAAawX,GAAgBvQ,GAAK+P,EAAQG,cAAe,CAC3DO,GAAYV,EAAQD,SACpB,MAGF,IAAIY,EAAkB,IAAN1Q,EAAU2Q,EAAeF,EAAUF,EAAcR,EAAQM,aAAcN,EAAQK,aAAerX,EAAY,EAAIzZ,KAAKsxB,MAAMH,EAASr0B,OAASm0B,EAAexX,GAAa,EACvL0X,EAAWA,EAASI,OAAO,EAAGH,GAC9B3X,EAAYgV,EAAS0C,EAAUxC,GAOjC,MAJiB,KAAbwC,IACFA,EAAWV,EAAQO,aAGdG,EAGT,SAASE,EAAe3C,EAAMuC,EAAcF,EAAcD,GAIxD,IAHA,IAAIpkB,EAAQ,EACRzO,EAAI,EAEC6D,EAAM4sB,EAAK5xB,OAAQmB,EAAI6D,GAAO4K,EAAQukB,EAAchzB,IAAK,CAChE,IAAIuzB,EAAW9C,EAAK+C,WAAWxzB,GAC/ByO,GAAS,GAAK8kB,GAAYA,GAAY,IAAMT,EAAeD,EAG7D,OAAO7yB,EAST,SAASyzB,EAAc/C,GAErB,OAAOF,EAAS,IAAKE,GAUvB,SAASI,EAAYL,EAAMC,GACzB,OAAOhU,EAAQoU,YAAYL,EAAMC,GAsBnC,SAASc,EAAef,EAAMC,EAAMgD,EAASxC,EAAgBE,GACnD,MAARX,IAAiBA,GAAQ,IACzB,IAAIoB,EAAa7R,EAAUkR,EAAgBuC,EAAc/C,IACrDiD,EAAQlD,EAAOA,EAAKG,MAAM,MAAQ,GAClCliB,EAASilB,EAAM90B,OAASgzB,EACxBH,EAAchjB,EACdklB,GAAuB,EAM3B,GAJIF,IACFhC,GAAegC,EAAQ,GAAKA,EAAQ,IAGlCjD,GAAQW,EAAU,CACpBwC,GAAuB,EACvB,IAAIC,EAAmBzC,EAASM,YAC5BoC,EAAkB1C,EAASK,WAE/B,GAAwB,MAApBoC,GAA4BnC,EAAcmC,EAC5CpD,EAAO,GACPkD,EAAQ,QACH,GAAuB,MAAnBG,EAOT,IANA,IAAItB,EAAUC,EAAuBqB,GAAmBJ,EAAUA,EAAQ,GAAKA,EAAQ,GAAK,GAAIhD,EAAMU,EAASmB,SAAU,CACvHK,QAASxB,EAASwB,QAClBG,YAAa3B,EAAS2B,cAIf/yB,EAAI,EAAG6D,EAAM8vB,EAAM90B,OAAQmB,EAAI6D,EAAK7D,IAC3C2zB,EAAM3zB,GAAK0yB,EAAmBiB,EAAM3zB,GAAIwyB,GAK9C,MAAO,CACLmB,MAAOA,EACPjlB,OAAQA,EACRgjB,YAAaA,EACbG,WAAYA,EACZ+B,qBAAsBA,GAmC1B,SAAS9B,EAAcrB,EAAMnW,GAC3B,IAAIiX,EAAe,CACjBoC,MAAO,GACPllB,MAAO,EACPC,OAAQ,GAIV,GAFQ,MAAR+hB,IAAiBA,GAAQ,KAEpBA,EACH,OAAOc,EAGT,IACIzU,EADAiX,EAAYzD,EAAUyD,UAAY,EAGtC,MAA0C,OAAlCjX,EAASwT,EAAU0D,KAAKvD,IAAgB,CAC9C,IAAIwD,EAAenX,EAAOoX,MAEtBD,EAAeF,GACjBI,EAAW5C,EAAcd,EAAK2D,UAAUL,EAAWE,IAGrDE,EAAW5C,EAAczU,EAAO,GAAIA,EAAO,IAC3CiX,EAAYzD,EAAUyD,UAGpBA,EAAYtD,EAAK5xB,QACnBs1B,EAAW5C,EAAcd,EAAK2D,UAAUL,EAAWtD,EAAK5xB,SAG1D,IAAI80B,EAAQpC,EAAaoC,MACrBU,EAAgB,EAChBrB,EAAe,EAEfsB,EAAc,GACdC,EAAaja,EAAM2W,YACnBG,EAAW9W,EAAM8W,SACjBoD,EAAgBpD,GAAYA,EAASK,WACrCgD,EAAiBrD,GAAYA,EAASM,YAEtC6C,IACe,MAAjBC,IAA0BA,GAAiBD,EAAW,GAAKA,EAAW,IACpD,MAAlBE,IAA2BA,GAAkBF,EAAW,GAAKA,EAAW,KAI1E,IAAK,IAAIv0B,EAAI,EAAGA,EAAI2zB,EAAM90B,OAAQmB,IAAK,CAKrC,IAJA,IAAI+rB,EAAO4H,EAAM3zB,GACb6xB,EAAa,EACbrW,EAAY,EAEPiH,EAAI,EAAGA,EAAIsJ,EAAK2I,OAAO71B,OAAQ4jB,IAAK,CAC3C,IAAIkS,EAAQ5I,EAAK2I,OAAOjS,GACpBmS,EAAaD,EAAME,WAAava,EAAM6W,KAAKwD,EAAME,YAAc,GAE/D5D,EAAc0D,EAAM1D,YAAc2D,EAAW3D,YAE7CP,EAAOiE,EAAMjE,KAAOkE,EAAWlE,MAAQpW,EAAMoW,KAE7CoE,EAAcH,EAAMI,WAAa/U,EAErC4U,EAAWG,WAAYtB,EAAc/C,IAOrC,GANAO,IAAgB6D,GAAe7D,EAAY,GAAKA,EAAY,IAC5D0D,EAAMjmB,OAASomB,EACfH,EAAM9C,WAAa1R,EAAUyU,EAAW1D,eAAgB5W,EAAM4W,eAAgB4D,GAC9EH,EAAM5D,UAAY6D,GAAcA,EAAW7D,WAAazW,EAAMyW,UAC9D4D,EAAM3D,kBAAoB4D,GAAcA,EAAW5D,mBAAqB,SAElD,MAAlByD,GAA0BJ,EAAgBM,EAAM9C,WAAa4C,EAC/D,MAAO,CACLd,MAAO,GACPllB,MAAO,EACPC,OAAQ,GAIZimB,EAAMK,UAAYxE,EAASmE,EAAMlE,KAAMC,GACvC,IAAIuE,EAAaL,EAAWI,UACxBE,EAAuC,MAAdD,GAAqC,SAAfA,EAGnD,GAA0B,kBAAfA,GAAwE,MAA7CA,EAAWE,OAAOF,EAAWp2B,OAAS,GAC1E81B,EAAMS,aAAeH,EACrBX,EAAYrwB,KAAK0wB,GACjBM,EAAa,MAER,CACL,GAAIC,EAAwB,CAC1BD,EAAaN,EAAMK,UAGnB,IAAIK,EAAsBT,EAAWS,oBACjCC,EAAQD,GAAuBA,EAAoBE,MAWnDD,IACFA,EAAQpF,EAAYsF,eAAeF,GAE/BpF,EAAYuF,aAAaH,KAC3BL,EAAalzB,KAAKyG,IAAIysB,EAAYK,EAAM7mB,MAAQqmB,EAAcQ,EAAM5mB,UAK1E,IAAIgnB,EAAWzE,EAAcA,EAAY,GAAKA,EAAY,GAAK,EAC/DgE,GAAcS,EACd,IAAIC,EAAoC,MAAjBnB,EAAwBA,EAAgBhZ,EAAY,KAEnD,MAApBma,GAA4BA,EAAmBV,KAC5CC,GAA0BS,EAAmBD,GAChDf,EAAMlE,KAAO,GACbkE,EAAMK,UAAYC,EAAa,IAE/BN,EAAMlE,KAAO4B,EAAasC,EAAMlE,KAAMkF,EAAmBD,EAAUhF,EAAMU,EAASmB,SAAU,CAC1FK,QAASxB,EAASwB,UAEpB+B,EAAMK,UAAYxE,EAASmE,EAAMlE,KAAMC,GACvCuE,EAAaN,EAAMK,UAAYU,IAKrCla,GAAamZ,EAAMlmB,MAAQwmB,EAC3BL,IAAe/C,EAAa9vB,KAAKyG,IAAIqpB,EAAY8C,EAAM9C,aAGzD9F,EAAKtd,MAAQ+M,EACbuQ,EAAK8F,WAAaA,EAClBwC,GAAiBxC,EACjBmB,EAAejxB,KAAKyG,IAAIwqB,EAAcxX,GAGxC+V,EAAaE,WAAaF,EAAa9iB,MAAQuR,EAAU1F,EAAM0a,UAAWhC,GAC1EzB,EAAaG,YAAcH,EAAa7iB,OAASsR,EAAU1F,EAAMya,WAAYV,GAEzEE,IACFhD,EAAaE,YAAc8C,EAAW,GAAKA,EAAW,GACtDhD,EAAaG,aAAe6C,EAAW,GAAKA,EAAW,IAGzD,IAASv0B,EAAI,EAAGA,EAAIs0B,EAAYz1B,OAAQmB,IAAK,CACvC20B,EAAQL,EAAYt0B,GAAxB,IACIo1B,EAAeT,EAAMS,aAEzBT,EAAMlmB,MAAQmnB,SAASR,EAAc,IAAM,IAAMpC,EAGnD,OAAOzB,EAGT,SAAS4C,EAAW0B,EAAOlV,EAAKkU,GAK9B,IAJA,IAAIiB,EAAqB,KAARnV,EACboV,EAAOpV,EAAIiQ,MAAM,MACjB+C,EAAQkC,EAAMlC,MAET3zB,EAAI,EAAGA,EAAI+1B,EAAKl3B,OAAQmB,IAAK,CACpC,IAAIywB,EAAOsF,EAAK/1B,GACZ20B,EAAQ,CACVE,UAAWA,EACXpE,KAAMA,EACNuF,cAAevF,IAASqF,GAG1B,GAAK91B,EAkBD2zB,EAAM1vB,KAAK,CACTywB,OAAQ,CAACC,SAnBP,CACN,IAAID,GAAUf,EAAMA,EAAM90B,OAAS,KAAO80B,EAAM,GAAK,CACnDe,OAAQ,MACNA,OAQAuB,EAAYvB,EAAO71B,OACT,IAAdo3B,GAAmBvB,EAAO,GAAGsB,aAAetB,EAAO,GAAKC,GAEvDlE,IAASwF,GAAaH,IAAepB,EAAOzwB,KAAK0wB,KAWxD,SAASuB,EAAS5b,GAGhB,IAAIoW,GAAQpW,EAAM6b,UAAY7b,EAAM8b,aAAe,CAAC9b,EAAM+b,UAAW/b,EAAMgc,YAAahc,EAAM6b,UAAY,IAAM,KAChH7b,EAAM8b,YAAc,cAAc1b,KAAK,KACvC,OAAOgW,GAAQhQ,EAAKgQ,IAASpW,EAAMic,UAAYjc,EAAMoW,KApSvDhU,EAAQoU,YAAc,SAAUL,EAAMC,GACpC,IAAIlmB,EAAMF,IAEV,OADAE,EAAIkmB,KAAOA,GAAQH,EACZ/lB,EAAIsmB,YAAYL,IAoSzBhvB,EAAQ8uB,aAAeA,EACvB9uB,EAAQkb,UAAYA,EACpBlb,EAAQ+uB,SAAWA,EACnB/uB,EAAQqM,gBAAkBA,EAC1BrM,EAAQkwB,YAAcA,EACtBlwB,EAAQmwB,YAAcA,EACtBnwB,EAAQswB,sBAAwBA,EAChCtwB,EAAQ0wB,yBAA2BA,EACnC1wB,EAAQ4wB,aAAeA,EACvB5wB,EAAQgyB,cAAgBA,EACxBhyB,EAAQqvB,YAAcA,EACtBrvB,EAAQ+vB,eAAiBA,EACzB/vB,EAAQqwB,cAAgBA,EACxBrwB,EAAQy0B,SAAWA","file":"js/chunk-vendors~f538a826.b6f5d43e.js","sourcesContent":["// https://github.com/mziccard/node-timsort\nvar DEFAULT_MIN_MERGE = 32;\nvar DEFAULT_MIN_GALLOPING = 7;\nvar DEFAULT_TMP_STORAGE_LENGTH = 256;\n\nfunction minRunLength(n) {\n  var r = 0;\n\n  while (n >= DEFAULT_MIN_MERGE) {\n    r |= n & 1;\n    n >>= 1;\n  }\n\n  return n + r;\n}\n\nfunction makeAscendingRun(array, lo, hi, compare) {\n  var runHi = lo + 1;\n\n  if (runHi === hi) {\n    return 1;\n  }\n\n  if (compare(array[runHi++], array[lo]) < 0) {\n    while (runHi < hi && compare(array[runHi], array[runHi - 1]) < 0) {\n      runHi++;\n    }\n\n    reverseRun(array, lo, runHi);\n  } else {\n    while (runHi < hi && compare(array[runHi], array[runHi - 1]) >= 0) {\n      runHi++;\n    }\n  }\n\n  return runHi - lo;\n}\n\nfunction reverseRun(array, lo, hi) {\n  hi--;\n\n  while (lo < hi) {\n    var t = array[lo];\n    array[lo++] = array[hi];\n    array[hi--] = t;\n  }\n}\n\nfunction binaryInsertionSort(array, lo, hi, start, compare) {\n  if (start === lo) {\n    start++;\n  }\n\n  for (; start < hi; start++) {\n    var pivot = array[start];\n    var left = lo;\n    var right = start;\n    var mid;\n\n    while (left < right) {\n      mid = left + right >>> 1;\n\n      if (compare(pivot, array[mid]) < 0) {\n        right = mid;\n      } else {\n        left = mid + 1;\n      }\n    }\n\n    var n = start - left;\n\n    switch (n) {\n      case 3:\n        array[left + 3] = array[left + 2];\n\n      case 2:\n        array[left + 2] = array[left + 1];\n\n      case 1:\n        array[left + 1] = array[left];\n        break;\n\n      default:\n        while (n > 0) {\n          array[left + n] = array[left + n - 1];\n          n--;\n        }\n\n    }\n\n    array[left] = pivot;\n  }\n}\n\nfunction gallopLeft(value, array, start, length, hint, compare) {\n  var lastOffset = 0;\n  var maxOffset = 0;\n  var offset = 1;\n\n  if (compare(value, array[start + hint]) > 0) {\n    maxOffset = length - hint;\n\n    while (offset < maxOffset && compare(value, array[start + hint + offset]) > 0) {\n      lastOffset = offset;\n      offset = (offset << 1) + 1;\n\n      if (offset <= 0) {\n        offset = maxOffset;\n      }\n    }\n\n    if (offset > maxOffset) {\n      offset = maxOffset;\n    }\n\n    lastOffset += hint;\n    offset += hint;\n  } else {\n    maxOffset = hint + 1;\n\n    while (offset < maxOffset && compare(value, array[start + hint - offset]) <= 0) {\n      lastOffset = offset;\n      offset = (offset << 1) + 1;\n\n      if (offset <= 0) {\n        offset = maxOffset;\n      }\n    }\n\n    if (offset > maxOffset) {\n      offset = maxOffset;\n    }\n\n    var tmp = lastOffset;\n    lastOffset = hint - offset;\n    offset = hint - tmp;\n  }\n\n  lastOffset++;\n\n  while (lastOffset < offset) {\n    var m = lastOffset + (offset - lastOffset >>> 1);\n\n    if (compare(value, array[start + m]) > 0) {\n      lastOffset = m + 1;\n    } else {\n      offset = m;\n    }\n  }\n\n  return offset;\n}\n\nfunction gallopRight(value, array, start, length, hint, compare) {\n  var lastOffset = 0;\n  var maxOffset = 0;\n  var offset = 1;\n\n  if (compare(value, array[start + hint]) < 0) {\n    maxOffset = hint + 1;\n\n    while (offset < maxOffset && compare(value, array[start + hint - offset]) < 0) {\n      lastOffset = offset;\n      offset = (offset << 1) + 1;\n\n      if (offset <= 0) {\n        offset = maxOffset;\n      }\n    }\n\n    if (offset > maxOffset) {\n      offset = maxOffset;\n    }\n\n    var tmp = lastOffset;\n    lastOffset = hint - offset;\n    offset = hint - tmp;\n  } else {\n    maxOffset = length - hint;\n\n    while (offset < maxOffset && compare(value, array[start + hint + offset]) >= 0) {\n      lastOffset = offset;\n      offset = (offset << 1) + 1;\n\n      if (offset <= 0) {\n        offset = maxOffset;\n      }\n    }\n\n    if (offset > maxOffset) {\n      offset = maxOffset;\n    }\n\n    lastOffset += hint;\n    offset += hint;\n  }\n\n  lastOffset++;\n\n  while (lastOffset < offset) {\n    var m = lastOffset + (offset - lastOffset >>> 1);\n\n    if (compare(value, array[start + m]) < 0) {\n      offset = m;\n    } else {\n      lastOffset = m + 1;\n    }\n  }\n\n  return offset;\n}\n\nfunction TimSort(array, compare) {\n  var minGallop = DEFAULT_MIN_GALLOPING;\n  var length = 0;\n  var tmpStorageLength = DEFAULT_TMP_STORAGE_LENGTH;\n  var stackLength = 0;\n  var runStart;\n  var runLength;\n  var stackSize = 0;\n  length = array.length;\n\n  if (length < 2 * DEFAULT_TMP_STORAGE_LENGTH) {\n    tmpStorageLength = length >>> 1;\n  }\n\n  var tmp = [];\n  stackLength = length < 120 ? 5 : length < 1542 ? 10 : length < 119151 ? 19 : 40;\n  runStart = [];\n  runLength = [];\n\n  function pushRun(_runStart, _runLength) {\n    runStart[stackSize] = _runStart;\n    runLength[stackSize] = _runLength;\n    stackSize += 1;\n  }\n\n  function mergeRuns() {\n    while (stackSize > 1) {\n      var n = stackSize - 2;\n\n      if (n >= 1 && runLength[n - 1] <= runLength[n] + runLength[n + 1] || n >= 2 && runLength[n - 2] <= runLength[n] + runLength[n - 1]) {\n        if (runLength[n - 1] < runLength[n + 1]) {\n          n--;\n        }\n      } else if (runLength[n] > runLength[n + 1]) {\n        break;\n      }\n\n      mergeAt(n);\n    }\n  }\n\n  function forceMergeRuns() {\n    while (stackSize > 1) {\n      var n = stackSize - 2;\n\n      if (n > 0 && runLength[n - 1] < runLength[n + 1]) {\n        n--;\n      }\n\n      mergeAt(n);\n    }\n  }\n\n  function mergeAt(i) {\n    var start1 = runStart[i];\n    var length1 = runLength[i];\n    var start2 = runStart[i + 1];\n    var length2 = runLength[i + 1];\n    runLength[i] = length1 + length2;\n\n    if (i === stackSize - 3) {\n      runStart[i + 1] = runStart[i + 2];\n      runLength[i + 1] = runLength[i + 2];\n    }\n\n    stackSize--;\n    var k = gallopRight(array[start2], array, start1, length1, 0, compare);\n    start1 += k;\n    length1 -= k;\n\n    if (length1 === 0) {\n      return;\n    }\n\n    length2 = gallopLeft(array[start1 + length1 - 1], array, start2, length2, length2 - 1, compare);\n\n    if (length2 === 0) {\n      return;\n    }\n\n    if (length1 <= length2) {\n      mergeLow(start1, length1, start2, length2);\n    } else {\n      mergeHigh(start1, length1, start2, length2);\n    }\n  }\n\n  function mergeLow(start1, length1, start2, length2) {\n    var i = 0;\n\n    for (i = 0; i < length1; i++) {\n      tmp[i] = array[start1 + i];\n    }\n\n    var cursor1 = 0;\n    var cursor2 = start2;\n    var dest = start1;\n    array[dest++] = array[cursor2++];\n\n    if (--length2 === 0) {\n      for (i = 0; i < length1; i++) {\n        array[dest + i] = tmp[cursor1 + i];\n      }\n\n      return;\n    }\n\n    if (length1 === 1) {\n      for (i = 0; i < length2; i++) {\n        array[dest + i] = array[cursor2 + i];\n      }\n\n      array[dest + length2] = tmp[cursor1];\n      return;\n    }\n\n    var _minGallop = minGallop;\n    var count1;\n    var count2;\n    var exit;\n\n    while (1) {\n      count1 = 0;\n      count2 = 0;\n      exit = false;\n\n      do {\n        if (compare(array[cursor2], tmp[cursor1]) < 0) {\n          array[dest++] = array[cursor2++];\n          count2++;\n          count1 = 0;\n\n          if (--length2 === 0) {\n            exit = true;\n            break;\n          }\n        } else {\n          array[dest++] = tmp[cursor1++];\n          count1++;\n          count2 = 0;\n\n          if (--length1 === 1) {\n            exit = true;\n            break;\n          }\n        }\n      } while ((count1 | count2) < _minGallop);\n\n      if (exit) {\n        break;\n      }\n\n      do {\n        count1 = gallopRight(array[cursor2], tmp, cursor1, length1, 0, compare);\n\n        if (count1 !== 0) {\n          for (i = 0; i < count1; i++) {\n            array[dest + i] = tmp[cursor1 + i];\n          }\n\n          dest += count1;\n          cursor1 += count1;\n          length1 -= count1;\n\n          if (length1 <= 1) {\n            exit = true;\n            break;\n          }\n        }\n\n        array[dest++] = array[cursor2++];\n\n        if (--length2 === 0) {\n          exit = true;\n          break;\n        }\n\n        count2 = gallopLeft(tmp[cursor1], array, cursor2, length2, 0, compare);\n\n        if (count2 !== 0) {\n          for (i = 0; i < count2; i++) {\n            array[dest + i] = array[cursor2 + i];\n          }\n\n          dest += count2;\n          cursor2 += count2;\n          length2 -= count2;\n\n          if (length2 === 0) {\n            exit = true;\n            break;\n          }\n        }\n\n        array[dest++] = tmp[cursor1++];\n\n        if (--length1 === 1) {\n          exit = true;\n          break;\n        }\n\n        _minGallop--;\n      } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n\n      if (exit) {\n        break;\n      }\n\n      if (_minGallop < 0) {\n        _minGallop = 0;\n      }\n\n      _minGallop += 2;\n    }\n\n    minGallop = _minGallop;\n    minGallop < 1 && (minGallop = 1);\n\n    if (length1 === 1) {\n      for (i = 0; i < length2; i++) {\n        array[dest + i] = array[cursor2 + i];\n      }\n\n      array[dest + length2] = tmp[cursor1];\n    } else if (length1 === 0) {\n      throw new Error(); // throw new Error('mergeLow preconditions were not respected');\n    } else {\n      for (i = 0; i < length1; i++) {\n        array[dest + i] = tmp[cursor1 + i];\n      }\n    }\n  }\n\n  function mergeHigh(start1, length1, start2, length2) {\n    var i = 0;\n\n    for (i = 0; i < length2; i++) {\n      tmp[i] = array[start2 + i];\n    }\n\n    var cursor1 = start1 + length1 - 1;\n    var cursor2 = length2 - 1;\n    var dest = start2 + length2 - 1;\n    var customCursor = 0;\n    var customDest = 0;\n    array[dest--] = array[cursor1--];\n\n    if (--length1 === 0) {\n      customCursor = dest - (length2 - 1);\n\n      for (i = 0; i < length2; i++) {\n        array[customCursor + i] = tmp[i];\n      }\n\n      return;\n    }\n\n    if (length2 === 1) {\n      dest -= length1;\n      cursor1 -= length1;\n      customDest = dest + 1;\n      customCursor = cursor1 + 1;\n\n      for (i = length1 - 1; i >= 0; i--) {\n        array[customDest + i] = array[customCursor + i];\n      }\n\n      array[dest] = tmp[cursor2];\n      return;\n    }\n\n    var _minGallop = minGallop;\n\n    while (true) {\n      var count1 = 0;\n      var count2 = 0;\n      var exit = false;\n\n      do {\n        if (compare(tmp[cursor2], array[cursor1]) < 0) {\n          array[dest--] = array[cursor1--];\n          count1++;\n          count2 = 0;\n\n          if (--length1 === 0) {\n            exit = true;\n            break;\n          }\n        } else {\n          array[dest--] = tmp[cursor2--];\n          count2++;\n          count1 = 0;\n\n          if (--length2 === 1) {\n            exit = true;\n            break;\n          }\n        }\n      } while ((count1 | count2) < _minGallop);\n\n      if (exit) {\n        break;\n      }\n\n      do {\n        count1 = length1 - gallopRight(tmp[cursor2], array, start1, length1, length1 - 1, compare);\n\n        if (count1 !== 0) {\n          dest -= count1;\n          cursor1 -= count1;\n          length1 -= count1;\n          customDest = dest + 1;\n          customCursor = cursor1 + 1;\n\n          for (i = count1 - 1; i >= 0; i--) {\n            array[customDest + i] = array[customCursor + i];\n          }\n\n          if (length1 === 0) {\n            exit = true;\n            break;\n          }\n        }\n\n        array[dest--] = tmp[cursor2--];\n\n        if (--length2 === 1) {\n          exit = true;\n          break;\n        }\n\n        count2 = length2 - gallopLeft(array[cursor1], tmp, 0, length2, length2 - 1, compare);\n\n        if (count2 !== 0) {\n          dest -= count2;\n          cursor2 -= count2;\n          length2 -= count2;\n          customDest = dest + 1;\n          customCursor = cursor2 + 1;\n\n          for (i = 0; i < count2; i++) {\n            array[customDest + i] = tmp[customCursor + i];\n          }\n\n          if (length2 <= 1) {\n            exit = true;\n            break;\n          }\n        }\n\n        array[dest--] = array[cursor1--];\n\n        if (--length1 === 0) {\n          exit = true;\n          break;\n        }\n\n        _minGallop--;\n      } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n\n      if (exit) {\n        break;\n      }\n\n      if (_minGallop < 0) {\n        _minGallop = 0;\n      }\n\n      _minGallop += 2;\n    }\n\n    minGallop = _minGallop;\n\n    if (minGallop < 1) {\n      minGallop = 1;\n    }\n\n    if (length2 === 1) {\n      dest -= length1;\n      cursor1 -= length1;\n      customDest = dest + 1;\n      customCursor = cursor1 + 1;\n\n      for (i = length1 - 1; i >= 0; i--) {\n        array[customDest + i] = array[customCursor + i];\n      }\n\n      array[dest] = tmp[cursor2];\n    } else if (length2 === 0) {\n      throw new Error(); // throw new Error('mergeHigh preconditions were not respected');\n    } else {\n      customCursor = dest - (length2 - 1);\n\n      for (i = 0; i < length2; i++) {\n        array[customCursor + i] = tmp[i];\n      }\n    }\n  }\n\n  this.mergeRuns = mergeRuns;\n  this.forceMergeRuns = forceMergeRuns;\n  this.pushRun = pushRun;\n}\n\nfunction sort(array, compare, lo, hi) {\n  if (!lo) {\n    lo = 0;\n  }\n\n  if (!hi) {\n    hi = array.length;\n  }\n\n  var remaining = hi - lo;\n\n  if (remaining < 2) {\n    return;\n  }\n\n  var runLength = 0;\n\n  if (remaining < DEFAULT_MIN_MERGE) {\n    runLength = makeAscendingRun(array, lo, hi, compare);\n    binaryInsertionSort(array, lo, hi, lo + runLength, compare);\n    return;\n  }\n\n  var ts = new TimSort(array, compare);\n  var minRun = minRunLength(remaining);\n\n  do {\n    runLength = makeAscendingRun(array, lo, hi, compare);\n\n    if (runLength < minRun) {\n      var force = remaining;\n\n      if (force > minRun) {\n        force = minRun;\n      }\n\n      binaryInsertionSort(array, lo, lo + force, lo + runLength, compare);\n      runLength = force;\n    }\n\n    ts.pushRun(lo, runLength);\n    ts.mergeRuns();\n    remaining -= runLength;\n    lo += runLength;\n  } while (remaining !== 0);\n\n  ts.forceMergeRuns();\n}\n\nmodule.exports = sort;","var windingLine = require(\"./windingLine\");\n\nvar EPSILON = 1e-8;\n\nfunction isAroundEqual(a, b) {\n  return Math.abs(a - b) < EPSILON;\n}\n\nfunction contain(points, x, y) {\n  var w = 0;\n  var p = points[0];\n\n  if (!p) {\n    return false;\n  }\n\n  for (var i = 1; i < points.length; i++) {\n    var p2 = points[i];\n    w += windingLine(p[0], p[1], p2[0], p2[1], x, y);\n    p = p2;\n  } // Close polygon\n\n\n  var p0 = points[0];\n\n  if (!isAroundEqual(p[0], p0[0]) || !isAroundEqual(p[1], p0[1])) {\n    w += windingLine(p[0], p[1], p0[0], p0[1], x, y);\n  }\n\n  return w !== 0;\n}\n\nexports.contain = contain;","var eventUtil = require(\"./event\");\n\n/**\n * Only implements needed gestures for mobile.\n */\nvar GestureMgr = function () {\n  /**\n   * @private\n   * @type {Array.<Object>}\n   */\n  this._track = [];\n};\n\nGestureMgr.prototype = {\n  constructor: GestureMgr,\n  recognize: function (event, target, root) {\n    this._doTrack(event, target, root);\n\n    return this._recognize(event);\n  },\n  clear: function () {\n    this._track.length = 0;\n    return this;\n  },\n  _doTrack: function (event, target, root) {\n    var touches = event.touches;\n\n    if (!touches) {\n      return;\n    }\n\n    var trackItem = {\n      points: [],\n      touches: [],\n      target: target,\n      event: event\n    };\n\n    for (var i = 0, len = touches.length; i < len; i++) {\n      var touch = touches[i];\n      var pos = eventUtil.clientToLocal(root, touch, {});\n      trackItem.points.push([pos.zrX, pos.zrY]);\n      trackItem.touches.push(touch);\n    }\n\n    this._track.push(trackItem);\n  },\n  _recognize: function (event) {\n    for (var eventName in recognizers) {\n      if (recognizers.hasOwnProperty(eventName)) {\n        var gestureInfo = recognizers[eventName](this._track, event);\n\n        if (gestureInfo) {\n          return gestureInfo;\n        }\n      }\n    }\n  }\n};\n\nfunction dist(pointPair) {\n  var dx = pointPair[1][0] - pointPair[0][0];\n  var dy = pointPair[1][1] - pointPair[0][1];\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\nfunction center(pointPair) {\n  return [(pointPair[0][0] + pointPair[1][0]) / 2, (pointPair[0][1] + pointPair[1][1]) / 2];\n}\n\nvar recognizers = {\n  pinch: function (track, event) {\n    var trackLen = track.length;\n\n    if (!trackLen) {\n      return;\n    }\n\n    var pinchEnd = (track[trackLen - 1] || {}).points;\n    var pinchPre = (track[trackLen - 2] || {}).points || pinchEnd;\n\n    if (pinchPre && pinchPre.length > 1 && pinchEnd && pinchEnd.length > 1) {\n      var pinchScale = dist(pinchEnd) / dist(pinchPre);\n      !isFinite(pinchScale) && (pinchScale = 1);\n      event.pinchScale = pinchScale;\n      var pinchCenter = center(pinchEnd);\n      event.pinchX = pinchCenter[0];\n      event.pinchY = pinchCenter[1];\n      return {\n        type: 'pinch',\n        target: track[0].target,\n        event: event\n      };\n    }\n  } // Only pinch currently.\n\n};\nvar _default = GestureMgr;\nmodule.exports = _default;","/**\n * 3x2矩阵操作类\n * @exports zrender/tool/matrix\n */\n\n/* global Float32Array */\nvar ArrayCtor = typeof Float32Array === 'undefined' ? Array : Float32Array;\n/**\n * Create a identity matrix.\n * @return {Float32Array|Array.<number>}\n */\n\nfunction create() {\n  var out = new ArrayCtor(6);\n  identity(out);\n  return out;\n}\n/**\n * 设置矩阵为单位矩阵\n * @param {Float32Array|Array.<number>} out\n */\n\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * 复制矩阵\n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} m\n */\n\n\nfunction copy(out, m) {\n  out[0] = m[0];\n  out[1] = m[1];\n  out[2] = m[2];\n  out[3] = m[3];\n  out[4] = m[4];\n  out[5] = m[5];\n  return out;\n}\n/**\n * 矩阵相乘\n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} m1\n * @param {Float32Array|Array.<number>} m2\n */\n\n\nfunction mul(out, m1, m2) {\n  // Consider matrix.mul(m, m2, m);\n  // where out is the same as m2.\n  // So use temp variable to escape error.\n  var out0 = m1[0] * m2[0] + m1[2] * m2[1];\n  var out1 = m1[1] * m2[0] + m1[3] * m2[1];\n  var out2 = m1[0] * m2[2] + m1[2] * m2[3];\n  var out3 = m1[1] * m2[2] + m1[3] * m2[3];\n  var out4 = m1[0] * m2[4] + m1[2] * m2[5] + m1[4];\n  var out5 = m1[1] * m2[4] + m1[3] * m2[5] + m1[5];\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = out3;\n  out[4] = out4;\n  out[5] = out5;\n  return out;\n}\n/**\n * 平移变换\n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n * @param {Float32Array|Array.<number>} v\n */\n\n\nfunction translate(out, a, v) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4] + v[0];\n  out[5] = a[5] + v[1];\n  return out;\n}\n/**\n * 旋转变换\n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n * @param {number} rad\n */\n\n\nfunction rotate(out, a, rad) {\n  var aa = a[0];\n  var ac = a[2];\n  var atx = a[4];\n  var ab = a[1];\n  var ad = a[3];\n  var aty = a[5];\n  var st = Math.sin(rad);\n  var ct = Math.cos(rad);\n  out[0] = aa * ct + ab * st;\n  out[1] = -aa * st + ab * ct;\n  out[2] = ac * ct + ad * st;\n  out[3] = -ac * st + ct * ad;\n  out[4] = ct * atx + st * aty;\n  out[5] = ct * aty - st * atx;\n  return out;\n}\n/**\n * 缩放变换\n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n * @param {Float32Array|Array.<number>} v\n */\n\n\nfunction scale(out, a, v) {\n  var vx = v[0];\n  var vy = v[1];\n  out[0] = a[0] * vx;\n  out[1] = a[1] * vy;\n  out[2] = a[2] * vx;\n  out[3] = a[3] * vy;\n  out[4] = a[4] * vx;\n  out[5] = a[5] * vy;\n  return out;\n}\n/**\n * 求逆矩阵\n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n */\n\n\nfunction invert(out, a) {\n  var aa = a[0];\n  var ac = a[2];\n  var atx = a[4];\n  var ab = a[1];\n  var ad = a[3];\n  var aty = a[5];\n  var det = aa * ad - ab * ac;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = ad * det;\n  out[1] = -ab * det;\n  out[2] = -ac * det;\n  out[3] = aa * det;\n  out[4] = (ac * aty - ad * atx) * det;\n  out[5] = (ab * atx - aa * aty) * det;\n  return out;\n}\n/**\n * Clone a new matrix.\n * @param {Float32Array|Array.<number>} a\n */\n\n\nfunction clone(a) {\n  var b = create();\n  copy(b, a);\n  return b;\n}\n\nexports.create = create;\nexports.identity = identity;\nexports.copy = copy;\nexports.mul = mul;\nexports.translate = translate;\nexports.rotate = rotate;\nexports.scale = scale;\nexports.invert = invert;\nexports.clone = clone;","var curve = require(\"./curve\");\n\nvar vec2 = require(\"./vector\");\n\nvar bbox = require(\"./bbox\");\n\nvar BoundingRect = require(\"./BoundingRect\");\n\nvar _config = require(\"../config\");\n\nvar dpr = _config.devicePixelRatio;\n\n/**\n * Path 代理，可以在`buildPath`中用于替代`ctx`, 会保存每个path操作的命令到pathCommands属性中\n * 可以用于 isInsidePath 判断以及获取boundingRect\n *\n * @module zrender/core/PathProxy\n * @author Yi Shen (http://www.github.com/pissang)\n */\n// TODO getTotalLength, getPointAtLength\n\n/* global Float32Array */\nvar CMD = {\n  M: 1,\n  L: 2,\n  C: 3,\n  Q: 4,\n  A: 5,\n  Z: 6,\n  // Rect\n  R: 7\n}; // var CMD_MEM_SIZE = {\n//     M: 3,\n//     L: 3,\n//     C: 7,\n//     Q: 5,\n//     A: 9,\n//     R: 5,\n//     Z: 1\n// };\n\nvar min = [];\nvar max = [];\nvar min2 = [];\nvar max2 = [];\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathCos = Math.cos;\nvar mathSin = Math.sin;\nvar mathSqrt = Math.sqrt;\nvar mathAbs = Math.abs;\nvar hasTypedArray = typeof Float32Array !== 'undefined';\n/**\n * @alias module:zrender/core/PathProxy\n * @constructor\n */\n\nvar PathProxy = function (notSaveData) {\n  this._saveData = !(notSaveData || false);\n\n  if (this._saveData) {\n    /**\n     * Path data. Stored as flat array\n     * @type {Array.<Object>}\n     */\n    this.data = [];\n  }\n\n  this._ctx = null;\n};\n/**\n * 快速计算Path包围盒（并不是最小包围盒）\n * @return {Object}\n */\n\n\nPathProxy.prototype = {\n  constructor: PathProxy,\n  _xi: 0,\n  _yi: 0,\n  _x0: 0,\n  _y0: 0,\n  // Unit x, Unit y. Provide for avoiding drawing that too short line segment\n  _ux: 0,\n  _uy: 0,\n  _len: 0,\n  _lineDash: null,\n  _dashOffset: 0,\n  _dashIdx: 0,\n  _dashSum: 0,\n\n  /**\n   * @readOnly\n   */\n  setScale: function (sx, sy, segmentIgnoreThreshold) {\n    // Compat. Previously there is no segmentIgnoreThreshold.\n    segmentIgnoreThreshold = segmentIgnoreThreshold || 0;\n    this._ux = mathAbs(segmentIgnoreThreshold / dpr / sx) || 0;\n    this._uy = mathAbs(segmentIgnoreThreshold / dpr / sy) || 0;\n  },\n  getContext: function () {\n    return this._ctx;\n  },\n\n  /**\n   * @param  {CanvasRenderingContext2D} ctx\n   * @return {module:zrender/core/PathProxy}\n   */\n  beginPath: function (ctx) {\n    this._ctx = ctx;\n    ctx && ctx.beginPath();\n    ctx && (this.dpr = ctx.dpr); // Reset\n\n    if (this._saveData) {\n      this._len = 0;\n    }\n\n    if (this._lineDash) {\n      this._lineDash = null;\n      this._dashOffset = 0;\n    }\n\n    return this;\n  },\n\n  /**\n   * @param  {number} x\n   * @param  {number} y\n   * @return {module:zrender/core/PathProxy}\n   */\n  moveTo: function (x, y) {\n    this.addData(CMD.M, x, y);\n    this._ctx && this._ctx.moveTo(x, y); // x0, y0, xi, yi 是记录在 _dashedXXXXTo 方法中使用\n    // xi, yi 记录当前点, x0, y0 在 closePath 的时候回到起始点。\n    // 有可能在 beginPath 之后直接调用 lineTo，这时候 x0, y0 需要\n    // 在 lineTo 方法中记录，这里先不考虑这种情况，dashed line 也只在 IE10- 中不支持\n\n    this._x0 = x;\n    this._y0 = y;\n    this._xi = x;\n    this._yi = y;\n    return this;\n  },\n\n  /**\n   * @param  {number} x\n   * @param  {number} y\n   * @return {module:zrender/core/PathProxy}\n   */\n  lineTo: function (x, y) {\n    var exceedUnit = mathAbs(x - this._xi) > this._ux || mathAbs(y - this._yi) > this._uy // Force draw the first segment\n    || this._len < 5;\n    this.addData(CMD.L, x, y);\n\n    if (this._ctx && exceedUnit) {\n      this._needsDash() ? this._dashedLineTo(x, y) : this._ctx.lineTo(x, y);\n    }\n\n    if (exceedUnit) {\n      this._xi = x;\n      this._yi = y;\n    }\n\n    return this;\n  },\n\n  /**\n   * @param  {number} x1\n   * @param  {number} y1\n   * @param  {number} x2\n   * @param  {number} y2\n   * @param  {number} x3\n   * @param  {number} y3\n   * @return {module:zrender/core/PathProxy}\n   */\n  bezierCurveTo: function (x1, y1, x2, y2, x3, y3) {\n    this.addData(CMD.C, x1, y1, x2, y2, x3, y3);\n\n    if (this._ctx) {\n      this._needsDash() ? this._dashedBezierTo(x1, y1, x2, y2, x3, y3) : this._ctx.bezierCurveTo(x1, y1, x2, y2, x3, y3);\n    }\n\n    this._xi = x3;\n    this._yi = y3;\n    return this;\n  },\n\n  /**\n   * @param  {number} x1\n   * @param  {number} y1\n   * @param  {number} x2\n   * @param  {number} y2\n   * @return {module:zrender/core/PathProxy}\n   */\n  quadraticCurveTo: function (x1, y1, x2, y2) {\n    this.addData(CMD.Q, x1, y1, x2, y2);\n\n    if (this._ctx) {\n      this._needsDash() ? this._dashedQuadraticTo(x1, y1, x2, y2) : this._ctx.quadraticCurveTo(x1, y1, x2, y2);\n    }\n\n    this._xi = x2;\n    this._yi = y2;\n    return this;\n  },\n\n  /**\n   * @param  {number} cx\n   * @param  {number} cy\n   * @param  {number} r\n   * @param  {number} startAngle\n   * @param  {number} endAngle\n   * @param  {boolean} anticlockwise\n   * @return {module:zrender/core/PathProxy}\n   */\n  arc: function (cx, cy, r, startAngle, endAngle, anticlockwise) {\n    this.addData(CMD.A, cx, cy, r, r, startAngle, endAngle - startAngle, 0, anticlockwise ? 0 : 1);\n    this._ctx && this._ctx.arc(cx, cy, r, startAngle, endAngle, anticlockwise);\n    this._xi = mathCos(endAngle) * r + cx;\n    this._yi = mathSin(endAngle) * r + cy;\n    return this;\n  },\n  // TODO\n  arcTo: function (x1, y1, x2, y2, radius) {\n    if (this._ctx) {\n      this._ctx.arcTo(x1, y1, x2, y2, radius);\n    }\n\n    return this;\n  },\n  // TODO\n  rect: function (x, y, w, h) {\n    this._ctx && this._ctx.rect(x, y, w, h);\n    this.addData(CMD.R, x, y, w, h);\n    return this;\n  },\n\n  /**\n   * @return {module:zrender/core/PathProxy}\n   */\n  closePath: function () {\n    this.addData(CMD.Z);\n    var ctx = this._ctx;\n    var x0 = this._x0;\n    var y0 = this._y0;\n\n    if (ctx) {\n      this._needsDash() && this._dashedLineTo(x0, y0);\n      ctx.closePath();\n    }\n\n    this._xi = x0;\n    this._yi = y0;\n    return this;\n  },\n\n  /**\n   * Context 从外部传入，因为有可能是 rebuildPath 完之后再 fill。\n   * stroke 同样\n   * @param {CanvasRenderingContext2D} ctx\n   * @return {module:zrender/core/PathProxy}\n   */\n  fill: function (ctx) {\n    ctx && ctx.fill();\n    this.toStatic();\n  },\n\n  /**\n   * @param {CanvasRenderingContext2D} ctx\n   * @return {module:zrender/core/PathProxy}\n   */\n  stroke: function (ctx) {\n    ctx && ctx.stroke();\n    this.toStatic();\n  },\n\n  /**\n   * 必须在其它绘制命令前调用\n   * Must be invoked before all other path drawing methods\n   * @return {module:zrender/core/PathProxy}\n   */\n  setLineDash: function (lineDash) {\n    if (lineDash instanceof Array) {\n      this._lineDash = lineDash;\n      this._dashIdx = 0;\n      var lineDashSum = 0;\n\n      for (var i = 0; i < lineDash.length; i++) {\n        lineDashSum += lineDash[i];\n      }\n\n      this._dashSum = lineDashSum;\n    }\n\n    return this;\n  },\n\n  /**\n   * 必须在其它绘制命令前调用\n   * Must be invoked before all other path drawing methods\n   * @return {module:zrender/core/PathProxy}\n   */\n  setLineDashOffset: function (offset) {\n    this._dashOffset = offset;\n    return this;\n  },\n\n  /**\n   *\n   * @return {boolean}\n   */\n  len: function () {\n    return this._len;\n  },\n\n  /**\n   * 直接设置 Path 数据\n   */\n  setData: function (data) {\n    var len = data.length;\n\n    if (!(this.data && this.data.length === len) && hasTypedArray) {\n      this.data = new Float32Array(len);\n    }\n\n    for (var i = 0; i < len; i++) {\n      this.data[i] = data[i];\n    }\n\n    this._len = len;\n  },\n\n  /**\n   * 添加子路径\n   * @param {module:zrender/core/PathProxy|Array.<module:zrender/core/PathProxy>} path\n   */\n  appendPath: function (path) {\n    if (!(path instanceof Array)) {\n      path = [path];\n    }\n\n    var len = path.length;\n    var appendSize = 0;\n    var offset = this._len;\n\n    for (var i = 0; i < len; i++) {\n      appendSize += path[i].len();\n    }\n\n    if (hasTypedArray && this.data instanceof Float32Array) {\n      this.data = new Float32Array(offset + appendSize);\n    }\n\n    for (var i = 0; i < len; i++) {\n      var appendPathData = path[i].data;\n\n      for (var k = 0; k < appendPathData.length; k++) {\n        this.data[offset++] = appendPathData[k];\n      }\n    }\n\n    this._len = offset;\n  },\n\n  /**\n   * 填充 Path 数据。\n   * 尽量复用而不申明新的数组。大部分图形重绘的指令数据长度都是不变的。\n   */\n  addData: function (cmd) {\n    if (!this._saveData) {\n      return;\n    }\n\n    var data = this.data;\n\n    if (this._len + arguments.length > data.length) {\n      // 因为之前的数组已经转换成静态的 Float32Array\n      // 所以不够用时需要扩展一个新的动态数组\n      this._expandData();\n\n      data = this.data;\n    }\n\n    for (var i = 0; i < arguments.length; i++) {\n      data[this._len++] = arguments[i];\n    }\n\n    this._prevCmd = cmd;\n  },\n  _expandData: function () {\n    // Only if data is Float32Array\n    if (!(this.data instanceof Array)) {\n      var newData = [];\n\n      for (var i = 0; i < this._len; i++) {\n        newData[i] = this.data[i];\n      }\n\n      this.data = newData;\n    }\n  },\n\n  /**\n   * If needs js implemented dashed line\n   * @return {boolean}\n   * @private\n   */\n  _needsDash: function () {\n    return this._lineDash;\n  },\n  _dashedLineTo: function (x1, y1) {\n    var dashSum = this._dashSum;\n    var offset = this._dashOffset;\n    var lineDash = this._lineDash;\n    var ctx = this._ctx;\n    var x0 = this._xi;\n    var y0 = this._yi;\n    var dx = x1 - x0;\n    var dy = y1 - y0;\n    var dist = mathSqrt(dx * dx + dy * dy);\n    var x = x0;\n    var y = y0;\n    var dash;\n    var nDash = lineDash.length;\n    var idx;\n    dx /= dist;\n    dy /= dist;\n\n    if (offset < 0) {\n      // Convert to positive offset\n      offset = dashSum + offset;\n    }\n\n    offset %= dashSum;\n    x -= offset * dx;\n    y -= offset * dy;\n\n    while (dx > 0 && x <= x1 || dx < 0 && x >= x1 || dx === 0 && (dy > 0 && y <= y1 || dy < 0 && y >= y1)) {\n      idx = this._dashIdx;\n      dash = lineDash[idx];\n      x += dx * dash;\n      y += dy * dash;\n      this._dashIdx = (idx + 1) % nDash; // Skip positive offset\n\n      if (dx > 0 && x < x0 || dx < 0 && x > x0 || dy > 0 && y < y0 || dy < 0 && y > y0) {\n        continue;\n      }\n\n      ctx[idx % 2 ? 'moveTo' : 'lineTo'](dx >= 0 ? mathMin(x, x1) : mathMax(x, x1), dy >= 0 ? mathMin(y, y1) : mathMax(y, y1));\n    } // Offset for next lineTo\n\n\n    dx = x - x1;\n    dy = y - y1;\n    this._dashOffset = -mathSqrt(dx * dx + dy * dy);\n  },\n  // Not accurate dashed line to\n  _dashedBezierTo: function (x1, y1, x2, y2, x3, y3) {\n    var dashSum = this._dashSum;\n    var offset = this._dashOffset;\n    var lineDash = this._lineDash;\n    var ctx = this._ctx;\n    var x0 = this._xi;\n    var y0 = this._yi;\n    var t;\n    var dx;\n    var dy;\n    var cubicAt = curve.cubicAt;\n    var bezierLen = 0;\n    var idx = this._dashIdx;\n    var nDash = lineDash.length;\n    var x;\n    var y;\n    var tmpLen = 0;\n\n    if (offset < 0) {\n      // Convert to positive offset\n      offset = dashSum + offset;\n    }\n\n    offset %= dashSum; // Bezier approx length\n\n    for (t = 0; t < 1; t += 0.1) {\n      dx = cubicAt(x0, x1, x2, x3, t + 0.1) - cubicAt(x0, x1, x2, x3, t);\n      dy = cubicAt(y0, y1, y2, y3, t + 0.1) - cubicAt(y0, y1, y2, y3, t);\n      bezierLen += mathSqrt(dx * dx + dy * dy);\n    } // Find idx after add offset\n\n\n    for (; idx < nDash; idx++) {\n      tmpLen += lineDash[idx];\n\n      if (tmpLen > offset) {\n        break;\n      }\n    }\n\n    t = (tmpLen - offset) / bezierLen;\n\n    while (t <= 1) {\n      x = cubicAt(x0, x1, x2, x3, t);\n      y = cubicAt(y0, y1, y2, y3, t); // Use line to approximate dashed bezier\n      // Bad result if dash is long\n\n      idx % 2 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);\n      t += lineDash[idx] / bezierLen;\n      idx = (idx + 1) % nDash;\n    } // Finish the last segment and calculate the new offset\n\n\n    idx % 2 !== 0 && ctx.lineTo(x3, y3);\n    dx = x3 - x;\n    dy = y3 - y;\n    this._dashOffset = -mathSqrt(dx * dx + dy * dy);\n  },\n  _dashedQuadraticTo: function (x1, y1, x2, y2) {\n    // Convert quadratic to cubic using degree elevation\n    var x3 = x2;\n    var y3 = y2;\n    x2 = (x2 + 2 * x1) / 3;\n    y2 = (y2 + 2 * y1) / 3;\n    x1 = (this._xi + 2 * x1) / 3;\n    y1 = (this._yi + 2 * y1) / 3;\n\n    this._dashedBezierTo(x1, y1, x2, y2, x3, y3);\n  },\n\n  /**\n   * 转成静态的 Float32Array 减少堆内存占用\n   * Convert dynamic array to static Float32Array\n   */\n  toStatic: function () {\n    var data = this.data;\n\n    if (data instanceof Array) {\n      data.length = this._len;\n\n      if (hasTypedArray) {\n        this.data = new Float32Array(data);\n      }\n    }\n  },\n\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  getBoundingRect: function () {\n    min[0] = min[1] = min2[0] = min2[1] = Number.MAX_VALUE;\n    max[0] = max[1] = max2[0] = max2[1] = -Number.MAX_VALUE;\n    var data = this.data;\n    var xi = 0;\n    var yi = 0;\n    var x0 = 0;\n    var y0 = 0;\n\n    for (var i = 0; i < data.length;) {\n      var cmd = data[i++];\n\n      if (i === 1) {\n        // 如果第一个命令是 L, C, Q\n        // 则 previous point 同绘制命令的第一个 point\n        //\n        // 第一个命令为 Arc 的情况下会在后面特殊处理\n        xi = data[i];\n        yi = data[i + 1];\n        x0 = xi;\n        y0 = yi;\n      }\n\n      switch (cmd) {\n        case CMD.M:\n          // moveTo 命令重新创建一个新的 subpath, 并且更新新的起点\n          // 在 closePath 的时候使用\n          x0 = data[i++];\n          y0 = data[i++];\n          xi = x0;\n          yi = y0;\n          min2[0] = x0;\n          min2[1] = y0;\n          max2[0] = x0;\n          max2[1] = y0;\n          break;\n\n        case CMD.L:\n          bbox.fromLine(xi, yi, data[i], data[i + 1], min2, max2);\n          xi = data[i++];\n          yi = data[i++];\n          break;\n\n        case CMD.C:\n          bbox.fromCubic(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], min2, max2);\n          xi = data[i++];\n          yi = data[i++];\n          break;\n\n        case CMD.Q:\n          bbox.fromQuadratic(xi, yi, data[i++], data[i++], data[i], data[i + 1], min2, max2);\n          xi = data[i++];\n          yi = data[i++];\n          break;\n\n        case CMD.A:\n          // TODO Arc 判断的开销比较大\n          var cx = data[i++];\n          var cy = data[i++];\n          var rx = data[i++];\n          var ry = data[i++];\n          var startAngle = data[i++];\n          var endAngle = data[i++] + startAngle; // TODO Arc 旋转\n\n          i += 1;\n          var anticlockwise = 1 - data[i++];\n\n          if (i === 1) {\n            // 直接使用 arc 命令\n            // 第一个命令起点还未定义\n            x0 = mathCos(startAngle) * rx + cx;\n            y0 = mathSin(startAngle) * ry + cy;\n          }\n\n          bbox.fromArc(cx, cy, rx, ry, startAngle, endAngle, anticlockwise, min2, max2);\n          xi = mathCos(endAngle) * rx + cx;\n          yi = mathSin(endAngle) * ry + cy;\n          break;\n\n        case CMD.R:\n          x0 = xi = data[i++];\n          y0 = yi = data[i++];\n          var width = data[i++];\n          var height = data[i++]; // Use fromLine\n\n          bbox.fromLine(x0, y0, x0 + width, y0 + height, min2, max2);\n          break;\n\n        case CMD.Z:\n          xi = x0;\n          yi = y0;\n          break;\n      } // Union\n\n\n      vec2.min(min, min, min2);\n      vec2.max(max, max, max2);\n    } // No data\n\n\n    if (i === 0) {\n      min[0] = min[1] = max[0] = max[1] = 0;\n    }\n\n    return new BoundingRect(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n  },\n\n  /**\n   * Rebuild path from current data\n   * Rebuild path will not consider javascript implemented line dash.\n   * @param {CanvasRenderingContext2D} ctx\n   */\n  rebuildPath: function (ctx) {\n    var d = this.data;\n    var x0;\n    var y0;\n    var xi;\n    var yi;\n    var x;\n    var y;\n    var ux = this._ux;\n    var uy = this._uy;\n    var len = this._len;\n\n    for (var i = 0; i < len;) {\n      var cmd = d[i++];\n\n      if (i === 1) {\n        // 如果第一个命令是 L, C, Q\n        // 则 previous point 同绘制命令的第一个 point\n        //\n        // 第一个命令为 Arc 的情况下会在后面特殊处理\n        xi = d[i];\n        yi = d[i + 1];\n        x0 = xi;\n        y0 = yi;\n      }\n\n      switch (cmd) {\n        case CMD.M:\n          x0 = xi = d[i++];\n          y0 = yi = d[i++];\n          ctx.moveTo(xi, yi);\n          break;\n\n        case CMD.L:\n          x = d[i++];\n          y = d[i++]; // Not draw too small seg between\n\n          if (mathAbs(x - xi) > ux || mathAbs(y - yi) > uy || i === len - 1) {\n            ctx.lineTo(x, y);\n            xi = x;\n            yi = y;\n          }\n\n          break;\n\n        case CMD.C:\n          ctx.bezierCurveTo(d[i++], d[i++], d[i++], d[i++], d[i++], d[i++]);\n          xi = d[i - 2];\n          yi = d[i - 1];\n          break;\n\n        case CMD.Q:\n          ctx.quadraticCurveTo(d[i++], d[i++], d[i++], d[i++]);\n          xi = d[i - 2];\n          yi = d[i - 1];\n          break;\n\n        case CMD.A:\n          var cx = d[i++];\n          var cy = d[i++];\n          var rx = d[i++];\n          var ry = d[i++];\n          var theta = d[i++];\n          var dTheta = d[i++];\n          var psi = d[i++];\n          var fs = d[i++];\n          var r = rx > ry ? rx : ry;\n          var scaleX = rx > ry ? 1 : rx / ry;\n          var scaleY = rx > ry ? ry / rx : 1;\n          var isEllipse = Math.abs(rx - ry) > 1e-3;\n          var endAngle = theta + dTheta;\n\n          if (isEllipse) {\n            ctx.translate(cx, cy);\n            ctx.rotate(psi);\n            ctx.scale(scaleX, scaleY);\n            ctx.arc(0, 0, r, theta, endAngle, 1 - fs);\n            ctx.scale(1 / scaleX, 1 / scaleY);\n            ctx.rotate(-psi);\n            ctx.translate(-cx, -cy);\n          } else {\n            ctx.arc(cx, cy, r, theta, endAngle, 1 - fs);\n          }\n\n          if (i === 1) {\n            // 直接使用 arc 命令\n            // 第一个命令起点还未定义\n            x0 = mathCos(theta) * rx + cx;\n            y0 = mathSin(theta) * ry + cy;\n          }\n\n          xi = mathCos(endAngle) * rx + cx;\n          yi = mathSin(endAngle) * ry + cy;\n          break;\n\n        case CMD.R:\n          x0 = xi = d[i];\n          y0 = yi = d[i + 1];\n          ctx.rect(d[i++], d[i++], d[i++], d[i++]);\n          break;\n\n        case CMD.Z:\n          ctx.closePath();\n          xi = x0;\n          yi = y0;\n      }\n    }\n  }\n};\nPathProxy.CMD = CMD;\nvar _default = PathProxy;\nmodule.exports = _default;","/**\n * echarts设备环境识别\n *\n * @desc echarts基于Canvas，纯Javascript图表库，提供直观，生动，可交互，可个性化定制的数据统计图表。\n * @author firede[firede@firede.us]\n * @desc thanks zepto.\n */\n\n/* global wx */\nvar env = {};\n\nif (typeof wx === 'object' && typeof wx.getSystemInfoSync === 'function') {\n  // In Weixin Application\n  env = {\n    browser: {},\n    os: {},\n    node: false,\n    wxa: true,\n    // Weixin Application\n    canvasSupported: true,\n    svgSupported: false,\n    touchEventsSupported: true,\n    domSupported: false\n  };\n} else if (typeof document === 'undefined' && typeof self !== 'undefined') {\n  // In worker\n  env = {\n    browser: {},\n    os: {},\n    node: false,\n    worker: true,\n    canvasSupported: true,\n    domSupported: false\n  };\n} else if (typeof navigator === 'undefined') {\n  // In node\n  env = {\n    browser: {},\n    os: {},\n    node: true,\n    worker: false,\n    // Assume canvas is supported\n    canvasSupported: true,\n    svgSupported: true,\n    domSupported: false\n  };\n} else {\n  env = detect(navigator.userAgent);\n}\n\nvar _default = env; // Zepto.js\n// (c) 2010-2013 Thomas Fuchs\n// Zepto.js may be freely distributed under the MIT license.\n\nfunction detect(ua) {\n  var os = {};\n  var browser = {}; // var webkit = ua.match(/Web[kK]it[\\/]{0,1}([\\d.]+)/);\n  // var android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/);\n  // var ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  // var ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  // var iphone = !ipad && ua.match(/(iPhone\\sOS)\\s([\\d_]+)/);\n  // var webos = ua.match(/(webOS|hpwOS)[\\s\\/]([\\d.]+)/);\n  // var touchpad = webos && ua.match(/TouchPad/);\n  // var kindle = ua.match(/Kindle\\/([\\d.]+)/);\n  // var silk = ua.match(/Silk\\/([\\d._]+)/);\n  // var blackberry = ua.match(/(BlackBerry).*Version\\/([\\d.]+)/);\n  // var bb10 = ua.match(/(BB10).*Version\\/([\\d.]+)/);\n  // var rimtabletos = ua.match(/(RIM\\sTablet\\sOS)\\s([\\d.]+)/);\n  // var playbook = ua.match(/PlayBook/);\n  // var chrome = ua.match(/Chrome\\/([\\d.]+)/) || ua.match(/CriOS\\/([\\d.]+)/);\n\n  var firefox = ua.match(/Firefox\\/([\\d.]+)/); // var safari = webkit && ua.match(/Mobile\\//) && !chrome;\n  // var webview = ua.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/) && !chrome;\n\n  var ie = ua.match(/MSIE\\s([\\d.]+)/) // IE 11 Trident/7.0; rv:11.0\n  || ua.match(/Trident\\/.+?rv:(([\\d.]+))/);\n  var edge = ua.match(/Edge\\/([\\d.]+)/); // IE 12 and 12+\n\n  var weChat = /micromessenger/i.test(ua); // Todo: clean this up with a better OS/browser seperation:\n  // - discern (more) between multiple browsers on android\n  // - decide if kindle fire in silk mode is android or not\n  // - Firefox on Android doesn't specify the Android version\n  // - possibly devide in os, device and browser hashes\n  // if (browser.webkit = !!webkit) browser.version = webkit[1];\n  // if (android) os.android = true, os.version = android[2];\n  // if (iphone && !ipod) os.ios = os.iphone = true, os.version = iphone[2].replace(/_/g, '.');\n  // if (ipad) os.ios = os.ipad = true, os.version = ipad[2].replace(/_/g, '.');\n  // if (ipod) os.ios = os.ipod = true, os.version = ipod[3] ? ipod[3].replace(/_/g, '.') : null;\n  // if (webos) os.webos = true, os.version = webos[2];\n  // if (touchpad) os.touchpad = true;\n  // if (blackberry) os.blackberry = true, os.version = blackberry[2];\n  // if (bb10) os.bb10 = true, os.version = bb10[2];\n  // if (rimtabletos) os.rimtabletos = true, os.version = rimtabletos[2];\n  // if (playbook) browser.playbook = true;\n  // if (kindle) os.kindle = true, os.version = kindle[1];\n  // if (silk) browser.silk = true, browser.version = silk[1];\n  // if (!silk && os.android && ua.match(/Kindle Fire/)) browser.silk = true;\n  // if (chrome) browser.chrome = true, browser.version = chrome[1];\n\n  if (firefox) {\n    browser.firefox = true;\n    browser.version = firefox[1];\n  } // if (safari && (ua.match(/Safari/) || !!os.ios)) browser.safari = true;\n  // if (webview) browser.webview = true;\n\n\n  if (ie) {\n    browser.ie = true;\n    browser.version = ie[1];\n  }\n\n  if (edge) {\n    browser.edge = true;\n    browser.version = edge[1];\n  } // It is difficult to detect WeChat in Win Phone precisely, because ua can\n  // not be set on win phone. So we do not consider Win Phone.\n\n\n  if (weChat) {\n    browser.weChat = true;\n  } // os.tablet = !!(ipad || playbook || (android && !ua.match(/Mobile/)) ||\n  //     (firefox && ua.match(/Tablet/)) || (ie && !ua.match(/Phone/) && ua.match(/Touch/)));\n  // os.phone  = !!(!os.tablet && !os.ipod && (android || iphone || webos ||\n  //     (chrome && ua.match(/Android/)) || (chrome && ua.match(/CriOS\\/([\\d.]+)/)) ||\n  //     (firefox && ua.match(/Mobile/)) || (ie && ua.match(/Touch/))));\n\n\n  return {\n    browser: browser,\n    os: os,\n    node: false,\n    // 原生canvas支持，改极端点了\n    // canvasSupported : !(browser.ie && parseFloat(browser.version) < 9)\n    canvasSupported: !!document.createElement('canvas').getContext,\n    svgSupported: typeof SVGRect !== 'undefined',\n    // works on most browsers\n    // IE10/11 does not support touch event, and MS Edge supports them but not by\n    // default, so we dont check navigator.maxTouchPoints for them here.\n    touchEventsSupported: 'ontouchstart' in window && !browser.ie && !browser.edge,\n    // <http://caniuse.com/#search=pointer%20event>.\n    pointerEventsSupported: // (1) Firefox supports pointer but not by default, only MS browsers are reliable on pointer\n    // events currently. So we dont use that on other browsers unless tested sufficiently.\n    // For example, in iOS 13 Mobile Chromium 78, if the touching behavior starts page\n    // scroll, the `pointermove` event can not be fired any more. That will break some\n    // features like \"pan horizontally to move something and pan vertically to page scroll\".\n    // The horizontal pan probably be interrupted by the casually triggered page scroll.\n    // (2) Although IE 10 supports pointer event, it use old style and is different from the\n    // standard. So we exclude that. (IE 10 is hardly used on touch device)\n    'onpointerdown' in window && (browser.edge || browser.ie && browser.version >= 11),\n    // passiveSupported: detectPassiveSupport()\n    domSupported: typeof document !== 'undefined'\n  };\n} // See https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md#feature-detection\n// function detectPassiveSupport() {\n//     // Test via a getter in the options object to see if the passive property is accessed\n//     var supportsPassive = false;\n//     try {\n//         var opts = Object.defineProperty({}, 'passive', {\n//             get: function() {\n//                 supportsPassive = true;\n//             }\n//         });\n//         window.addEventListener('testPassive', function() {}, opts);\n//     } catch (e) {\n//     }\n//     return supportsPassive;\n// }\n\n\nmodule.exports = _default;","var dpr = 1; // If in browser environment\n\nif (typeof window !== 'undefined') {\n  dpr = Math.max(window.devicePixelRatio || 1, 1);\n}\n/**\n * config默认配置项\n * @exports zrender/config\n * @author Kener (@Kener-林峰, kener.linfeng@gmail.com)\n */\n\n/**\n * Debug log mode:\n * 0: Do nothing, for release.\n * 1: console.error, for debug.\n */\n\n\nvar debugMode = 0; // retina 屏幕优化\n\nvar devicePixelRatio = dpr;\nexports.debugMode = debugMode;\nexports.devicePixelRatio = devicePixelRatio;","/* global Float32Array */\nvar ArrayCtor = typeof Float32Array === 'undefined' ? Array : Float32Array;\n/**\n * 创建一个向量\n * @param {number} [x=0]\n * @param {number} [y=0]\n * @return {Vector2}\n */\n\nfunction create(x, y) {\n  var out = new ArrayCtor(2);\n\n  if (x == null) {\n    x = 0;\n  }\n\n  if (y == null) {\n    y = 0;\n  }\n\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * 复制向量数据\n * @param {Vector2} out\n * @param {Vector2} v\n * @return {Vector2}\n */\n\n\nfunction copy(out, v) {\n  out[0] = v[0];\n  out[1] = v[1];\n  return out;\n}\n/**\n * 克隆一个向量\n * @param {Vector2} v\n * @return {Vector2}\n */\n\n\nfunction clone(v) {\n  var out = new ArrayCtor(2);\n  out[0] = v[0];\n  out[1] = v[1];\n  return out;\n}\n/**\n * 设置向量的两个项\n * @param {Vector2} out\n * @param {number} a\n * @param {number} b\n * @return {Vector2} 结果\n */\n\n\nfunction set(out, a, b) {\n  out[0] = a;\n  out[1] = b;\n  return out;\n}\n/**\n * 向量相加\n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n */\n\n\nfunction add(out, v1, v2) {\n  out[0] = v1[0] + v2[0];\n  out[1] = v1[1] + v2[1];\n  return out;\n}\n/**\n * 向量缩放后相加\n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n * @param {number} a\n */\n\n\nfunction scaleAndAdd(out, v1, v2, a) {\n  out[0] = v1[0] + v2[0] * a;\n  out[1] = v1[1] + v2[1] * a;\n  return out;\n}\n/**\n * 向量相减\n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n */\n\n\nfunction sub(out, v1, v2) {\n  out[0] = v1[0] - v2[0];\n  out[1] = v1[1] - v2[1];\n  return out;\n}\n/**\n * 向量长度\n * @param {Vector2} v\n * @return {number}\n */\n\n\nfunction len(v) {\n  return Math.sqrt(lenSquare(v));\n}\n\nvar length = len; // jshint ignore:line\n\n/**\n * 向量长度平方\n * @param {Vector2} v\n * @return {number}\n */\n\nfunction lenSquare(v) {\n  return v[0] * v[0] + v[1] * v[1];\n}\n\nvar lengthSquare = lenSquare;\n/**\n * 向量乘法\n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n */\n\nfunction mul(out, v1, v2) {\n  out[0] = v1[0] * v2[0];\n  out[1] = v1[1] * v2[1];\n  return out;\n}\n/**\n * 向量除法\n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n */\n\n\nfunction div(out, v1, v2) {\n  out[0] = v1[0] / v2[0];\n  out[1] = v1[1] / v2[1];\n  return out;\n}\n/**\n * 向量点乘\n * @param {Vector2} v1\n * @param {Vector2} v2\n * @return {number}\n */\n\n\nfunction dot(v1, v2) {\n  return v1[0] * v2[0] + v1[1] * v2[1];\n}\n/**\n * 向量缩放\n * @param {Vector2} out\n * @param {Vector2} v\n * @param {number} s\n */\n\n\nfunction scale(out, v, s) {\n  out[0] = v[0] * s;\n  out[1] = v[1] * s;\n  return out;\n}\n/**\n * 向量归一化\n * @param {Vector2} out\n * @param {Vector2} v\n */\n\n\nfunction normalize(out, v) {\n  var d = len(v);\n\n  if (d === 0) {\n    out[0] = 0;\n    out[1] = 0;\n  } else {\n    out[0] = v[0] / d;\n    out[1] = v[1] / d;\n  }\n\n  return out;\n}\n/**\n * 计算向量间距离\n * @param {Vector2} v1\n * @param {Vector2} v2\n * @return {number}\n */\n\n\nfunction distance(v1, v2) {\n  return Math.sqrt((v1[0] - v2[0]) * (v1[0] - v2[0]) + (v1[1] - v2[1]) * (v1[1] - v2[1]));\n}\n\nvar dist = distance;\n/**\n * 向量距离平方\n * @param {Vector2} v1\n * @param {Vector2} v2\n * @return {number}\n */\n\nfunction distanceSquare(v1, v2) {\n  return (v1[0] - v2[0]) * (v1[0] - v2[0]) + (v1[1] - v2[1]) * (v1[1] - v2[1]);\n}\n\nvar distSquare = distanceSquare;\n/**\n * 求负向量\n * @param {Vector2} out\n * @param {Vector2} v\n */\n\nfunction negate(out, v) {\n  out[0] = -v[0];\n  out[1] = -v[1];\n  return out;\n}\n/**\n * 插值两个点\n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n * @param {number} t\n */\n\n\nfunction lerp(out, v1, v2, t) {\n  out[0] = v1[0] + t * (v2[0] - v1[0]);\n  out[1] = v1[1] + t * (v2[1] - v1[1]);\n  return out;\n}\n/**\n * 矩阵左乘向量\n * @param {Vector2} out\n * @param {Vector2} v\n * @param {Vector2} m\n */\n\n\nfunction applyTransform(out, v, m) {\n  var x = v[0];\n  var y = v[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * 求两个向量最小值\n * @param  {Vector2} out\n * @param  {Vector2} v1\n * @param  {Vector2} v2\n */\n\n\nfunction min(out, v1, v2) {\n  out[0] = Math.min(v1[0], v2[0]);\n  out[1] = Math.min(v1[1], v2[1]);\n  return out;\n}\n/**\n * 求两个向量最大值\n * @param  {Vector2} out\n * @param  {Vector2} v1\n * @param  {Vector2} v2\n */\n\n\nfunction max(out, v1, v2) {\n  out[0] = Math.max(v1[0], v2[0]);\n  out[1] = Math.max(v1[1], v2[1]);\n  return out;\n}\n\nexports.create = create;\nexports.copy = copy;\nexports.clone = clone;\nexports.set = set;\nexports.add = add;\nexports.scaleAndAdd = scaleAndAdd;\nexports.sub = sub;\nexports.len = len;\nexports.length = length;\nexports.lenSquare = lenSquare;\nexports.lengthSquare = lengthSquare;\nexports.mul = mul;\nexports.div = div;\nexports.dot = dot;\nexports.scale = scale;\nexports.normalize = normalize;\nexports.distance = distance;\nexports.dist = dist;\nexports.distanceSquare = distanceSquare;\nexports.distSquare = distSquare;\nexports.negate = negate;\nexports.lerp = lerp;\nexports.applyTransform = applyTransform;\nexports.min = min;\nexports.max = max;","var _config = require(\"../config\");\n\nvar debugMode = _config.debugMode;\n\nvar logError = function () {};\n\nif (debugMode === 1) {\n  logError = console.error;\n}\n\nvar _default = logError;\nmodule.exports = _default;","var _vector = require(\"./vector\");\n\nvar v2Create = _vector.create;\nvar v2DistSquare = _vector.distSquare;\n\n/**\n * 曲线辅助模块\n * @module zrender/core/curve\n * @author pissang(https://www.github.com/pissang)\n */\nvar mathPow = Math.pow;\nvar mathSqrt = Math.sqrt;\nvar EPSILON = 1e-8;\nvar EPSILON_NUMERIC = 1e-4;\nvar THREE_SQRT = mathSqrt(3);\nvar ONE_THIRD = 1 / 3; // 临时变量\n\nvar _v0 = v2Create();\n\nvar _v1 = v2Create();\n\nvar _v2 = v2Create();\n\nfunction isAroundZero(val) {\n  return val > -EPSILON && val < EPSILON;\n}\n\nfunction isNotAroundZero(val) {\n  return val > EPSILON || val < -EPSILON;\n}\n/**\n * 计算三次贝塞尔值\n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} t\n * @return {number}\n */\n\n\nfunction cubicAt(p0, p1, p2, p3, t) {\n  var onet = 1 - t;\n  return onet * onet * (onet * p0 + 3 * t * p1) + t * t * (t * p3 + 3 * onet * p2);\n}\n/**\n * 计算三次贝塞尔导数值\n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} t\n * @return {number}\n */\n\n\nfunction cubicDerivativeAt(p0, p1, p2, p3, t) {\n  var onet = 1 - t;\n  return 3 * (((p1 - p0) * onet + 2 * (p2 - p1) * t) * onet + (p3 - p2) * t * t);\n}\n/**\n * 计算三次贝塞尔方程根，使用盛金公式\n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} val\n * @param  {Array.<number>} roots\n * @return {number} 有效根数目\n */\n\n\nfunction cubicRootAt(p0, p1, p2, p3, val, roots) {\n  // Evaluate roots of cubic functions\n  var a = p3 + 3 * (p1 - p2) - p0;\n  var b = 3 * (p2 - p1 * 2 + p0);\n  var c = 3 * (p1 - p0);\n  var d = p0 - val;\n  var A = b * b - 3 * a * c;\n  var B = b * c - 9 * a * d;\n  var C = c * c - 3 * b * d;\n  var n = 0;\n\n  if (isAroundZero(A) && isAroundZero(B)) {\n    if (isAroundZero(b)) {\n      roots[0] = 0;\n    } else {\n      var t1 = -c / b; //t1, t2, t3, b is not zero\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n    }\n  } else {\n    var disc = B * B - 4 * A * C;\n\n    if (isAroundZero(disc)) {\n      var K = B / A;\n      var t1 = -b / a + K; // t1, a is not zero\n\n      var t2 = -K / 2; // t2, t3\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n\n      if (t2 >= 0 && t2 <= 1) {\n        roots[n++] = t2;\n      }\n    } else if (disc > 0) {\n      var discSqrt = mathSqrt(disc);\n      var Y1 = A * b + 1.5 * a * (-B + discSqrt);\n      var Y2 = A * b + 1.5 * a * (-B - discSqrt);\n\n      if (Y1 < 0) {\n        Y1 = -mathPow(-Y1, ONE_THIRD);\n      } else {\n        Y1 = mathPow(Y1, ONE_THIRD);\n      }\n\n      if (Y2 < 0) {\n        Y2 = -mathPow(-Y2, ONE_THIRD);\n      } else {\n        Y2 = mathPow(Y2, ONE_THIRD);\n      }\n\n      var t1 = (-b - (Y1 + Y2)) / (3 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n    } else {\n      var T = (2 * A * b - 3 * a * B) / (2 * mathSqrt(A * A * A));\n      var theta = Math.acos(T) / 3;\n      var ASqrt = mathSqrt(A);\n      var tmp = Math.cos(theta);\n      var t1 = (-b - 2 * ASqrt * tmp) / (3 * a);\n      var t2 = (-b + ASqrt * (tmp + THREE_SQRT * Math.sin(theta))) / (3 * a);\n      var t3 = (-b + ASqrt * (tmp - THREE_SQRT * Math.sin(theta))) / (3 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n\n      if (t2 >= 0 && t2 <= 1) {\n        roots[n++] = t2;\n      }\n\n      if (t3 >= 0 && t3 <= 1) {\n        roots[n++] = t3;\n      }\n    }\n  }\n\n  return n;\n}\n/**\n * 计算三次贝塞尔方程极限值的位置\n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {Array.<number>} extrema\n * @return {number} 有效数目\n */\n\n\nfunction cubicExtrema(p0, p1, p2, p3, extrema) {\n  var b = 6 * p2 - 12 * p1 + 6 * p0;\n  var a = 9 * p1 + 3 * p3 - 3 * p0 - 9 * p2;\n  var c = 3 * p1 - 3 * p0;\n  var n = 0;\n\n  if (isAroundZero(a)) {\n    if (isNotAroundZero(b)) {\n      var t1 = -c / b;\n\n      if (t1 >= 0 && t1 <= 1) {\n        extrema[n++] = t1;\n      }\n    }\n  } else {\n    var disc = b * b - 4 * a * c;\n\n    if (isAroundZero(disc)) {\n      extrema[0] = -b / (2 * a);\n    } else if (disc > 0) {\n      var discSqrt = mathSqrt(disc);\n      var t1 = (-b + discSqrt) / (2 * a);\n      var t2 = (-b - discSqrt) / (2 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        extrema[n++] = t1;\n      }\n\n      if (t2 >= 0 && t2 <= 1) {\n        extrema[n++] = t2;\n      }\n    }\n  }\n\n  return n;\n}\n/**\n * 细分三次贝塞尔曲线\n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} t\n * @param  {Array.<number>} out\n */\n\n\nfunction cubicSubdivide(p0, p1, p2, p3, t, out) {\n  var p01 = (p1 - p0) * t + p0;\n  var p12 = (p2 - p1) * t + p1;\n  var p23 = (p3 - p2) * t + p2;\n  var p012 = (p12 - p01) * t + p01;\n  var p123 = (p23 - p12) * t + p12;\n  var p0123 = (p123 - p012) * t + p012; // Seg0\n\n  out[0] = p0;\n  out[1] = p01;\n  out[2] = p012;\n  out[3] = p0123; // Seg1\n\n  out[4] = p0123;\n  out[5] = p123;\n  out[6] = p23;\n  out[7] = p3;\n}\n/**\n * 投射点到三次贝塞尔曲线上，返回投射距离。\n * 投射点有可能会有一个或者多个，这里只返回其中距离最短的一个。\n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @param {number} x3\n * @param {number} y3\n * @param {number} x\n * @param {number} y\n * @param {Array.<number>} [out] 投射点\n * @return {number}\n */\n\n\nfunction cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, out) {\n  // http://pomax.github.io/bezierinfo/#projections\n  var t;\n  var interval = 0.005;\n  var d = Infinity;\n  var prev;\n  var next;\n  var d1;\n  var d2;\n  _v0[0] = x;\n  _v0[1] = y; // 先粗略估计一下可能的最小距离的 t 值\n  // PENDING\n\n  for (var _t = 0; _t < 1; _t += 0.05) {\n    _v1[0] = cubicAt(x0, x1, x2, x3, _t);\n    _v1[1] = cubicAt(y0, y1, y2, y3, _t);\n    d1 = v2DistSquare(_v0, _v1);\n\n    if (d1 < d) {\n      t = _t;\n      d = d1;\n    }\n  }\n\n  d = Infinity; // At most 32 iteration\n\n  for (var i = 0; i < 32; i++) {\n    if (interval < EPSILON_NUMERIC) {\n      break;\n    }\n\n    prev = t - interval;\n    next = t + interval; // t - interval\n\n    _v1[0] = cubicAt(x0, x1, x2, x3, prev);\n    _v1[1] = cubicAt(y0, y1, y2, y3, prev);\n    d1 = v2DistSquare(_v1, _v0);\n\n    if (prev >= 0 && d1 < d) {\n      t = prev;\n      d = d1;\n    } else {\n      // t + interval\n      _v2[0] = cubicAt(x0, x1, x2, x3, next);\n      _v2[1] = cubicAt(y0, y1, y2, y3, next);\n      d2 = v2DistSquare(_v2, _v0);\n\n      if (next <= 1 && d2 < d) {\n        t = next;\n        d = d2;\n      } else {\n        interval *= 0.5;\n      }\n    }\n  } // t\n\n\n  if (out) {\n    out[0] = cubicAt(x0, x1, x2, x3, t);\n    out[1] = cubicAt(y0, y1, y2, y3, t);\n  } // console.log(interval, i);\n\n\n  return mathSqrt(d);\n}\n/**\n * 计算二次方贝塞尔值\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} t\n * @return {number}\n */\n\n\nfunction quadraticAt(p0, p1, p2, t) {\n  var onet = 1 - t;\n  return onet * (onet * p0 + 2 * t * p1) + t * t * p2;\n}\n/**\n * 计算二次方贝塞尔导数值\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} t\n * @return {number}\n */\n\n\nfunction quadraticDerivativeAt(p0, p1, p2, t) {\n  return 2 * ((1 - t) * (p1 - p0) + t * (p2 - p1));\n}\n/**\n * 计算二次方贝塞尔方程根\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} t\n * @param  {Array.<number>} roots\n * @return {number} 有效根数目\n */\n\n\nfunction quadraticRootAt(p0, p1, p2, val, roots) {\n  var a = p0 - 2 * p1 + p2;\n  var b = 2 * (p1 - p0);\n  var c = p0 - val;\n  var n = 0;\n\n  if (isAroundZero(a)) {\n    if (isNotAroundZero(b)) {\n      var t1 = -c / b;\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n    }\n  } else {\n    var disc = b * b - 4 * a * c;\n\n    if (isAroundZero(disc)) {\n      var t1 = -b / (2 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n    } else if (disc > 0) {\n      var discSqrt = mathSqrt(disc);\n      var t1 = (-b + discSqrt) / (2 * a);\n      var t2 = (-b - discSqrt) / (2 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n\n      if (t2 >= 0 && t2 <= 1) {\n        roots[n++] = t2;\n      }\n    }\n  }\n\n  return n;\n}\n/**\n * 计算二次贝塞尔方程极限值\n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @return {number}\n */\n\n\nfunction quadraticExtremum(p0, p1, p2) {\n  var divider = p0 + p2 - 2 * p1;\n\n  if (divider === 0) {\n    // p1 is center of p0 and p2\n    return 0.5;\n  } else {\n    return (p0 - p1) / divider;\n  }\n}\n/**\n * 细分二次贝塞尔曲线\n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} t\n * @param  {Array.<number>} out\n */\n\n\nfunction quadraticSubdivide(p0, p1, p2, t, out) {\n  var p01 = (p1 - p0) * t + p0;\n  var p12 = (p2 - p1) * t + p1;\n  var p012 = (p12 - p01) * t + p01; // Seg0\n\n  out[0] = p0;\n  out[1] = p01;\n  out[2] = p012; // Seg1\n\n  out[3] = p012;\n  out[4] = p12;\n  out[5] = p2;\n}\n/**\n * 投射点到二次贝塞尔曲线上，返回投射距离。\n * 投射点有可能会有一个或者多个，这里只返回其中距离最短的一个。\n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @param {number} x\n * @param {number} y\n * @param {Array.<number>} out 投射点\n * @return {number}\n */\n\n\nfunction quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x, y, out) {\n  // http://pomax.github.io/bezierinfo/#projections\n  var t;\n  var interval = 0.005;\n  var d = Infinity;\n  _v0[0] = x;\n  _v0[1] = y; // 先粗略估计一下可能的最小距离的 t 值\n  // PENDING\n\n  for (var _t = 0; _t < 1; _t += 0.05) {\n    _v1[0] = quadraticAt(x0, x1, x2, _t);\n    _v1[1] = quadraticAt(y0, y1, y2, _t);\n    var d1 = v2DistSquare(_v0, _v1);\n\n    if (d1 < d) {\n      t = _t;\n      d = d1;\n    }\n  }\n\n  d = Infinity; // At most 32 iteration\n\n  for (var i = 0; i < 32; i++) {\n    if (interval < EPSILON_NUMERIC) {\n      break;\n    }\n\n    var prev = t - interval;\n    var next = t + interval; // t - interval\n\n    _v1[0] = quadraticAt(x0, x1, x2, prev);\n    _v1[1] = quadraticAt(y0, y1, y2, prev);\n    var d1 = v2DistSquare(_v1, _v0);\n\n    if (prev >= 0 && d1 < d) {\n      t = prev;\n      d = d1;\n    } else {\n      // t + interval\n      _v2[0] = quadraticAt(x0, x1, x2, next);\n      _v2[1] = quadraticAt(y0, y1, y2, next);\n      var d2 = v2DistSquare(_v2, _v0);\n\n      if (next <= 1 && d2 < d) {\n        t = next;\n        d = d2;\n      } else {\n        interval *= 0.5;\n      }\n    }\n  } // t\n\n\n  if (out) {\n    out[0] = quadraticAt(x0, x1, x2, t);\n    out[1] = quadraticAt(y0, y1, y2, t);\n  } // console.log(interval, i);\n\n\n  return mathSqrt(d);\n}\n\nexports.cubicAt = cubicAt;\nexports.cubicDerivativeAt = cubicDerivativeAt;\nexports.cubicRootAt = cubicRootAt;\nexports.cubicExtrema = cubicExtrema;\nexports.cubicSubdivide = cubicSubdivide;\nexports.cubicProjectPoint = cubicProjectPoint;\nexports.quadraticAt = quadraticAt;\nexports.quadraticDerivativeAt = quadraticDerivativeAt;\nexports.quadraticRootAt = quadraticRootAt;\nexports.quadraticExtremum = quadraticExtremum;\nexports.quadraticSubdivide = quadraticSubdivide;\nexports.quadraticProjectPoint = quadraticProjectPoint;","var Eventful = require(\"../mixin/Eventful\");\n\nexports.Dispatcher = Eventful;\n\nvar env = require(\"./env\");\n\nvar _dom = require(\"./dom\");\n\nvar isCanvasEl = _dom.isCanvasEl;\nvar transformCoordWithViewport = _dom.transformCoordWithViewport;\n\n/**\n * Utilities for mouse or touch events.\n */\nvar isDomLevel2 = typeof window !== 'undefined' && !!window.addEventListener;\nvar MOUSE_EVENT_REG = /^(?:mouse|pointer|contextmenu|drag|drop)|click/;\nvar _calcOut = [];\n/**\n * Get the `zrX` and `zrY`, which are relative to the top-left of\n * the input `el`.\n * CSS transform (2D & 3D) is supported.\n *\n * The strategy to fetch the coords:\n * + If `calculate` is not set as `true`, users of this method should\n * ensure that `el` is the same or the same size & location as `e.target`.\n * Otherwise the result coords are probably not expected. Because we\n * firstly try to get coords from e.offsetX/e.offsetY.\n * + If `calculate` is set as `true`, the input `el` can be any element\n * and we force to calculate the coords based on `el`.\n * + The input `el` should be positionable (not position:static).\n *\n * The force `calculate` can be used in case like:\n * When mousemove event triggered on ec tooltip, `e.target` is not `el`(zr painter.dom).\n *\n * @param {HTMLElement} el DOM element.\n * @param {Event} e Mouse event or touch event.\n * @param {Object} out Get `out.zrX` and `out.zrY` as the result.\n * @param {boolean} [calculate=false] Whether to force calculate\n *        the coordinates but not use ones provided by browser.\n */\n\nfunction clientToLocal(el, e, out, calculate) {\n  out = out || {}; // According to the W3C Working Draft, offsetX and offsetY should be relative\n  // to the padding edge of the target element. The only browser using this convention\n  // is IE. Webkit uses the border edge, Opera uses the content edge, and FireFox does\n  // not support the properties.\n  // (see http://www.jacklmoore.com/notes/mouse-position/)\n  // In zr painter.dom, padding edge equals to border edge.\n\n  if (calculate || !env.canvasSupported) {\n    calculateZrXY(el, e, out);\n  } // Caution: In FireFox, layerX/layerY Mouse position relative to the closest positioned\n  // ancestor element, so we should make sure el is positioned (e.g., not position:static).\n  // BTW1, Webkit don't return the same results as FF in non-simple cases (like add\n  // zoom-factor, overflow / opacity layers, transforms ...)\n  // BTW2, (ev.offsetY || ev.pageY - $(ev.target).offset().top) is not correct in preserve-3d.\n  // <https://bugs.jquery.com/ticket/8523#comment:14>\n  // BTW3, In ff, offsetX/offsetY is always 0.\n  else if (env.browser.firefox && e.layerX != null && e.layerX !== e.offsetX) {\n      out.zrX = e.layerX;\n      out.zrY = e.layerY;\n    } // For IE6+, chrome, safari, opera. (When will ff support offsetX?)\n    else if (e.offsetX != null) {\n        out.zrX = e.offsetX;\n        out.zrY = e.offsetY;\n      } // For some other device, e.g., IOS safari.\n      else {\n          calculateZrXY(el, e, out);\n        }\n\n  return out;\n}\n\nfunction calculateZrXY(el, e, out) {\n  // BlackBerry 5, iOS 3 (original iPhone) don't have getBoundingRect.\n  if (env.domSupported && el.getBoundingClientRect) {\n    var ex = e.clientX;\n    var ey = e.clientY;\n\n    if (isCanvasEl(el)) {\n      // Original approach, which do not support CSS transform.\n      // marker can not be locationed in a canvas container\n      // (getBoundingClientRect is always 0). We do not support\n      // that input a pre-created canvas to zr while using css\n      // transform in iOS.\n      var box = el.getBoundingClientRect();\n      out.zrX = ex - box.left;\n      out.zrY = ey - box.top;\n      return;\n    } else {\n      if (transformCoordWithViewport(_calcOut, el, ex, ey)) {\n        out.zrX = _calcOut[0];\n        out.zrY = _calcOut[1];\n        return;\n      }\n    }\n  }\n\n  out.zrX = out.zrY = 0;\n}\n/**\n * Find native event compat for legency IE.\n * Should be called at the begining of a native event listener.\n *\n * @param {Event} [e] Mouse event or touch event or pointer event.\n *        For lagency IE, we use `window.event` is used.\n * @return {Event} The native event.\n */\n\n\nfunction getNativeEvent(e) {\n  return e || window.event;\n}\n/**\n * Normalize the coordinates of the input event.\n *\n * Get the `e.zrX` and `e.zrY`, which are relative to the top-left of\n * the input `el`.\n * Get `e.zrDelta` if using mouse wheel.\n * Get `e.which`, see the comment inside this function.\n *\n * Do not calculate repeatly if `zrX` and `zrY` already exist.\n *\n * Notice: see comments in `clientToLocal`. check the relationship\n * between the result coords and the parameters `el` and `calculate`.\n *\n * @param {HTMLElement} el DOM element.\n * @param {Event} [e] See `getNativeEvent`.\n * @param {boolean} [calculate=false] Whether to force calculate\n *        the coordinates but not use ones provided by browser.\n * @return {UIEvent} The normalized native UIEvent.\n */\n\n\nfunction normalizeEvent(el, e, calculate) {\n  e = getNativeEvent(e);\n\n  if (e.zrX != null) {\n    return e;\n  }\n\n  var eventType = e.type;\n  var isTouch = eventType && eventType.indexOf('touch') >= 0;\n\n  if (!isTouch) {\n    clientToLocal(el, e, e, calculate);\n    e.zrDelta = e.wheelDelta ? e.wheelDelta / 120 : -(e.detail || 0) / 3;\n  } else {\n    var touch = eventType !== 'touchend' ? e.targetTouches[0] : e.changedTouches[0];\n    touch && clientToLocal(el, touch, e, calculate);\n  } // Add which for click: 1 === left; 2 === middle; 3 === right; otherwise: 0;\n  // See jQuery: https://github.com/jquery/jquery/blob/master/src/event.js\n  // If e.which has been defined, it may be readonly,\n  // see: https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/which\n\n\n  var button = e.button;\n\n  if (e.which == null && button !== undefined && MOUSE_EVENT_REG.test(e.type)) {\n    e.which = button & 1 ? 1 : button & 2 ? 3 : button & 4 ? 2 : 0;\n  } // [Caution]: `e.which` from browser is not always reliable. For example,\n  // when press left button and `mousemove (pointermove)` in Edge, the `e.which`\n  // is 65536 and the `e.button` is -1. But the `mouseup (pointerup)` and\n  // `mousedown (pointerdown)` is the same as Chrome does.\n\n\n  return e;\n}\n/**\n * @param {HTMLElement} el\n * @param {string} name\n * @param {Function} handler\n * @param {Object|boolean} opt If boolean, means `opt.capture`\n * @param {boolean} [opt.capture=false]\n * @param {boolean} [opt.passive=false]\n */\n\n\nfunction addEventListener(el, name, handler, opt) {\n  if (isDomLevel2) {\n    // Reproduct the console warning:\n    // [Violation] Added non-passive event listener to a scroll-blocking <some> event.\n    // Consider marking event handler as 'passive' to make the page more responsive.\n    // Just set console log level: verbose in chrome dev tool.\n    // then the warning log will be printed when addEventListener called.\n    // See https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\n    // We have not yet found a neat way to using passive. Because in zrender the dom event\n    // listener delegate all of the upper events of element. Some of those events need\n    // to prevent default. For example, the feature `preventDefaultMouseMove` of echarts.\n    // Before passive can be adopted, these issues should be considered:\n    // (1) Whether and how a zrender user specifies an event listener passive. And by default,\n    // passive or not.\n    // (2) How to tread that some zrender event listener is passive, and some is not. If\n    // we use other way but not preventDefault of mousewheel and touchmove, browser\n    // compatibility should be handled.\n    // var opts = (env.passiveSupported && name === 'mousewheel')\n    //     ? {passive: true}\n    //     // By default, the third param of el.addEventListener is `capture: false`.\n    //     : void 0;\n    // el.addEventListener(name, handler /* , opts */);\n    el.addEventListener(name, handler, opt);\n  } else {\n    // For simplicity, do not implement `setCapture` for IE9-.\n    el.attachEvent('on' + name, handler);\n  }\n}\n/**\n * Parameter are the same as `addEventListener`.\n *\n * Notice that if a listener is registered twice, one with capture and one without,\n * remove each one separately. Removal of a capturing listener does not affect a\n * non-capturing version of the same listener, and vice versa.\n */\n\n\nfunction removeEventListener(el, name, handler, opt) {\n  if (isDomLevel2) {\n    el.removeEventListener(name, handler, opt);\n  } else {\n    el.detachEvent('on' + name, handler);\n  }\n}\n/**\n * preventDefault and stopPropagation.\n * Notice: do not use this method in zrender. It can only be\n * used by upper applications if necessary.\n *\n * @param {Event} e A mouse or touch event.\n */\n\n\nvar stop = isDomLevel2 ? function (e) {\n  e.preventDefault();\n  e.stopPropagation();\n  e.cancelBubble = true;\n} : function (e) {\n  e.returnValue = false;\n  e.cancelBubble = true;\n};\n/**\n * This method only works for mouseup and mousedown. The functionality is restricted\n * for fault tolerance, See the `e.which` compatibility above.\n *\n * @param {MouseEvent} e\n * @return {boolean}\n */\n\nfunction isMiddleOrRightButtonOnMouseUpDown(e) {\n  return e.which === 2 || e.which === 3;\n}\n/**\n * To be removed.\n * @deprecated\n */\n\n\nfunction notLeftMouse(e) {\n  // If e.which is undefined, considered as left mouse event.\n  return e.which > 1;\n} // For backward compatibility\n\n\nexports.clientToLocal = clientToLocal;\nexports.getNativeEvent = getNativeEvent;\nexports.normalizeEvent = normalizeEvent;\nexports.addEventListener = addEventListener;\nexports.removeEventListener = removeEventListener;\nexports.stop = stop;\nexports.isMiddleOrRightButtonOnMouseUpDown = isMiddleOrRightButtonOnMouseUpDown;\nexports.notLeftMouse = notLeftMouse;","var env = require(\"./env\");\n\nvar _fourPointsTransform = require(\"./fourPointsTransform\");\n\nvar buildTransformer = _fourPointsTransform.buildTransformer;\nvar EVENT_SAVED_PROP = '___zrEVENTSAVED';\nvar _calcOut = [];\n/**\n * Transform \"local coord\" from `elFrom` to `elTarget`.\n * \"local coord\": the coord based on the input `el`. The origin point is at\n *     the position of \"left: 0; top: 0;\" in the `el`.\n *\n * Support when CSS transform is used.\n *\n * Having the `out` (that is, `[outX, outY]`), we can create an DOM element\n * and set the CSS style as \"left: outX; top: outY;\" and append it to `elTarge`\n * to locate the element.\n *\n * For example, this code below positions a child of `document.body` on the event\n * point, no matter whether `body` has `margin`/`paddin`/`transfrom`/... :\n * ```js\n * transformLocalCoord(out, container, document.body, event.offsetX, event.offsetY);\n * if (!eqNaN(out[0])) {\n *     // Then locate the tip element on the event point.\n *     var tipEl = document.createElement('div');\n *     tipEl.style.cssText = 'position: absolute; left:' + out[0] + ';top:' + out[1] + ';';\n *     document.body.appendChild(tipEl);\n * }\n * ```\n *\n * Notice: In some env this method is not supported. If called, `out` will be `[NaN, NaN]`.\n *\n * @param {Array.<number>} out [inX: number, inY: number] The output..\n *        If can not transform, `out` will not be modified but return `false`.\n * @param {HTMLElement} elFrom The `[inX, inY]` is based on elFrom.\n * @param {HTMLElement} elTarget The `out` is based on elTarget.\n * @param {number} inX\n * @param {number} inY\n * @return {boolean} Whether transform successfully.\n */\n\nfunction transformLocalCoord(out, elFrom, elTarget, inX, inY) {\n  return transformCoordWithViewport(_calcOut, elFrom, inX, inY, true) && transformCoordWithViewport(out, elTarget, _calcOut[0], _calcOut[1]);\n}\n/**\n * Transform between a \"viewport coord\" and a \"local coord\".\n * \"viewport coord\": the coord based on the left-top corner of the viewport\n *     of the browser.\n * \"local coord\": the coord based on the input `el`. The origin point is at\n *     the position of \"left: 0; top: 0;\" in the `el`.\n *\n * Support the case when CSS transform is used on el.\n *\n * @param {Array.<number>} out [inX: number, inY: number] The output. If `inverse: false`,\n *        it represents \"local coord\", otherwise \"vireport coord\".\n *        If can not transform, `out` will not be modified but return `false`.\n * @param {HTMLElement} el The \"local coord\" is based on the `el`, see comment above.\n * @param {number} inX If `inverse: false`,\n *        it represents \"vireport coord\", otherwise \"local coord\".\n * @param {number} inY If `inverse: false`,\n *        it represents \"vireport coord\", otherwise \"local coord\".\n * @param {boolean} [inverse=false]\n *        `true`: from \"viewport coord\" to \"local coord\".\n *        `false`: from \"local coord\" to \"viewport coord\".\n * @return {boolean} Whether transform successfully.\n */\n\n\nfunction transformCoordWithViewport(out, el, inX, inY, inverse) {\n  if (el.getBoundingClientRect && env.domSupported && !isCanvasEl(el)) {\n    var saved = el[EVENT_SAVED_PROP] || (el[EVENT_SAVED_PROP] = {});\n    var markers = prepareCoordMarkers(el, saved);\n    var transformer = preparePointerTransformer(markers, saved, inverse);\n\n    if (transformer) {\n      transformer(out, inX, inY);\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction prepareCoordMarkers(el, saved) {\n  var markers = saved.markers;\n\n  if (markers) {\n    return markers;\n  }\n\n  markers = saved.markers = [];\n  var propLR = ['left', 'right'];\n  var propTB = ['top', 'bottom'];\n\n  for (var i = 0; i < 4; i++) {\n    var marker = document.createElement('div');\n    var stl = marker.style;\n    var idxLR = i % 2;\n    var idxTB = (i >> 1) % 2;\n    stl.cssText = ['position: absolute', 'visibility: hidden', 'padding: 0', 'margin: 0', 'border-width: 0', 'user-select: none', 'width:0', 'height:0', // 'width: 5px',\n    // 'height: 5px',\n    propLR[idxLR] + ':0', propTB[idxTB] + ':0', propLR[1 - idxLR] + ':auto', propTB[1 - idxTB] + ':auto', ''].join('!important;');\n    el.appendChild(marker);\n    markers.push(marker);\n  }\n\n  return markers;\n}\n\nfunction preparePointerTransformer(markers, saved, inverse) {\n  var transformerName = inverse ? 'invTrans' : 'trans';\n  var transformer = saved[transformerName];\n  var oldSrcCoords = saved.srcCoords;\n  var oldCoordTheSame = true;\n  var srcCoords = [];\n  var destCoords = [];\n\n  for (var i = 0; i < 4; i++) {\n    var rect = markers[i].getBoundingClientRect();\n    var ii = 2 * i;\n    var x = rect.left;\n    var y = rect.top;\n    srcCoords.push(x, y);\n    oldCoordTheSame = oldCoordTheSame && oldSrcCoords && x === oldSrcCoords[ii] && y === oldSrcCoords[ii + 1];\n    destCoords.push(markers[i].offsetLeft, markers[i].offsetTop);\n  } // Cache to avoid time consuming of `buildTransformer`.\n\n\n  return oldCoordTheSame && transformer ? transformer : (saved.srcCoords = srcCoords, saved[transformerName] = inverse ? buildTransformer(destCoords, srcCoords) : buildTransformer(srcCoords, destCoords));\n}\n\nfunction isCanvasEl(el) {\n  return el.nodeName.toUpperCase() === 'CANVAS';\n}\n\nexports.transformLocalCoord = transformLocalCoord;\nexports.transformCoordWithViewport = transformCoordWithViewport;\nexports.isCanvasEl = isCanvasEl;","var _curve = require(\"../core/curve\");\n\nvar quadraticProjectPoint = _curve.quadraticProjectPoint;\n\n/**\n * 二次贝塞尔曲线描边包含判断\n * @param  {number}  x0\n * @param  {number}  y0\n * @param  {number}  x1\n * @param  {number}  y1\n * @param  {number}  x2\n * @param  {number}  y2\n * @param  {number}  lineWidth\n * @param  {number}  x\n * @param  {number}  y\n * @return {boolean}\n */\nfunction containStroke(x0, y0, x1, y1, x2, y2, lineWidth, x, y) {\n  if (lineWidth === 0) {\n    return false;\n  }\n\n  var _l = lineWidth; // Quick reject\n\n  if (y > y0 + _l && y > y1 + _l && y > y2 + _l || y < y0 - _l && y < y1 - _l && y < y2 - _l || x > x0 + _l && x > x1 + _l && x > x2 + _l || x < x0 - _l && x < x1 - _l && x < x2 - _l) {\n    return false;\n  }\n\n  var d = quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x, y, null);\n  return d <= _l / 2;\n}\n\nexports.containStroke = containStroke;","/**\n * @module zrender/core/util\n */\n// 用于处理merge时无法遍历Date等对象的问题\nvar BUILTIN_OBJECT = {\n  '[object Function]': 1,\n  '[object RegExp]': 1,\n  '[object Date]': 1,\n  '[object Error]': 1,\n  '[object CanvasGradient]': 1,\n  '[object CanvasPattern]': 1,\n  // For node-canvas\n  '[object Image]': 1,\n  '[object Canvas]': 1\n};\nvar TYPED_ARRAY = {\n  '[object Int8Array]': 1,\n  '[object Uint8Array]': 1,\n  '[object Uint8ClampedArray]': 1,\n  '[object Int16Array]': 1,\n  '[object Uint16Array]': 1,\n  '[object Int32Array]': 1,\n  '[object Uint32Array]': 1,\n  '[object Float32Array]': 1,\n  '[object Float64Array]': 1\n};\nvar objToString = Object.prototype.toString;\nvar arrayProto = Array.prototype;\nvar nativeForEach = arrayProto.forEach;\nvar nativeFilter = arrayProto.filter;\nvar nativeSlice = arrayProto.slice;\nvar nativeMap = arrayProto.map;\nvar nativeReduce = arrayProto.reduce; // Avoid assign to an exported variable, for transforming to cjs.\n\nvar methods = {};\n\nfunction $override(name, fn) {\n  // Clear ctx instance for different environment\n  if (name === 'createCanvas') {\n    _ctx = null;\n  }\n\n  methods[name] = fn;\n}\n/**\n * Those data types can be cloned:\n *     Plain object, Array, TypedArray, number, string, null, undefined.\n * Those data types will be assgined using the orginal data:\n *     BUILTIN_OBJECT\n * Instance of user defined class will be cloned to a plain object, without\n * properties in prototype.\n * Other data types is not supported (not sure what will happen).\n *\n * Caution: do not support clone Date, for performance consideration.\n * (There might be a large number of date in `series.data`).\n * So date should not be modified in and out of echarts.\n *\n * @param {*} source\n * @return {*} new\n */\n\n\nfunction clone(source) {\n  if (source == null || typeof source !== 'object') {\n    return source;\n  }\n\n  var result = source;\n  var typeStr = objToString.call(source);\n\n  if (typeStr === '[object Array]') {\n    if (!isPrimitive(source)) {\n      result = [];\n\n      for (var i = 0, len = source.length; i < len; i++) {\n        result[i] = clone(source[i]);\n      }\n    }\n  } else if (TYPED_ARRAY[typeStr]) {\n    if (!isPrimitive(source)) {\n      var Ctor = source.constructor;\n\n      if (source.constructor.from) {\n        result = Ctor.from(source);\n      } else {\n        result = new Ctor(source.length);\n\n        for (var i = 0, len = source.length; i < len; i++) {\n          result[i] = clone(source[i]);\n        }\n      }\n    }\n  } else if (!BUILTIN_OBJECT[typeStr] && !isPrimitive(source) && !isDom(source)) {\n    result = {};\n\n    for (var key in source) {\n      if (source.hasOwnProperty(key)) {\n        result[key] = clone(source[key]);\n      }\n    }\n  }\n\n  return result;\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} target\n * @param {*} source\n * @param {boolean} [overwrite=false]\n */\n\n\nfunction merge(target, source, overwrite) {\n  // We should escapse that source is string\n  // and enter for ... in ...\n  if (!isObject(source) || !isObject(target)) {\n    return overwrite ? clone(source) : target;\n  }\n\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) {\n      var targetProp = target[key];\n      var sourceProp = source[key];\n\n      if (isObject(sourceProp) && isObject(targetProp) && !isArray(sourceProp) && !isArray(targetProp) && !isDom(sourceProp) && !isDom(targetProp) && !isBuiltInObject(sourceProp) && !isBuiltInObject(targetProp) && !isPrimitive(sourceProp) && !isPrimitive(targetProp)) {\n        // 如果需要递归覆盖，就递归调用merge\n        merge(targetProp, sourceProp, overwrite);\n      } else if (overwrite || !(key in target)) {\n        // 否则只处理overwrite为true，或者在目标对象中没有此属性的情况\n        // NOTE，在 target[key] 不存在的时候也是直接覆盖\n        target[key] = clone(source[key], true);\n      }\n    }\n  }\n\n  return target;\n}\n/**\n * @param {Array} targetAndSources The first item is target, and the rests are source.\n * @param {boolean} [overwrite=false]\n * @return {*} target\n */\n\n\nfunction mergeAll(targetAndSources, overwrite) {\n  var result = targetAndSources[0];\n\n  for (var i = 1, len = targetAndSources.length; i < len; i++) {\n    result = merge(result, targetAndSources[i], overwrite);\n  }\n\n  return result;\n}\n/**\n * @param {*} target\n * @param {*} source\n * @memberOf module:zrender/core/util\n */\n\n\nfunction extend(target, source) {\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) {\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n/**\n * @param {*} target\n * @param {*} source\n * @param {boolean} [overlay=false]\n * @memberOf module:zrender/core/util\n */\n\n\nfunction defaults(target, source, overlay) {\n  for (var key in source) {\n    if (source.hasOwnProperty(key) && (overlay ? source[key] != null : target[key] == null)) {\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nvar createCanvas = function () {\n  return methods.createCanvas();\n};\n\nmethods.createCanvas = function () {\n  return document.createElement('canvas');\n}; // FIXME\n\n\nvar _ctx;\n\nfunction getContext() {\n  if (!_ctx) {\n    // Use util.createCanvas instead of createCanvas\n    // because createCanvas may be overwritten in different environment\n    _ctx = createCanvas().getContext('2d');\n  }\n\n  return _ctx;\n}\n/**\n * 查询数组中元素的index\n * @memberOf module:zrender/core/util\n */\n\n\nfunction indexOf(array, value) {\n  if (array) {\n    if (array.indexOf) {\n      return array.indexOf(value);\n    }\n\n    for (var i = 0, len = array.length; i < len; i++) {\n      if (array[i] === value) {\n        return i;\n      }\n    }\n  }\n\n  return -1;\n}\n/**\n * 构造类继承关系\n *\n * @memberOf module:zrender/core/util\n * @param {Function} clazz 源类\n * @param {Function} baseClazz 基类\n */\n\n\nfunction inherits(clazz, baseClazz) {\n  var clazzPrototype = clazz.prototype;\n\n  function F() {}\n\n  F.prototype = baseClazz.prototype;\n  clazz.prototype = new F();\n\n  for (var prop in clazzPrototype) {\n    if (clazzPrototype.hasOwnProperty(prop)) {\n      clazz.prototype[prop] = clazzPrototype[prop];\n    }\n  }\n\n  clazz.prototype.constructor = clazz;\n  clazz.superClass = baseClazz;\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Object|Function} target\n * @param {Object|Function} sorce\n * @param {boolean} overlay\n */\n\n\nfunction mixin(target, source, overlay) {\n  target = 'prototype' in target ? target.prototype : target;\n  source = 'prototype' in source ? source.prototype : source;\n  defaults(target, source, overlay);\n}\n/**\n * Consider typed array.\n * @param {Array|TypedArray} data\n */\n\n\nfunction isArrayLike(data) {\n  if (!data) {\n    return;\n  }\n\n  if (typeof data === 'string') {\n    return false;\n  }\n\n  return typeof data.length === 'number';\n}\n/**\n * 数组或对象遍历\n * @memberOf module:zrender/core/util\n * @param {Object|Array} obj\n * @param {Function} cb\n * @param {*} [context]\n */\n\n\nfunction each(obj, cb, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  if (obj.forEach && obj.forEach === nativeForEach) {\n    obj.forEach(cb, context);\n  } else if (obj.length === +obj.length) {\n    for (var i = 0, len = obj.length; i < len; i++) {\n      cb.call(context, obj[i], i, obj);\n    }\n  } else {\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        cb.call(context, obj[key], key, obj);\n      }\n    }\n  }\n}\n/**\n * 数组映射\n * @memberOf module:zrender/core/util\n * @param {Array} obj\n * @param {Function} cb\n * @param {*} [context]\n * @return {Array}\n */\n\n\nfunction map(obj, cb, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  if (obj.map && obj.map === nativeMap) {\n    return obj.map(cb, context);\n  } else {\n    var result = [];\n\n    for (var i = 0, len = obj.length; i < len; i++) {\n      result.push(cb.call(context, obj[i], i, obj));\n    }\n\n    return result;\n  }\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Array} obj\n * @param {Function} cb\n * @param {Object} [memo]\n * @param {*} [context]\n * @return {Array}\n */\n\n\nfunction reduce(obj, cb, memo, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  if (obj.reduce && obj.reduce === nativeReduce) {\n    return obj.reduce(cb, memo, context);\n  } else {\n    for (var i = 0, len = obj.length; i < len; i++) {\n      memo = cb.call(context, memo, obj[i], i, obj);\n    }\n\n    return memo;\n  }\n}\n/**\n * 数组过滤\n * @memberOf module:zrender/core/util\n * @param {Array} obj\n * @param {Function} cb\n * @param {*} [context]\n * @return {Array}\n */\n\n\nfunction filter(obj, cb, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  if (obj.filter && obj.filter === nativeFilter) {\n    return obj.filter(cb, context);\n  } else {\n    var result = [];\n\n    for (var i = 0, len = obj.length; i < len; i++) {\n      if (cb.call(context, obj[i], i, obj)) {\n        result.push(obj[i]);\n      }\n    }\n\n    return result;\n  }\n}\n/**\n * 数组项查找\n * @memberOf module:zrender/core/util\n * @param {Array} obj\n * @param {Function} cb\n * @param {*} [context]\n * @return {*}\n */\n\n\nfunction find(obj, cb, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  for (var i = 0, len = obj.length; i < len; i++) {\n    if (cb.call(context, obj[i], i, obj)) {\n      return obj[i];\n    }\n  }\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Function} func\n * @param {*} context\n * @return {Function}\n */\n\n\nfunction bind(func, context) {\n  var args = nativeSlice.call(arguments, 2);\n  return function () {\n    return func.apply(context, args.concat(nativeSlice.call(arguments)));\n  };\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Function} func\n * @return {Function}\n */\n\n\nfunction curry(func) {\n  var args = nativeSlice.call(arguments, 1);\n  return function () {\n    return func.apply(this, args.concat(nativeSlice.call(arguments)));\n  };\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isArray(value) {\n  return objToString.call(value) === '[object Array]';\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isString(value) {\n  return objToString.call(value) === '[object String]';\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return type === 'function' || !!value && type === 'object';\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isBuiltInObject(value) {\n  return !!BUILTIN_OBJECT[objToString.call(value)];\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isTypedArray(value) {\n  return !!TYPED_ARRAY[objToString.call(value)];\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isDom(value) {\n  return typeof value === 'object' && typeof value.nodeType === 'number' && typeof value.ownerDocument === 'object';\n}\n/**\n * Whether is exactly NaN. Notice isNaN('a') returns true.\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction eqNaN(value) {\n  /* eslint-disable-next-line no-self-compare */\n  return value !== value;\n}\n/**\n * If value1 is not null, then return value1, otherwise judget rest of values.\n * Low performance.\n * @memberOf module:zrender/core/util\n * @return {*} Final value\n */\n\n\nfunction retrieve(values) {\n  for (var i = 0, len = arguments.length; i < len; i++) {\n    if (arguments[i] != null) {\n      return arguments[i];\n    }\n  }\n}\n\nfunction retrieve2(value0, value1) {\n  return value0 != null ? value0 : value1;\n}\n\nfunction retrieve3(value0, value1, value2) {\n  return value0 != null ? value0 : value1 != null ? value1 : value2;\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Array} arr\n * @param {number} startIndex\n * @param {number} endIndex\n * @return {Array}\n */\n\n\nfunction slice() {\n  return Function.call.apply(nativeSlice, arguments);\n}\n/**\n * Normalize css liked array configuration\n * e.g.\n *  3 => [3, 3, 3, 3]\n *  [4, 2] => [4, 2, 4, 2]\n *  [4, 3, 2] => [4, 3, 2, 3]\n * @param {number|Array.<number>} val\n * @return {Array.<number>}\n */\n\n\nfunction normalizeCssArray(val) {\n  if (typeof val === 'number') {\n    return [val, val, val, val];\n  }\n\n  var len = val.length;\n\n  if (len === 2) {\n    // vertical | horizontal\n    return [val[0], val[1], val[0], val[1]];\n  } else if (len === 3) {\n    // top | horizontal | bottom\n    return [val[0], val[1], val[2], val[1]];\n  }\n\n  return val;\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {boolean} condition\n * @param {string} message\n */\n\n\nfunction assert(condition, message) {\n  if (!condition) {\n    throw new Error(message);\n  }\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {string} str string to be trimed\n * @return {string} trimed string\n */\n\n\nfunction trim(str) {\n  if (str == null) {\n    return null;\n  } else if (typeof str.trim === 'function') {\n    return str.trim();\n  } else {\n    return str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n  }\n}\n\nvar primitiveKey = '__ec_primitive__';\n/**\n * Set an object as primitive to be ignored traversing children in clone or merge\n */\n\nfunction setAsPrimitive(obj) {\n  obj[primitiveKey] = true;\n}\n\nfunction isPrimitive(obj) {\n  return obj[primitiveKey];\n}\n/**\n * @constructor\n * @param {Object} obj Only apply `ownProperty`.\n */\n\n\nfunction HashMap(obj) {\n  var isArr = isArray(obj); // Key should not be set on this, otherwise\n  // methods get/set/... may be overrided.\n\n  this.data = {};\n  var thisMap = this;\n  obj instanceof HashMap ? obj.each(visit) : obj && each(obj, visit);\n\n  function visit(value, key) {\n    isArr ? thisMap.set(value, key) : thisMap.set(key, value);\n  }\n}\n\nHashMap.prototype = {\n  constructor: HashMap,\n  // Do not provide `has` method to avoid defining what is `has`.\n  // (We usually treat `null` and `undefined` as the same, different\n  // from ES6 Map).\n  get: function (key) {\n    return this.data.hasOwnProperty(key) ? this.data[key] : null;\n  },\n  set: function (key, value) {\n    // Comparing with invocation chaining, `return value` is more commonly\n    // used in this case: `var someVal = map.set('a', genVal());`\n    return this.data[key] = value;\n  },\n  // Although util.each can be performed on this hashMap directly, user\n  // should not use the exposed keys, who are prefixed.\n  each: function (cb, context) {\n    context !== void 0 && (cb = bind(cb, context));\n    /* eslint-disable guard-for-in */\n\n    for (var key in this.data) {\n      this.data.hasOwnProperty(key) && cb(this.data[key], key);\n    }\n    /* eslint-enable guard-for-in */\n\n  },\n  // Do not use this method if performance sensitive.\n  removeKey: function (key) {\n    delete this.data[key];\n  }\n};\n\nfunction createHashMap(obj) {\n  return new HashMap(obj);\n}\n\nfunction concatArray(a, b) {\n  var newArray = new a.constructor(a.length + b.length);\n\n  for (var i = 0; i < a.length; i++) {\n    newArray[i] = a[i];\n  }\n\n  var offset = a.length;\n\n  for (i = 0; i < b.length; i++) {\n    newArray[i + offset] = b[i];\n  }\n\n  return newArray;\n}\n\nfunction noop() {}\n\nexports.$override = $override;\nexports.clone = clone;\nexports.merge = merge;\nexports.mergeAll = mergeAll;\nexports.extend = extend;\nexports.defaults = defaults;\nexports.createCanvas = createCanvas;\nexports.getContext = getContext;\nexports.indexOf = indexOf;\nexports.inherits = inherits;\nexports.mixin = mixin;\nexports.isArrayLike = isArrayLike;\nexports.each = each;\nexports.map = map;\nexports.reduce = reduce;\nexports.filter = filter;\nexports.find = find;\nexports.bind = bind;\nexports.curry = curry;\nexports.isArray = isArray;\nexports.isFunction = isFunction;\nexports.isString = isString;\nexports.isObject = isObject;\nexports.isBuiltInObject = isBuiltInObject;\nexports.isTypedArray = isTypedArray;\nexports.isDom = isDom;\nexports.eqNaN = eqNaN;\nexports.retrieve = retrieve;\nexports.retrieve2 = retrieve2;\nexports.retrieve3 = retrieve3;\nexports.slice = slice;\nexports.normalizeCssArray = normalizeCssArray;\nexports.assert = assert;\nexports.trim = trim;\nexports.setAsPrimitive = setAsPrimitive;\nexports.isPrimitive = isPrimitive;\nexports.createHashMap = createHashMap;\nexports.concatArray = concatArray;\nexports.noop = noop;","/**\n * The algoritm is learnt from\n * https://franklinta.com/2014/09/08/computing-css-matrix3d-transforms/\n * And we made some optimization for matrix inversion.\n * Other similar approaches:\n * \"cv::getPerspectiveTransform\", \"Direct Linear Transformation\".\n */\nvar LN2 = Math.log(2);\n\nfunction determinant(rows, rank, rowStart, rowMask, colMask, detCache) {\n  var cacheKey = rowMask + '-' + colMask;\n  var fullRank = rows.length;\n\n  if (detCache.hasOwnProperty(cacheKey)) {\n    return detCache[cacheKey];\n  }\n\n  if (rank === 1) {\n    // In this case the colMask must be like: `11101111`. We can find the place of `0`.\n    var colStart = Math.round(Math.log((1 << fullRank) - 1 & ~colMask) / LN2);\n    return rows[rowStart][colStart];\n  }\n\n  var subRowMask = rowMask | 1 << rowStart;\n  var subRowStart = rowStart + 1;\n\n  while (rowMask & 1 << subRowStart) {\n    subRowStart++;\n  }\n\n  var sum = 0;\n\n  for (var j = 0, colLocalIdx = 0; j < fullRank; j++) {\n    var colTag = 1 << j;\n\n    if (!(colTag & colMask)) {\n      sum += (colLocalIdx % 2 ? -1 : 1) * rows[rowStart][j] // det(subMatrix(0, j))\n      * determinant(rows, rank - 1, subRowStart, subRowMask, colMask | colTag, detCache);\n      colLocalIdx++;\n    }\n  }\n\n  detCache[cacheKey] = sum;\n  return sum;\n}\n/**\n * Usage:\n * ```js\n * var transformer = buildTransformer(\n *     [10, 44, 100, 44, 100, 300, 10, 300],\n *     [50, 54, 130, 14, 140, 330, 14, 220]\n * );\n * var out = [];\n * transformer && transformer([11, 33], out);\n * ```\n *\n * Notice: `buildTransformer` may take more than 10ms in some Android device.\n *\n * @param {Array.<number>} src source four points, [x0, y0, x1, y1, x2, y2, x3, y3]\n * @param {Array.<number>} dest destination four points, [x0, y0, x1, y1, x2, y2, x3, y3]\n * @return {Function} transformer If fail, return null/undefined.\n */\n\n\nfunction buildTransformer(src, dest) {\n  var mA = [[src[0], src[1], 1, 0, 0, 0, -dest[0] * src[0], -dest[0] * src[1]], [0, 0, 0, src[0], src[1], 1, -dest[1] * src[0], -dest[1] * src[1]], [src[2], src[3], 1, 0, 0, 0, -dest[2] * src[2], -dest[2] * src[3]], [0, 0, 0, src[2], src[3], 1, -dest[3] * src[2], -dest[3] * src[3]], [src[4], src[5], 1, 0, 0, 0, -dest[4] * src[4], -dest[4] * src[5]], [0, 0, 0, src[4], src[5], 1, -dest[5] * src[4], -dest[5] * src[5]], [src[6], src[7], 1, 0, 0, 0, -dest[6] * src[6], -dest[6] * src[7]], [0, 0, 0, src[6], src[7], 1, -dest[7] * src[6], -dest[7] * src[7]]];\n  var detCache = {};\n  var det = determinant(mA, 8, 0, 0, 0, detCache);\n\n  if (det === 0) {\n    // can not make transformer when and only when\n    // any three of the markers are collinear.\n    return;\n  } // `invert(mA) * dest`, that is, `adj(mA) / det * dest`.\n\n\n  var vh = [];\n\n  for (var i = 0; i < 8; i++) {\n    for (var j = 0; j < 8; j++) {\n      vh[j] == null && (vh[j] = 0);\n      vh[j] += ((i + j) % 2 ? -1 : 1) * // det(subMatrix(i, j))\n      determinant(mA, 7, i === 0 ? 1 : 0, 1 << i, 1 << j, detCache) / det * dest[i];\n    }\n  }\n\n  return function (out, srcPointX, srcPointY) {\n    var pk = srcPointX * vh[6] + srcPointY * vh[7] + 1;\n    out[0] = (srcPointX * vh[0] + srcPointY * vh[1] + vh[2]) / pk;\n    out[1] = (srcPointX * vh[3] + srcPointY * vh[4] + vh[5]) / pk;\n  };\n}\n\nexports.buildTransformer = buildTransformer;","var PI2 = Math.PI * 2;\n\nfunction normalizeRadian(angle) {\n  angle %= PI2;\n\n  if (angle < 0) {\n    angle += PI2;\n  }\n\n  return angle;\n}\n\nexports.normalizeRadian = normalizeRadian;","function windingLine(x0, y0, x1, y1, x, y) {\n  if (y > y0 && y > y1 || y < y0 && y < y1) {\n    return 0;\n  } // Ignore horizontal line\n\n\n  if (y1 === y0) {\n    return 0;\n  }\n\n  var dir = y1 < y0 ? 1 : -1;\n  var t = (y - y0) / (y1 - y0); // Avoid winding error when intersection point is the connect point of two line of polygon\n\n  if (t === 1 || t === 0) {\n    dir = y1 < y0 ? 0.5 : -0.5;\n  }\n\n  var x_ = t * (x1 - x0) + x0; // If (x, y) on the line, considered as \"contain\".\n\n  return x_ === x ? Infinity : x_ > x ? dir : 0;\n}\n\nmodule.exports = windingLine;","/**\n * 线段包含判断\n * @param  {number}  x0\n * @param  {number}  y0\n * @param  {number}  x1\n * @param  {number}  y1\n * @param  {number}  lineWidth\n * @param  {number}  x\n * @param  {number}  y\n * @return {boolean}\n */\nfunction containStroke(x0, y0, x1, y1, lineWidth, x, y) {\n  if (lineWidth === 0) {\n    return false;\n  }\n\n  var _l = lineWidth;\n  var _a = 0;\n  var _b = x0; // Quick reject\n\n  if (y > y0 + _l && y > y1 + _l || y < y0 - _l && y < y1 - _l || x > x0 + _l && x > x1 + _l || x < x0 - _l && x < x1 - _l) {\n    return false;\n  }\n\n  if (x0 !== x1) {\n    _a = (y0 - y1) / (x0 - x1);\n    _b = (x0 * y1 - x1 * y0) / (x0 - x1);\n  } else {\n    return Math.abs(x - x0) <= _l / 2;\n  }\n\n  var tmp = _a * x - y + _b;\n\n  var _s = tmp * tmp / (_a * _a + 1);\n\n  return _s <= _l / 2 * _l / 2;\n}\n\nexports.containStroke = containStroke;","var vec2 = require(\"./vector\");\n\nvar matrix = require(\"./matrix\");\n\n/**\n * @module echarts/core/BoundingRect\n */\nvar v2ApplyTransform = vec2.applyTransform;\nvar mathMin = Math.min;\nvar mathMax = Math.max;\n/**\n * @alias module:echarts/core/BoundingRect\n */\n\nfunction BoundingRect(x, y, width, height) {\n  if (width < 0) {\n    x = x + width;\n    width = -width;\n  }\n\n  if (height < 0) {\n    y = y + height;\n    height = -height;\n  }\n  /**\n   * @type {number}\n   */\n\n\n  this.x = x;\n  /**\n   * @type {number}\n   */\n\n  this.y = y;\n  /**\n   * @type {number}\n   */\n\n  this.width = width;\n  /**\n   * @type {number}\n   */\n\n  this.height = height;\n}\n\nBoundingRect.prototype = {\n  constructor: BoundingRect,\n\n  /**\n   * @param {module:echarts/core/BoundingRect} other\n   */\n  union: function (other) {\n    var x = mathMin(other.x, this.x);\n    var y = mathMin(other.y, this.y);\n    this.width = mathMax(other.x + other.width, this.x + this.width) - x;\n    this.height = mathMax(other.y + other.height, this.y + this.height) - y;\n    this.x = x;\n    this.y = y;\n  },\n\n  /**\n   * @param {Array.<number>} m\n   * @methods\n   */\n  applyTransform: function () {\n    var lt = [];\n    var rb = [];\n    var lb = [];\n    var rt = [];\n    return function (m) {\n      // In case usage like this\n      // el.getBoundingRect().applyTransform(el.transform)\n      // And element has no transform\n      if (!m) {\n        return;\n      }\n\n      lt[0] = lb[0] = this.x;\n      lt[1] = rt[1] = this.y;\n      rb[0] = rt[0] = this.x + this.width;\n      rb[1] = lb[1] = this.y + this.height;\n      v2ApplyTransform(lt, lt, m);\n      v2ApplyTransform(rb, rb, m);\n      v2ApplyTransform(lb, lb, m);\n      v2ApplyTransform(rt, rt, m);\n      this.x = mathMin(lt[0], rb[0], lb[0], rt[0]);\n      this.y = mathMin(lt[1], rb[1], lb[1], rt[1]);\n      var maxX = mathMax(lt[0], rb[0], lb[0], rt[0]);\n      var maxY = mathMax(lt[1], rb[1], lb[1], rt[1]);\n      this.width = maxX - this.x;\n      this.height = maxY - this.y;\n    };\n  }(),\n\n  /**\n   * Calculate matrix of transforming from self to target rect\n   * @param  {module:zrender/core/BoundingRect} b\n   * @return {Array.<number>}\n   */\n  calculateTransform: function (b) {\n    var a = this;\n    var sx = b.width / a.width;\n    var sy = b.height / a.height;\n    var m = matrix.create(); // 矩阵右乘\n\n    matrix.translate(m, m, [-a.x, -a.y]);\n    matrix.scale(m, m, [sx, sy]);\n    matrix.translate(m, m, [b.x, b.y]);\n    return m;\n  },\n\n  /**\n   * @param {(module:echarts/core/BoundingRect|Object)} b\n   * @return {boolean}\n   */\n  intersect: function (b) {\n    if (!b) {\n      return false;\n    }\n\n    if (!(b instanceof BoundingRect)) {\n      // Normalize negative width/height.\n      b = BoundingRect.create(b);\n    }\n\n    var a = this;\n    var ax0 = a.x;\n    var ax1 = a.x + a.width;\n    var ay0 = a.y;\n    var ay1 = a.y + a.height;\n    var bx0 = b.x;\n    var bx1 = b.x + b.width;\n    var by0 = b.y;\n    var by1 = b.y + b.height;\n    return !(ax1 < bx0 || bx1 < ax0 || ay1 < by0 || by1 < ay0);\n  },\n  contain: function (x, y) {\n    var rect = this;\n    return x >= rect.x && x <= rect.x + rect.width && y >= rect.y && y <= rect.y + rect.height;\n  },\n\n  /**\n   * @return {module:echarts/core/BoundingRect}\n   */\n  clone: function () {\n    return new BoundingRect(this.x, this.y, this.width, this.height);\n  },\n\n  /**\n   * Copy from another rect\n   */\n  copy: function (other) {\n    this.x = other.x;\n    this.y = other.y;\n    this.width = other.width;\n    this.height = other.height;\n  },\n  plain: function () {\n    return {\n      x: this.x,\n      y: this.y,\n      width: this.width,\n      height: this.height\n    };\n  }\n};\n/**\n * @param {Object|module:zrender/core/BoundingRect} rect\n * @param {number} rect.x\n * @param {number} rect.y\n * @param {number} rect.width\n * @param {number} rect.height\n * @return {module:zrender/core/BoundingRect}\n */\n\nBoundingRect.create = function (rect) {\n  return new BoundingRect(rect.x, rect.y, rect.width, rect.height);\n};\n\nvar _default = BoundingRect;\nmodule.exports = _default;","var _util = require(\"./util\");\n\nvar normalizeRadian = _util.normalizeRadian;\nvar PI2 = Math.PI * 2;\n/**\n * 圆弧描边包含判断\n * @param  {number}  cx\n * @param  {number}  cy\n * @param  {number}  r\n * @param  {number}  startAngle\n * @param  {number}  endAngle\n * @param  {boolean}  anticlockwise\n * @param  {number} lineWidth\n * @param  {number}  x\n * @param  {number}  y\n * @return {Boolean}\n */\n\nfunction containStroke(cx, cy, r, startAngle, endAngle, anticlockwise, lineWidth, x, y) {\n  if (lineWidth === 0) {\n    return false;\n  }\n\n  var _l = lineWidth;\n  x -= cx;\n  y -= cy;\n  var d = Math.sqrt(x * x + y * y);\n\n  if (d - _l > r || d + _l < r) {\n    return false;\n  }\n\n  if (Math.abs(startAngle - endAngle) % PI2 < 1e-4) {\n    // Is a circle\n    return true;\n  }\n\n  if (anticlockwise) {\n    var tmp = startAngle;\n    startAngle = normalizeRadian(endAngle);\n    endAngle = normalizeRadian(tmp);\n  } else {\n    startAngle = normalizeRadian(startAngle);\n    endAngle = normalizeRadian(endAngle);\n  }\n\n  if (startAngle > endAngle) {\n    endAngle += PI2;\n  }\n\n  var angle = Math.atan2(y, x);\n\n  if (angle < 0) {\n    angle += PI2;\n  }\n\n  return angle >= startAngle && angle <= endAngle || angle + PI2 >= startAngle && angle + PI2 <= endAngle;\n}\n\nexports.containStroke = containStroke;","var _event = require(\"../core/event\");\n\nvar addEventListener = _event.addEventListener;\nvar removeEventListener = _event.removeEventListener;\nvar normalizeEvent = _event.normalizeEvent;\nvar getNativeEvent = _event.getNativeEvent;\n\nvar zrUtil = require(\"../core/util\");\n\nvar Eventful = require(\"../mixin/Eventful\");\n\nvar env = require(\"../core/env\");\n\n/* global document */\nvar TOUCH_CLICK_DELAY = 300;\nvar globalEventSupported = env.domSupported;\n\nvar localNativeListenerNames = function () {\n  var mouseHandlerNames = ['click', 'dblclick', 'mousewheel', 'mouseout', 'mouseup', 'mousedown', 'mousemove', 'contextmenu'];\n  var touchHandlerNames = ['touchstart', 'touchend', 'touchmove'];\n  var pointerEventNameMap = {\n    pointerdown: 1,\n    pointerup: 1,\n    pointermove: 1,\n    pointerout: 1\n  };\n  var pointerHandlerNames = zrUtil.map(mouseHandlerNames, function (name) {\n    var nm = name.replace('mouse', 'pointer');\n    return pointerEventNameMap.hasOwnProperty(nm) ? nm : name;\n  });\n  return {\n    mouse: mouseHandlerNames,\n    touch: touchHandlerNames,\n    pointer: pointerHandlerNames\n  };\n}();\n\nvar globalNativeListenerNames = {\n  mouse: ['mousemove', 'mouseup'],\n  pointer: ['pointermove', 'pointerup']\n};\n\nfunction eventNameFix(name) {\n  return name === 'mousewheel' && env.browser.firefox ? 'DOMMouseScroll' : name;\n}\n\nfunction isPointerFromTouch(event) {\n  var pointerType = event.pointerType;\n  return pointerType === 'pen' || pointerType === 'touch';\n} // function useMSGuesture(handlerProxy, event) {\n//     return isPointerFromTouch(event) && !!handlerProxy._msGesture;\n// }\n// function onMSGestureChange(proxy, event) {\n//     if (event.translationX || event.translationY) {\n//         // mousemove is carried by MSGesture to reduce the sensitivity.\n//         proxy.handler.dispatchToElement(event.target, 'mousemove', event);\n//     }\n//     if (event.scale !== 1) {\n//         event.pinchX = event.offsetX;\n//         event.pinchY = event.offsetY;\n//         event.pinchScale = event.scale;\n//         proxy.handler.dispatchToElement(event.target, 'pinch', event);\n//     }\n// }\n\n/**\n * Prevent mouse event from being dispatched after Touch Events action\n * @see <https://github.com/deltakosh/handjs/blob/master/src/hand.base.js>\n * 1. Mobile browsers dispatch mouse events 300ms after touchend.\n * 2. Chrome for Android dispatch mousedown for long-touch about 650ms\n * Result: Blocking Mouse Events for 700ms.\n *\n * @param {DOMHandlerScope} scope\n */\n\n\nfunction setTouchTimer(scope) {\n  scope.touching = true;\n\n  if (scope.touchTimer != null) {\n    clearTimeout(scope.touchTimer);\n    scope.touchTimer = null;\n  }\n\n  scope.touchTimer = setTimeout(function () {\n    scope.touching = false;\n    scope.touchTimer = null;\n  }, 700);\n} // Mark touch, which is useful in distinguish touch and\n// mouse event in upper applicatoin.\n\n\nfunction markTouch(event) {\n  event && (event.zrByTouch = true);\n} // function markTriggeredFromLocal(event) {\n//     event && (event.__zrIsFromLocal = true);\n// }\n// function isTriggeredFromLocal(instance, event) {\n//     return !!(event && event.__zrIsFromLocal);\n// }\n\n\nfunction normalizeGlobalEvent(instance, event) {\n  // offsetX, offsetY still need to be calculated. They are necessary in the event\n  // handlers of the upper applications. Set `true` to force calculate them.\n  return normalizeEvent(instance.dom, new FakeGlobalEvent(instance, event), true);\n}\n/**\n * Detect whether the given el is in `painterRoot`.\n */\n\n\nfunction isLocalEl(instance, el) {\n  var elTmp = el;\n  var isLocal = false;\n\n  while (elTmp && elTmp.nodeType !== 9 && !(isLocal = elTmp.domBelongToZr || elTmp !== el && elTmp === instance.painterRoot)) {\n    elTmp = elTmp.parentNode;\n  }\n\n  return isLocal;\n}\n/**\n * Make a fake event but not change the original event,\n * becuase the global event probably be used by other\n * listeners not belonging to zrender.\n * @class\n */\n\n\nfunction FakeGlobalEvent(instance, event) {\n  this.type = event.type;\n  this.target = this.currentTarget = instance.dom;\n  this.pointerType = event.pointerType; // Necessray for the force calculation of zrX, zrY\n\n  this.clientX = event.clientX;\n  this.clientY = event.clientY; // Because we do not mount global listeners to touch events,\n  // we do not copy `targetTouches` and `changedTouches` here.\n}\n\nvar fakeGlobalEventProto = FakeGlobalEvent.prototype; // we make the default methods on the event do nothing,\n// otherwise it is dangerous. See more details in\n// [Drag outside] in `Handler.js`.\n\nfakeGlobalEventProto.stopPropagation = fakeGlobalEventProto.stopImmediatePropagation = fakeGlobalEventProto.preventDefault = zrUtil.noop;\n/**\n * Local DOM Handlers\n * @this {HandlerProxy}\n */\n\nvar localDOMHandlers = {\n  mousedown: function (event) {\n    event = normalizeEvent(this.dom, event);\n    this._mayPointerCapture = [event.zrX, event.zrY];\n    this.trigger('mousedown', event);\n  },\n  mousemove: function (event) {\n    event = normalizeEvent(this.dom, event);\n    var downPoint = this._mayPointerCapture;\n\n    if (downPoint && (event.zrX !== downPoint[0] || event.zrY !== downPoint[1])) {\n      togglePointerCapture(this, true);\n    }\n\n    this.trigger('mousemove', event);\n  },\n  mouseup: function (event) {\n    event = normalizeEvent(this.dom, event);\n    togglePointerCapture(this, false);\n    this.trigger('mouseup', event);\n  },\n  mouseout: function (event) {\n    event = normalizeEvent(this.dom, event); // Similarly to the browser did on `document` and touch event,\n    // `globalout` will be delayed to final pointer cature release.\n\n    if (this._pointerCapturing) {\n      event.zrEventControl = 'no_globalout';\n    } // There might be some doms created by upper layer application\n    // at the same level of painter.getViewportRoot() (e.g., tooltip\n    // dom created by echarts), where 'globalout' event should not\n    // be triggered when mouse enters these doms. (But 'mouseout'\n    // should be triggered at the original hovered element as usual).\n\n\n    var element = event.toElement || event.relatedTarget;\n    event.zrIsToLocalDOM = isLocalEl(this, element);\n    this.trigger('mouseout', event);\n  },\n  touchstart: function (event) {\n    // Default mouse behaviour should not be disabled here.\n    // For example, page may needs to be slided.\n    event = normalizeEvent(this.dom, event);\n    markTouch(event);\n    this._lastTouchMoment = new Date();\n    this.handler.processGesture(event, 'start'); // For consistent event listener for both touch device and mouse device,\n    // we simulate \"mouseover-->mousedown\" in touch device. So we trigger\n    // `mousemove` here (to trigger `mouseover` inside), and then trigger\n    // `mousedown`.\n\n    localDOMHandlers.mousemove.call(this, event);\n    localDOMHandlers.mousedown.call(this, event);\n  },\n  touchmove: function (event) {\n    event = normalizeEvent(this.dom, event);\n    markTouch(event);\n    this.handler.processGesture(event, 'change'); // Mouse move should always be triggered no matter whether\n    // there is gestrue event, because mouse move and pinch may\n    // be used at the same time.\n\n    localDOMHandlers.mousemove.call(this, event);\n  },\n  touchend: function (event) {\n    event = normalizeEvent(this.dom, event);\n    markTouch(event);\n    this.handler.processGesture(event, 'end');\n    localDOMHandlers.mouseup.call(this, event); // Do not trigger `mouseout` here, in spite of `mousemove`(`mouseover`) is\n    // triggered in `touchstart`. This seems to be illogical, but by this mechanism,\n    // we can conveniently implement \"hover style\" in both PC and touch device just\n    // by listening to `mouseover` to add \"hover style\" and listening to `mouseout`\n    // to remove \"hover style\" on an element, without any additional code for\n    // compatibility. (`mouseout` will not be triggered in `touchend`, so \"hover\n    // style\" will remain for user view)\n    // click event should always be triggered no matter whether\n    // there is gestrue event. System click can not be prevented.\n\n    if (+new Date() - this._lastTouchMoment < TOUCH_CLICK_DELAY) {\n      localDOMHandlers.click.call(this, event);\n    }\n  },\n  pointerdown: function (event) {\n    localDOMHandlers.mousedown.call(this, event); // if (useMSGuesture(this, event)) {\n    //     this._msGesture.addPointer(event.pointerId);\n    // }\n  },\n  pointermove: function (event) {\n    // FIXME\n    // pointermove is so sensitive that it always triggered when\n    // tap(click) on touch screen, which affect some judgement in\n    // upper application. So, we dont support mousemove on MS touch\n    // device yet.\n    if (!isPointerFromTouch(event)) {\n      localDOMHandlers.mousemove.call(this, event);\n    }\n  },\n  pointerup: function (event) {\n    localDOMHandlers.mouseup.call(this, event);\n  },\n  pointerout: function (event) {\n    // pointerout will be triggered when tap on touch screen\n    // (IE11+/Edge on MS Surface) after click event triggered,\n    // which is inconsistent with the mousout behavior we defined\n    // in touchend. So we unify them.\n    // (check localDOMHandlers.touchend for detailed explanation)\n    if (!isPointerFromTouch(event)) {\n      localDOMHandlers.mouseout.call(this, event);\n    }\n  }\n};\n/**\n * Othere DOM UI Event handlers for zr dom.\n * @this {HandlerProxy}\n */\n\nzrUtil.each(['click', 'mousewheel', 'dblclick', 'contextmenu'], function (name) {\n  localDOMHandlers[name] = function (event) {\n    event = normalizeEvent(this.dom, event);\n    this.trigger(name, event);\n  };\n});\n/**\n * DOM UI Event handlers for global page.\n *\n * [Caution]:\n * those handlers should both support in capture phase and bubble phase!\n *\n * @this {HandlerProxy}\n */\n\nvar globalDOMHandlers = {\n  pointermove: function (event) {\n    // FIXME\n    // pointermove is so sensitive that it always triggered when\n    // tap(click) on touch screen, which affect some judgement in\n    // upper application. So, we dont support mousemove on MS touch\n    // device yet.\n    if (!isPointerFromTouch(event)) {\n      globalDOMHandlers.mousemove.call(this, event);\n    }\n  },\n  pointerup: function (event) {\n    globalDOMHandlers.mouseup.call(this, event);\n  },\n  mousemove: function (event) {\n    this.trigger('mousemove', event);\n  },\n  mouseup: function (event) {\n    var pointerCaptureReleasing = this._pointerCapturing;\n    togglePointerCapture(this, false);\n    this.trigger('mouseup', event);\n\n    if (pointerCaptureReleasing) {\n      event.zrEventControl = 'only_globalout';\n      this.trigger('mouseout', event);\n    }\n  }\n};\n/**\n * @param {HandlerProxy} instance\n * @param {DOMHandlerScope} scope\n */\n\nfunction mountLocalDOMEventListeners(instance, scope) {\n  var domHandlers = scope.domHandlers;\n\n  if (env.pointerEventsSupported) {\n    // Only IE11+/Edge\n    // 1. On devices that both enable touch and mouse (e.g., MS Surface and lenovo X240),\n    // IE11+/Edge do not trigger touch event, but trigger pointer event and mouse event\n    // at the same time.\n    // 2. On MS Surface, it probablely only trigger mousedown but no mouseup when tap on\n    // screen, which do not occurs in pointer event.\n    // So we use pointer event to both detect touch gesture and mouse behavior.\n    zrUtil.each(localNativeListenerNames.pointer, function (nativeEventName) {\n      mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n        // markTriggeredFromLocal(event);\n        domHandlers[nativeEventName].call(instance, event);\n      });\n    }); // FIXME\n    // Note: MS Gesture require CSS touch-action set. But touch-action is not reliable,\n    // which does not prevent defuault behavior occasionally (which may cause view port\n    // zoomed in but use can not zoom it back). And event.preventDefault() does not work.\n    // So we have to not to use MSGesture and not to support touchmove and pinch on MS\n    // touch screen. And we only support click behavior on MS touch screen now.\n    // MS Gesture Event is only supported on IE11+/Edge and on Windows 8+.\n    // We dont support touch on IE on win7.\n    // See <https://msdn.microsoft.com/en-us/library/dn433243(v=vs.85).aspx>\n    // if (typeof MSGesture === 'function') {\n    //     (this._msGesture = new MSGesture()).target = dom; // jshint ignore:line\n    //     dom.addEventListener('MSGestureChange', onMSGestureChange);\n    // }\n  } else {\n    if (env.touchEventsSupported) {\n      zrUtil.each(localNativeListenerNames.touch, function (nativeEventName) {\n        mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n          // markTriggeredFromLocal(event);\n          domHandlers[nativeEventName].call(instance, event);\n          setTouchTimer(scope);\n        });\n      }); // Handler of 'mouseout' event is needed in touch mode, which will be mounted below.\n      // addEventListener(root, 'mouseout', this._mouseoutHandler);\n    } // 1. Considering some devices that both enable touch and mouse event (like on MS Surface\n    // and lenovo X240, @see #2350), we make mouse event be always listened, otherwise\n    // mouse event can not be handle in those devices.\n    // 2. On MS Surface, Chrome will trigger both touch event and mouse event. How to prevent\n    // mouseevent after touch event triggered, see `setTouchTimer`.\n\n\n    zrUtil.each(localNativeListenerNames.mouse, function (nativeEventName) {\n      mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n        event = getNativeEvent(event);\n\n        if (!scope.touching) {\n          // markTriggeredFromLocal(event);\n          domHandlers[nativeEventName].call(instance, event);\n        }\n      });\n    });\n  }\n}\n/**\n * @param {HandlerProxy} instance\n * @param {DOMHandlerScope} scope\n */\n\n\nfunction mountGlobalDOMEventListeners(instance, scope) {\n  // Only IE11+/Edge. See the comment in `mountLocalDOMEventListeners`.\n  if (env.pointerEventsSupported) {\n    zrUtil.each(globalNativeListenerNames.pointer, mount);\n  } // Touch event has implemented \"drag outside\" so we do not mount global listener for touch event.\n  // (see https://www.w3.org/TR/touch-events/#the-touchmove-event)\n  // We do not consider \"both-support-touch-and-mouse device\" for this feature (see the comment of\n  // `mountLocalDOMEventListeners`) to avoid bugs util some requirements come.\n  else if (!env.touchEventsSupported) {\n      zrUtil.each(globalNativeListenerNames.mouse, mount);\n    }\n\n  function mount(nativeEventName) {\n    function nativeEventListener(event) {\n      event = getNativeEvent(event); // See the reason in [Drag outside] in `Handler.js`\n      // This checking supports both `useCapture` or not.\n      // PENDING: if there is performance issue in some devices,\n      // we probably can not use `useCapture` and change a easier\n      // to judes whether local (mark).\n\n      if (!isLocalEl(instance, event.target)) {\n        event = normalizeGlobalEvent(instance, event);\n        scope.domHandlers[nativeEventName].call(instance, event);\n      }\n    }\n\n    mountSingleDOMEventListener(scope, nativeEventName, nativeEventListener, {\n      capture: true\n    } // See [Drag Outside] in `Handler.js`\n    );\n  }\n}\n\nfunction mountSingleDOMEventListener(scope, nativeEventName, listener, opt) {\n  scope.mounted[nativeEventName] = listener;\n  scope.listenerOpts[nativeEventName] = opt;\n  addEventListener(scope.domTarget, eventNameFix(nativeEventName), listener, opt);\n}\n\nfunction unmountDOMEventListeners(scope) {\n  var mounted = scope.mounted;\n\n  for (var nativeEventName in mounted) {\n    if (mounted.hasOwnProperty(nativeEventName)) {\n      removeEventListener(scope.domTarget, eventNameFix(nativeEventName), mounted[nativeEventName], scope.listenerOpts[nativeEventName]);\n    }\n  }\n\n  scope.mounted = {};\n}\n/**\n * See [Drag Outside] in `Handler.js`.\n * @implement\n * @param {boolean} isPointerCapturing Should never be `null`/`undefined`.\n *        `true`: start to capture pointer if it is not capturing.\n *        `false`: end the capture if it is capturing.\n */\n\n\nfunction togglePointerCapture(instance, isPointerCapturing) {\n  instance._mayPointerCapture = null;\n\n  if (globalEventSupported && instance._pointerCapturing ^ isPointerCapturing) {\n    instance._pointerCapturing = isPointerCapturing;\n    var globalHandlerScope = instance._globalHandlerScope;\n    isPointerCapturing ? mountGlobalDOMEventListeners(instance, globalHandlerScope) : unmountDOMEventListeners(globalHandlerScope);\n  }\n}\n/**\n * @inner\n * @class\n */\n\n\nfunction DOMHandlerScope(domTarget, domHandlers) {\n  this.domTarget = domTarget;\n  this.domHandlers = domHandlers; // Key: eventName, value: mounted handler funcitons.\n  // Used for unmount.\n\n  this.mounted = {};\n  this.listenerOpts = {};\n  this.touchTimer = null;\n  this.touching = false;\n}\n/**\n * @public\n * @class\n */\n\n\nfunction HandlerDomProxy(dom, painterRoot) {\n  Eventful.call(this);\n  this.dom = dom;\n  this.painterRoot = painterRoot;\n  this._localHandlerScope = new DOMHandlerScope(dom, localDOMHandlers);\n\n  if (globalEventSupported) {\n    this._globalHandlerScope = new DOMHandlerScope(document, globalDOMHandlers);\n  }\n  /**\n   * @type {boolean}\n   */\n\n\n  this._pointerCapturing = false;\n  /**\n   * @type {Array.<number>} [x, y] or null.\n   */\n\n  this._mayPointerCapture = null;\n  mountLocalDOMEventListeners(this, this._localHandlerScope);\n}\n\nvar handlerDomProxyProto = HandlerDomProxy.prototype;\n\nhandlerDomProxyProto.dispose = function () {\n  unmountDOMEventListeners(this._localHandlerScope);\n\n  if (globalEventSupported) {\n    unmountDOMEventListeners(this._globalHandlerScope);\n  }\n};\n\nhandlerDomProxyProto.setCursor = function (cursorStyle) {\n  this.dom.style && (this.dom.style.cursor = cursorStyle || 'default');\n};\n\nzrUtil.mixin(HandlerDomProxy, Eventful);\nvar _default = HandlerDomProxy;\nmodule.exports = _default;","// Simple LRU cache use doubly linked list\n// @module zrender/core/LRU\n\n/**\n * Simple double linked list. Compared with array, it has O(1) remove operation.\n * @constructor\n */\nvar LinkedList = function () {\n  /**\n   * @type {module:zrender/core/LRU~Entry}\n   */\n  this.head = null;\n  /**\n   * @type {module:zrender/core/LRU~Entry}\n   */\n\n  this.tail = null;\n  this._len = 0;\n};\n\nvar linkedListProto = LinkedList.prototype;\n/**\n * Insert a new value at the tail\n * @param  {} val\n * @return {module:zrender/core/LRU~Entry}\n */\n\nlinkedListProto.insert = function (val) {\n  var entry = new Entry(val);\n  this.insertEntry(entry);\n  return entry;\n};\n/**\n * Insert an entry at the tail\n * @param  {module:zrender/core/LRU~Entry} entry\n */\n\n\nlinkedListProto.insertEntry = function (entry) {\n  if (!this.head) {\n    this.head = this.tail = entry;\n  } else {\n    this.tail.next = entry;\n    entry.prev = this.tail;\n    entry.next = null;\n    this.tail = entry;\n  }\n\n  this._len++;\n};\n/**\n * Remove entry.\n * @param  {module:zrender/core/LRU~Entry} entry\n */\n\n\nlinkedListProto.remove = function (entry) {\n  var prev = entry.prev;\n  var next = entry.next;\n\n  if (prev) {\n    prev.next = next;\n  } else {\n    // Is head\n    this.head = next;\n  }\n\n  if (next) {\n    next.prev = prev;\n  } else {\n    // Is tail\n    this.tail = prev;\n  }\n\n  entry.next = entry.prev = null;\n  this._len--;\n};\n/**\n * @return {number}\n */\n\n\nlinkedListProto.len = function () {\n  return this._len;\n};\n/**\n * Clear list\n */\n\n\nlinkedListProto.clear = function () {\n  this.head = this.tail = null;\n  this._len = 0;\n};\n/**\n * @constructor\n * @param {} val\n */\n\n\nvar Entry = function (val) {\n  /**\n   * @type {}\n   */\n  this.value = val;\n  /**\n   * @type {module:zrender/core/LRU~Entry}\n   */\n\n  this.next;\n  /**\n   * @type {module:zrender/core/LRU~Entry}\n   */\n\n  this.prev;\n};\n/**\n * LRU Cache\n * @constructor\n * @alias module:zrender/core/LRU\n */\n\n\nvar LRU = function (maxSize) {\n  this._list = new LinkedList();\n  this._map = {};\n  this._maxSize = maxSize || 10;\n  this._lastRemovedEntry = null;\n};\n\nvar LRUProto = LRU.prototype;\n/**\n * @param  {string} key\n * @param  {} value\n * @return {} Removed value\n */\n\nLRUProto.put = function (key, value) {\n  var list = this._list;\n  var map = this._map;\n  var removed = null;\n\n  if (map[key] == null) {\n    var len = list.len(); // Reuse last removed entry\n\n    var entry = this._lastRemovedEntry;\n\n    if (len >= this._maxSize && len > 0) {\n      // Remove the least recently used\n      var leastUsedEntry = list.head;\n      list.remove(leastUsedEntry);\n      delete map[leastUsedEntry.key];\n      removed = leastUsedEntry.value;\n      this._lastRemovedEntry = leastUsedEntry;\n    }\n\n    if (entry) {\n      entry.value = value;\n    } else {\n      entry = new Entry(value);\n    }\n\n    entry.key = key;\n    list.insertEntry(entry);\n    map[key] = entry;\n  }\n\n  return removed;\n};\n/**\n * @param  {string} key\n * @return {}\n */\n\n\nLRUProto.get = function (key) {\n  var entry = this._map[key];\n  var list = this._list;\n\n  if (entry != null) {\n    // Put the latest used entry in the tail\n    if (entry !== list.tail) {\n      list.remove(entry);\n      list.insertEntry(entry);\n    }\n\n    return entry.value;\n  }\n};\n/**\n * Clear the cache\n */\n\n\nLRUProto.clear = function () {\n  this._list.clear();\n\n  this._map = {};\n};\n\nvar _default = LRU;\nmodule.exports = _default;","var PathProxy = require(\"../core/PathProxy\");\n\nvar line = require(\"./line\");\n\nvar cubic = require(\"./cubic\");\n\nvar quadratic = require(\"./quadratic\");\n\nvar arc = require(\"./arc\");\n\nvar _util = require(\"./util\");\n\nvar normalizeRadian = _util.normalizeRadian;\n\nvar curve = require(\"../core/curve\");\n\nvar windingLine = require(\"./windingLine\");\n\nvar CMD = PathProxy.CMD;\nvar PI2 = Math.PI * 2;\nvar EPSILON = 1e-4;\n\nfunction isAroundEqual(a, b) {\n  return Math.abs(a - b) < EPSILON;\n} // 临时数组\n\n\nvar roots = [-1, -1, -1];\nvar extrema = [-1, -1];\n\nfunction swapExtrema() {\n  var tmp = extrema[0];\n  extrema[0] = extrema[1];\n  extrema[1] = tmp;\n}\n\nfunction windingCubic(x0, y0, x1, y1, x2, y2, x3, y3, x, y) {\n  // Quick reject\n  if (y > y0 && y > y1 && y > y2 && y > y3 || y < y0 && y < y1 && y < y2 && y < y3) {\n    return 0;\n  }\n\n  var nRoots = curve.cubicRootAt(y0, y1, y2, y3, y, roots);\n\n  if (nRoots === 0) {\n    return 0;\n  } else {\n    var w = 0;\n    var nExtrema = -1;\n    var y0_;\n    var y1_;\n\n    for (var i = 0; i < nRoots; i++) {\n      var t = roots[i]; // Avoid winding error when intersection point is the connect point of two line of polygon\n\n      var unit = t === 0 || t === 1 ? 0.5 : 1;\n      var x_ = curve.cubicAt(x0, x1, x2, x3, t);\n\n      if (x_ < x) {\n        // Quick reject\n        continue;\n      }\n\n      if (nExtrema < 0) {\n        nExtrema = curve.cubicExtrema(y0, y1, y2, y3, extrema);\n\n        if (extrema[1] < extrema[0] && nExtrema > 1) {\n          swapExtrema();\n        }\n\n        y0_ = curve.cubicAt(y0, y1, y2, y3, extrema[0]);\n\n        if (nExtrema > 1) {\n          y1_ = curve.cubicAt(y0, y1, y2, y3, extrema[1]);\n        }\n      }\n\n      if (nExtrema === 2) {\n        // 分成三段单调函数\n        if (t < extrema[0]) {\n          w += y0_ < y0 ? unit : -unit;\n        } else if (t < extrema[1]) {\n          w += y1_ < y0_ ? unit : -unit;\n        } else {\n          w += y3 < y1_ ? unit : -unit;\n        }\n      } else {\n        // 分成两段单调函数\n        if (t < extrema[0]) {\n          w += y0_ < y0 ? unit : -unit;\n        } else {\n          w += y3 < y0_ ? unit : -unit;\n        }\n      }\n    }\n\n    return w;\n  }\n}\n\nfunction windingQuadratic(x0, y0, x1, y1, x2, y2, x, y) {\n  // Quick reject\n  if (y > y0 && y > y1 && y > y2 || y < y0 && y < y1 && y < y2) {\n    return 0;\n  }\n\n  var nRoots = curve.quadraticRootAt(y0, y1, y2, y, roots);\n\n  if (nRoots === 0) {\n    return 0;\n  } else {\n    var t = curve.quadraticExtremum(y0, y1, y2);\n\n    if (t >= 0 && t <= 1) {\n      var w = 0;\n      var y_ = curve.quadraticAt(y0, y1, y2, t);\n\n      for (var i = 0; i < nRoots; i++) {\n        // Remove one endpoint.\n        var unit = roots[i] === 0 || roots[i] === 1 ? 0.5 : 1;\n        var x_ = curve.quadraticAt(x0, x1, x2, roots[i]);\n\n        if (x_ < x) {\n          // Quick reject\n          continue;\n        }\n\n        if (roots[i] < t) {\n          w += y_ < y0 ? unit : -unit;\n        } else {\n          w += y2 < y_ ? unit : -unit;\n        }\n      }\n\n      return w;\n    } else {\n      // Remove one endpoint.\n      var unit = roots[0] === 0 || roots[0] === 1 ? 0.5 : 1;\n      var x_ = curve.quadraticAt(x0, x1, x2, roots[0]);\n\n      if (x_ < x) {\n        // Quick reject\n        return 0;\n      }\n\n      return y2 < y0 ? unit : -unit;\n    }\n  }\n} // TODO\n// Arc 旋转\n\n\nfunction windingArc(cx, cy, r, startAngle, endAngle, anticlockwise, x, y) {\n  y -= cy;\n\n  if (y > r || y < -r) {\n    return 0;\n  }\n\n  var tmp = Math.sqrt(r * r - y * y);\n  roots[0] = -tmp;\n  roots[1] = tmp;\n  var diff = Math.abs(startAngle - endAngle);\n\n  if (diff < 1e-4) {\n    return 0;\n  }\n\n  if (diff % PI2 < 1e-4) {\n    // Is a circle\n    startAngle = 0;\n    endAngle = PI2;\n    var dir = anticlockwise ? 1 : -1;\n\n    if (x >= roots[0] + cx && x <= roots[1] + cx) {\n      return dir;\n    } else {\n      return 0;\n    }\n  }\n\n  if (anticlockwise) {\n    var tmp = startAngle;\n    startAngle = normalizeRadian(endAngle);\n    endAngle = normalizeRadian(tmp);\n  } else {\n    startAngle = normalizeRadian(startAngle);\n    endAngle = normalizeRadian(endAngle);\n  }\n\n  if (startAngle > endAngle) {\n    endAngle += PI2;\n  }\n\n  var w = 0;\n\n  for (var i = 0; i < 2; i++) {\n    var x_ = roots[i];\n\n    if (x_ + cx > x) {\n      var angle = Math.atan2(y, x_);\n      var dir = anticlockwise ? 1 : -1;\n\n      if (angle < 0) {\n        angle = PI2 + angle;\n      }\n\n      if (angle >= startAngle && angle <= endAngle || angle + PI2 >= startAngle && angle + PI2 <= endAngle) {\n        if (angle > Math.PI / 2 && angle < Math.PI * 1.5) {\n          dir = -dir;\n        }\n\n        w += dir;\n      }\n    }\n  }\n\n  return w;\n}\n\nfunction containPath(data, lineWidth, isStroke, x, y) {\n  var w = 0;\n  var xi = 0;\n  var yi = 0;\n  var x0 = 0;\n  var y0 = 0;\n\n  for (var i = 0; i < data.length;) {\n    var cmd = data[i++]; // Begin a new subpath\n\n    if (cmd === CMD.M && i > 1) {\n      // Close previous subpath\n      if (!isStroke) {\n        w += windingLine(xi, yi, x0, y0, x, y);\n      } // 如果被任何一个 subpath 包含\n      // if (w !== 0) {\n      //     return true;\n      // }\n\n    }\n\n    if (i === 1) {\n      // 如果第一个命令是 L, C, Q\n      // 则 previous point 同绘制命令的第一个 point\n      //\n      // 第一个命令为 Arc 的情况下会在后面特殊处理\n      xi = data[i];\n      yi = data[i + 1];\n      x0 = xi;\n      y0 = yi;\n    }\n\n    switch (cmd) {\n      case CMD.M:\n        // moveTo 命令重新创建一个新的 subpath, 并且更新新的起点\n        // 在 closePath 的时候使用\n        x0 = data[i++];\n        y0 = data[i++];\n        xi = x0;\n        yi = y0;\n        break;\n\n      case CMD.L:\n        if (isStroke) {\n          if (line.containStroke(xi, yi, data[i], data[i + 1], lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          // NOTE 在第一个命令为 L, C, Q 的时候会计算出 NaN\n          w += windingLine(xi, yi, data[i], data[i + 1], x, y) || 0;\n        }\n\n        xi = data[i++];\n        yi = data[i++];\n        break;\n\n      case CMD.C:\n        if (isStroke) {\n          if (cubic.containStroke(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          w += windingCubic(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], x, y) || 0;\n        }\n\n        xi = data[i++];\n        yi = data[i++];\n        break;\n\n      case CMD.Q:\n        if (isStroke) {\n          if (quadratic.containStroke(xi, yi, data[i++], data[i++], data[i], data[i + 1], lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          w += windingQuadratic(xi, yi, data[i++], data[i++], data[i], data[i + 1], x, y) || 0;\n        }\n\n        xi = data[i++];\n        yi = data[i++];\n        break;\n\n      case CMD.A:\n        // TODO Arc 判断的开销比较大\n        var cx = data[i++];\n        var cy = data[i++];\n        var rx = data[i++];\n        var ry = data[i++];\n        var theta = data[i++];\n        var dTheta = data[i++]; // TODO Arc 旋转\n\n        i += 1;\n        var anticlockwise = 1 - data[i++];\n        var x1 = Math.cos(theta) * rx + cx;\n        var y1 = Math.sin(theta) * ry + cy; // 不是直接使用 arc 命令\n\n        if (i > 1) {\n          w += windingLine(xi, yi, x1, y1, x, y);\n        } else {\n          // 第一个命令起点还未定义\n          x0 = x1;\n          y0 = y1;\n        } // zr 使用scale来模拟椭圆, 这里也对x做一定的缩放\n\n\n        var _x = (x - cx) * ry / rx + cx;\n\n        if (isStroke) {\n          if (arc.containStroke(cx, cy, ry, theta, theta + dTheta, anticlockwise, lineWidth, _x, y)) {\n            return true;\n          }\n        } else {\n          w += windingArc(cx, cy, ry, theta, theta + dTheta, anticlockwise, _x, y);\n        }\n\n        xi = Math.cos(theta + dTheta) * rx + cx;\n        yi = Math.sin(theta + dTheta) * ry + cy;\n        break;\n\n      case CMD.R:\n        x0 = xi = data[i++];\n        y0 = yi = data[i++];\n        var width = data[i++];\n        var height = data[i++];\n        var x1 = x0 + width;\n        var y1 = y0 + height;\n\n        if (isStroke) {\n          if (line.containStroke(x0, y0, x1, y0, lineWidth, x, y) || line.containStroke(x1, y0, x1, y1, lineWidth, x, y) || line.containStroke(x1, y1, x0, y1, lineWidth, x, y) || line.containStroke(x0, y1, x0, y0, lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          // FIXME Clockwise ?\n          w += windingLine(x1, y0, x1, y1, x, y);\n          w += windingLine(x0, y1, x0, y0, x, y);\n        }\n\n        break;\n\n      case CMD.Z:\n        if (isStroke) {\n          if (line.containStroke(xi, yi, x0, y0, lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          // Close a subpath\n          w += windingLine(xi, yi, x0, y0, x, y); // 如果被任何一个 subpath 包含\n          // FIXME subpaths may overlap\n          // if (w !== 0) {\n          //     return true;\n          // }\n        }\n\n        xi = x0;\n        yi = y0;\n        break;\n    }\n  }\n\n  if (!isStroke && !isAroundEqual(yi, y0)) {\n    w += windingLine(xi, yi, x0, y0, x, y) || 0;\n  }\n\n  return w !== 0;\n}\n\nfunction contain(pathData, x, y) {\n  return containPath(pathData, 0, false, x, y);\n}\n\nfunction containStroke(pathData, lineWidth, x, y) {\n  return containPath(pathData, lineWidth, true, x, y);\n}\n\nexports.contain = contain;\nexports.containStroke = containStroke;","/**\n * zrender: 生成唯一id\n *\n * @author errorrik (errorrik@gmail.com)\n */\nvar idStart = 0x0907;\n\nfunction _default() {\n  return idStart++;\n}\n\nmodule.exports = _default;","var zrUtil = require(\"../core/util\");\n\nvar Element = require(\"../Element\");\n\nvar BoundingRect = require(\"../core/BoundingRect\");\n\n/**\n * Group是一个容器，可以插入子节点，Group的变换也会被应用到子节点上\n * @module zrender/graphic/Group\n * @example\n *     var Group = require('zrender/container/Group');\n *     var Circle = require('zrender/graphic/shape/Circle');\n *     var g = new Group();\n *     g.position[0] = 100;\n *     g.position[1] = 100;\n *     g.add(new Circle({\n *         style: {\n *             x: 100,\n *             y: 100,\n *             r: 20,\n *         }\n *     }));\n *     zr.add(g);\n */\n\n/**\n * @alias module:zrender/graphic/Group\n * @constructor\n * @extends module:zrender/mixin/Transformable\n * @extends module:zrender/mixin/Eventful\n */\nvar Group = function (opts) {\n  opts = opts || {};\n  Element.call(this, opts);\n\n  for (var key in opts) {\n    if (opts.hasOwnProperty(key)) {\n      this[key] = opts[key];\n    }\n  }\n\n  this._children = [];\n  this.__storage = null;\n  this.__dirty = true;\n};\n\nGroup.prototype = {\n  constructor: Group,\n  isGroup: true,\n\n  /**\n   * @type {string}\n   */\n  type: 'group',\n\n  /**\n   * 所有子孙元素是否响应鼠标事件\n   * @name module:/zrender/container/Group#silent\n   * @type {boolean}\n   * @default false\n   */\n  silent: false,\n\n  /**\n   * @return {Array.<module:zrender/Element>}\n   */\n  children: function () {\n    return this._children.slice();\n  },\n\n  /**\n   * 获取指定 index 的儿子节点\n   * @param  {number} idx\n   * @return {module:zrender/Element}\n   */\n  childAt: function (idx) {\n    return this._children[idx];\n  },\n\n  /**\n   * 获取指定名字的儿子节点\n   * @param  {string} name\n   * @return {module:zrender/Element}\n   */\n  childOfName: function (name) {\n    var children = this._children;\n\n    for (var i = 0; i < children.length; i++) {\n      if (children[i].name === name) {\n        return children[i];\n      }\n    }\n  },\n\n  /**\n   * @return {number}\n   */\n  childCount: function () {\n    return this._children.length;\n  },\n\n  /**\n   * 添加子节点到最后\n   * @param {module:zrender/Element} child\n   */\n  add: function (child) {\n    if (child && child !== this && child.parent !== this) {\n      this._children.push(child);\n\n      this._doAdd(child);\n    }\n\n    return this;\n  },\n\n  /**\n   * 添加子节点在 nextSibling 之前\n   * @param {module:zrender/Element} child\n   * @param {module:zrender/Element} nextSibling\n   */\n  addBefore: function (child, nextSibling) {\n    if (child && child !== this && child.parent !== this && nextSibling && nextSibling.parent === this) {\n      var children = this._children;\n      var idx = children.indexOf(nextSibling);\n\n      if (idx >= 0) {\n        children.splice(idx, 0, child);\n\n        this._doAdd(child);\n      }\n    }\n\n    return this;\n  },\n  _doAdd: function (child) {\n    if (child.parent) {\n      child.parent.remove(child);\n    }\n\n    child.parent = this;\n    var storage = this.__storage;\n    var zr = this.__zr;\n\n    if (storage && storage !== child.__storage) {\n      storage.addToStorage(child);\n\n      if (child instanceof Group) {\n        child.addChildrenToStorage(storage);\n      }\n    }\n\n    zr && zr.refresh();\n  },\n\n  /**\n   * 移除子节点\n   * @param {module:zrender/Element} child\n   */\n  remove: function (child) {\n    var zr = this.__zr;\n    var storage = this.__storage;\n    var children = this._children;\n    var idx = zrUtil.indexOf(children, child);\n\n    if (idx < 0) {\n      return this;\n    }\n\n    children.splice(idx, 1);\n    child.parent = null;\n\n    if (storage) {\n      storage.delFromStorage(child);\n\n      if (child instanceof Group) {\n        child.delChildrenFromStorage(storage);\n      }\n    }\n\n    zr && zr.refresh();\n    return this;\n  },\n\n  /**\n   * 移除所有子节点\n   */\n  removeAll: function () {\n    var children = this._children;\n    var storage = this.__storage;\n    var child;\n    var i;\n\n    for (i = 0; i < children.length; i++) {\n      child = children[i];\n\n      if (storage) {\n        storage.delFromStorage(child);\n\n        if (child instanceof Group) {\n          child.delChildrenFromStorage(storage);\n        }\n      }\n\n      child.parent = null;\n    }\n\n    children.length = 0;\n    return this;\n  },\n\n  /**\n   * 遍历所有子节点\n   * @param  {Function} cb\n   * @param  {}   context\n   */\n  eachChild: function (cb, context) {\n    var children = this._children;\n\n    for (var i = 0; i < children.length; i++) {\n      var child = children[i];\n      cb.call(context, child, i);\n    }\n\n    return this;\n  },\n\n  /**\n   * 深度优先遍历所有子孙节点\n   * @param  {Function} cb\n   * @param  {}   context\n   */\n  traverse: function (cb, context) {\n    for (var i = 0; i < this._children.length; i++) {\n      var child = this._children[i];\n      cb.call(context, child);\n\n      if (child.type === 'group') {\n        child.traverse(cb, context);\n      }\n    }\n\n    return this;\n  },\n  addChildrenToStorage: function (storage) {\n    for (var i = 0; i < this._children.length; i++) {\n      var child = this._children[i];\n      storage.addToStorage(child);\n\n      if (child instanceof Group) {\n        child.addChildrenToStorage(storage);\n      }\n    }\n  },\n  delChildrenFromStorage: function (storage) {\n    for (var i = 0; i < this._children.length; i++) {\n      var child = this._children[i];\n      storage.delFromStorage(child);\n\n      if (child instanceof Group) {\n        child.delChildrenFromStorage(storage);\n      }\n    }\n  },\n  dirty: function () {\n    this.__dirty = true;\n    this.__zr && this.__zr.refresh();\n    return this;\n  },\n\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  getBoundingRect: function (includeChildren) {\n    // TODO Caching\n    var rect = null;\n    var tmpRect = new BoundingRect(0, 0, 0, 0);\n    var children = includeChildren || this._children;\n    var tmpMat = [];\n\n    for (var i = 0; i < children.length; i++) {\n      var child = children[i];\n\n      if (child.ignore || child.invisible) {\n        continue;\n      }\n\n      var childRect = child.getBoundingRect();\n      var transform = child.getLocalTransform(tmpMat); // TODO\n      // The boundingRect cacluated by transforming original\n      // rect may be bigger than the actual bundingRect when rotation\n      // is used. (Consider a circle rotated aginst its center, where\n      // the actual boundingRect should be the same as that not be\n      // rotated.) But we can not find better approach to calculate\n      // actual boundingRect yet, considering performance.\n\n      if (transform) {\n        tmpRect.copy(childRect);\n        tmpRect.applyTransform(transform);\n        rect = rect || tmpRect.clone();\n        rect.union(tmpRect);\n      } else {\n        rect = rect || childRect.clone();\n        rect.union(childRect);\n      }\n    }\n\n    return rect || tmpRect;\n  }\n};\nzrUtil.inherits(Group, Element);\nvar _default = Group;\nmodule.exports = _default;","var vec2 = require(\"./vector\");\n\nvar curve = require(\"./curve\");\n\n/**\n * @author Yi Shen(https://github.com/pissang)\n */\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI2 = Math.PI * 2;\nvar start = vec2.create();\nvar end = vec2.create();\nvar extremity = vec2.create();\n/**\n * 从顶点数组中计算出最小包围盒，写入`min`和`max`中\n * @module zrender/core/bbox\n * @param {Array<Object>} points 顶点数组\n * @param {number} min\n * @param {number} max\n */\n\nfunction fromPoints(points, min, max) {\n  if (points.length === 0) {\n    return;\n  }\n\n  var p = points[0];\n  var left = p[0];\n  var right = p[0];\n  var top = p[1];\n  var bottom = p[1];\n  var i;\n\n  for (i = 1; i < points.length; i++) {\n    p = points[i];\n    left = mathMin(left, p[0]);\n    right = mathMax(right, p[0]);\n    top = mathMin(top, p[1]);\n    bottom = mathMax(bottom, p[1]);\n  }\n\n  min[0] = left;\n  min[1] = top;\n  max[0] = right;\n  max[1] = bottom;\n}\n/**\n * @memberOf module:zrender/core/bbox\n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {Array.<number>} min\n * @param {Array.<number>} max\n */\n\n\nfunction fromLine(x0, y0, x1, y1, min, max) {\n  min[0] = mathMin(x0, x1);\n  min[1] = mathMin(y0, y1);\n  max[0] = mathMax(x0, x1);\n  max[1] = mathMax(y0, y1);\n}\n\nvar xDim = [];\nvar yDim = [];\n/**\n * 从三阶贝塞尔曲线(p0, p1, p2, p3)中计算出最小包围盒，写入`min`和`max`中\n * @memberOf module:zrender/core/bbox\n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @param {number} x3\n * @param {number} y3\n * @param {Array.<number>} min\n * @param {Array.<number>} max\n */\n\nfunction fromCubic(x0, y0, x1, y1, x2, y2, x3, y3, min, max) {\n  var cubicExtrema = curve.cubicExtrema;\n  var cubicAt = curve.cubicAt;\n  var i;\n  var n = cubicExtrema(x0, x1, x2, x3, xDim);\n  min[0] = Infinity;\n  min[1] = Infinity;\n  max[0] = -Infinity;\n  max[1] = -Infinity;\n\n  for (i = 0; i < n; i++) {\n    var x = cubicAt(x0, x1, x2, x3, xDim[i]);\n    min[0] = mathMin(x, min[0]);\n    max[0] = mathMax(x, max[0]);\n  }\n\n  n = cubicExtrema(y0, y1, y2, y3, yDim);\n\n  for (i = 0; i < n; i++) {\n    var y = cubicAt(y0, y1, y2, y3, yDim[i]);\n    min[1] = mathMin(y, min[1]);\n    max[1] = mathMax(y, max[1]);\n  }\n\n  min[0] = mathMin(x0, min[0]);\n  max[0] = mathMax(x0, max[0]);\n  min[0] = mathMin(x3, min[0]);\n  max[0] = mathMax(x3, max[0]);\n  min[1] = mathMin(y0, min[1]);\n  max[1] = mathMax(y0, max[1]);\n  min[1] = mathMin(y3, min[1]);\n  max[1] = mathMax(y3, max[1]);\n}\n/**\n * 从二阶贝塞尔曲线(p0, p1, p2)中计算出最小包围盒，写入`min`和`max`中\n * @memberOf module:zrender/core/bbox\n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @param {Array.<number>} min\n * @param {Array.<number>} max\n */\n\n\nfunction fromQuadratic(x0, y0, x1, y1, x2, y2, min, max) {\n  var quadraticExtremum = curve.quadraticExtremum;\n  var quadraticAt = curve.quadraticAt; // Find extremities, where derivative in x dim or y dim is zero\n\n  var tx = mathMax(mathMin(quadraticExtremum(x0, x1, x2), 1), 0);\n  var ty = mathMax(mathMin(quadraticExtremum(y0, y1, y2), 1), 0);\n  var x = quadraticAt(x0, x1, x2, tx);\n  var y = quadraticAt(y0, y1, y2, ty);\n  min[0] = mathMin(x0, x2, x);\n  min[1] = mathMin(y0, y2, y);\n  max[0] = mathMax(x0, x2, x);\n  max[1] = mathMax(y0, y2, y);\n}\n/**\n * 从圆弧中计算出最小包围盒，写入`min`和`max`中\n * @method\n * @memberOf module:zrender/core/bbox\n * @param {number} x\n * @param {number} y\n * @param {number} rx\n * @param {number} ry\n * @param {number} startAngle\n * @param {number} endAngle\n * @param {number} anticlockwise\n * @param {Array.<number>} min\n * @param {Array.<number>} max\n */\n\n\nfunction fromArc(x, y, rx, ry, startAngle, endAngle, anticlockwise, min, max) {\n  var vec2Min = vec2.min;\n  var vec2Max = vec2.max;\n  var diff = Math.abs(startAngle - endAngle);\n\n  if (diff % PI2 < 1e-4 && diff > 1e-4) {\n    // Is a circle\n    min[0] = x - rx;\n    min[1] = y - ry;\n    max[0] = x + rx;\n    max[1] = y + ry;\n    return;\n  }\n\n  start[0] = mathCos(startAngle) * rx + x;\n  start[1] = mathSin(startAngle) * ry + y;\n  end[0] = mathCos(endAngle) * rx + x;\n  end[1] = mathSin(endAngle) * ry + y;\n  vec2Min(min, start, end);\n  vec2Max(max, start, end); // Thresh to [0, Math.PI * 2]\n\n  startAngle = startAngle % PI2;\n\n  if (startAngle < 0) {\n    startAngle = startAngle + PI2;\n  }\n\n  endAngle = endAngle % PI2;\n\n  if (endAngle < 0) {\n    endAngle = endAngle + PI2;\n  }\n\n  if (startAngle > endAngle && !anticlockwise) {\n    endAngle += PI2;\n  } else if (startAngle < endAngle && anticlockwise) {\n    startAngle += PI2;\n  }\n\n  if (anticlockwise) {\n    var tmp = endAngle;\n    endAngle = startAngle;\n    startAngle = tmp;\n  } // var number = 0;\n  // var step = (anticlockwise ? -Math.PI : Math.PI) / 2;\n\n\n  for (var angle = 0; angle < endAngle; angle += Math.PI / 2) {\n    if (angle > startAngle) {\n      extremity[0] = mathCos(angle) * rx + x;\n      extremity[1] = mathSin(angle) * ry + y;\n      vec2Min(min, extremity, min);\n      vec2Max(max, extremity, max);\n    }\n  }\n}\n\nexports.fromPoints = fromPoints;\nexports.fromLine = fromLine;\nexports.fromCubic = fromCubic;\nexports.fromQuadratic = fromQuadratic;\nexports.fromArc = fromArc;","var curve = require(\"../core/curve\");\n\n/**\n * 三次贝塞尔曲线描边包含判断\n * @param  {number}  x0\n * @param  {number}  y0\n * @param  {number}  x1\n * @param  {number}  y1\n * @param  {number}  x2\n * @param  {number}  y2\n * @param  {number}  x3\n * @param  {number}  y3\n * @param  {number}  lineWidth\n * @param  {number}  x\n * @param  {number}  y\n * @return {boolean}\n */\nfunction containStroke(x0, y0, x1, y1, x2, y2, x3, y3, lineWidth, x, y) {\n  if (lineWidth === 0) {\n    return false;\n  }\n\n  var _l = lineWidth; // Quick reject\n\n  if (y > y0 + _l && y > y1 + _l && y > y2 + _l && y > y3 + _l || y < y0 - _l && y < y1 - _l && y < y2 - _l && y < y3 - _l || x > x0 + _l && x > x1 + _l && x > x2 + _l && x > x3 + _l || x < x0 - _l && x < x1 - _l && x < x2 - _l && x < x3 - _l) {\n    return false;\n  }\n\n  var d = curve.cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, null);\n  return d <= _l / 2;\n}\n\nexports.containStroke = containStroke;","var BoundingRect = require(\"../core/BoundingRect\");\n\nvar imageHelper = require(\"../graphic/helper/image\");\n\nvar _util = require(\"../core/util\");\n\nvar getContext = _util.getContext;\nvar extend = _util.extend;\nvar retrieve2 = _util.retrieve2;\nvar retrieve3 = _util.retrieve3;\nvar trim = _util.trim;\nvar textWidthCache = {};\nvar textWidthCacheCounter = 0;\nvar TEXT_CACHE_MAX = 5000;\nvar STYLE_REG = /\\{([a-zA-Z0-9_]+)\\|([^}]*)\\}/g;\nvar DEFAULT_FONT = '12px sans-serif'; // Avoid assign to an exported variable, for transforming to cjs.\n\nvar methods = {};\n\nfunction $override(name, fn) {\n  methods[name] = fn;\n}\n/**\n * @public\n * @param {string} text\n * @param {string} font\n * @return {number} width\n */\n\n\nfunction getWidth(text, font) {\n  font = font || DEFAULT_FONT;\n  var key = text + ':' + font;\n\n  if (textWidthCache[key]) {\n    return textWidthCache[key];\n  }\n\n  var textLines = (text + '').split('\\n');\n  var width = 0;\n\n  for (var i = 0, l = textLines.length; i < l; i++) {\n    // textContain.measureText may be overrided in SVG or VML\n    width = Math.max(measureText(textLines[i], font).width, width);\n  }\n\n  if (textWidthCacheCounter > TEXT_CACHE_MAX) {\n    textWidthCacheCounter = 0;\n    textWidthCache = {};\n  }\n\n  textWidthCacheCounter++;\n  textWidthCache[key] = width;\n  return width;\n}\n/**\n * @public\n * @param {string} text\n * @param {string} font\n * @param {string} [textAlign='left']\n * @param {string} [textVerticalAlign='top']\n * @param {Array.<number>} [textPadding]\n * @param {Object} [rich]\n * @param {Object} [truncate]\n * @return {Object} {x, y, width, height, lineHeight}\n */\n\n\nfunction getBoundingRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, rich, truncate) {\n  return rich ? getRichTextRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, rich, truncate) : getPlainTextRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, truncate);\n}\n\nfunction getPlainTextRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, truncate) {\n  var contentBlock = parsePlainText(text, font, textPadding, textLineHeight, truncate);\n  var outerWidth = getWidth(text, font);\n\n  if (textPadding) {\n    outerWidth += textPadding[1] + textPadding[3];\n  }\n\n  var outerHeight = contentBlock.outerHeight;\n  var x = adjustTextX(0, outerWidth, textAlign);\n  var y = adjustTextY(0, outerHeight, textVerticalAlign);\n  var rect = new BoundingRect(x, y, outerWidth, outerHeight);\n  rect.lineHeight = contentBlock.lineHeight;\n  return rect;\n}\n\nfunction getRichTextRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, rich, truncate) {\n  var contentBlock = parseRichText(text, {\n    rich: rich,\n    truncate: truncate,\n    font: font,\n    textAlign: textAlign,\n    textPadding: textPadding,\n    textLineHeight: textLineHeight\n  });\n  var outerWidth = contentBlock.outerWidth;\n  var outerHeight = contentBlock.outerHeight;\n  var x = adjustTextX(0, outerWidth, textAlign);\n  var y = adjustTextY(0, outerHeight, textVerticalAlign);\n  return new BoundingRect(x, y, outerWidth, outerHeight);\n}\n/**\n * @public\n * @param {number} x\n * @param {number} width\n * @param {string} [textAlign='left']\n * @return {number} Adjusted x.\n */\n\n\nfunction adjustTextX(x, width, textAlign) {\n  // FIXME Right to left language\n  if (textAlign === 'right') {\n    x -= width;\n  } else if (textAlign === 'center') {\n    x -= width / 2;\n  }\n\n  return x;\n}\n/**\n * @public\n * @param {number} y\n * @param {number} height\n * @param {string} [textVerticalAlign='top']\n * @return {number} Adjusted y.\n */\n\n\nfunction adjustTextY(y, height, textVerticalAlign) {\n  if (textVerticalAlign === 'middle') {\n    y -= height / 2;\n  } else if (textVerticalAlign === 'bottom') {\n    y -= height;\n  }\n\n  return y;\n}\n/**\n * Follow same interface to `Displayable.prototype.calculateTextPosition`.\n * @public\n * @param {Obejct} [out] Prepared out object. If not input, auto created in the method.\n * @param {module:zrender/graphic/Style} style where `textPosition` and `textDistance` are visited.\n * @param {Object} rect {x, y, width, height} Rect of the host elment, according to which the text positioned.\n * @return {Object} The input `out`. Set: {x, y, textAlign, textVerticalAlign}\n */\n\n\nfunction calculateTextPosition(out, style, rect) {\n  var textPosition = style.textPosition;\n  var distance = style.textDistance;\n  var x = rect.x;\n  var y = rect.y;\n  distance = distance || 0;\n  var height = rect.height;\n  var width = rect.width;\n  var halfHeight = height / 2;\n  var textAlign = 'left';\n  var textVerticalAlign = 'top';\n\n  switch (textPosition) {\n    case 'left':\n      x -= distance;\n      y += halfHeight;\n      textAlign = 'right';\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'right':\n      x += distance + width;\n      y += halfHeight;\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'top':\n      x += width / 2;\n      y -= distance;\n      textAlign = 'center';\n      textVerticalAlign = 'bottom';\n      break;\n\n    case 'bottom':\n      x += width / 2;\n      y += height + distance;\n      textAlign = 'center';\n      break;\n\n    case 'inside':\n      x += width / 2;\n      y += halfHeight;\n      textAlign = 'center';\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'insideLeft':\n      x += distance;\n      y += halfHeight;\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'insideRight':\n      x += width - distance;\n      y += halfHeight;\n      textAlign = 'right';\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'insideTop':\n      x += width / 2;\n      y += distance;\n      textAlign = 'center';\n      break;\n\n    case 'insideBottom':\n      x += width / 2;\n      y += height - distance;\n      textAlign = 'center';\n      textVerticalAlign = 'bottom';\n      break;\n\n    case 'insideTopLeft':\n      x += distance;\n      y += distance;\n      break;\n\n    case 'insideTopRight':\n      x += width - distance;\n      y += distance;\n      textAlign = 'right';\n      break;\n\n    case 'insideBottomLeft':\n      x += distance;\n      y += height - distance;\n      textVerticalAlign = 'bottom';\n      break;\n\n    case 'insideBottomRight':\n      x += width - distance;\n      y += height - distance;\n      textAlign = 'right';\n      textVerticalAlign = 'bottom';\n      break;\n  }\n\n  out = out || {};\n  out.x = x;\n  out.y = y;\n  out.textAlign = textAlign;\n  out.textVerticalAlign = textVerticalAlign;\n  return out;\n}\n/**\n * To be removed. But still do not remove in case that some one has imported it.\n * @deprecated\n * @public\n * @param {stirng} textPosition\n * @param {Object} rect {x, y, width, height}\n * @param {number} distance\n * @return {Object} {x, y, textAlign, textVerticalAlign}\n */\n\n\nfunction adjustTextPositionOnRect(textPosition, rect, distance) {\n  var dummyStyle = {\n    textPosition: textPosition,\n    textDistance: distance\n  };\n  return calculateTextPosition({}, dummyStyle, rect);\n}\n/**\n * Show ellipsis if overflow.\n *\n * @public\n * @param  {string} text\n * @param  {string} containerWidth\n * @param  {string} font\n * @param  {number} [ellipsis='...']\n * @param  {Object} [options]\n * @param  {number} [options.maxIterations=3]\n * @param  {number} [options.minChar=0] If truncate result are less\n *                  then minChar, ellipsis will not show, which is\n *                  better for user hint in some cases.\n * @param  {number} [options.placeholder=''] When all truncated, use the placeholder.\n * @return {string}\n */\n\n\nfunction truncateText(text, containerWidth, font, ellipsis, options) {\n  if (!containerWidth) {\n    return '';\n  }\n\n  var textLines = (text + '').split('\\n');\n  options = prepareTruncateOptions(containerWidth, font, ellipsis, options); // FIXME\n  // It is not appropriate that every line has '...' when truncate multiple lines.\n\n  for (var i = 0, len = textLines.length; i < len; i++) {\n    textLines[i] = truncateSingleLine(textLines[i], options);\n  }\n\n  return textLines.join('\\n');\n}\n\nfunction prepareTruncateOptions(containerWidth, font, ellipsis, options) {\n  options = extend({}, options);\n  options.font = font;\n  var ellipsis = retrieve2(ellipsis, '...');\n  options.maxIterations = retrieve2(options.maxIterations, 2);\n  var minChar = options.minChar = retrieve2(options.minChar, 0); // FIXME\n  // Other languages?\n\n  options.cnCharWidth = getWidth('国', font); // FIXME\n  // Consider proportional font?\n\n  var ascCharWidth = options.ascCharWidth = getWidth('a', font);\n  options.placeholder = retrieve2(options.placeholder, ''); // Example 1: minChar: 3, text: 'asdfzxcv', truncate result: 'asdf', but not: 'a...'.\n  // Example 2: minChar: 3, text: '维度', truncate result: '维', but not: '...'.\n\n  var contentWidth = containerWidth = Math.max(0, containerWidth - 1); // Reserve some gap.\n\n  for (var i = 0; i < minChar && contentWidth >= ascCharWidth; i++) {\n    contentWidth -= ascCharWidth;\n  }\n\n  var ellipsisWidth = getWidth(ellipsis, font);\n\n  if (ellipsisWidth > contentWidth) {\n    ellipsis = '';\n    ellipsisWidth = 0;\n  }\n\n  contentWidth = containerWidth - ellipsisWidth;\n  options.ellipsis = ellipsis;\n  options.ellipsisWidth = ellipsisWidth;\n  options.contentWidth = contentWidth;\n  options.containerWidth = containerWidth;\n  return options;\n}\n\nfunction truncateSingleLine(textLine, options) {\n  var containerWidth = options.containerWidth;\n  var font = options.font;\n  var contentWidth = options.contentWidth;\n\n  if (!containerWidth) {\n    return '';\n  }\n\n  var lineWidth = getWidth(textLine, font);\n\n  if (lineWidth <= containerWidth) {\n    return textLine;\n  }\n\n  for (var j = 0;; j++) {\n    if (lineWidth <= contentWidth || j >= options.maxIterations) {\n      textLine += options.ellipsis;\n      break;\n    }\n\n    var subLength = j === 0 ? estimateLength(textLine, contentWidth, options.ascCharWidth, options.cnCharWidth) : lineWidth > 0 ? Math.floor(textLine.length * contentWidth / lineWidth) : 0;\n    textLine = textLine.substr(0, subLength);\n    lineWidth = getWidth(textLine, font);\n  }\n\n  if (textLine === '') {\n    textLine = options.placeholder;\n  }\n\n  return textLine;\n}\n\nfunction estimateLength(text, contentWidth, ascCharWidth, cnCharWidth) {\n  var width = 0;\n  var i = 0;\n\n  for (var len = text.length; i < len && width < contentWidth; i++) {\n    var charCode = text.charCodeAt(i);\n    width += 0 <= charCode && charCode <= 127 ? ascCharWidth : cnCharWidth;\n  }\n\n  return i;\n}\n/**\n * @public\n * @param {string} font\n * @return {number} line height\n */\n\n\nfunction getLineHeight(font) {\n  // FIXME A rough approach.\n  return getWidth('国', font);\n}\n/**\n * @public\n * @param {string} text\n * @param {string} font\n * @return {Object} width\n */\n\n\nfunction measureText(text, font) {\n  return methods.measureText(text, font);\n} // Avoid assign to an exported variable, for transforming to cjs.\n\n\nmethods.measureText = function (text, font) {\n  var ctx = getContext();\n  ctx.font = font || DEFAULT_FONT;\n  return ctx.measureText(text);\n};\n/**\n * @public\n * @param {string} text\n * @param {string} font\n * @param {Object} [truncate]\n * @return {Object} block: {lineHeight, lines, height, outerHeight, canCacheByTextString}\n *  Notice: for performance, do not calculate outerWidth util needed.\n *  `canCacheByTextString` means the result `lines` is only determined by the input `text`.\n *  Thus we can simply comparing the `input` text to determin whether the result changed,\n *  without travel the result `lines`.\n */\n\n\nfunction parsePlainText(text, font, padding, textLineHeight, truncate) {\n  text != null && (text += '');\n  var lineHeight = retrieve2(textLineHeight, getLineHeight(font));\n  var lines = text ? text.split('\\n') : [];\n  var height = lines.length * lineHeight;\n  var outerHeight = height;\n  var canCacheByTextString = true;\n\n  if (padding) {\n    outerHeight += padding[0] + padding[2];\n  }\n\n  if (text && truncate) {\n    canCacheByTextString = false;\n    var truncOuterHeight = truncate.outerHeight;\n    var truncOuterWidth = truncate.outerWidth;\n\n    if (truncOuterHeight != null && outerHeight > truncOuterHeight) {\n      text = '';\n      lines = [];\n    } else if (truncOuterWidth != null) {\n      var options = prepareTruncateOptions(truncOuterWidth - (padding ? padding[1] + padding[3] : 0), font, truncate.ellipsis, {\n        minChar: truncate.minChar,\n        placeholder: truncate.placeholder\n      }); // FIXME\n      // It is not appropriate that every line has '...' when truncate multiple lines.\n\n      for (var i = 0, len = lines.length; i < len; i++) {\n        lines[i] = truncateSingleLine(lines[i], options);\n      }\n    }\n  }\n\n  return {\n    lines: lines,\n    height: height,\n    outerHeight: outerHeight,\n    lineHeight: lineHeight,\n    canCacheByTextString: canCacheByTextString\n  };\n}\n/**\n * For example: 'some text {a|some text}other text{b|some text}xxx{c|}xxx'\n * Also consider 'bbbb{a|xxx\\nzzz}xxxx\\naaaa'.\n *\n * @public\n * @param {string} text\n * @param {Object} style\n * @return {Object} block\n * {\n *      width,\n *      height,\n *      lines: [{\n *          lineHeight,\n *          width,\n *          tokens: [[{\n *              styleName,\n *              text,\n *              width,      // include textPadding\n *              height,     // include textPadding\n *              textWidth, // pure text width\n *              textHeight, // pure text height\n *              lineHeihgt,\n *              font,\n *              textAlign,\n *              textVerticalAlign\n *          }], [...], ...]\n *      }, ...]\n * }\n * If styleName is undefined, it is plain text.\n */\n\n\nfunction parseRichText(text, style) {\n  var contentBlock = {\n    lines: [],\n    width: 0,\n    height: 0\n  };\n  text != null && (text += '');\n\n  if (!text) {\n    return contentBlock;\n  }\n\n  var lastIndex = STYLE_REG.lastIndex = 0;\n  var result;\n\n  while ((result = STYLE_REG.exec(text)) != null) {\n    var matchedIndex = result.index;\n\n    if (matchedIndex > lastIndex) {\n      pushTokens(contentBlock, text.substring(lastIndex, matchedIndex));\n    }\n\n    pushTokens(contentBlock, result[2], result[1]);\n    lastIndex = STYLE_REG.lastIndex;\n  }\n\n  if (lastIndex < text.length) {\n    pushTokens(contentBlock, text.substring(lastIndex, text.length));\n  }\n\n  var lines = contentBlock.lines;\n  var contentHeight = 0;\n  var contentWidth = 0; // For `textWidth: 100%`\n\n  var pendingList = [];\n  var stlPadding = style.textPadding;\n  var truncate = style.truncate;\n  var truncateWidth = truncate && truncate.outerWidth;\n  var truncateHeight = truncate && truncate.outerHeight;\n\n  if (stlPadding) {\n    truncateWidth != null && (truncateWidth -= stlPadding[1] + stlPadding[3]);\n    truncateHeight != null && (truncateHeight -= stlPadding[0] + stlPadding[2]);\n  } // Calculate layout info of tokens.\n\n\n  for (var i = 0; i < lines.length; i++) {\n    var line = lines[i];\n    var lineHeight = 0;\n    var lineWidth = 0;\n\n    for (var j = 0; j < line.tokens.length; j++) {\n      var token = line.tokens[j];\n      var tokenStyle = token.styleName && style.rich[token.styleName] || {}; // textPadding should not inherit from style.\n\n      var textPadding = token.textPadding = tokenStyle.textPadding; // textFont has been asigned to font by `normalizeStyle`.\n\n      var font = token.font = tokenStyle.font || style.font; // textHeight can be used when textVerticalAlign is specified in token.\n\n      var tokenHeight = token.textHeight = retrieve2( // textHeight should not be inherited, consider it can be specified\n      // as box height of the block.\n      tokenStyle.textHeight, getLineHeight(font));\n      textPadding && (tokenHeight += textPadding[0] + textPadding[2]);\n      token.height = tokenHeight;\n      token.lineHeight = retrieve3(tokenStyle.textLineHeight, style.textLineHeight, tokenHeight);\n      token.textAlign = tokenStyle && tokenStyle.textAlign || style.textAlign;\n      token.textVerticalAlign = tokenStyle && tokenStyle.textVerticalAlign || 'middle';\n\n      if (truncateHeight != null && contentHeight + token.lineHeight > truncateHeight) {\n        return {\n          lines: [],\n          width: 0,\n          height: 0\n        };\n      }\n\n      token.textWidth = getWidth(token.text, font);\n      var tokenWidth = tokenStyle.textWidth;\n      var tokenWidthNotSpecified = tokenWidth == null || tokenWidth === 'auto'; // Percent width, can be `100%`, can be used in drawing separate\n      // line when box width is needed to be auto.\n\n      if (typeof tokenWidth === 'string' && tokenWidth.charAt(tokenWidth.length - 1) === '%') {\n        token.percentWidth = tokenWidth;\n        pendingList.push(token);\n        tokenWidth = 0; // Do not truncate in this case, because there is no user case\n        // and it is too complicated.\n      } else {\n        if (tokenWidthNotSpecified) {\n          tokenWidth = token.textWidth; // FIXME: If image is not loaded and textWidth is not specified, calling\n          // `getBoundingRect()` will not get correct result.\n\n          var textBackgroundColor = tokenStyle.textBackgroundColor;\n          var bgImg = textBackgroundColor && textBackgroundColor.image; // Use cases:\n          // (1) If image is not loaded, it will be loaded at render phase and call\n          // `dirty()` and `textBackgroundColor.image` will be replaced with the loaded\n          // image, and then the right size will be calculated here at the next tick.\n          // See `graphic/helper/text.js`.\n          // (2) If image loaded, and `textBackgroundColor.image` is image src string,\n          // use `imageHelper.findExistImage` to find cached image.\n          // `imageHelper.findExistImage` will always be called here before\n          // `imageHelper.createOrUpdateImage` in `graphic/helper/text.js#renderRichText`\n          // which ensures that image will not be rendered before correct size calcualted.\n\n          if (bgImg) {\n            bgImg = imageHelper.findExistImage(bgImg);\n\n            if (imageHelper.isImageReady(bgImg)) {\n              tokenWidth = Math.max(tokenWidth, bgImg.width * tokenHeight / bgImg.height);\n            }\n          }\n        }\n\n        var paddingW = textPadding ? textPadding[1] + textPadding[3] : 0;\n        tokenWidth += paddingW;\n        var remianTruncWidth = truncateWidth != null ? truncateWidth - lineWidth : null;\n\n        if (remianTruncWidth != null && remianTruncWidth < tokenWidth) {\n          if (!tokenWidthNotSpecified || remianTruncWidth < paddingW) {\n            token.text = '';\n            token.textWidth = tokenWidth = 0;\n          } else {\n            token.text = truncateText(token.text, remianTruncWidth - paddingW, font, truncate.ellipsis, {\n              minChar: truncate.minChar\n            });\n            token.textWidth = getWidth(token.text, font);\n            tokenWidth = token.textWidth + paddingW;\n          }\n        }\n      }\n\n      lineWidth += token.width = tokenWidth;\n      tokenStyle && (lineHeight = Math.max(lineHeight, token.lineHeight));\n    }\n\n    line.width = lineWidth;\n    line.lineHeight = lineHeight;\n    contentHeight += lineHeight;\n    contentWidth = Math.max(contentWidth, lineWidth);\n  }\n\n  contentBlock.outerWidth = contentBlock.width = retrieve2(style.textWidth, contentWidth);\n  contentBlock.outerHeight = contentBlock.height = retrieve2(style.textHeight, contentHeight);\n\n  if (stlPadding) {\n    contentBlock.outerWidth += stlPadding[1] + stlPadding[3];\n    contentBlock.outerHeight += stlPadding[0] + stlPadding[2];\n  }\n\n  for (var i = 0; i < pendingList.length; i++) {\n    var token = pendingList[i];\n    var percentWidth = token.percentWidth; // Should not base on outerWidth, because token can not be placed out of padding.\n\n    token.width = parseInt(percentWidth, 10) / 100 * contentWidth;\n  }\n\n  return contentBlock;\n}\n\nfunction pushTokens(block, str, styleName) {\n  var isEmptyStr = str === '';\n  var strs = str.split('\\n');\n  var lines = block.lines;\n\n  for (var i = 0; i < strs.length; i++) {\n    var text = strs[i];\n    var token = {\n      styleName: styleName,\n      text: text,\n      isLineHolder: !text && !isEmptyStr\n    }; // The first token should be appended to the last line.\n\n    if (!i) {\n      var tokens = (lines[lines.length - 1] || (lines[0] = {\n        tokens: []\n      })).tokens; // Consider cases:\n      // (1) ''.split('\\n') => ['', '\\n', ''], the '' at the first item\n      // (which is a placeholder) should be replaced by new token.\n      // (2) A image backage, where token likes {a|}.\n      // (3) A redundant '' will affect textAlign in line.\n      // (4) tokens with the same tplName should not be merged, because\n      // they should be displayed in different box (with border and padding).\n\n      var tokensLen = tokens.length;\n      tokensLen === 1 && tokens[0].isLineHolder ? tokens[0] = token : // Consider text is '', only insert when it is the \"lineHolder\" or\n      // \"emptyStr\". Otherwise a redundant '' will affect textAlign in line.\n      (text || !tokensLen || isEmptyStr) && tokens.push(token);\n    } // Other tokens always start a new line.\n    else {\n        // If there is '', insert it as a placeholder.\n        lines.push({\n          tokens: [token]\n        });\n      }\n  }\n}\n\nfunction makeFont(style) {\n  // FIXME in node-canvas fontWeight is before fontStyle\n  // Use `fontSize` `fontFamily` to check whether font properties are defined.\n  var font = (style.fontSize || style.fontFamily) && [style.fontStyle, style.fontWeight, (style.fontSize || 12) + 'px', // If font properties are defined, `fontFamily` should not be ignored.\n  style.fontFamily || 'sans-serif'].join(' ');\n  return font && trim(font) || style.textFont || style.font;\n}\n\nexports.DEFAULT_FONT = DEFAULT_FONT;\nexports.$override = $override;\nexports.getWidth = getWidth;\nexports.getBoundingRect = getBoundingRect;\nexports.adjustTextX = adjustTextX;\nexports.adjustTextY = adjustTextY;\nexports.calculateTextPosition = calculateTextPosition;\nexports.adjustTextPositionOnRect = adjustTextPositionOnRect;\nexports.truncateText = truncateText;\nexports.getLineHeight = getLineHeight;\nexports.measureText = measureText;\nexports.parsePlainText = parsePlainText;\nexports.parseRichText = parseRichText;\nexports.makeFont = makeFont;"],"sourceRoot":""}