{"version":3,"sources":["webpack:///./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/scssScanner.js","webpack:///./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/cssErrors.js","webpack:///./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/scssErrors.js","webpack:///./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/scssParser.js","webpack:///./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/lessScanner.js","webpack:///./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/cssParser.js","webpack:///./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/cssScanner.js","webpack:///./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/cssNodes.js","webpack:///./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/lessParser.js","webpack:///./node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/parser/cssSymbolScope.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","_FSL","charCodeAt","_NWL","_CAR","_LFD","_DLR","_HSH","_CUL","_EQS","_BNG","_LAN","_RAN","_DOT","_ATS","customTokenValue","CustomToken","VariableName","InterpolationFunction","EqualsOperator","NotEqualsOperator","GreaterEqualsOperator","SmallerEqualsOperator","Ellipsis","Forward","Use","SCSSScanner","_super","apply","arguments","scanNext","offset","stream","advanceIfChar","content","ident","finishToken","join","goBackTo","advanceIfChars","Delim","keywordText","call","comment","inURL","advanceWhileChar","ch","localize","CSSIssueType","id","message","ParseError","NumberExpected","ConditionExpected","RuleOrSelectorExpected","DotExpected","ColonExpected","SemiColonExpected","TermExpected","ExpressionExpected","OperatorExpected","IdentifierExpected","PercentageExpected","URIOrStringExpected","URIExpected","VariableNameExpected","VariableValueExpected","PropertyValueExpected","LeftCurlyExpected","RightCurlyExpected","LeftSquareBracketExpected","RightSquareBracketExpected","LeftParenthesisExpected","RightParenthesisExpected","CommaExpected","PageDirectiveOrDeclarationExpected","UnknownAtRule","UnknownKeyword","SelectorExpected","StringLiteralExpected","WhitespaceExpected","MediaQueryExpected","IdentifierOrWildcardExpected","WildcardExpected","IdentifierOrVariableExpected","SCSSIssueType","SCSSParseError","FromExpected","ThroughOrToExpected","InExpected","SCSSParser","scssScanner","_parseStylesheetStart","_parseForward","_parseUse","_parseStylesheetStatement","peek","AtKeyword","_parseWarnAndDebug","_parseControlStatement","_parseMixinDeclaration","_parseMixinContent","_parseMixinReference","_parseFunctionDeclaration","_parseStylesheetAtStatement","_parseRuleset","_parseVariableDeclaration","_parseImport","peekKeyword","node","consumeToken","addChild","_parseURILiteral","_parseStringLiteral","finish","accept","Comma","SemiColon","EOF","setMedialist","_parseMediaQueryList","panic","setVariable","_parseVariable","Colon","prevToken","colonPosition","setValue","_parseExpr","Exclamation","peekRegExp","Ident","semicolonPosition","token","_parseMediaContentStart","_parseInterpolation","_parseMediaFeatureName","_parseModuleMember","_parseFunction","_parseIdent","_parseKeyframeSelector","_tryParseKeyframeSelector","bind","pos","mark","setIdentifier","Module","hasWhitespace","acceptDelim","restoreAtMark","referenceTypes","_this","peekDelim","isCustomProperty","hasContent","indentInterpolation","Num","_parseTerm","term","setExpression","superTerm","_parseSelectorCombinator","_tryParsePrio","CurlyR","_parseOperator","peekIdent","createNode","Operator","_parseUnaryOperator","_parseRuleSetDeclaration","_parseKeyframe","_parseMedia","_parseFontFace","_parseExtends","_parseSupports","_tryParseRuleset","_parseDeclaration","resyncStopTokens","setProperty","_parseProperty","_parsePrio","CurlyL","setNestedProperties","_parseNestedProperties","_parseBody","getSelectors","_parseSimpleSelector","acceptIdent","_parseSimpleSelectorBody","_parseSelectorPlaceholder","SelectorCombinator","Dimension","SelectorPlaceholder","_parseElementName","ParenthesisL","_tryParsePseudoIdentifier","Debug","parseStatement","_parseIfStatement","_parseForStatement","_parseEachStatement","_parseWhileStatement","_internalParseIfStatement","acceptKeyword","setElseClause","elseNode","_parseBinaryExpr","variables","getVariables","_parseFunctionBodyDeclaration","_parseReturnStatement","Function","getParameters","_parseParameterDeclaration","ParenthesisR","ReturnStatement","Mixin","setDefaultValue","MixinContent","firstIdent","secondIdent","moduleToken","getArguments","_parseFunctionArgument","_parseMixinReferenceBodyStatement","setContent","argument","_parseURLArgument","node_1","_parseOperation","_parseListElement","child","setKey","_parseModuleConfigDeclaration","identifier","_parseForwardVisibility","getChildren","length","cssParser","_TIC","LESSScanner","tokenType","escapedJavaScript","peekChar","advance","EscapedJavaScript","BadEscapedJavaScript","__spreadArrays","s","i","il","r","k","a","j","jl","Parser","scnr","keyframeRegex","scanner","type","len","text","undefined","toLowerCase","regEx","test","scan","prev","curr","try","func","acceptOneKeyword","keywords","_i","keywords_1","keyword","acceptRegexp","_parseRegexp","Identifier","acceptUnquotedString","unquoted","scanUnquotedString","resync","resyncTokens","indexOf","nodeType","ctor","error","markError","prevEnd","lastErrorToken","addIssue","Error","parseStylesheet","textDocument","versionId","version","getText","textProvider","substr","internalParse","_parseStylesheet","input","parseFunc","setSource","inRecovery","hasMatch","statement","_needsSemicolonAfter","CDO","CDC","_parseCharset","isNested","_parsePage","_parseViewPort","_parseNamespace","_parseDocument","_parseUnknownAtRule","_parseSelector","selectors","_parseAtApply","_tryParseCustomPropertyDeclaration","Variable","Keyframe","ViewPort","Media","Ruleset","Namespace","If","For","Each","While","MixinDeclaration","FunctionDeclaration","ExtendsReference","MediaQuery","Import","AtApplyRule","CustomPropertyDeclaration","VariableDeclaration","needsSemicolon","MixinReference","getContent","Declaration","getNestedProperties","_parseDeclarations","parseDeclaration","decl","setDeclarations","_parseCombinator","stopTokens","propertySet","declarations","isErroneous","setPropertySet","expression","_parseCustomPropertyValue","isTopLevel","curlyDepth","parensDepth","bracketsDepth","done","BracketL","BracketR","BadString","_tryToParseDeclaration","_parsePropertyIdentifier","Charset","String","atNode","setKeyword","matches","_parseKeyframeIdent","Percentage","_parseSupportsCondition","_parseSupportsDeclaration","_parseSupportsConditionInParens","lParent","rParent","openParentCount","_parseMediaDeclaration","_parseMediaQuery","resyncStopToken","parseExpression","_parseMedium","_parsePageDeclaration","_parsePageMarginBox","_parsePageSelector","_parseUnknownAtRuleName","curlyLCount","Dashmatch","Includes","SubstringOperator","PrefixOperator","SuffixOperator","SelectorCombinatorShadowPiercingDescendant","SelectorCombinatorParent","SelectorCombinatorSibling","SelectorCombinatorAllSiblings","c","_parsePseudo","_parseHash","_parseClass","_parseAttrib","_parseSelectorIdent","Hash","IdentifierSelector","ClassSelector","ElementNameSelector","_parseNamespacePrefix","NamespacePrefix","setNamespacePrefix","setOperator","tryAsSelector","PseudoSelector","prio","Prio","stopOnComma","_parseNamedLine","GridLine","preparsedLeft","preparsedOper","setLeft","setRight","operator","_parseNumeric","_parseHexColor","Resolution","Length","EMS","EXS","Angle","Time","Freq","StringLiteral","URILiteral","_parseFunctionIdentifier","TokenType","MultiLineStream","source","position","substring","from","to","eos","goBack","n","nextChar","lookbackChar","condition","posNow","_a","_f","_z","_A","_F","_Z","_0","_9","_TLD","_HAT","_PIP","_MIN","_USC","_PRC","_MUL","_LPA","_RPA","_BSL","_DQO","_SQO","_WSP","_TAB","_SEM","_COL","_CUR","_BRL","_BRR","_CMA","staticTokenTable","staticUnitTable","Scanner","ignoreComment","ignoreWhitespace","_unquotedString","UnquotedString","triviaToken","trivia","_name","_number","dim","tokenType_1","_string","_matchWordAnyCase","characters","index","result","_whitespace","Whitespace","Comment","success_1","hot_1","npeek","_newline","push","fromCharCode","_escape","includeNewLines","hexNumCount","hexVal","parseInt","e","_stringChar","closeQuote","_unquotedChar","matched","_identChar","hasMinus","_minus","_identFirstChar","NodeType","ReferenceType","getNodeAtOffset","candidate","end","getNodePath","path","unshift","parent","getParentDeclaration","findParent","value","getValue","encloses","Level","Node","defineProperty","get","enumerable","configurable","Undefined","set","getTextProvider","str","startsWith","endsWith","visitor","children","acceptVisitor","visitNode","adoptChild","idx","splice","attachTo","collectIssues","results","issues","issue","hasIssue","rule","isArray","some","getRule","recursive","setNode","field","updateOffsetAndLength","nodeEnd","hasChildren","slice","getChild","addChildren","nodes","nodes_1","findFirstChildBeforeOffset","current","findChildAtOffset","goDeep","getParent","Nodelist","findAParent","types","t","setData","key","options","getData","containsInterpolation","Stylesheet","Declarations","BodyDeclaration","getDeclarations","decls","RuleSet","Selector","SimpleSelector","getIdentifier","getName","AbstractDeclaration","getProperty","property","getPropertySet","CustomPropertySet","getFullPropertyName","propertyName","NestedProperties","parentDecl","getNonPrefixedPropertyName","charAt","vendorPrefixEnd","nestedProperties","Property","Invocation","FunctionParameter","getDefaultValue","defaultValue","FunctionArgument","IfStatement","elseClause","ForStatement","EachStatement","WhileStatement","ElseStatement","Else","parameters","FontFace","getKeyword","KeyframeSelector","ModuleConfiguration","ForwardVisibility","Supports","Document","Medialist","getMediums","mediums","SupportsCondition","Page","PageBoxMarginBox","Expression","BinaryExpression","left","getLeft","right","getRight","getOperator","Term","getExpression","AttributeSelector","getNamespacePrefix","namespacePrefix","HexColorValue","_dot","NumericValue","code","raw","unitIdx","unit","variable","getVariable","Interpolation","getNamespaces","namespaces","setGuard","guard","setAtRuleName","atRuleName","getAtRuleName","ListEntry","LessGuard","getConditions","conditions","GuardCondition","Marker","level","getLevel","getOffset","getLength","getNode","getMessage","ParseErrorCollector","entries","LESSParser","_parsePlugin","_tryParseMixinDeclaration","_tryParseMixinReference","Plugin","_parseDetachedRuleSetMixin","_parseDetachedRuleSet","_parseMixinParameter","_parseDetachedRuleSetBody","_addLookupChildren","_parseLookupValue","expectsValue","declaration","insideLookup","isPropertyReference","_parseEscaped","EscapedValue","_parseGuardOperator","_parseExtend","_parseGuard","peekInterpolatedIdent","SelectorInterpolation","_acceptInterpolatedIdent","inLookup","propertyRegex","childAdded","identRegex","_parseMixinDeclarationIdentifier","_parseMixInBodyDeclaration","_completeExtends","atRoot","nextId","hasArguments","_parseMixinArgument","Rule","restNode","varargsNode","isNegated","_parseGuardCondition","node_2","Scope","symbols","scope","setParent","findScope","findInScope","res","addSymbol","symbol","getSymbol","name","getSymbols","GlobalScope","Number","MAX_VALUE","Symbol","ScopeBuilder","addScope","newScope","addSymbolToChildScope","scopeNode","visitCustomPropertyDeclarationNode","visitVariableDeclarationNode","visitRuleSet","visitFunctionParameterNode","forNode","eachNode","scopeNode_1","variables_1","valueNode","addCSSVariable","Symbols","global","findSymbolsAtOffset","referenceType","names","internalFindSymbol","funcId","functionSymbol","evaluateReferenceTypes","selector","findSymbolFromNode","matchesSymbol","nodeSymbol","findSymbol"],"mappings":"kHAAA,oWAKIA,EAAwC,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,KAClEP,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASO,IAAOC,KAAKC,YAAcV,EADnCD,EAAcC,EAAGC,GAEjBD,EAAEW,UAAkB,OAANV,EAAaC,OAAOU,OAAOX,IAAMO,EAAGG,UAAYV,EAAEU,UAAW,IAAIH,IAV3C,GAcxCK,EAAO,IAAIC,WAAW,GACtBC,EAAO,KAAKD,WAAW,GACvBE,EAAO,KAAKF,WAAW,GACvBG,EAAO,KAAKH,WAAW,GACvBI,EAAO,IAAIJ,WAAW,GACtBK,EAAO,IAAIL,WAAW,GACtBM,EAAO,IAAIN,WAAW,GACtBO,EAAO,IAAIP,WAAW,GACtBQ,EAAO,IAAIR,WAAW,GACtBS,EAAO,IAAIT,WAAW,GACtBU,EAAO,IAAIV,WAAW,GACtBW,EAAO,IAAIX,WAAW,GACtBY,EAAO,IAAIZ,WAAW,GACtBa,EAAmB,OAAUC,YACtBC,EAAeF,IACfG,EAAwBH,IAExBI,GADUJ,IACOA,KACjBK,EAAoBL,IACpBM,EAAwBN,IACxBO,EAAwBP,IACxBQ,EAAWR,IAEXS,GADST,IACCA,KACVU,EAAMV,IACbW,EAA6B,SAAUC,GAEvC,SAASD,IACL,OAAkB,OAAXC,GAAmBA,EAAOC,MAAM/B,KAAMgC,YAAchC,KAgF/D,OAlFAX,EAAUwC,EAAaC,GAIvBD,EAAY3B,UAAU+B,SAAW,SAAUC,GAEvC,GAAIlC,KAAKmC,OAAOC,cAAc3B,GAAO,CACjC,IAAI4B,EAAU,CAAC,KACf,GAAIrC,KAAKsC,MAAMD,GACX,OAAOrC,KAAKuC,YAAYL,EAAQd,EAAciB,EAAQG,KAAK,KAG3DxC,KAAKmC,OAAOM,SAASP,GAI7B,GAAIlC,KAAKmC,OAAOO,eAAe,CAAChC,EAAMC,IAClC,OAAOX,KAAKuC,YAAYL,EAAQb,GAGpC,GAAIrB,KAAKmC,OAAOO,eAAe,CAAC9B,EAAMA,IAClC,OAAOZ,KAAKuC,YAAYL,EAAQZ,GAGpC,GAAItB,KAAKmC,OAAOO,eAAe,CAAC7B,EAAMD,IAClC,OAAOZ,KAAKuC,YAAYL,EAAQX,GAGpC,GAAIvB,KAAKmC,OAAOC,cAActB,GAC1B,OAAId,KAAKmC,OAAOC,cAAcxB,GACnBZ,KAAKuC,YAAYL,EAAQT,GAE7BzB,KAAKuC,YAAYL,EAAQ,OAAUS,OAG9C,GAAI3C,KAAKmC,OAAOC,cAAcrB,GAC1B,OAAIf,KAAKmC,OAAOC,cAAcxB,GACnBZ,KAAKuC,YAAYL,EAAQV,GAE7BxB,KAAKuC,YAAYL,EAAQ,OAAUS,OAG9C,GAAI3C,KAAKmC,OAAOO,eAAe,CAAC1B,EAAMA,EAAMA,IACxC,OAAOhB,KAAKuC,YAAYL,EAAQR,GAGpC,GAAI1B,KAAKmC,OAAOC,cAAcnB,GAAO,CAC7BoB,EAAU,CAAC,KACf,GAAIrC,KAAKsC,MAAMD,GAAU,CACrB,IAAIO,EAAcP,EAAQG,KAAK,IAC/B,GAAoB,aAAhBI,EACA,OAAO5C,KAAKuC,YAAYL,EAAQP,EAASiB,GAExC,GAAoB,SAAhBA,EACL,OAAO5C,KAAKuC,YAAYL,EAAQN,EAAKgB,GAG7C5C,KAAKmC,OAAOM,SAASP,GAEzB,OAAOJ,EAAO5B,UAAU+B,SAASY,KAAK7C,KAAMkC,IAEhDL,EAAY3B,UAAU4C,QAAU,WAC5B,QAAIhB,EAAO5B,UAAU4C,QAAQD,KAAK7C,SAG7BA,KAAK+C,QAAS/C,KAAKmC,OAAOO,eAAe,CAACtC,EAAMA,OACjDJ,KAAKmC,OAAOa,kBAAiB,SAAUC,GACnC,OAAQA,GACJ,KAAK3C,EACL,KAAKC,EACL,KAAKC,EACD,OAAO,EACX,QACI,OAAO,OAGZ,IAMRqB,EAnFqB,CAoF9B,S,oCChIF,kDAMIqB,EAAW,SACXC,EAA8B,WAC9B,SAASA,EAAaC,EAAIC,GACtBrD,KAAKoD,GAAKA,EACVpD,KAAKqD,QAAUA,EAEnB,OAAOF,EALsB,GAQtBG,EAAa,CACpBC,eAAgB,IAAIJ,EAAa,qBAAsBD,EAAS,kBAAmB,oBACnFM,kBAAmB,IAAIL,EAAa,wBAAyBD,EAAS,iBAAkB,uBACxFO,uBAAwB,IAAIN,EAAa,6BAA8BD,EAAS,0BAA2B,iCAC3GQ,YAAa,IAAIP,EAAa,kBAAmBD,EAAS,eAAgB,iBAC1ES,cAAe,IAAIR,EAAa,oBAAqBD,EAAS,iBAAkB,mBAChFU,kBAAmB,IAAIT,EAAa,wBAAyBD,EAAS,qBAAsB,wBAC5FW,aAAc,IAAIV,EAAa,mBAAoBD,EAAS,gBAAiB,kBAC7EY,mBAAoB,IAAIX,EAAa,yBAA0BD,EAAS,sBAAuB,wBAC/Fa,iBAAkB,IAAIZ,EAAa,uBAAwBD,EAAS,oBAAqB,sBACzFc,mBAAoB,IAAIb,EAAa,yBAA0BD,EAAS,iBAAkB,wBAC1Fe,mBAAoB,IAAId,EAAa,yBAA0BD,EAAS,sBAAuB,wBAC/FgB,oBAAqB,IAAIf,EAAa,0BAA2BD,EAAS,uBAAwB,2BAClGiB,YAAa,IAAIhB,EAAa,kBAAmBD,EAAS,eAAgB,iBAC1EkB,qBAAsB,IAAIjB,EAAa,sBAAuBD,EAAS,mBAAoB,2BAC3FmB,sBAAuB,IAAIlB,EAAa,uBAAwBD,EAAS,oBAAqB,4BAC9FoB,sBAAuB,IAAInB,EAAa,4BAA6BD,EAAS,qBAAsB,4BACpGqB,kBAAmB,IAAIpB,EAAa,qBAAsBD,EAAS,kBAAmB,eACtFsB,mBAAoB,IAAIrB,EAAa,qBAAsBD,EAAS,kBAAmB,eACvFuB,0BAA2B,IAAItB,EAAa,uBAAwBD,EAAS,mBAAoB,eACjGwB,2BAA4B,IAAIvB,EAAa,uBAAwBD,EAAS,mBAAoB,eAClGyB,wBAAyB,IAAIxB,EAAa,sBAAuBD,EAAS,kBAAmB,eAC7F0B,yBAA0B,IAAIzB,EAAa,sBAAuBD,EAAS,mBAAoB,eAC/F2B,cAAe,IAAI1B,EAAa,oBAAqBD,EAAS,iBAAkB,mBAChF4B,mCAAoC,IAAI3B,EAAa,4BAA6BD,EAAS,yBAA0B,0CACrH6B,cAAe,IAAI5B,EAAa,oBAAqBD,EAAS,iBAAkB,oBAChF8B,eAAgB,IAAI7B,EAAa,qBAAsBD,EAAS,kBAAmB,oBACnF+B,iBAAkB,IAAI9B,EAAa,uBAAwBD,EAAS,oBAAqB,sBACzFgC,sBAAuB,IAAI/B,EAAa,4BAA6BD,EAAS,yBAA0B,4BACxGiC,mBAAoB,IAAIhC,EAAa,yBAA0BD,EAAS,sBAAuB,wBAC/FkC,mBAAoB,IAAIjC,EAAa,yBAA0BD,EAAS,sBAAuB,yBAC/FmC,6BAA8B,IAAIlC,EAAa,2BAA4BD,EAAS,wBAAyB,oCAC7GoC,iBAAkB,IAAInC,EAAa,uBAAwBD,EAAS,oBAAqB,sBACzFqC,6BAA8B,IAAIpC,EAAa,sBAAuBD,EAAS,mBAAoB,sC,sIC1CnGA,EAAW,SACXsC,EAA+B,WAC/B,SAASA,EAAcpC,EAAIC,GACvBrD,KAAKoD,GAAKA,EACVpD,KAAKqD,QAAUA,EAEnB,OAAOmC,EALuB,GAQvBC,EAAiB,CACxBC,aAAc,IAAIF,EAAc,oBAAqBtC,EAAS,gBAAiB,oBAC/EyC,oBAAqB,IAAIH,EAAc,uBAAwBtC,EAAS,mBAAoB,+BAC5F0C,WAAY,IAAIJ,EAAc,oBAAqBtC,EAAS,cAAe,mB,YCb3E7D,EAAwC,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,KAClEP,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASO,IAAOC,KAAKC,YAAcV,EADnCD,EAAcC,EAAGC,GAEjBD,EAAEW,UAAkB,OAANV,EAAaC,OAAOU,OAAOX,IAAMO,EAAGG,UAAYV,EAAEU,UAAW,IAAIH,IAV3C,GAuBxC,EAA4B,SAAU+B,GAEtC,SAAS+D,IACL,OAAO/D,EAAOe,KAAK7C,KAAM,IAAI8F,EAAA,OAA8B9F,KAusB/D,OAzsBAX,EAAUwG,EAAY/D,GAItB+D,EAAW3F,UAAU6F,sBAAwB,WACzC,OAAO/F,KAAKgG,iBACLhG,KAAKiG,aACLnE,EAAO5B,UAAU6F,sBAAsBlD,KAAK7C,OAEvD6F,EAAW3F,UAAUgG,0BAA4B,WAC7C,OAAIlG,KAAKmG,KAAK,OAAUC,WACbpG,KAAKqG,sBACLrG,KAAKsG,0BACLtG,KAAKuG,0BACLvG,KAAKwG,sBACLxG,KAAKyG,wBACLzG,KAAK0G,6BACL5E,EAAO5B,UAAUyG,4BAA4B9D,KAAK7C,MAEtDA,KAAK4G,eAAc,IAAS5G,KAAK6G,6BAE5ChB,EAAW3F,UAAU4G,aAAe,WAChC,IAAK9G,KAAK+G,YAAY,WAClB,OAAO,KAEX,IAAIC,EAAOhH,KAAKG,OAAO,QAEvB,GADAH,KAAKiH,gBACAD,EAAKE,SAASlH,KAAKmH,sBAAwBH,EAAKE,SAASlH,KAAKoH,uBAC/D,OAAOpH,KAAKqH,OAAOL,EAAM,OAAW9C,qBAExC,MAAOlE,KAAKsH,OAAO,OAAUC,OACzB,IAAKP,EAAKE,SAASlH,KAAKmH,sBAAwBH,EAAKE,SAASlH,KAAKoH,uBAC/D,OAAOpH,KAAKqH,OAAOL,EAAM,OAAW9C,qBAM5C,OAHKlE,KAAKmG,KAAK,OAAUqB,YAAexH,KAAKmG,KAAK,OAAUsB,MACxDT,EAAKU,aAAa1H,KAAK2H,wBAEpB3H,KAAKqH,OAAOL,IAGvBnB,EAAW3F,UAAU2G,0BAA4B,SAAUe,GAEvD,QADc,IAAVA,IAAoBA,EAAQ,KAC3B5H,KAAKmG,KAAKL,EAAA,MACX,OAAO,KAEX,IAAIkB,EAAOhH,KAAKG,OAAO,SACvB,IAAK6G,EAAKa,YAAY7H,KAAK8H,kBACvB,OAAO,KAEX,IAAK9H,KAAKsH,OAAO,OAAUS,OACvB,OAAO/H,KAAKqH,OAAOL,EAAM,OAAWrD,eAKxC,GAHI3D,KAAKgI,YACLhB,EAAKiB,cAAgBjI,KAAKgI,UAAU9F,SAEnC8E,EAAKkB,SAASlI,KAAKmI,cACpB,OAAOnI,KAAKqH,OAAOL,EAAM,OAAW3C,sBAAuB,GAAIuD,GAEnE,MAAO5H,KAAKsH,OAAO,OAAUc,aAAc,CACvC,IAAKpI,KAAKqI,WAAW,OAAUC,MAAO,sBAClC,OAAOtI,KAAKqH,OAAOL,EAAM,OAAWhC,gBAExChF,KAAKiH,eAKT,OAHIjH,KAAKmG,KAAK,OAAUqB,aACpBR,EAAKuB,kBAAoBvI,KAAKwI,MAAMtG,QAEjClC,KAAKqH,OAAOL,IAEvBnB,EAAW3F,UAAUuI,wBAA0B,WAC3C,OAAOzI,KAAK0I,uBAEhB7C,EAAW3F,UAAUyI,uBAAyB,WAC1C,OAAO3I,KAAK4I,sBACL5I,KAAK6I,kBACL7I,KAAK8I,eACL9I,KAAK8H,kBAEhBjC,EAAW3F,UAAU6I,uBAAyB,WAC1C,OAAO/I,KAAKgJ,6BACLhJ,KAAKsG,uBAAuBtG,KAAK+I,uBAAuBE,KAAKjJ,QAC7DA,KAAK6G,6BACL7G,KAAKwG,sBAEhBX,EAAW3F,UAAU4H,eAAiB,WAClC,IAAK9H,KAAKmG,KAAKL,EAAA,MACX,OAAO,KAEX,IAAIkB,EAAOhH,KAAKG,OAAO,SAEvB,OADAH,KAAKiH,eACED,GAEXnB,EAAW3F,UAAU0I,mBAAqB,WACtC,IAAIM,EAAMlJ,KAAKmJ,OACXnC,EAAOhH,KAAKG,OAAO,QACvB,OAAK6G,EAAKoC,cAAcpJ,KAAK8I,YAAY,CAAC,OAAoBO,UAG1DrJ,KAAKsJ,kBACDtJ,KAAKuJ,YAAY,MAClBvJ,KAAKsJ,iBACRtJ,KAAKwJ,cAAcN,GACZ,MAENlC,EAAKE,SAASlH,KAAK8H,kBAAoB9H,KAAK6I,kBAG1C7B,EAFIhH,KAAKqH,OAAOL,EAAM,OAAWzB,8BAT7B,MAafM,EAAW3F,UAAU4I,YAAc,SAAUW,GACzC,IAAIC,EAAQ1J,KACZ,IAAKA,KAAKmG,KAAK,OAAUmC,SAAWtI,KAAKmG,KAAKL,EAAA,QAAuC9F,KAAK2J,UAAU,KAChG,OAAO,KAEX,IAAI3C,EAAOhH,KAAKG,OAAO,QACvB6G,EAAKyC,eAAiBA,EACtBzC,EAAK4C,iBAAmB5J,KAAKqI,WAAW,OAAUC,MAAO,OACzD,IAAIuB,GAAa,EACbC,EAAsB,WACtB,IAAIZ,EAAMQ,EAAMP,OAChB,OAAIO,EAAMH,YAAY,OACbG,EAAMJ,iBACPI,EAAMH,YAAY,KAElBG,EAAMJ,kBACNI,EAAMF,cAAcN,GACb,MAGRQ,EAAMhB,uBAEjB,MAAO1I,KAAKsH,OAAO,OAAUgB,QAAUtB,EAAKE,SAAS4C,MAA2BD,IAAe7J,KAAKuJ,YAAY,MAAQvJ,KAAKsH,OAAO,OAAUyC,MAE1I,GADAF,GAAa,EACT7J,KAAKsJ,gBACL,MAGR,OAAOO,EAAa7J,KAAKqH,OAAOL,GAAQ,MAE5CnB,EAAW3F,UAAU8J,WAAa,WAC9B,IAAIC,EAAOjK,KAAKG,OAAO,SACvB,GAAI8J,EAAKC,cAAclK,KAAK4I,sBACxB,OAAO5I,KAAKqH,OAAO4C,GAEvB,IAAIE,EAAYrI,EAAO5B,UAAU8J,WAAWnH,KAAK7C,MACjD,OAAImK,IAGAF,EAAKC,cAAclK,KAAK8H,mBACrBmC,EAAKC,cAAclK,KAAKoK,6BACxBH,EAAKC,cAAclK,KAAKqK,iBACpBrK,KAAKqH,OAAO4C,GAEhB,OAEXpE,EAAW3F,UAAUwI,oBAAsB,WACvC,GAAI1I,KAAKmG,KAAKL,EAAA,MAAoC,CAC9C,IAAIkB,EAAOhH,KAAKG,OAAO,QAEvB,OADAH,KAAKiH,eACAD,EAAKE,SAASlH,KAAKmI,eAAkBnI,KAAKoK,2BAM1CpK,KAAKsH,OAAO,OAAUgD,QAGpBtK,KAAKqH,OAAOL,GAFRhH,KAAKqH,OAAOL,EAAM,OAAWxC,oBANhCxE,KAAKsH,OAAO,OAAUgD,QACftK,KAAKqH,OAAOL,GAEhBhH,KAAKqH,OAAOL,EAAM,OAAWlD,oBAO5C,OAAO,MAEX+B,EAAW3F,UAAUqK,eAAiB,WAClC,GAAIvK,KAAKmG,KAAKL,EAAA,OAA+B9F,KAAKmG,KAAKL,EAAA,OAChD9F,KAAKmG,KAAKL,EAAA,OAAsC9F,KAAKmG,KAAKL,EAAA,OAC1D9F,KAAK2J,UAAU,MAAQ3J,KAAK2J,UAAU,MACtC3J,KAAKwK,UAAU,QAAUxK,KAAKwK,UAAU,OACxCxK,KAAK2J,UAAU,KAAM,CACxB,IAAI3C,EAAOhH,KAAKyK,WAAW,OAAeC,UAE1C,OADA1K,KAAKiH,eACEjH,KAAKqH,OAAOL,GAEvB,OAAOlF,EAAO5B,UAAUqK,eAAe1H,KAAK7C,OAEhD6F,EAAW3F,UAAUyK,oBAAsB,WACvC,GAAI3K,KAAKwK,UAAU,OAAQ,CACvB,IAAIxD,EAAOhH,KAAKG,OAAO,QAEvB,OADAH,KAAKiH,eACEjH,KAAKqH,OAAOL,GAEvB,OAAOlF,EAAO5B,UAAUyK,oBAAoB9H,KAAK7C,OAErD6F,EAAW3F,UAAU0K,yBAA2B,WAC5C,OAAI5K,KAAKmG,KAAK,OAAUC,WACbpG,KAAK6K,kBACL7K,KAAK8G,gBACL9G,KAAK8K,aAAY,IACjB9K,KAAK+K,kBACL/K,KAAKqG,sBACLrG,KAAKsG,0BACLtG,KAAK0G,6BACL1G,KAAKgL,iBACLhL,KAAKyG,wBACLzG,KAAKwG,sBACLxG,KAAKuG,0BACLvG,KAAK4G,eAAc,IACnB5G,KAAKiL,gBAAe,GAExBjL,KAAK6G,6BACL7G,KAAKkL,kBAAiB,IACtBpJ,EAAO5B,UAAU0K,yBAAyB/H,KAAK7C,OAE1D6F,EAAW3F,UAAUiL,kBAAoB,SAAUC,GAC/C,IAAIpE,EAAOhH,KAAKG,OAAO,QACvB,IAAK6G,EAAKqE,YAAYrL,KAAKsL,kBACvB,OAAO,KAEX,IAAKtL,KAAKsH,OAAO,OAAUS,OACvB,OAAO/H,KAAKqH,OAAOL,EAAM,OAAWrD,cAAe,CAAC,OAAUoE,OAAQqD,GAEtEpL,KAAKgI,YACLhB,EAAKiB,cAAgBjI,KAAKgI,UAAU9F,QAExC,IAAI2H,GAAa,EAKjB,GAJI7C,EAAKkB,SAASlI,KAAKmI,gBACnB0B,GAAa,EACb7C,EAAKE,SAASlH,KAAKuL,eAEnBvL,KAAKmG,KAAK,OAAUqF,QACpBxE,EAAKyE,oBAAoBzL,KAAK0L,+BAG9B,IAAK7B,EACD,OAAO7J,KAAKqH,OAAOL,EAAM,OAAW1C,uBAM5C,OAHItE,KAAKmG,KAAK,OAAUqB,aACpBR,EAAKuB,kBAAoBvI,KAAKwI,MAAMtG,QAEjClC,KAAKqH,OAAOL,IAEvBnB,EAAW3F,UAAUwL,uBAAyB,WAC1C,IAAI1E,EAAOhH,KAAKG,OAAO,QACvB,OAAOH,KAAK2L,WAAW3E,EAAMhH,KAAKmL,kBAAkBlC,KAAKjJ,QAE7D6F,EAAW3F,UAAU8K,cAAgB,WACjC,GAAIhL,KAAK+G,YAAY,WAAY,CAC7B,IAAIC,EAAOhH,KAAKG,OAAO,QAEvB,GADAH,KAAKiH,gBACAD,EAAK4E,eAAe1E,SAASlH,KAAK6L,wBACnC,OAAO7L,KAAKqH,OAAOL,EAAM,OAAW/B,kBAExC,MAAOjF,KAAKsH,OAAO,OAAUC,OACzBP,EAAK4E,eAAe1E,SAASlH,KAAK6L,wBAEtC,OAAI7L,KAAKsH,OAAO,OAAUc,eACjBpI,KAAK8L,YAAY,YACX9L,KAAKqH,OAAOL,EAAM,OAAWhC,gBAGrChF,KAAKqH,OAAOL,GAEvB,OAAO,MAEXnB,EAAW3F,UAAU6L,yBAA2B,WAC5C,OAAO/L,KAAKoK,4BAA8BpK,KAAKgM,6BAA+BlK,EAAO5B,UAAU6L,yBAAyBlJ,KAAK7C,OAEjI6F,EAAW3F,UAAUkK,yBAA2B,WAC5C,GAAIpK,KAAK2J,UAAU,KAAM,CACrB,IAAI3C,EAAOhH,KAAKyK,WAAW,OAAewB,oBAC1CjM,KAAKiH,eACL,OAAQjH,KAAKsJ,kBAAoBtJ,KAAKuJ,YAAY,MAAQvJ,KAAKsH,OAAO,OAAUyC,MAAQ/J,KAAKsH,OAAO,OAAU4E,YAAclF,EAAKE,SAASlH,KAAK8I,gBAAkB9I,KAAKuJ,YAAY,OAGlL,OAAOvJ,KAAKqH,OAAOL,GAEvB,OAAO,MAEXnB,EAAW3F,UAAU8L,0BAA4B,WAC7C,GAAIhM,KAAK2J,UAAU,KAAM,CACrB,IAAI3C,EAAOhH,KAAKyK,WAAW,OAAe0B,qBAG1C,OAFAnM,KAAKiH,eACLjH,KAAK8I,cACE9I,KAAKqH,OAAOL,GAElB,GAAIhH,KAAK+G,YAAY,YAAa,CAC/BC,EAAOhH,KAAKyK,WAAW,OAAe0B,qBAE1C,OADAnM,KAAKiH,eACEjH,KAAKqH,OAAOL,GAEvB,OAAO,MAEXnB,EAAW3F,UAAUkM,kBAAoB,WACrC,IAAIlD,EAAMlJ,KAAKmJ,OACXnC,EAAOlF,EAAO5B,UAAUkM,kBAAkBvJ,KAAK7C,MACnD,OAAIgH,IAAShH,KAAKsJ,iBAAmBtJ,KAAKmG,KAAK,OAAUkG,eACrDrM,KAAKwJ,cAAcN,GACZ,MAEJlC,GAEXnB,EAAW3F,UAAUoM,0BAA4B,WAC7C,OAAOtM,KAAK0I,uBAAyB5G,EAAO5B,UAAUoM,0BAA0BzJ,KAAK7C,OAEzF6F,EAAW3F,UAAUmG,mBAAqB,WACtC,IAAKrG,KAAK+G,YAAY,YACd/G,KAAK+G,YAAY,WACjB/G,KAAK+G,YAAY,UACrB,OAAO,KAEX,IAAIC,EAAOhH,KAAKyK,WAAW,OAAe8B,OAG1C,OAFAvM,KAAKiH,eACLD,EAAKE,SAASlH,KAAKmI,cACZnI,KAAKqH,OAAOL,IAEvBnB,EAAW3F,UAAUoG,uBAAyB,SAAUkG,GAEpD,YADuB,IAAnBA,IAA6BA,EAAiBxM,KAAK4K,yBAAyB3B,KAAKjJ,OAChFA,KAAKmG,KAAK,OAAUC,WAGlBpG,KAAKyM,kBAAkBD,IAAmBxM,KAAK0M,mBAAmBF,IAClExM,KAAK2M,oBAAoBH,IAAmBxM,KAAK4M,qBAAqBJ,GAHlE,MAKf3G,EAAW3F,UAAUuM,kBAAoB,SAAUD,GAC/C,OAAKxM,KAAK+G,YAAY,OAGf/G,KAAK6M,0BAA0BL,GAF3B,MAIf3G,EAAW3F,UAAU2M,0BAA4B,SAAUL,GACvD,IAAIxF,EAAOhH,KAAKG,OAAO,QAEvB,GADAH,KAAKiH,gBACAD,EAAKkD,cAAclK,KAAKmI,YAAW,IACpC,OAAOnI,KAAKqH,OAAOL,EAAM,OAAWlD,oBAGxC,GADA9D,KAAK2L,WAAW3E,EAAMwF,GAClBxM,KAAK8M,cAAc,SACnB,GAAI9M,KAAKwK,UAAU,MACfxD,EAAK+F,cAAc/M,KAAK6M,0BAA0BL,SAEjD,GAAIxM,KAAKmG,KAAK,OAAUqF,QAAS,CAClC,IAAIwB,EAAWhN,KAAKG,OAAO,QAC3BH,KAAK2L,WAAWqB,EAAUR,GAC1BxF,EAAK+F,cAAcC,GAG3B,OAAOhN,KAAKqH,OAAOL,IAEvBnB,EAAW3F,UAAUwM,mBAAqB,SAAUF,GAChD,IAAKxM,KAAK+G,YAAY,QAClB,OAAO,KAEX,IAAIC,EAAOhH,KAAKG,OAAO,QAEvB,OADAH,KAAKiH,eACAD,EAAKa,YAAY7H,KAAK8H,kBAGtB9H,KAAK8L,YAAY,QAGjB9E,EAAKE,SAASlH,KAAKiN,oBAGnBjN,KAAK8L,YAAY,OAAU9L,KAAK8L,YAAY,WAG5C9E,EAAKE,SAASlH,KAAKiN,oBAGjBjN,KAAK2L,WAAW3E,EAAMwF,GAFlBxM,KAAKqH,OAAOL,EAAM,OAAWlD,mBAAoB,CAAC,OAAUwG,SAH5DtK,KAAKqH,OAAOL,EAAMvB,EAAeE,oBAAqB,CAAC,OAAU2E,SAHjEtK,KAAKqH,OAAOL,EAAM,OAAWlD,mBAAoB,CAAC,OAAUwG,SAH5DtK,KAAKqH,OAAOL,EAAMvB,EAAeC,aAAc,CAAC,OAAU4E,SAH1DtK,KAAKqH,OAAOL,EAAM,OAAW5C,qBAAsB,CAAC,OAAUkG,UAgB7EzE,EAAW3F,UAAUyM,oBAAsB,SAAUH,GACjD,IAAKxM,KAAK+G,YAAY,SAClB,OAAO,KAEX,IAAIC,EAAOhH,KAAKG,OAAO,QACvBH,KAAKiH,eACL,IAAIiG,EAAYlG,EAAKmG,eACrB,IAAKD,EAAUhG,SAASlH,KAAK8H,kBACzB,OAAO9H,KAAKqH,OAAOL,EAAM,OAAW5C,qBAAsB,CAAC,OAAUkG,SAEzE,MAAOtK,KAAKsH,OAAO,OAAUC,OACzB,IAAK2F,EAAUhG,SAASlH,KAAK8H,kBACzB,OAAO9H,KAAKqH,OAAOL,EAAM,OAAW5C,qBAAsB,CAAC,OAAUkG,SAI7E,OADAtK,KAAKqH,OAAO6F,GACPlN,KAAK8L,YAAY,MAGjB9E,EAAKE,SAASlH,KAAKmI,cAGjBnI,KAAK2L,WAAW3E,EAAMwF,GAFlBxM,KAAKqH,OAAOL,EAAM,OAAWlD,mBAAoB,CAAC,OAAUwG,SAH5DtK,KAAKqH,OAAOL,EAAMvB,EAAeG,WAAY,CAAC,OAAU0E,UAOvEzE,EAAW3F,UAAU0M,qBAAuB,SAAUJ,GAClD,IAAKxM,KAAK+G,YAAY,UAClB,OAAO,KAEX,IAAIC,EAAOhH,KAAKG,OAAO,SAEvB,OADAH,KAAKiH,eACAD,EAAKE,SAASlH,KAAKiN,oBAGjBjN,KAAK2L,WAAW3E,EAAMwF,GAFlBxM,KAAKqH,OAAOL,EAAM,OAAWlD,mBAAoB,CAAC,OAAUwG,UAI3EzE,EAAW3F,UAAUkN,8BAAgC,WACjD,OAAOpN,KAAK6G,6BAA+B7G,KAAKqN,yBAA2BrN,KAAKqG,sBACzErG,KAAKsG,uBAAuBtG,KAAKoN,8BAA8BnE,KAAKjJ,QAE/E6F,EAAW3F,UAAUwG,0BAA4B,WAC7C,IAAK1G,KAAK+G,YAAY,aAClB,OAAO,KAEX,IAAIC,EAAOhH,KAAKG,OAAO,QAEvB,GADAH,KAAKiH,gBACAD,EAAKoC,cAAcpJ,KAAK8I,YAAY,CAAC,OAAoBwE,YAC1D,OAAOtN,KAAKqH,OAAOL,EAAM,OAAWhD,mBAAoB,CAAC,OAAUsG,SAEvE,IAAKtK,KAAKsH,OAAO,OAAU+E,cACvB,OAAOrM,KAAKqH,OAAOL,EAAM,OAAWrC,wBAAyB,CAAC,OAAU2F,SAE5E,GAAItD,EAAKuG,gBAAgBrG,SAASlH,KAAKwN,8BACnC,MAAOxN,KAAKsH,OAAO,OAAUC,OAAQ,CACjC,GAAIvH,KAAKmG,KAAK,OAAUsH,cACpB,MAEJ,IAAKzG,EAAKuG,gBAAgBrG,SAASlH,KAAKwN,8BACpC,OAAOxN,KAAKqH,OAAOL,EAAM,OAAW5C,sBAIhD,OAAKpE,KAAKsH,OAAO,OAAUmG,cAGpBzN,KAAK2L,WAAW3E,EAAMhH,KAAKoN,8BAA8BnE,KAAKjJ,OAF1DA,KAAKqH,OAAOL,EAAM,OAAWpC,yBAA0B,CAAC,OAAU0F,UAIjFzE,EAAW3F,UAAUmN,sBAAwB,WACzC,IAAKrN,KAAK+G,YAAY,WAClB,OAAO,KAEX,IAAIC,EAAOhH,KAAKyK,WAAW,OAAeiD,iBAE1C,OADA1N,KAAKiH,eACAD,EAAKE,SAASlH,KAAKmI,cAGjBnI,KAAKqH,OAAOL,GAFRhH,KAAKqH,OAAOL,EAAM,OAAWlD,qBAI5C+B,EAAW3F,UAAUqG,uBAAyB,WAC1C,IAAKvG,KAAK+G,YAAY,UAClB,OAAO,KAEX,IAAIC,EAAOhH,KAAKG,OAAO,QAEvB,GADAH,KAAKiH,gBACAD,EAAKoC,cAAcpJ,KAAK8I,YAAY,CAAC,OAAoB6E,SAC1D,OAAO3N,KAAKqH,OAAOL,EAAM,OAAWhD,mBAAoB,CAAC,OAAUsG,SAEvE,GAAItK,KAAKsH,OAAO,OAAU+E,cAAe,CACrC,GAAIrF,EAAKuG,gBAAgBrG,SAASlH,KAAKwN,8BACnC,MAAOxN,KAAKsH,OAAO,OAAUC,OAAQ,CACjC,GAAIvH,KAAKmG,KAAK,OAAUsH,cACpB,MAEJ,IAAKzG,EAAKuG,gBAAgBrG,SAASlH,KAAKwN,8BACpC,OAAOxN,KAAKqH,OAAOL,EAAM,OAAW5C,sBAIhD,IAAKpE,KAAKsH,OAAO,OAAUmG,cACvB,OAAOzN,KAAKqH,OAAOL,EAAM,OAAWpC,yBAA0B,CAAC,OAAU0F,SAGjF,OAAOtK,KAAK2L,WAAW3E,EAAMhH,KAAK4K,yBAAyB3B,KAAKjJ,QAEpE6F,EAAW3F,UAAUsN,2BAA6B,WAC9C,IAAIxG,EAAOhH,KAAKG,OAAO,QACvB,OAAK6G,EAAKoC,cAAcpJ,KAAK8H,mBAGzB9H,KAAKsH,OAAOxB,EAAA,MAGZ9F,KAAKsH,OAAO,OAAUS,SACjBf,EAAK4G,gBAAgB5N,KAAKmI,YAAW,IAC/BnI,KAAKqH,OAAOL,EAAM,OAAW3C,sBAAuB,GAAI,CAAC,OAAUkD,MAAO,OAAUkG,eAG5FzN,KAAKqH,OAAOL,IAVR,MAYfnB,EAAW3F,UAAUsG,mBAAqB,WACtC,IAAKxG,KAAK+G,YAAY,YAClB,OAAO,KAEX,IAAIC,EAAOhH,KAAKyK,WAAW,OAAeoD,cAE1C,OADA7N,KAAKiH,eACEjH,KAAKqH,OAAOL,IAEvBnB,EAAW3F,UAAUuG,qBAAuB,WACxC,IAAKzG,KAAK+G,YAAY,YAClB,OAAO,KAEX,IAAIC,EAAOhH,KAAKG,OAAO,QACvBH,KAAKiH,eAEL,IAAI6G,EAAa9N,KAAK8I,YAAY,CAAC,OAAoB6E,QACvD,IAAK3G,EAAKoC,cAAc0E,GACpB,OAAO9N,KAAKqH,OAAOL,EAAM,OAAWhD,mBAAoB,CAAC,OAAUsG,SAGvE,IAAKtK,KAAKsJ,iBAAmBtJ,KAAKuJ,YAAY,OAASvJ,KAAKsJ,gBAAiB,CACzE,IAAIyE,EAAc/N,KAAK8I,YAAY,CAAC,OAAoB6E,QACxD,IAAKI,EACD,OAAO/N,KAAKqH,OAAOL,EAAM,OAAWhD,mBAAoB,CAAC,OAAUsG,SAEvE,IAAI0D,EAAchO,KAAKG,OAAO,QAE9B2N,EAAWrE,eAAiB,CAAC,OAAoBJ,QACjD2E,EAAY5E,cAAc0E,GAE1B9G,EAAKoC,cAAc2E,GACnB/G,EAAKE,SAAS8G,GAElB,GAAIhO,KAAKsH,OAAO,OAAU+E,cAAe,CACrC,GAAIrF,EAAKiH,eAAe/G,SAASlH,KAAKkO,0BAClC,MAAOlO,KAAKsH,OAAO,OAAUC,OAAQ,CACjC,GAAIvH,KAAKmG,KAAK,OAAUsH,cACpB,MAEJ,IAAKzG,EAAKiH,eAAe/G,SAASlH,KAAKkO,0BACnC,OAAOlO,KAAKqH,OAAOL,EAAM,OAAWlD,oBAIhD,IAAK9D,KAAKsH,OAAO,OAAUmG,cACvB,OAAOzN,KAAKqH,OAAOL,EAAM,OAAWpC,0BAG5C,GAAI5E,KAAKmG,KAAK,OAAUqF,QAAS,CAC7B,IAAInJ,EAAUrC,KAAKG,OAAO,QAC1BH,KAAK2L,WAAWtJ,EAASrC,KAAKmO,kCAAkClF,KAAKjJ,OACrEgH,EAAKoH,WAAW/L,GAEpB,OAAOrC,KAAKqH,OAAOL,IAEvBnB,EAAW3F,UAAUiO,kCAAoC,WACrD,OAAOnO,KAAKgJ,6BAA+BhJ,KAAK4K,4BAEpD/E,EAAW3F,UAAUgO,uBAAyB,WAE1C,IAAIlH,EAAOhH,KAAKG,OAAO,QACnB+I,EAAMlJ,KAAKmJ,OACXkF,EAAWrO,KAAK8H,iBACpB,GAAIuG,EACA,GAAKrO,KAAKsH,OAAO,OAAUS,OAUvBf,EAAKoC,cAAciF,OAVY,CAC/B,GAAIrO,KAAKsH,OAAOxB,EAAA,MAEZ,OADAkB,EAAKkB,SAASmG,GACPrO,KAAKqH,OAAOL,GAGnBhH,KAAKwJ,cAAcN,GAO/B,OAAIlC,EAAKkB,SAASlI,KAAKmI,YAAW,KAC9BnI,KAAKsH,OAAOxB,EAAA,MACZkB,EAAKE,SAASlH,KAAKuL,cACZvL,KAAKqH,OAAOL,IAEhB,MAEXnB,EAAW3F,UAAUoO,kBAAoB,WACrC,IAAIpF,EAAMlJ,KAAKmJ,OACXnC,EAAOlF,EAAO5B,UAAUoO,kBAAkBzL,KAAK7C,MACnD,IAAKgH,IAAShH,KAAKmG,KAAK,OAAUsH,cAAe,CAC7CzN,KAAKwJ,cAAcN,GACnB,IAAIqF,EAASvO,KAAKG,OAAO,QAEzB,OADAoO,EAAOrH,SAASlH,KAAKiN,oBACdjN,KAAKqH,OAAOkH,GAEvB,OAAOvH,GAEXnB,EAAW3F,UAAUsO,gBAAkB,WACnC,IAAKxO,KAAKmG,KAAK,OAAUkG,cACrB,OAAO,KAEX,IAAIrF,EAAOhH,KAAKG,OAAO,QACvBH,KAAKiH,eACL,MAAOD,EAAKE,SAASlH,KAAKyO,qBACtBzO,KAAKsH,OAAO,OAAUC,OAE1B,OAAKvH,KAAKsH,OAAO,OAAUmG,cAGpBzN,KAAKqH,OAAOL,GAFRhH,KAAKqH,OAAOL,EAAM,OAAWpC,2BAI5CiB,EAAW3F,UAAUuO,kBAAoB,WACrC,IAAIzH,EAAOhH,KAAKG,OAAO,QACnBuO,EAAQ1O,KAAKiN,mBACjB,IAAKyB,EACD,OAAO,KAEX,GAAI1O,KAAKsH,OAAO,OAAUS,QAEtB,GADAf,EAAK2H,OAAOD,IACP1H,EAAKkB,SAASlI,KAAKiN,oBACpB,OAAOjN,KAAKqH,OAAOL,EAAM,OAAWlD,yBAIxCkD,EAAKkB,SAASwG,GAElB,OAAO1O,KAAKqH,OAAOL,IAEvBnB,EAAW3F,UAAU+F,UAAY,WAC7B,IAAKjG,KAAKmG,KAAKL,EAAA,MACX,OAAO,KAEX,IAAIkB,EAAOhH,KAAKG,OAAO,SAEvB,GADAH,KAAKiH,gBACAD,EAAKE,SAASlH,KAAKoH,uBACpB,OAAOpH,KAAKqH,OAAOL,EAAM,OAAW9B,uBAExC,IAAKlF,KAAKmG,KAAK,OAAUqB,aAAexH,KAAKmG,KAAK,OAAUsB,KAAM,CAC9D,IAAKzH,KAAKqI,WAAW,OAAUC,MAAO,WAClC,OAAOtI,KAAKqH,OAAOL,EAAM,OAAWhC,gBAExC,GAAIhF,KAAK8L,YAAY,QACf9E,EAAKoC,cAAcpJ,KAAK8I,YAAY,CAAC,OAAoBO,YAAcrJ,KAAKuJ,YAAY,KAC1F,OAAOvJ,KAAKqH,OAAOL,EAAM,OAAW3B,8BAExC,GAAIrF,KAAK8L,YAAY,QAAS,CAC1B,IAAK9L,KAAKsH,OAAO,OAAU+E,cACvB,OAAOrM,KAAKqH,OAAOL,EAAM,OAAWrC,wBAAyB,CAAC,OAAU8I,eAG5E,IAAKzG,EAAKuG,gBAAgBrG,SAASlH,KAAK4O,iCACpC,OAAO5O,KAAKqH,OAAOL,EAAM,OAAW5C,sBAExC,MAAOpE,KAAKsH,OAAO,OAAUC,OAAQ,CACjC,GAAIvH,KAAKmG,KAAK,OAAUsH,cACpB,MAEJ,IAAKzG,EAAKuG,gBAAgBrG,SAASlH,KAAK4O,iCACpC,OAAO5O,KAAKqH,OAAOL,EAAM,OAAW5C,sBAG5C,IAAKpE,KAAKsH,OAAO,OAAUmG,cACvB,OAAOzN,KAAKqH,OAAOL,EAAM,OAAWpC,2BAIhD,OAAK5E,KAAKsH,OAAO,OAAUE,YAAexH,KAAKsH,OAAO,OAAUG,KAGzDzH,KAAKqH,OAAOL,GAFRhH,KAAKqH,OAAOL,EAAM,OAAWpD,oBAI5CiC,EAAW3F,UAAU0O,8BAAgC,WACjD,IAAI5H,EAAOhH,KAAKG,OAAO,QACvB,OAAK6G,EAAKoC,cAAcpJ,KAAK8H,kBAGxB9H,KAAKsH,OAAO,OAAUS,QAAWf,EAAKkB,SAASlI,KAAKmI,YAAW,IAG7DnI,KAAKqH,OAAOL,GAFRhH,KAAKqH,OAAOL,EAAM,OAAW3C,sBAAuB,GAAI,CAAC,OAAUkD,MAAO,OAAUkG,eAHpF,MAOf5H,EAAW3F,UAAU8F,cAAgB,WACjC,IAAKhG,KAAKmG,KAAKL,EAAA,MACX,OAAO,KAEX,IAAIkB,EAAOhH,KAAKG,OAAO,QAEvB,GADAH,KAAKiH,gBACAD,EAAKE,SAASlH,KAAKoH,uBACpB,OAAOpH,KAAKqH,OAAOL,EAAM,OAAW9B,uBAExC,IAAKlF,KAAKmG,KAAK,OAAUqB,aAAexH,KAAKmG,KAAK,OAAUsB,KAAM,CAC9D,IAAKzH,KAAKqI,WAAW,OAAUC,MAAO,gBAClC,OAAOtI,KAAKqH,OAAOL,EAAM,OAAWhC,gBAExC,GAAIhF,KAAK8L,YAAY,MAAO,CACxB,IAAI+C,EAAa7O,KAAK8I,YAAY,CAAC,OAAoBnH,UACvD,IAAKqF,EAAKoC,cAAcyF,GACpB,OAAO7O,KAAKqH,OAAOL,EAAM,OAAWhD,oBAGxC,GAAIhE,KAAKsJ,kBAAoBtJ,KAAKuJ,YAAY,KAC1C,OAAOvJ,KAAKqH,OAAOL,EAAM,OAAW1B,kBAG5C,IAAItF,KAAKwK,UAAU,SAAWxK,KAAKwK,UAAU,WACpCxD,EAAKE,SAASlH,KAAK8O,2BACpB,OAAO9O,KAAKqH,OAAOL,EAAM,OAAWzB,8BAIhD,OAAKvF,KAAKsH,OAAO,OAAUE,YAAexH,KAAKsH,OAAO,OAAUG,KAGzDzH,KAAKqH,OAAOL,GAFRhH,KAAKqH,OAAOL,EAAM,OAAWpD,oBAI5CiC,EAAW3F,UAAU4O,wBAA0B,WAC3C,IAAI9H,EAAOhH,KAAKG,OAAO,QAEvB6G,EAAKoC,cAAcpJ,KAAK8I,eACxB,MAAO9B,EAAKE,SAASlH,KAAK8H,kBAAoB9H,KAAK8I,gBAInD,OAAO9B,EAAK+H,cAAcC,OAAS,EAAIhI,EAAO,MAE3CnB,EA1sBoB,CA2sB7BoJ,EAAA,O,kCCvuBF,oFAKI5P,EAAwC,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,KAClEP,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASO,IAAOC,KAAKC,YAAcV,EADnCD,EAAcC,EAAGC,GAEjBD,EAAEW,UAAkB,OAANV,EAAaC,OAAOU,OAAOX,IAAMO,EAAGG,UAAYV,EAAEU,UAAW,IAAIH,IAV3C,GAcxCK,EAAO,IAAIC,WAAW,GACtBC,EAAO,KAAKD,WAAW,GACvBE,EAAO,KAAKF,WAAW,GACvBG,EAAO,KAAKH,WAAW,GACvB6O,EAAO,IAAI7O,WAAW,GACtBW,EAAO,IAAIX,WAAW,GACtBa,EAAmB,OAAkBC,YAC9BO,EAAWR,IAClBiO,EAA6B,SAAUrN,GAEvC,SAASqN,IACL,OAAkB,OAAXrN,GAAmBA,EAAOC,MAAM/B,KAAMgC,YAAchC,KA2C/D,OA7CAX,EAAU8P,EAAarN,GAIvBqN,EAAYjP,UAAU+B,SAAW,SAAUC,GAEvC,IAAIkN,EAAYpP,KAAKqP,oBACrB,OAAkB,OAAdD,EACOpP,KAAKuC,YAAYL,EAAQkN,GAEhCpP,KAAKmC,OAAOO,eAAe,CAAC1B,EAAMA,EAAMA,IACjChB,KAAKuC,YAAYL,EAAQR,GAE7BI,EAAO5B,UAAU+B,SAASY,KAAK7C,KAAMkC,IAEhDiN,EAAYjP,UAAU4C,QAAU,WAC5B,QAAIhB,EAAO5B,UAAU4C,QAAQD,KAAK7C,SAG7BA,KAAK+C,QAAS/C,KAAKmC,OAAOO,eAAe,CAACtC,EAAMA,OACjDJ,KAAKmC,OAAOa,kBAAiB,SAAUC,GACnC,OAAQA,GACJ,KAAK3C,EACL,KAAKC,EACL,KAAKC,EACD,OAAO,EACX,QACI,OAAO,OAGZ,IAMf2O,EAAYjP,UAAUmP,kBAAoB,WACtC,IAAIpM,EAAKjD,KAAKmC,OAAOmN,WACrB,OAAIrM,IAAOiM,GACPlP,KAAKmC,OAAOoN,QAAQ,GACpBvP,KAAKmC,OAAOa,kBAAiB,SAAUC,GAAM,OAAOA,IAAOiM,KACpDlP,KAAKmC,OAAOC,cAAc8M,GAAQ,OAAkBM,kBAAoB,OAAkBC,sBAE9F,MAEJN,EA9CqB,CA+C9B,S,kCC1EF,kGAKIO,EAAkD,WAClD,IAAK,IAAIC,EAAI,EAAGC,EAAI,EAAGC,EAAK7N,UAAUgN,OAAQY,EAAIC,EAAID,IAAKD,GAAK3N,UAAU4N,GAAGZ,OACxE,IAAIc,EAAIlQ,MAAM+P,GAAII,EAAI,EAA3B,IAA8BH,EAAI,EAAGA,EAAIC,EAAID,IACzC,IAAK,IAAII,EAAIhO,UAAU4N,GAAIK,EAAI,EAAGC,EAAKF,EAAEhB,OAAQiB,EAAIC,EAAID,IAAKF,IAC1DD,EAAEC,GAAKC,EAAEC,GACjB,OAAOH,GAYPK,EAAwB,WACxB,SAASA,EAAOC,QACC,IAATA,IAAmBA,EAAO,IAAI,QAClCpQ,KAAKqQ,cAAgB,wCACrBrQ,KAAKsQ,QAAUF,EACfpQ,KAAKwI,MAAQ,CAAE+H,KAAM,OAAU9I,IAAKvF,QAAS,EAAGsO,IAAK,EAAGC,KAAM,IAC9DzQ,KAAKgI,eAAY0I,EAg5CrB,OA94CAP,EAAOjQ,UAAUsK,UAAY,SAAUiG,GACnC,OAAO,OAAUnI,QAAUtI,KAAKwI,MAAM+H,MAAQE,EAAKzB,SAAWhP,KAAKwI,MAAMiI,KAAKzB,QAAUyB,IAASzQ,KAAKwI,MAAMiI,KAAKE,eAErHR,EAAOjQ,UAAU6G,YAAc,SAAU0J,GACrC,OAAO,OAAUrK,YAAcpG,KAAKwI,MAAM+H,MAAQE,EAAKzB,SAAWhP,KAAKwI,MAAMiI,KAAKzB,QAAUyB,IAASzQ,KAAKwI,MAAMiI,KAAKE,eAEzHR,EAAOjQ,UAAUyJ,UAAY,SAAU8G,GACnC,OAAO,OAAU9N,QAAU3C,KAAKwI,MAAM+H,MAAQE,IAASzQ,KAAKwI,MAAMiI,MAEtEN,EAAOjQ,UAAUiG,KAAO,SAAUoK,GAC9B,OAAOA,IAASvQ,KAAKwI,MAAM+H,MAE/BJ,EAAOjQ,UAAUmI,WAAa,SAAUkI,EAAMK,GAC1C,OAAIL,IAASvQ,KAAKwI,MAAM+H,MAGjBK,EAAMC,KAAK7Q,KAAKwI,MAAMiI,OAEjCN,EAAOjQ,UAAUoJ,cAAgB,WAC7B,QAAStJ,KAAKgI,WAAchI,KAAKgI,UAAU9F,OAASlC,KAAKgI,UAAUwI,MAAQxQ,KAAKwI,MAAMtG,QAE1FiO,EAAOjQ,UAAU+G,aAAe,WAC5BjH,KAAKgI,UAAYhI,KAAKwI,MACtBxI,KAAKwI,MAAQxI,KAAKsQ,QAAQQ,QAE9BX,EAAOjQ,UAAUiJ,KAAO,WACpB,MAAO,CACH4H,KAAM/Q,KAAKgI,UACXgJ,KAAMhR,KAAKwI,MACXU,IAAKlJ,KAAKsQ,QAAQpH,QAG1BiH,EAAOjQ,UAAUsJ,cAAgB,SAAUL,GACvCnJ,KAAKgI,UAAYmB,EAAK4H,KACtB/Q,KAAKwI,MAAQW,EAAK6H,KAClBhR,KAAKsQ,QAAQ7N,SAAS0G,EAAKD,MAE/BiH,EAAOjQ,UAAU+Q,IAAM,SAAUC,GAC7B,IAAIhI,EAAMlJ,KAAKmJ,OACXnC,EAAOkK,IACX,OAAKlK,IACDhH,KAAKwJ,cAAcN,GACZ,OAIfiH,EAAOjQ,UAAUiR,iBAAmB,SAAUC,GAC1C,GAAI,OAAUhL,YAAcpG,KAAKwI,MAAM+H,KACnC,IAAK,IAAIc,EAAK,EAAGC,EAAaF,EAAUC,EAAKC,EAAWtC,OAAQqC,IAAM,CAClE,IAAIE,EAAUD,EAAWD,GACzB,GAAIE,EAAQvC,SAAWhP,KAAKwI,MAAMiI,KAAKzB,QAAUuC,IAAYvR,KAAKwI,MAAMiI,KAAKE,cAEzE,OADA3Q,KAAKiH,gBACE,EAInB,OAAO,GAEXkJ,EAAOjQ,UAAUoH,OAAS,SAAUiJ,GAChC,OAAIA,IAASvQ,KAAKwI,MAAM+H,OACpBvQ,KAAKiH,gBACE,IAIfkJ,EAAOjQ,UAAU4L,YAAc,SAAU2E,GACrC,QAAIzQ,KAAKwK,UAAUiG,KACfzQ,KAAKiH,gBACE,IAIfkJ,EAAOjQ,UAAU4M,cAAgB,SAAU2D,GACvC,QAAIzQ,KAAK+G,YAAY0J,KACjBzQ,KAAKiH,gBACE,IAIfkJ,EAAOjQ,UAAUqJ,YAAc,SAAUkH,GACrC,QAAIzQ,KAAK2J,UAAU8G,KACfzQ,KAAKiH,gBACE,IAIfkJ,EAAOjQ,UAAUsR,aAAe,SAAUZ,GACtC,QAAIA,EAAMC,KAAK7Q,KAAKwI,MAAMiI,QACtBzQ,KAAKiH,gBACE,IAIfkJ,EAAOjQ,UAAUuR,aAAe,SAAUb,GACtC,IAAI5J,EAAOhH,KAAKyK,WAAW,OAAeiH,YAC1C,UAAc1R,KAAKwR,aAAaZ,IAChC,OAAO5Q,KAAKqH,OAAOL,IAEvBmJ,EAAOjQ,UAAUyR,qBAAuB,WACpC,IAAIzI,EAAMlJ,KAAKsQ,QAAQpH,MACvBlJ,KAAKsQ,QAAQ7N,SAASzC,KAAKwI,MAAMtG,QACjC,IAAI0P,EAAW5R,KAAKsQ,QAAQuB,qBAC5B,OAAID,GACA5R,KAAKwI,MAAQoJ,EACb5R,KAAKiH,gBACE,IAEXjH,KAAKsQ,QAAQ7N,SAASyG,IACf,IAEXiH,EAAOjQ,UAAU4R,OAAS,SAAUC,EAAc3G,GAC9C,MAAO,EAAM,CACT,GAAI2G,IAA2D,IAA3CA,EAAaC,QAAQhS,KAAKwI,MAAM+H,MAEhD,OADAvQ,KAAKiH,gBACE,EAEN,GAAImE,IAAmE,IAA/CA,EAAiB4G,QAAQhS,KAAKwI,MAAM+H,MAC7D,OAAO,EAGP,GAAIvQ,KAAKwI,MAAM+H,OAAS,OAAU9I,IAC9B,OAAO,EAEXzH,KAAKwI,MAAQxI,KAAKsQ,QAAQQ,SAItCX,EAAOjQ,UAAUuK,WAAa,SAAUwH,GACpC,OAAO,IAAI,OAAWjS,KAAKwI,MAAMtG,OAAQlC,KAAKwI,MAAMgI,IAAKyB,IAE7D9B,EAAOjQ,UAAUC,OAAS,SAAU+R,GAChC,OAAO,IAAIA,EAAKlS,KAAKwI,MAAMtG,OAAQlC,KAAKwI,MAAMgI,MAElDL,EAAOjQ,UAAUmH,OAAS,SAAUL,EAAMmL,EAAOJ,EAAc3G,GAG3D,KAAMpE,aAAgB,UACdmL,GACAnS,KAAKoS,UAAUpL,EAAMmL,EAAOJ,EAAc3G,GAG1CpL,KAAKgI,WAAW,CAEhB,IAAIqK,EAAUrS,KAAKgI,UAAU9F,OAASlC,KAAKgI,UAAUwI,IACrDxJ,EAAKgI,OAASqD,EAAUrL,EAAK9E,OAASmQ,EAAUrL,EAAK9E,OAAS,EAGtE,OAAO8E,GAEXmJ,EAAOjQ,UAAUkS,UAAY,SAAUpL,EAAMmL,EAAOJ,EAAc3G,GAC1DpL,KAAKwI,QAAUxI,KAAKsS,iBACpBtL,EAAKuL,SAAS,IAAI,OAAavL,EAAMmL,EAAO,OAAYK,WAAO9B,EAAW1Q,KAAKwI,MAAMtG,OAAQlC,KAAKwI,MAAMgI,MACxGxQ,KAAKsS,eAAiBtS,KAAKwI,QAE3BuJ,GAAgB3G,IAChBpL,KAAK8R,OAAOC,EAAc3G,IAGlC+E,EAAOjQ,UAAUuS,gBAAkB,SAAUC,GACzC,IAAIC,EAAYD,EAAaE,QACzBnC,EAAOiC,EAAaG,UACpBC,EAAe,SAAU5Q,EAAQ8M,GACjC,GAAI0D,EAAaE,UAAYD,EACzB,MAAM,IAAIH,MAAM,wDAEpB,OAAO/B,EAAKsC,OAAO7Q,EAAQ8M,IAE/B,OAAOhP,KAAKgT,cAAcvC,EAAMzQ,KAAKiT,iBAAkBH,IAE3D3C,EAAOjQ,UAAU8S,cAAgB,SAAUE,EAAOC,EAAWL,GACzD9S,KAAKsQ,QAAQ8C,UAAUF,GACvBlT,KAAKwI,MAAQxI,KAAKsQ,QAAQQ,OAC1B,IAAI9J,EAAOmM,EAAUlK,KAAKjJ,KAAfmT,GASX,OARInM,IAEIA,EAAK8L,aADLA,GAIoB,SAAU5Q,EAAQ8M,GAAU,OAAOkE,EAAMH,OAAO7Q,EAAQ8M,KAG7EhI,GAEXmJ,EAAOjQ,UAAU+S,iBAAmB,WAChC,IAAIjM,EAAOhH,KAAKG,OAAO,SACvB,MAAO6G,EAAKE,SAASlH,KAAK+F,0BAG1B,IAAIsN,GAAa,EACjB,EAAG,CACC,IAAIC,GAAW,EACf,EAAG,CACCA,GAAW,EACX,IAAIC,EAAYvT,KAAKkG,4BACjBqN,IACAvM,EAAKE,SAASqM,GACdD,GAAW,EACXD,GAAa,EACRrT,KAAKmG,KAAK,OAAUsB,OAAQzH,KAAKwT,qBAAqBD,IAAevT,KAAKsH,OAAO,OAAUE,YAC5FxH,KAAKoS,UAAUpL,EAAM,OAAWpD,oBAGxC,MAAO5D,KAAKsH,OAAO,OAAUE,YAAcxH,KAAKsH,OAAO,OAAUmM,MAAQzT,KAAKsH,OAAO,OAAUoM,KAE3FJ,GAAW,EACXD,GAAa,QAEZC,GACT,GAAItT,KAAKmG,KAAK,OAAUsB,KACpB,MAEC4L,IACGrT,KAAKmG,KAAK,OAAUC,WACpBpG,KAAKoS,UAAUpL,EAAM,OAAWjC,eAGhC/E,KAAKoS,UAAUpL,EAAM,OAAWvD,wBAEpC4P,GAAa,GAEjBrT,KAAKiH,sBACCjH,KAAKmG,KAAK,OAAUsB,MAC9B,OAAOzH,KAAKqH,OAAOL,IAEvBmJ,EAAOjQ,UAAU6F,sBAAwB,WACrC,OAAO/F,KAAK2T,iBAEhBxD,EAAOjQ,UAAUgG,0BAA4B,SAAU0N,GAEnD,YADiB,IAAbA,IAAuBA,GAAW,GAClC5T,KAAKmG,KAAK,OAAUC,WACbpG,KAAK2G,4BAA4BiN,GAErC5T,KAAK4G,cAAcgN,IAE9BzD,EAAOjQ,UAAUyG,4BAA8B,SAAUiN,GAErD,YADiB,IAAbA,IAAuBA,GAAW,GAC/B5T,KAAK8G,gBACL9G,KAAK8K,YAAY8I,IACjB5T,KAAK6T,cACL7T,KAAK+K,kBACL/K,KAAK6K,kBACL7K,KAAKiL,eAAe2I,IACpB5T,KAAK8T,kBACL9T,KAAK+T,mBACL/T,KAAKgU,kBACLhU,KAAKiU,uBAEhB9D,EAAOjQ,UAAUgL,iBAAmB,SAAU0I,GAC1C,IAAIzK,EAAOnJ,KAAKmJ,OAChB,GAAInJ,KAAKkU,eAAeN,GAAW,CAC/B,MAAO5T,KAAKsH,OAAO,OAAUC,QAAUvH,KAAKkU,eAAeN,IAG3D,GAAI5T,KAAKsH,OAAO,OAAUkE,QAEtB,OADAxL,KAAKwJ,cAAcL,GACZnJ,KAAK4G,cAAcgN,GAIlC,OADA5T,KAAKwJ,cAAcL,GACZ,MAEXgH,EAAOjQ,UAAU0G,cAAgB,SAAUgN,QACtB,IAAbA,IAAuBA,GAAW,GACtC,IAAI5M,EAAOhH,KAAKG,OAAO,SACnBgU,EAAYnN,EAAK4E,eACrB,IAAKuI,EAAUjN,SAASlH,KAAKkU,eAAeN,IACxC,OAAO,KAEX,MAAO5T,KAAKsH,OAAO,OAAUC,OACzB,IAAK4M,EAAUjN,SAASlH,KAAKkU,eAAeN,IACxC,OAAO5T,KAAKqH,OAAOL,EAAM,OAAW/B,kBAG5C,OAAOjF,KAAK2L,WAAW3E,EAAMhH,KAAK4K,yBAAyB3B,KAAKjJ,QAEpEmQ,EAAOjQ,UAAU0K,yBAA2B,WAExC,OAAO5K,KAAKoU,iBACLpU,KAAKqU,sCACLrU,KAAKmL,qBACLnL,KAAKiU,uBAQhB9D,EAAOjQ,UAAUkU,cAAgB,WAC7B,IAAKpU,KAAK+G,YAAY,UAClB,OAAO,KAEX,IAAIC,EAAOhH,KAAKG,OAAO,QAEvB,OADAH,KAAKiH,eACAD,EAAKoC,cAAcpJ,KAAK8I,YAAY,CAAC,OAAoBwL,YAGvDtU,KAAKqH,OAAOL,GAFRhH,KAAKqH,OAAOL,EAAM,OAAWhD,qBAI5CmM,EAAOjQ,UAAUsT,qBAAuB,SAAUxM,GAC9C,OAAQA,EAAKuJ,MACT,KAAK,OAAegE,SACpB,KAAK,OAAeC,SACpB,KAAK,OAAeC,MACpB,KAAK,OAAeC,QACpB,KAAK,OAAeC,UACpB,KAAK,OAAeC,GACpB,KAAK,OAAeC,IACpB,KAAK,OAAeC,KACpB,KAAK,OAAeC,MACpB,KAAK,OAAeC,iBACpB,KAAK,OAAeC,oBAChB,OAAO,EACX,KAAK,OAAeC,iBACpB,KAAK,OAAerH,aACpB,KAAK,OAAeH,gBACpB,KAAK,OAAeyH,WACpB,KAAK,OAAe5I,MACpB,KAAK,OAAe6I,OACpB,KAAK,OAAeC,YACpB,KAAK,OAAeC,0BAChB,OAAO,EACX,KAAK,OAAeC,oBAChB,OAAOvO,EAAKwO,eAChB,KAAK,OAAeC,eAChB,OAAQzO,EAAK0O,aACjB,KAAK,OAAeC,YAChB,OAAQ3O,EAAK4O,sBAErB,OAAO,GAEXzF,EAAOjQ,UAAU2V,mBAAqB,SAAUC,GAC5C,IAAI9O,EAAOhH,KAAKG,OAAO,QACvB,IAAKH,KAAKsH,OAAO,OAAUkE,QACvB,OAAO,KAEX,IAAIuK,EAAOD,IACX,MAAO9O,EAAKE,SAAS6O,GAAO,CACxB,GAAI/V,KAAKmG,KAAK,OAAUmE,QACpB,MAEJ,GAAItK,KAAKwT,qBAAqBuC,KAAU/V,KAAKsH,OAAO,OAAUE,WAC1D,OAAOxH,KAAKqH,OAAOL,EAAM,OAAWpD,kBAAmB,CAAC,OAAU4D,UAAW,OAAU8C,SAGvFyL,GAAQ/V,KAAKgI,WAAahI,KAAKgI,UAAUuI,OAAS,OAAU/I,YAC5DuO,EAAKxN,kBAAoBvI,KAAKgI,UAAU9F,QAE5C,MAAOlC,KAAKsH,OAAO,OAAUE,YAG7BuO,EAAOD,IAEX,OAAK9V,KAAKsH,OAAO,OAAUgD,QAGpBtK,KAAKqH,OAAOL,GAFRhH,KAAKqH,OAAOL,EAAM,OAAWxC,mBAAoB,CAAC,OAAU8F,OAAQ,OAAU9C,aAI7F2I,EAAOjQ,UAAUyL,WAAa,SAAU3E,EAAM8O,GAC1C,OAAK9O,EAAKgP,gBAAgBhW,KAAK6V,mBAAmBC,IAG3C9V,KAAKqH,OAAOL,GAFRhH,KAAKqH,OAAOL,EAAM,OAAWzC,kBAAmB,CAAC,OAAU+F,OAAQ,OAAU9C,aAI5F2I,EAAOjQ,UAAUgU,eAAiB,SAAUN,GACxC,IAAI5M,EAAOhH,KAAKG,OAAO,SACnB0J,GAAa,EACb+J,IAEA/J,EAAa7C,EAAKE,SAASlH,KAAKiW,qBAEpC,MAAOjP,EAAKE,SAASlH,KAAK6L,wBACtBhC,GAAa,EACb7C,EAAKE,SAASlH,KAAKiW,oBAEvB,OAAOpM,EAAa7J,KAAKqH,OAAOL,GAAQ,MAE5CmJ,EAAOjQ,UAAUiL,kBAAoB,SAAUC,GAC3C,IAAIpE,EAAOhH,KAAKG,OAAO,QACvB,IAAK6G,EAAKqE,YAAYrL,KAAKsL,kBACvB,OAAO,KAEX,IAAKtL,KAAKsH,OAAO,OAAUS,OAAQ,CAC/B,IAAImO,EAAa9K,EAAmBsE,EAAetE,EAAkB,CAAC,OAAU5D,YAAc,CAAC,OAAUA,WACzG,OAAOxH,KAAKqH,OAAOL,EAAM,OAAWrD,cAAe,CAAC,OAAUoE,OAAQmO,GAK1E,OAHIlW,KAAKgI,YACLhB,EAAKiB,cAAgBjI,KAAKgI,UAAU9F,QAEnC8E,EAAKkB,SAASlI,KAAKmI,eAGxBnB,EAAKE,SAASlH,KAAKuL,cACfvL,KAAKmG,KAAK,OAAUqB,aACpBR,EAAKuB,kBAAoBvI,KAAKwI,MAAMtG,QAEjClC,KAAKqH,OAAOL,IANRhH,KAAKqH,OAAOL,EAAM,OAAW1C,wBAQ5C6L,EAAOjQ,UAAUmU,mCAAqC,WAClD,IAAKrU,KAAKqI,WAAW,OAAUC,MAAO,OAClC,OAAO,KAEX,IAAItB,EAAOhH,KAAKG,OAAO,QACvB,IAAK6G,EAAKqE,YAAYrL,KAAKsL,kBACvB,OAAO,KAEX,IAAKtL,KAAKsH,OAAO,OAAUS,OACvB,OAAO/H,KAAKqH,OAAOL,EAAM,OAAWrD,cAAe,CAAC,OAAUoE,QAE9D/H,KAAKgI,YACLhB,EAAKiB,cAAgBjI,KAAKgI,UAAU9F,QAExC,IAAIiH,EAAOnJ,KAAKmJ,OAChB,GAAInJ,KAAKmG,KAAK,OAAUqF,QAAS,CAE7B,IAAI2K,EAAcnW,KAAKG,OAAO,QAC1BiW,EAAepW,KAAK6V,mBAAmB7V,KAAK4K,yBAAyB3B,KAAKjJ,OAC9E,GAAImW,EAAYH,gBAAgBI,KAAkBA,EAAaC,aAAY,KACvEF,EAAYjP,SAASlH,KAAKuL,cACtBvL,KAAKmG,KAAK,OAAUqB,YAIpB,OAHAxH,KAAKqH,OAAO8O,GACZnP,EAAKsP,eAAeH,GACpBnP,EAAKuB,kBAAoBvI,KAAKwI,MAAMtG,OAC7BlC,KAAKqH,OAAOL,GAG3BhH,KAAKwJ,cAAcL,GAGvB,IAAIoN,EAAavW,KAAKmI,aACtB,OAAIoO,IAAeA,EAAWF,aAAY,KACtCrW,KAAKuL,aACDvL,KAAKmG,KAAK,OAAUqB,aACpBR,EAAKkB,SAASqO,GACdvP,EAAKuB,kBAAoBvI,KAAKwI,MAAMtG,OAC7BlC,KAAKqH,OAAOL,KAG3BhH,KAAKwJ,cAAcL,GACnBnC,EAAKE,SAASlH,KAAKwW,6BACnBxP,EAAKE,SAASlH,KAAKuL,cACf,eAAUvE,EAAKiB,gBAAkBjI,KAAKwI,MAAMtG,SAAW8E,EAAKiB,cAAgB,EACrEjI,KAAKqH,OAAOL,EAAM,OAAW1C,uBAEjCtE,KAAKqH,OAAOL,KAavBmJ,EAAOjQ,UAAUsW,0BAA4B,WACzC,IAAIxP,EAAOhH,KAAKG,OAAO,QACnBsW,EAAa,WAAc,OAAsB,IAAfC,GAAoC,IAAhBC,GAAuC,IAAlBC,GAC3EF,EAAa,EACbC,EAAc,EACdC,EAAgB,EACpBC,EAAM,MAAO,EAAM,CACf,OAAQ7W,KAAKwI,MAAM+H,MACf,KAAK,OAAU/I,UAEX,GAAIiP,IACA,MAAMI,EAEV,MACJ,KAAK,OAAUzO,YAEX,GAAIqO,IACA,MAAMI,EAEV,MACJ,KAAK,OAAUrL,OACXkL,IACA,MACJ,KAAK,OAAUpM,OAEX,GADAoM,IACIA,EAAa,EAAG,CAGhB,GAAoB,IAAhBC,GAAuC,IAAlBC,EACrB,MAAMC,EAEV,OAAO7W,KAAKqH,OAAOL,EAAM,OAAWzC,mBAExC,MACJ,KAAK,OAAU8H,aACXsK,IACA,MACJ,KAAK,OAAUlJ,aAEX,GADAkJ,IACIA,EAAc,EACd,OAAO3W,KAAKqH,OAAOL,EAAM,OAAWrC,yBAExC,MACJ,KAAK,OAAUmS,SACXF,IACA,MACJ,KAAK,OAAUG,SAEX,GADAH,IACIA,EAAgB,EAChB,OAAO5W,KAAKqH,OAAOL,EAAM,OAAWvC,2BAExC,MACJ,KAAK,OAAUuS,UACX,MAAMH,EACV,KAAK,OAAUpP,IAGX,IAAI0K,EAAQ,OAAW3N,mBAOvB,OANIoS,EAAgB,EAChBzE,EAAQ,OAAWzN,2BAEdiS,EAAc,IACnBxE,EAAQ,OAAWvN,0BAEhB5E,KAAKqH,OAAOL,EAAMmL,GAEjCnS,KAAKiH,eAET,OAAOjH,KAAKqH,OAAOL,IAEvBmJ,EAAOjQ,UAAU+W,uBAAyB,WACtC,IAAI9N,EAAOnJ,KAAKmJ,OAChB,OAAInJ,KAAKsL,kBAAoBtL,KAAKsH,OAAO,OAAUS,QAE/C/H,KAAKwJ,cAAcL,GACZnJ,KAAKmL,sBAEhBnL,KAAKwJ,cAAcL,GACZ,OAEXgH,EAAOjQ,UAAUoL,eAAiB,WAC9B,IAAItE,EAAOhH,KAAKG,OAAO,QACnBgJ,EAAOnJ,KAAKmJ,OAChB,OAAInJ,KAAKuJ,YAAY,MAAQvJ,KAAKuJ,YAAY,OAEtCvJ,KAAKsJ,iBACLtJ,KAAKwJ,cAAcL,GACZ,MAGXnC,EAAKoC,cAAcpJ,KAAKkX,4BACjBlX,KAAKqH,OAAOL,GAEhB,MAEXmJ,EAAOjQ,UAAUgX,yBAA2B,WACxC,OAAOlX,KAAK8I,eAEhBqH,EAAOjQ,UAAUyT,cAAgB,WAC7B,IAAK3T,KAAKmG,KAAK,OAAUgR,SACrB,OAAO,KAEX,IAAInQ,EAAOhH,KAAKG,OAAO,QAEvB,OADAH,KAAKiH,eACAjH,KAAKsH,OAAO,OAAU8P,QAGtBpX,KAAKsH,OAAO,OAAUE,WAGpBxH,KAAKqH,OAAOL,GAFRhH,KAAKqH,OAAOL,EAAM,OAAWpD,mBAH7B5D,KAAKqH,OAAOL,EAAM,OAAWhD,qBAO5CmM,EAAOjQ,UAAU4G,aAAe,WAC5B,IAAK9G,KAAK+G,YAAY,WAClB,OAAO,KAEX,IAAIC,EAAOhH,KAAKG,OAAO,QAEvB,OADAH,KAAKiH,eACAD,EAAKE,SAASlH,KAAKmH,qBAAwBH,EAAKE,SAASlH,KAAKoH,wBAG9DpH,KAAKmG,KAAK,OAAUqB,YAAexH,KAAKmG,KAAK,OAAUsB,MACxDT,EAAKU,aAAa1H,KAAK2H,wBAEpB3H,KAAKqH,OAAOL,IALRhH,KAAKqH,OAAOL,EAAM,OAAW9C,sBAO5CiM,EAAOjQ,UAAU6T,gBAAkB,WAG/B,IAAK/T,KAAK+G,YAAY,cAClB,OAAO,KAEX,IAAIC,EAAOhH,KAAKG,OAAO,QAEvB,OADAH,KAAKiH,eACAD,EAAKE,SAASlH,KAAKmH,sBACpBH,EAAKE,SAASlH,KAAK8I,eACd9B,EAAKE,SAASlH,KAAKmH,qBAAwBH,EAAKE,SAASlH,KAAKoH,wBAIlEpH,KAAKsH,OAAO,OAAUE,WAGpBxH,KAAKqH,OAAOL,GAFRhH,KAAKqH,OAAOL,EAAM,OAAWpD,mBAJzB5D,KAAKqH,OAAOL,EAAM,OAAW7C,YAAa,CAAC,OAAUqD,aAQxE2I,EAAOjQ,UAAU6K,eAAiB,WAC9B,IAAK/K,KAAK+G,YAAY,cAClB,OAAO,KAEX,IAAIC,EAAOhH,KAAKG,OAAO,QAEvB,OADAH,KAAKiH,eACEjH,KAAK2L,WAAW3E,EAAMhH,KAAK4K,yBAAyB3B,KAAKjJ,QAEpEmQ,EAAOjQ,UAAU4T,eAAiB,WAC9B,IAAK9T,KAAK+G,YAAY,mBACjB/G,KAAK+G,YAAY,kBACjB/G,KAAK+G,YAAY,aAClB,OAAO,KAEX,IAAIC,EAAOhH,KAAKG,OAAO,SAEvB,OADAH,KAAKiH,eACEjH,KAAK2L,WAAW3E,EAAMhH,KAAK4K,yBAAyB3B,KAAKjJ,QAEpEmQ,EAAOjQ,UAAU2K,eAAiB,WAC9B,IAAK7K,KAAKqI,WAAW,OAAUjC,UAAWpG,KAAKqQ,eAC3C,OAAO,KAEX,IAAIrJ,EAAOhH,KAAKG,OAAO,QACnBkX,EAASrX,KAAKG,OAAO,QAMzB,OALAH,KAAKiH,eACLD,EAAKsQ,WAAWtX,KAAKqH,OAAOgQ,IACxBA,EAAOE,QAAQ,mBACfvX,KAAKoS,UAAUiF,EAAQ,OAAWrS,gBAEjCgC,EAAKoC,cAAcpJ,KAAKwX,uBAGtBxX,KAAK2L,WAAW3E,EAAMhH,KAAK+I,uBAAuBE,KAAKjJ,OAFnDA,KAAKqH,OAAOL,EAAM,OAAWhD,mBAAoB,CAAC,OAAUsG,UAI3E6F,EAAOjQ,UAAUsX,oBAAsB,WACnC,OAAOxX,KAAK8I,YAAY,CAAC,OAAoByL,YAEjDpE,EAAOjQ,UAAU6I,uBAAyB,WACtC,IAAI/B,EAAOhH,KAAKG,OAAO,QACvB,IAAK6G,EAAKE,SAASlH,KAAK8I,iBAAmB9I,KAAKsH,OAAO,OAAUmQ,YAC7D,OAAO,KAEX,MAAOzX,KAAKsH,OAAO,OAAUC,OACzB,IAAKP,EAAKE,SAASlH,KAAK8I,iBAAmB9I,KAAKsH,OAAO,OAAUmQ,YAC7D,OAAOzX,KAAKqH,OAAOL,EAAM,OAAW/C,oBAG5C,OAAOjE,KAAK2L,WAAW3E,EAAMhH,KAAK4K,yBAAyB3B,KAAKjJ,QAEpEmQ,EAAOjQ,UAAU8I,0BAA4B,WACzC,IAAIhC,EAAOhH,KAAKG,OAAO,QACnB+I,EAAMlJ,KAAKmJ,OACf,IAAKnC,EAAKE,SAASlH,KAAK8I,iBAAmB9I,KAAKsH,OAAO,OAAUmQ,YAC7D,OAAO,KAEX,MAAOzX,KAAKsH,OAAO,OAAUC,OACzB,IAAKP,EAAKE,SAASlH,KAAK8I,iBAAmB9I,KAAKsH,OAAO,OAAUmQ,YAE7D,OADAzX,KAAKwJ,cAAcN,GACZ,KAGf,OAAKlJ,KAAKmG,KAAK,OAAUqF,QAIlBxL,KAAK2L,WAAW3E,EAAMhH,KAAK4K,yBAAyB3B,KAAKjJ,QAH5DA,KAAKwJ,cAAcN,GACZ,OAIfiH,EAAOjQ,UAAU+K,eAAiB,SAAU2I,GAGxC,QAFiB,IAAbA,IAAuBA,GAAW,IAEjC5T,KAAK+G,YAAY,aAClB,OAAO,KAEX,IAAIC,EAAOhH,KAAKG,OAAO,SAGvB,OAFAH,KAAKiH,eACLD,EAAKE,SAASlH,KAAK0X,2BACZ1X,KAAK2L,WAAW3E,EAAMhH,KAAK2X,0BAA0B1O,KAAKjJ,KAAM4T,KAE3EzD,EAAOjQ,UAAUyX,0BAA4B,SAAU/D,GAEnD,YADiB,IAAbA,IAAuBA,GAAW,GAClCA,EAEO5T,KAAKkL,kBAAiB,IACtBlL,KAAKiX,0BACLjX,KAAKkG,2BAA0B,GAEnClG,KAAKkG,2BAA0B,IAE1CiK,EAAOjQ,UAAUwX,wBAA0B,WAQvC,IAAI1Q,EAAOhH,KAAKG,OAAO,SACvB,GAAIH,KAAK8L,YAAY,OACjB9E,EAAKE,SAASlH,KAAK4X,wCAInB,GADA5Q,EAAKE,SAASlH,KAAK4X,mCACf5X,KAAKqI,WAAW,OAAUC,MAAO,eAAgB,CACjD,IAAImI,EAAOzQ,KAAKwI,MAAMiI,KAAKE,cAC3B,MAAO3Q,KAAK8L,YAAY2E,GACpBzJ,EAAKE,SAASlH,KAAK4X,mCAI/B,OAAO5X,KAAKqH,OAAOL,IAEvBmJ,EAAOjQ,UAAU0X,gCAAkC,WAC/C,IAAI5Q,EAAOhH,KAAKG,OAAO,SACvB,GAAIH,KAAKsH,OAAO,OAAU+E,cAItB,OAHIrM,KAAKgI,YACLhB,EAAK6Q,QAAU7X,KAAKgI,UAAU9F,QAE7B8E,EAAKE,SAASlH,KAAKiX,2BACfjX,KAAK0X,0BAIT1X,KAAKsH,OAAO,OAAUmG,eAGvBzN,KAAKgI,YACLhB,EAAK8Q,QAAU9X,KAAKgI,UAAU9F,QAE3BlC,KAAKqH,OAAOL,IALRhH,KAAKqH,OAAOL,EAAM,OAAWpC,yBAA0B,CAAC,OAAU6I,cAAe,IAJ7EzN,KAAKqH,OAAOL,EAAM,OAAWxD,mBAW3C,GAAIxD,KAAKmG,KAAK,OAAUmC,OAAQ,CACjC,IAAIY,EAAMlJ,KAAKmJ,OAEf,GADAnJ,KAAKiH,gBACAjH,KAAKsJ,iBAAmBtJ,KAAKsH,OAAO,OAAU+E,cAAe,CAC9D,IAAI0L,EAAkB,EACtB,MAAO/X,KAAKwI,MAAM+H,OAAS,OAAU9I,KAA2B,IAApBsQ,EACpC/X,KAAKwI,MAAM+H,OAAS,OAAUlE,aAC9B0L,IAEK/X,KAAKwI,MAAM+H,OAAS,OAAU9C,cACnCsK,IAEJ/X,KAAKiH,eAET,OAAOjH,KAAKqH,OAAOL,GAGnBhH,KAAKwJ,cAAcN,GAG3B,OAAOlJ,KAAKqH,OAAOL,EAAM,OAAWrC,wBAAyB,GAAI,CAAC,OAAU0H,gBAEhF8D,EAAOjQ,UAAU8X,uBAAyB,SAAUpE,GAEhD,YADiB,IAAbA,IAAuBA,GAAW,GAClCA,EAEO5T,KAAKkL,kBAAiB,IACtBlL,KAAKiX,0BACLjX,KAAKkG,2BAA0B,GAEnClG,KAAKkG,2BAA0B,IAE1CiK,EAAOjQ,UAAU4K,YAAc,SAAU8I,GAIrC,QAHiB,IAAbA,IAAuBA,GAAW,IAGjC5T,KAAK+G,YAAY,UAClB,OAAO,KAEX,IAAIC,EAAOhH,KAAKG,OAAO,QAEvB,OADAH,KAAKiH,eACAD,EAAKE,SAASlH,KAAK2H,wBAGjB3H,KAAK2L,WAAW3E,EAAMhH,KAAKgY,uBAAuB/O,KAAKjJ,KAAM4T,IAFzD5T,KAAKqH,OAAOL,EAAM,OAAW5B,qBAI5C+K,EAAOjQ,UAAUyH,qBAAuB,WACpC,IAAIX,EAAOhH,KAAKG,OAAO,QACvB,IAAK6G,EAAKE,SAASlH,KAAKiY,iBAAiB,CAAC,OAAUzM,UAChD,OAAOxL,KAAKqH,OAAOL,EAAM,OAAW5B,oBAExC,MAAOpF,KAAKsH,OAAO,OAAUC,OACzB,IAAKP,EAAKE,SAASlH,KAAKiY,iBAAiB,CAAC,OAAUzM,UAChD,OAAOxL,KAAKqH,OAAOL,EAAM,OAAW5B,oBAG5C,OAAOpF,KAAKqH,OAAOL,IAEvBmJ,EAAOjQ,UAAU+X,iBAAmB,SAAUC,GAI1C,IAAIlR,EAAOhH,KAAKG,OAAO,QACnBgY,GAAkB,EAClBtO,GAAa,EACjB,IAAK7J,KAAKmG,KAAK,OAAUkG,cAAe,CAIpC,GAHIrM,KAAK8L,YAAY,SAAW9L,KAAK8L,YAAY,QAG5C9E,EAAKE,SAASlH,KAAK8I,eACpB,OAAO,KAEXe,GAAa,EACbsO,EAAkBnY,KAAK8L,YAAY,OAEvC,MAAOqM,EAEH,GAAInR,EAAKE,SAASlH,KAAKyI,2BACnB0P,EAAkBnY,KAAK8L,YAAY,WADvC,CAIA,IAAK9L,KAAKsH,OAAO,OAAU+E,cACvB,OAAIxC,EACO7J,KAAKqH,OAAOL,EAAM,OAAWrC,wBAAyB,GAAIuT,GAE9D,KAEX,IAAKlR,EAAKE,SAASlH,KAAK2I,0BACpB,OAAO3I,KAAKqH,OAAOL,EAAM,OAAWhD,mBAAoB,GAAIkU,GAEhE,GAAIlY,KAAKsH,OAAO,OAAUS,SACjBf,EAAKE,SAASlH,KAAKmI,cACpB,OAAOnI,KAAKqH,OAAOL,EAAM,OAAWnD,aAAc,GAAIqU,GAG9D,IAAKlY,KAAKsH,OAAO,OAAUmG,cACvB,OAAOzN,KAAKqH,OAAOL,EAAM,OAAWpC,yBAA0B,GAAIsT,GAEtEC,EAAkBnY,KAAK8L,YAAY,OAEvC,OAAO9L,KAAKqH,OAAOL,IAEvBmJ,EAAOjQ,UAAUuI,wBAA0B,WACvC,OAAO,MAEX0H,EAAOjQ,UAAUyI,uBAAyB,WACtC,OAAO3I,KAAK8I,eAEhBqH,EAAOjQ,UAAUkY,aAAe,WAC5B,IAAIpR,EAAOhH,KAAKG,OAAO,QACvB,OAAI6G,EAAKE,SAASlH,KAAK8I,eACZ9I,KAAKqH,OAAOL,GAGZ,MAGfmJ,EAAOjQ,UAAUmY,sBAAwB,WACrC,OAAOrY,KAAKsY,uBAAyBtY,KAAK4K,4BAE9CuF,EAAOjQ,UAAU2T,WAAa,WAI1B,IAAK7T,KAAK+G,YAAY,SAClB,OAAO,KAEX,IAAIC,EAAOhH,KAAKG,OAAO,QAEvB,GADAH,KAAKiH,eACDD,EAAKE,SAASlH,KAAKuY,sBACnB,MAAOvY,KAAKsH,OAAO,OAAUC,OACzB,IAAKP,EAAKE,SAASlH,KAAKuY,sBACpB,OAAOvY,KAAKqH,OAAOL,EAAM,OAAWhD,oBAIhD,OAAOhE,KAAK2L,WAAW3E,EAAMhH,KAAKqY,sBAAsBpP,KAAKjJ,QAEjEmQ,EAAOjQ,UAAUoY,oBAAsB,WAEnC,IAAKtY,KAAKmG,KAAK,OAAUC,WACrB,OAAO,KAEX,IAAIY,EAAOhH,KAAKG,OAAO,QAIvB,OAHKH,KAAKmR,iBAAiB,SACvBnR,KAAKoS,UAAUpL,EAAM,OAAWjC,cAAe,GAAI,CAAC,OAAUyG,SAE3DxL,KAAK2L,WAAW3E,EAAMhH,KAAK4K,yBAAyB3B,KAAKjJ,QAEpEmQ,EAAOjQ,UAAUqY,mBAAqB,WAGlC,IAAKvY,KAAKmG,KAAK,OAAUmC,SAAWtI,KAAKmG,KAAK,OAAU4B,OACpD,OAAO,KAEX,IAAIf,EAAOhH,KAAKG,OAAO,QAEvB,OADA6G,EAAKE,SAASlH,KAAK8I,eACf9I,KAAKsH,OAAO,OAAUS,SACjBf,EAAKE,SAASlH,KAAK8I,eACb9I,KAAKqH,OAAOL,EAAM,OAAWhD,oBAGrChE,KAAKqH,OAAOL,IAEvBmJ,EAAOjQ,UAAU8T,eAAiB,WAE9B,IAAKhU,KAAK+G,YAAY,kBAClB,OAAO,KAEX,IAAIC,EAAOhH,KAAKG,OAAO,QAGvB,OAFAH,KAAKiH,eACLjH,KAAK8R,OAAO,GAAI,CAAC,OAAUtG,SACpBxL,KAAK2L,WAAW3E,EAAMhH,KAAKkG,0BAA0B+C,KAAKjJ,QAGrEmQ,EAAOjQ,UAAU+T,oBAAsB,WACnC,IAAKjU,KAAKmG,KAAK,OAAUC,WACrB,OAAO,KAEX,IAAIY,EAAOhH,KAAKG,OAAO,SACvB6G,EAAKE,SAASlH,KAAKwY,2BACnB,IAAI/B,EAAa,WAAc,OAAsB,IAAfC,GAAoC,IAAhBC,GAAuC,IAAlBC,GAC3E6B,EAAc,EACd/B,EAAa,EACbC,EAAc,EACdC,EAAgB,EACpBC,EAAM,MAAO,EAAM,CACf,OAAQ7W,KAAKwI,MAAM+H,MACf,KAAK,OAAU/I,UACX,GAAIiP,IACA,MAAMI,EAEV,MACJ,KAAK,OAAUpP,IACX,OAAIiP,EAAa,EACN1W,KAAKqH,OAAOL,EAAM,OAAWxC,oBAE/BoS,EAAgB,EACd5W,KAAKqH,OAAOL,EAAM,OAAWtC,4BAE/BiS,EAAc,EACZ3W,KAAKqH,OAAOL,EAAM,OAAWpC,0BAG7B5E,KAAKqH,OAAOL,GAE3B,KAAK,OAAUwE,OACXiN,IACA/B,IACA,MACJ,KAAK,OAAUpM,OAGX,GAFAoM,IAEI+B,EAAc,GAAoB,IAAf/B,EAAkB,CAErC,GADA1W,KAAKiH,eACD2P,EAAgB,EAChB,OAAO5W,KAAKqH,OAAOL,EAAM,OAAWtC,4BAEnC,GAAIiS,EAAc,EACnB,OAAO3W,KAAKqH,OAAOL,EAAM,OAAWpC,0BAExC,MAAMiS,EAEV,GAAIH,EAAa,EAAG,CAGhB,GAAoB,IAAhBC,GAAuC,IAAlBC,EACrB,MAAMC,EAEV,OAAO7W,KAAKqH,OAAOL,EAAM,OAAWzC,mBAExC,MACJ,KAAK,OAAU8H,aACXsK,IACA,MACJ,KAAK,OAAUlJ,aAEX,GADAkJ,IACIA,EAAc,EACd,OAAO3W,KAAKqH,OAAOL,EAAM,OAAWrC,yBAExC,MACJ,KAAK,OAAUmS,SACXF,IACA,MACJ,KAAK,OAAUG,SAEX,GADAH,IACIA,EAAgB,EAChB,OAAO5W,KAAKqH,OAAOL,EAAM,OAAWvC,2BAExC,MAERzE,KAAKiH,eAET,OAAOD,GAEXmJ,EAAOjQ,UAAUsY,wBAA0B,WACvC,IAAIxR,EAAOhH,KAAKG,OAAO,QACvB,OAAIH,KAAKsH,OAAO,OAAUlB,WACfpG,KAAKqH,OAAOL,GAEhBA,GAEXmJ,EAAOjQ,UAAUqK,eAAiB,WAE9B,GAAIvK,KAAK2J,UAAU,MACf3J,KAAK2J,UAAU,MACf3J,KAAK2J,UAAU,MACf3J,KAAK2J,UAAU,MACf3J,KAAKmG,KAAK,OAAUuS,YACpB1Y,KAAKmG,KAAK,OAAUwS,WACpB3Y,KAAKmG,KAAK,OAAUyS,oBACpB5Y,KAAKmG,KAAK,OAAU0S,iBACpB7Y,KAAKmG,KAAK,OAAU2S,iBACpB9Y,KAAK2J,UAAU,KAAM,CACrB,IAAI3C,EAAOhH,KAAKyK,WAAW,OAAeC,UAE1C,OADA1K,KAAKiH,eACEjH,KAAKqH,OAAOL,GAGnB,OAAO,MAGfmJ,EAAOjQ,UAAUyK,oBAAsB,WACnC,IAAK3K,KAAK2J,UAAU,OAAS3J,KAAK2J,UAAU,KACxC,OAAO,KAEX,IAAI3C,EAAOhH,KAAKG,OAAO,QAEvB,OADAH,KAAKiH,eACEjH,KAAKqH,OAAOL,IAEvBmJ,EAAOjQ,UAAU+V,iBAAmB,WAChC,GAAIjW,KAAK2J,UAAU,KAAM,CACrB,IAAI3C,EAAOhH,KAAKG,OAAO,QACvBH,KAAKiH,eACL,IAAIkC,EAAOnJ,KAAKmJ,OAChB,IAAKnJ,KAAKsJ,iBAAmBtJ,KAAKuJ,YAAY,KAAM,CAChD,IAAKvJ,KAAKsJ,iBAAmBtJ,KAAKuJ,YAAY,KAE1C,OADAvC,EAAKuJ,KAAO,OAAewI,2CACpB/Y,KAAKqH,OAAOL,GAEvBhH,KAAKwJ,cAAcL,GAGvB,OADAnC,EAAKuJ,KAAO,OAAeyI,yBACpBhZ,KAAKqH,OAAOL,GAElB,GAAIhH,KAAK2J,UAAU,KAAM,CACtB3C,EAAOhH,KAAKG,OAAO,QAGvB,OAFAH,KAAKiH,eACLD,EAAKuJ,KAAO,OAAe0I,0BACpBjZ,KAAKqH,OAAOL,GAElB,GAAIhH,KAAK2J,UAAU,KAAM,CACtB3C,EAAOhH,KAAKG,OAAO,QAGvB,OAFAH,KAAKiH,eACLD,EAAKuJ,KAAO,OAAe2I,8BACpBlZ,KAAKqH,OAAOL,GAElB,GAAIhH,KAAK2J,UAAU,KAAM,CACtB3C,EAAOhH,KAAKG,OAAO,QACvBH,KAAKiH,eACDkC,EAAOnJ,KAAKmJ,OAChB,IAAKnJ,KAAKsJ,iBAAmBtJ,KAAK8L,YAAY,UAAY9L,KAAKsJ,iBAAmBtJ,KAAKuJ,YAAY,KAE/F,OADAvC,EAAKuJ,KAAO,OAAewI,2CACpB/Y,KAAKqH,OAAOL,GAEvBhH,KAAKwJ,cAAcL,GAEvB,OAAO,MAEXgH,EAAOjQ,UAAU2L,qBAAuB,WAGpC,IAAI7E,EAAOhH,KAAKG,OAAO,SACnBgZ,EAAI,EACJnS,EAAKE,SAASlH,KAAKoM,sBACnB+M,IAEJ,OAAc,IAANA,IAAYnZ,KAAKsJ,kBAAoBtC,EAAKE,SAASlH,KAAK+L,4BAC5DoN,IAEJ,OAAOA,EAAI,EAAInZ,KAAKqH,OAAOL,GAAQ,MAEvCmJ,EAAOjQ,UAAU6L,yBAA2B,WACxC,OAAO/L,KAAKoZ,gBAAkBpZ,KAAKqZ,cAAgBrZ,KAAKsZ,eAAiBtZ,KAAKuZ,gBAElFpJ,EAAOjQ,UAAUsZ,oBAAsB,WACnC,OAAOxZ,KAAK8I,eAEhBqH,EAAOjQ,UAAUmZ,WAAa,WAC1B,IAAKrZ,KAAKmG,KAAK,OAAUsT,QAAUzZ,KAAK2J,UAAU,KAC9C,OAAO,KAEX,IAAI3C,EAAOhH,KAAKyK,WAAW,OAAeiP,oBAC1C,GAAI1Z,KAAKuJ,YAAY,MACjB,GAAIvJ,KAAKsJ,kBAAoBtC,EAAKE,SAASlH,KAAKwZ,uBAC5C,OAAOxZ,KAAKqH,OAAOL,EAAM,OAAWhD,yBAIxChE,KAAKiH,eAET,OAAOjH,KAAKqH,OAAOL,IAEvBmJ,EAAOjQ,UAAUoZ,YAAc,WAE3B,IAAKtZ,KAAK2J,UAAU,KAChB,OAAO,KAEX,IAAI3C,EAAOhH,KAAKyK,WAAW,OAAekP,eAE1C,OADA3Z,KAAKiH,eACDjH,KAAKsJ,kBAAoBtC,EAAKE,SAASlH,KAAKwZ,uBACrCxZ,KAAKqH,OAAOL,EAAM,OAAWhD,oBAEjChE,KAAKqH,OAAOL,IAEvBmJ,EAAOjQ,UAAUkM,kBAAoB,WAEjC,IAAIlD,EAAMlJ,KAAKmJ,OACXnC,EAAOhH,KAAKyK,WAAW,OAAemP,qBAE1C,OADA5S,EAAKE,SAASlH,KAAK6Z,yBACd7S,EAAKE,SAASlH,KAAKwZ,wBAA2BxZ,KAAKuJ,YAAY,KAI7DvJ,KAAKqH,OAAOL,IAHfhH,KAAKwJ,cAAcN,GACZ,OAIfiH,EAAOjQ,UAAU2Z,sBAAwB,WACrC,IAAI3Q,EAAMlJ,KAAKmJ,OACXnC,EAAOhH,KAAKyK,WAAW,OAAeqP,iBAI1C,OAHK9S,EAAKE,SAASlH,KAAK8I,gBAAmB9I,KAAKuJ,YAAY,KAGvDvJ,KAAKuJ,YAAY,KAIfvJ,KAAKqH,OAAOL,IAHfhH,KAAKwJ,cAAcN,GACZ,OAIfiH,EAAOjQ,UAAUqZ,aAAe,WAE5B,IAAKvZ,KAAKmG,KAAK,OAAU2Q,UACrB,OAAO,KAEX,IAAI9P,EAAOhH,KAAKG,OAAO,QAIvB,OAHAH,KAAKiH,eAELD,EAAK+S,mBAAmB/Z,KAAK6Z,yBACxB7S,EAAKoC,cAAcpJ,KAAK8I,gBAGzB9B,EAAKgT,YAAYha,KAAKuK,oBACtBvD,EAAKkB,SAASlI,KAAKiN,oBACnBjN,KAAK8L,YAAY,MAEhB9L,KAAKsH,OAAO,OAAUyP,UAGpB/W,KAAKqH,OAAOL,GAFRhH,KAAKqH,OAAOL,EAAM,OAAWtC,6BAP7B1E,KAAKqH,OAAOL,EAAM,OAAWhD,qBAW5CmM,EAAOjQ,UAAUkZ,aAAe,WAC5B,IAAI1P,EAAQ1J,KAERgH,EAAOhH,KAAKsM,4BAChB,GAAItF,EAAM,CACN,IAAKhH,KAAKsJ,iBAAmBtJ,KAAKsH,OAAO,OAAU+E,cAAe,CAC9D,IAAI4N,EAAgB,WAChB,IAAI9F,EAAYzK,EAAMvJ,OAAO,QAC7B,IAAKgU,EAAUjN,SAASwC,EAAMwK,gBAAe,IACzC,OAAO,KAEX,MAAOxK,EAAMpC,OAAO,OAAUC,QAAU4M,EAAUjN,SAASwC,EAAMwK,gBAAe,KAGhF,OAAIxK,EAAMvD,KAAK,OAAUsH,cACd/D,EAAMrC,OAAO8M,GAEjB,MAGX,GADAnN,EAAKE,SAASlH,KAAKiR,IAAIgJ,IAAkBja,KAAKiN,qBACzCjN,KAAKsH,OAAO,OAAUmG,cACvB,OAAOzN,KAAKqH,OAAOL,EAAM,OAAWpC,0BAG5C,OAAO5E,KAAKqH,OAAOL,GAEvB,OAAO,MAEXmJ,EAAOjQ,UAAUoM,0BAA4B,WACzC,IAAKtM,KAAKmG,KAAK,OAAU4B,OACrB,OAAO,KAEX,IAAImB,EAAMlJ,KAAKmJ,OACXnC,EAAOhH,KAAKyK,WAAW,OAAeyP,gBAE1C,OADAla,KAAKiH,eACDjH,KAAKsJ,iBACLtJ,KAAKwJ,cAAcN,GACZ,OAGPlJ,KAAKsH,OAAO,OAAUS,QAAU/H,KAAKsJ,iBACrCtJ,KAAKoS,UAAUpL,EAAM,OAAWhD,oBAE/BgD,EAAKE,SAASlH,KAAK8I,gBACpB9I,KAAKoS,UAAUpL,EAAM,OAAWhD,oBAE7BgD,IAEXmJ,EAAOjQ,UAAUmK,cAAgB,WAC7B,IAAIlB,EAAOnJ,KAAKmJ,OACZgR,EAAOna,KAAKuL,aAChB,OAAI4O,IAGJna,KAAKwJ,cAAcL,GACZ,OAEXgH,EAAOjQ,UAAUqL,WAAa,WAC1B,IAAKvL,KAAKmG,KAAK,OAAUiC,aACrB,OAAO,KAEX,IAAIpB,EAAOhH,KAAKyK,WAAW,OAAe2P,MAC1C,OAAIpa,KAAKsH,OAAO,OAAUc,cAAgBpI,KAAK8L,YAAY,aAChD9L,KAAKqH,OAAOL,GAEhB,MAEXmJ,EAAOjQ,UAAUiI,WAAa,SAAUkS,QAChB,IAAhBA,IAA0BA,GAAc,GAC5C,IAAIrT,EAAOhH,KAAKG,OAAO,QACvB,IAAK6G,EAAKE,SAASlH,KAAKiN,oBACpB,OAAO,KAEX,MAAO,EAAM,CACT,GAAIjN,KAAKmG,KAAK,OAAUoB,OAAQ,CAC5B,GAAI8S,EACA,OAAOra,KAAKqH,OAAOL,GAEvBhH,KAAKiH,eAET,IAAKD,EAAKE,SAASlH,KAAKiN,oBACpB,MAGR,OAAOjN,KAAKqH,OAAOL,IAEvBmJ,EAAOjQ,UAAUoa,gBAAkB,WAE/B,IAAKta,KAAKmG,KAAK,OAAU2Q,UACrB,OAAO,KAEX,IAAI9P,EAAOhH,KAAKyK,WAAW,OAAe8P,UAC1Cva,KAAKiH,eACL,MAAOD,EAAKE,SAASlH,KAAK8I,gBAG1B,OAAK9I,KAAKsH,OAAO,OAAUyP,UAGpB/W,KAAKqH,OAAOL,GAFRhH,KAAKqH,OAAOL,EAAM,OAAWtC,6BAI5CyL,EAAOjQ,UAAU+M,iBAAmB,SAAUuN,EAAeC,GACzD,IAAIzT,EAAOhH,KAAKG,OAAO,QACvB,IAAK6G,EAAK0T,QAASF,GAAiBxa,KAAKgK,cACrC,OAAO,KAEX,IAAKhD,EAAKgT,YAAYS,GAAiBza,KAAKuK,kBACxC,OAAOvK,KAAKqH,OAAOL,GAEvB,IAAKA,EAAK2T,SAAS3a,KAAKgK,cACpB,OAAOhK,KAAKqH,OAAOL,EAAM,OAAWnD,cAGxCmD,EAAOhH,KAAKqH,OAAOL,GACnB,IAAI4T,EAAW5a,KAAKuK,iBAIpB,OAHIqQ,IACA5T,EAAOhH,KAAKiN,iBAAiBjG,EAAM4T,IAEhC5a,KAAKqH,OAAOL,IAEvBmJ,EAAOjQ,UAAU8J,WAAa,WAC1B,IAAIhD,EAAOhH,KAAKG,OAAO,SAEvB,OADA6G,EAAKgT,YAAYha,KAAK2K,uBAClB3D,EAAKkD,cAAclK,KAAKmH,qBACxBH,EAAKkD,cAAclK,KAAK6I,mBACxB7B,EAAKkD,cAAclK,KAAK8I,gBACxB9B,EAAKkD,cAAclK,KAAKoH,wBACxBJ,EAAKkD,cAAclK,KAAK6a,kBACxB7T,EAAKkD,cAAclK,KAAK8a,mBACxB9T,EAAKkD,cAAclK,KAAKwO,oBACxBxH,EAAKkD,cAAclK,KAAKsa,mBACjBta,KAAKqH,OAAOL,GAEhB,MAEXmJ,EAAOjQ,UAAUsO,gBAAkB,WAC/B,IAAKxO,KAAKmG,KAAK,OAAUkG,cACrB,OAAO,KAEX,IAAIrF,EAAOhH,KAAKG,OAAO,QAGvB,OAFAH,KAAKiH,eACLD,EAAKE,SAASlH,KAAKmI,cACdnI,KAAKsH,OAAO,OAAUmG,cAGpBzN,KAAKqH,OAAOL,GAFRhH,KAAKqH,OAAOL,EAAM,OAAWpC,2BAI5CuL,EAAOjQ,UAAU2a,cAAgB,WAC7B,GAAI7a,KAAKmG,KAAK,OAAU4D,MACpB/J,KAAKmG,KAAK,OAAUsR,aACpBzX,KAAKmG,KAAK,OAAU4U,aACpB/a,KAAKmG,KAAK,OAAU6U,SACpBhb,KAAKmG,KAAK,OAAU8U,MACpBjb,KAAKmG,KAAK,OAAU+U,MACpBlb,KAAKmG,KAAK,OAAUgV,QACpBnb,KAAKmG,KAAK,OAAUiV,OACpBpb,KAAKmG,KAAK,OAAU+F,YACpBlM,KAAKmG,KAAK,OAAUkV,MAAO,CAC3B,IAAIrU,EAAOhH,KAAKG,OAAO,QAEvB,OADAH,KAAKiH,eACEjH,KAAKqH,OAAOL,GAEvB,OAAO,MAEXmJ,EAAOjQ,UAAUkH,oBAAsB,WACnC,IAAKpH,KAAKmG,KAAK,OAAUiR,UAAYpX,KAAKmG,KAAK,OAAU6Q,WACrD,OAAO,KAEX,IAAIhQ,EAAOhH,KAAKyK,WAAW,OAAe6Q,eAE1C,OADAtb,KAAKiH,eACEjH,KAAKqH,OAAOL,IAEvBmJ,EAAOjQ,UAAUiH,iBAAmB,WAChC,IAAKnH,KAAKqI,WAAW,OAAUC,MAAO,oBAClC,OAAO,KAEX,IAAIY,EAAMlJ,KAAKmJ,OACXnC,EAAOhH,KAAKyK,WAAW,OAAe8Q,YAE1C,OADAvb,KAAKsH,OAAO,OAAUgB,OAClBtI,KAAKsJ,kBAAoBtJ,KAAKmG,KAAK,OAAUkG,eAC7CrM,KAAKwJ,cAAcN,GACZ,OAEXlJ,KAAKsQ,QAAQvN,OAAQ,EACrB/C,KAAKiH,eACLD,EAAKE,SAASlH,KAAKsO,qBACnBtO,KAAKsQ,QAAQvN,OAAQ,EAChB/C,KAAKsH,OAAO,OAAUmG,cAGpBzN,KAAKqH,OAAOL,GAFRhH,KAAKqH,OAAOL,EAAM,OAAWpC,4BAI5CuL,EAAOjQ,UAAUoO,kBAAoB,WACjC,IAAItH,EAAOhH,KAAKG,OAAO,QACvB,OAAKH,KAAKsH,OAAO,OAAU8P,SAAYpX,KAAKsH,OAAO,OAAU0P,YAAehX,KAAK2R,uBAG1E3R,KAAKqH,OAAOL,GAFR,MAIfmJ,EAAOjQ,UAAU4I,YAAc,SAAUW,GACrC,IAAKzJ,KAAKmG,KAAK,OAAUmC,OACrB,OAAO,KAEX,IAAItB,EAAOhH,KAAKG,OAAO,QAMvB,OALIsJ,IACAzC,EAAKyC,eAAiBA,GAE1BzC,EAAK4C,iBAAmB5J,KAAKqI,WAAW,OAAUC,MAAO,OACzDtI,KAAKiH,eACEjH,KAAKqH,OAAOL,IAEvBmJ,EAAOjQ,UAAU2I,eAAiB,WAC9B,IAAIK,EAAMlJ,KAAKmJ,OACXnC,EAAOhH,KAAKG,OAAO,QACvB,IAAK6G,EAAKoC,cAAcpJ,KAAKwb,4BACzB,OAAO,KAEX,GAAIxb,KAAKsJ,kBAAoBtJ,KAAKsH,OAAO,OAAU+E,cAE/C,OADArM,KAAKwJ,cAAcN,GACZ,KAEX,GAAIlC,EAAKiH,eAAe/G,SAASlH,KAAKkO,0BAClC,MAAOlO,KAAKsH,OAAO,OAAUC,OAAQ,CACjC,GAAIvH,KAAKmG,KAAK,OAAUsH,cACpB,MAECzG,EAAKiH,eAAe/G,SAASlH,KAAKkO,2BACnClO,KAAKoS,UAAUpL,EAAM,OAAWlD,oBAI5C,OAAK9D,KAAKsH,OAAO,OAAUmG,cAGpBzN,KAAKqH,OAAOL,GAFRhH,KAAKqH,OAAOL,EAAM,OAAWpC,2BAI5CuL,EAAOjQ,UAAUsb,yBAA2B,WACxC,IAAKxb,KAAKmG,KAAK,OAAUmC,OACrB,OAAO,KAEX,IAAItB,EAAOhH,KAAKG,OAAO,QAEvB,GADA6G,EAAKyC,eAAiB,CAAC,OAAoB6D,UACvCtN,KAAK8L,YAAY,UAAW,CAE5B,GAAI9L,KAAKsH,OAAO,OAAUS,OACtB,MAAO/H,KAAKsH,OAAO,OAAUgB,QAAUtI,KAAKuJ,YAAY,MAI5D,OAAOvJ,KAAKqH,OAAOL,GAGvB,OADAhH,KAAKiH,eACEjH,KAAKqH,OAAOL,IAEvBmJ,EAAOjQ,UAAUgO,uBAAyB,WACtC,IAAIlH,EAAOhH,KAAKG,OAAO,QACvB,OAAI6G,EAAKkB,SAASlI,KAAKmI,YAAW,IACvBnI,KAAKqH,OAAOL,GAEhB,MAEXmJ,EAAOjQ,UAAU4a,eAAiB,WAC9B,GAAI9a,KAAKqI,WAAW,OAAUoR,KAAM,qEAAsE,CACtG,IAAIzS,EAAOhH,KAAKG,OAAO,QAEvB,OADAH,KAAKiH,eACEjH,KAAKqH,OAAOL,GAGnB,OAAO,MAGRmJ,EAt5CgB,I,kCCjBpB,IAAIsL,EALX,oEAMA,SAAWA,GACPA,EAAUA,EAAU,SAAW,GAAK,QACpCA,EAAUA,EAAU,aAAe,GAAK,YACxCA,EAAUA,EAAU,UAAY,GAAK,SACrCA,EAAUA,EAAU,aAAe,GAAK,YACxCA,EAAUA,EAAU,kBAAoB,GAAK,iBAC7CA,EAAUA,EAAU,QAAU,GAAK,OACnCA,EAAUA,EAAU,OAAS,GAAK,MAClCA,EAAUA,EAAU,cAAgB,GAAK,aACzCA,EAAUA,EAAU,aAAe,GAAK,YACxCA,EAAUA,EAAU,gBAAkB,GAAK,eAC3CA,EAAUA,EAAU,OAAS,IAAM,MACnCA,EAAUA,EAAU,OAAS,IAAM,MACnCA,EAAUA,EAAU,SAAW,IAAM,QACrCA,EAAUA,EAAU,aAAe,IAAM,YACzCA,EAAUA,EAAU,UAAY,IAAM,SACtCA,EAAUA,EAAU,UAAY,IAAM,SACtCA,EAAUA,EAAU,gBAAkB,IAAM,eAC5CA,EAAUA,EAAU,gBAAkB,IAAM,eAC5CA,EAAUA,EAAU,YAAc,IAAM,WACxCA,EAAUA,EAAU,YAAc,IAAM,WACxCA,EAAUA,EAAU,cAAgB,IAAM,aAC1CA,EAAUA,EAAU,YAAc,IAAM,WACxCA,EAAUA,EAAU,aAAe,IAAM,YACzCA,EAAUA,EAAU,qBAAuB,IAAM,oBACjDA,EAAUA,EAAU,kBAAoB,IAAM,iBAC9CA,EAAUA,EAAU,kBAAoB,IAAM,iBAC9CA,EAAUA,EAAU,SAAW,IAAM,QACrCA,EAAUA,EAAU,OAAS,IAAM,MACnCA,EAAUA,EAAU,OAAS,IAAM,MACnCA,EAAUA,EAAU,UAAY,IAAM,SACtCA,EAAUA,EAAU,SAAW,IAAM,QACrCA,EAAUA,EAAU,QAAU,IAAM,OACpCA,EAAUA,EAAU,QAAU,IAAM,OACpCA,EAAUA,EAAU,eAAiB,IAAM,cAC3CA,EAAUA,EAAU,cAAgB,IAAM,aAC1CA,EAAUA,EAAU,SAAW,IAAM,QACrCA,EAAUA,EAAU,WAAa,IAAM,UACvCA,EAAUA,EAAU,qBAAuB,IAAM,oBACjDA,EAAUA,EAAU,wBAA0B,IAAM,uBACpDA,EAAUA,EAAU,WAAa,IAAM,UACvCA,EAAUA,EAAU,qBAAuB,IAAM,oBACjDA,EAAUA,EAAU,OAAS,IAAM,MACnCA,EAAUA,EAAU,eAAiB,IAAM,cA3C/C,CA4CGA,IAAcA,EAAY,KAC7B,IAAIC,EAAiC,WACjC,SAASA,EAAgBC,GACrB3b,KAAK2b,OAASA,EACd3b,KAAKwQ,IAAMmL,EAAO3M,OAClBhP,KAAK4b,SAAW,EA2DpB,OAzDAF,EAAgBxb,UAAU2b,UAAY,SAAUC,EAAMC,GAElD,YADW,IAAPA,IAAiBA,EAAK/b,KAAK4b,UACxB5b,KAAK2b,OAAOE,UAAUC,EAAMC,IAEvCL,EAAgBxb,UAAU8b,IAAM,WAC5B,OAAOhc,KAAKwQ,KAAOxQ,KAAK4b,UAE5BF,EAAgBxb,UAAUgJ,IAAM,WAC5B,OAAOlJ,KAAK4b,UAEhBF,EAAgBxb,UAAUuC,SAAW,SAAUyG,GAC3ClJ,KAAK4b,SAAW1S,GAEpBwS,EAAgBxb,UAAU+b,OAAS,SAAUC,GACzClc,KAAK4b,UAAYM,GAErBR,EAAgBxb,UAAUqP,QAAU,SAAU2M,GAC1Clc,KAAK4b,UAAYM,GAErBR,EAAgBxb,UAAUic,SAAW,WACjC,OAAOnc,KAAK2b,OAAOtb,WAAWL,KAAK4b,aAAe,GAEtDF,EAAgBxb,UAAUoP,SAAW,SAAU4M,GAE3C,YADU,IAANA,IAAgBA,EAAI,GACjBlc,KAAK2b,OAAOtb,WAAWL,KAAK4b,SAAWM,IAAM,GAExDR,EAAgBxb,UAAUkc,aAAe,SAAUF,GAE/C,YADU,IAANA,IAAgBA,EAAI,GACjBlc,KAAK2b,OAAOtb,WAAWL,KAAK4b,SAAWM,IAAM,GAExDR,EAAgBxb,UAAUkC,cAAgB,SAAUa,GAChD,OAAIA,IAAOjD,KAAK2b,OAAOtb,WAAWL,KAAK4b,YACnC5b,KAAK4b,YACE,IAIfF,EAAgBxb,UAAUwC,eAAiB,SAAUO,GACjD,GAAIjD,KAAK4b,SAAW3Y,EAAG+L,OAAShP,KAAK2b,OAAO3M,OACxC,OAAO,EAGX,IADA,IAAIY,EAAI,EACDA,EAAI3M,EAAG+L,OAAQY,IAClB,GAAI5P,KAAK2b,OAAOtb,WAAWL,KAAK4b,SAAWhM,KAAO3M,EAAG2M,GACjD,OAAO,EAIf,OADA5P,KAAKuP,QAAQK,IACN,GAEX8L,EAAgBxb,UAAU8C,iBAAmB,SAAUqZ,GACnD,IAAIC,EAAStc,KAAK4b,SAClB,MAAO5b,KAAK4b,SAAW5b,KAAKwQ,KAAO6L,EAAUrc,KAAK2b,OAAOtb,WAAWL,KAAK4b,WACrE5b,KAAK4b,WAET,OAAO5b,KAAK4b,SAAWU,GAEpBZ,EA/DyB,GAkEhCa,EAAK,IAAIlc,WAAW,GACpBmc,EAAK,IAAInc,WAAW,GACpBoc,EAAK,IAAIpc,WAAW,GACpBqc,EAAK,IAAIrc,WAAW,GACpBsc,EAAK,IAAItc,WAAW,GACpBuc,EAAK,IAAIvc,WAAW,GACpBwc,EAAK,IAAIxc,WAAW,GACpByc,EAAK,IAAIzc,WAAW,GACpB0c,EAAO,IAAI1c,WAAW,GACtB2c,EAAO,IAAI3c,WAAW,GACtBO,EAAO,IAAIP,WAAW,GACtB4c,EAAO,IAAI5c,WAAW,GACtB6c,EAAO,IAAI7c,WAAW,GACtB8c,EAAO,IAAI9c,WAAW,GACtB+c,EAAO,IAAI/c,WAAW,GACtBgd,EAAO,IAAIhd,WAAW,GACtBid,EAAO,IAAIjd,WAAW,GACtBkd,EAAO,IAAIld,WAAW,GACtBS,EAAO,IAAIT,WAAW,GACtBU,EAAO,IAAIV,WAAW,GACtBY,EAAO,IAAIZ,WAAW,GACtBK,EAAO,IAAIL,WAAW,GACtBI,EAAO,IAAIJ,WAAW,GACtBmd,EAAO,KAAKnd,WAAW,GACvBD,EAAO,IAAIC,WAAW,GACtBC,EAAO,KAAKD,WAAW,GACvBE,EAAO,KAAKF,WAAW,GACvBG,EAAO,KAAKH,WAAW,GACvBod,EAAO,IAAIpd,WAAW,GACtBqd,EAAO,IAAKrd,WAAW,GACvBsd,EAAO,IAAItd,WAAW,GACtBud,EAAO,KAAKvd,WAAW,GACvBwd,EAAO,IAAIxd,WAAW,GACtByd,EAAO,IAAIzd,WAAW,GACtBM,EAAO,IAAIN,WAAW,GACtB0d,EAAO,IAAI1d,WAAW,GACtB2d,EAAO,IAAI3d,WAAW,GACtB4d,EAAO,IAAI5d,WAAW,GACtB6d,EAAO,IAAI7d,WAAW,GACtBW,EAAO,IAAIX,WAAW,GACtBQ,EAAO,IAAIR,WAAW,GACtB8d,EAAmB,GACvBA,EAAiBN,GAAQpC,EAAUjU,UACnC2W,EAAiBL,GAAQrC,EAAU1T,MACnCoW,EAAiBxd,GAAQ8a,EAAUjQ,OACnC2S,EAAiBJ,GAAQtC,EAAUnR,OACnC6T,EAAiBF,GAAQxC,EAAU1E,SACnCoH,EAAiBH,GAAQvC,EAAU3E,SACnCqH,EAAiBb,GAAQ7B,EAAUpP,aACnC8R,EAAiBZ,GAAQ9B,EAAUhO,aACnC0Q,EAAiBD,GAAQzC,EAAUlU,MACnC,IAAI6W,EAAkB,GACtBA,EAAgB,MAAQ3C,EAAUR,IAClCmD,EAAgB,MAAQ3C,EAAUP,IAClCkD,EAAgB,MAAQ3C,EAAUT,OAClCoD,EAAgB,MAAQ3C,EAAUT,OAClCoD,EAAgB,MAAQ3C,EAAUT,OAClCoD,EAAgB,MAAQ3C,EAAUT,OAClCoD,EAAgB,MAAQ3C,EAAUT,OAClCoD,EAAgB,MAAQ3C,EAAUT,OAClCoD,EAAgB,OAAS3C,EAAUN,MACnCiD,EAAgB,OAAS3C,EAAUN,MACnCiD,EAAgB,QAAU3C,EAAUN,MACpCiD,EAAgB,MAAQ3C,EAAUL,KAClCgD,EAAgB,KAAO3C,EAAUL,KACjCgD,EAAgB,MAAQ3C,EAAUJ,KAClC+C,EAAgB,OAAS3C,EAAUJ,KACnC+C,EAAgB,KAAO3C,EAAUhE,WACjC2G,EAAgB,MAAQ3C,EAAUhE,WAClC2G,EAAgB,OAAS3C,EAAUV,WACnCqD,EAAgB,QAAU3C,EAAUV,WACpC,IAAIsD,EAAyB,WACzB,SAASA,IACLre,KAAKmC,OAAS,IAAIuZ,EAAgB,IAClC1b,KAAKse,eAAgB,EACrBte,KAAKue,kBAAmB,EACxBve,KAAK+C,OAAQ,EAgYjB,OA9XAsb,EAAQne,UAAUkT,UAAY,SAAUF,GACpClT,KAAKmC,OAAS,IAAIuZ,EAAgBxI,IAEtCmL,EAAQne,UAAUqC,YAAc,SAAUL,EAAQqO,EAAME,GACpD,MAAO,CACHvO,OAAQA,EACRsO,IAAKxQ,KAAKmC,OAAO+G,MAAQhH,EACzBqO,KAAMA,EACNE,KAAMA,GAAQzQ,KAAKmC,OAAO0Z,UAAU3Z,KAG5Cmc,EAAQne,UAAU2b,UAAY,SAAU3Z,EAAQsO,GAC5C,OAAOxQ,KAAKmC,OAAO0Z,UAAU3Z,EAAQA,EAASsO,IAElD6N,EAAQne,UAAUgJ,IAAM,WACpB,OAAOlJ,KAAKmC,OAAO+G,OAEvBmV,EAAQne,UAAUuC,SAAW,SAAUyG,GACnClJ,KAAKmC,OAAOM,SAASyG,IAEzBmV,EAAQne,UAAU2R,mBAAqB,WACnC,IAAI3P,EAASlC,KAAKmC,OAAO+G,MACrB7G,EAAU,GACd,OAAIrC,KAAKwe,gBAAgBnc,GACdrC,KAAKuC,YAAYL,EAAQuZ,EAAUgD,eAAgBpc,EAAQG,KAAK,KAEpE,MAEX6b,EAAQne,UAAU4Q,KAAO,WAErB,IAAI4N,EAAc1e,KAAK2e,SACvB,GAAoB,OAAhBD,EACA,OAAOA,EAEX,IAAIxc,EAASlC,KAAKmC,OAAO+G,MAEzB,OAAIlJ,KAAKmC,OAAO6Z,MACLhc,KAAKuC,YAAYL,EAAQuZ,EAAUhU,KAEvCzH,KAAKiC,SAASC,IAEzBmc,EAAQne,UAAU+B,SAAW,SAAUC,GAEnC,GAAIlC,KAAKmC,OAAOO,eAAe,CAAC5B,EAAMD,EAAMqc,EAAMA,IAC9C,OAAOld,KAAKuC,YAAYL,EAAQuZ,EAAUhI,KAG9C,GAAIzT,KAAKmC,OAAOO,eAAe,CAACwa,EAAMA,EAAMnc,IACxC,OAAOf,KAAKuC,YAAYL,EAAQuZ,EAAU/H,KAE9C,IAAIrR,EAAU,GACd,GAAIrC,KAAKsC,MAAMD,GACX,OAAOrC,KAAKuC,YAAYL,EAAQuZ,EAAUnT,MAAOjG,EAAQG,KAAK,KAGlE,GAAIxC,KAAKmC,OAAOC,cAAcnB,GAAO,CAEjC,GADAoB,EAAU,CAAC,KACPrC,KAAK4e,MAAMvc,GAAU,CACrB,IAAIO,EAAcP,EAAQG,KAAK,IAC/B,MAAoB,aAAhBI,EACO5C,KAAKuC,YAAYL,EAAQuZ,EAAUtE,QAASvU,GAEhD5C,KAAKuC,YAAYL,EAAQuZ,EAAUrV,UAAWxD,GAGrD,OAAO5C,KAAKuC,YAAYL,EAAQuZ,EAAU9Y,OAIlD,GAAI3C,KAAKmC,OAAOC,cAAc1B,GAE1B,OADA2B,EAAU,CAAC,KACPrC,KAAK4e,MAAMvc,GACJrC,KAAKuC,YAAYL,EAAQuZ,EAAUhC,KAAMpX,EAAQG,KAAK,KAGtDxC,KAAKuC,YAAYL,EAAQuZ,EAAU9Y,OAIlD,GAAI3C,KAAKmC,OAAOC,cAAcvB,GAC1B,OAAOb,KAAKuC,YAAYL,EAAQuZ,EAAUrT,aAG9C,GAAIpI,KAAK6e,UAAW,CAChB,IAAI3V,EAAMlJ,KAAKmC,OAAO+G,MAEtB,GADA7G,EAAU,CAACrC,KAAKmC,OAAO0Z,UAAU3Z,EAAQgH,IACrClJ,KAAKmC,OAAOC,cAAcgb,GAE1B,OAAOpd,KAAKuC,YAAYL,EAAQuZ,EAAUhE,YAEzC,GAAIzX,KAAKsC,MAAMD,GAAU,CAC1B,IAAIyc,EAAM9e,KAAKmC,OAAO0Z,UAAU3S,GAAKyH,cACjCoO,EAAcX,EAAgBU,GAClC,MAA2B,qBAAhBC,EAEA/e,KAAKuC,YAAYL,EAAQ6c,EAAa1c,EAAQG,KAAK,KAInDxC,KAAKuC,YAAYL,EAAQuZ,EAAUvP,UAAW7J,EAAQG,KAAK,KAG1E,OAAOxC,KAAKuC,YAAYL,EAAQuZ,EAAU1R,KAG9C1H,EAAU,GACV,IAAI+M,EAAYpP,KAAKgf,QAAQ3c,GAC7B,OAAkB,OAAd+M,EACOpP,KAAKuC,YAAYL,EAAQkN,EAAW/M,EAAQG,KAAK,MAG5D4M,EAAY+O,EAAiBne,KAAKmC,OAAOmN,YAChB,qBAAdF,GACPpP,KAAKmC,OAAOoN,QAAQ,GACbvP,KAAKuC,YAAYL,EAAQkN,IAGhCpP,KAAKmC,OAAOmN,SAAS,KAAOyN,GAAQ/c,KAAKmC,OAAOmN,SAAS,KAAO1O,GAChEZ,KAAKmC,OAAOoN,QAAQ,GACbvP,KAAKuC,YAAYL,EAAQuZ,EAAU9C,WAG1C3Y,KAAKmC,OAAOmN,SAAS,KAAO2N,GAAQjd,KAAKmC,OAAOmN,SAAS,KAAO1O,GAChEZ,KAAKmC,OAAOoN,QAAQ,GACbvP,KAAKuC,YAAYL,EAAQuZ,EAAU/C,YAG1C1Y,KAAKmC,OAAOmN,SAAS,KAAO+N,GAAQrd,KAAKmC,OAAOmN,SAAS,KAAO1O,GAChEZ,KAAKmC,OAAOoN,QAAQ,GACbvP,KAAKuC,YAAYL,EAAQuZ,EAAU7C,oBAG1C5Y,KAAKmC,OAAOmN,SAAS,KAAO0N,GAAQhd,KAAKmC,OAAOmN,SAAS,KAAO1O,GAChEZ,KAAKmC,OAAOoN,QAAQ,GACbvP,KAAKuC,YAAYL,EAAQuZ,EAAU5C,iBAG1C7Y,KAAKmC,OAAOmN,SAAS,KAAO7O,GAAQT,KAAKmC,OAAOmN,SAAS,KAAO1O,GAChEZ,KAAKmC,OAAOoN,QAAQ,GACbvP,KAAKuC,YAAYL,EAAQuZ,EAAU3C,kBAG9C9Y,KAAKmC,OAAOga,WACLnc,KAAKuC,YAAYL,EAAQuZ,EAAU9Y,UAE9C0b,EAAQne,UAAU+e,kBAAoB,SAAUC,GAC5C,IAAIC,EAAQ,EAQZ,OAPAnf,KAAKmC,OAAOa,kBAAiB,SAAUC,GACnC,IAAImc,EAASF,EAAWC,KAAWlc,GAAMic,EAAWC,EAAQ,KAAOlc,EAInE,OAHImc,IACAD,GAAS,GAENC,KAEPD,IAAUD,EAAWlQ,SAIrBhP,KAAKmC,OAAO8Z,OAAOkD,EAAQ,IACpB,IAGfd,EAAQne,UAAUye,OAAS,WACvB,MAAO,EAAM,CACT,IAAIzc,EAASlC,KAAKmC,OAAO+G,MACzB,GAAIlJ,KAAKqf,eACL,IAAKrf,KAAKue,iBACN,OAAOve,KAAKuC,YAAYL,EAAQuZ,EAAU6D,gBAG7C,KAAItf,KAAK8C,UAMV,OAAO,KALP,IAAK9C,KAAKse,cACN,OAAOte,KAAKuC,YAAYL,EAAQuZ,EAAU8D,YAQ1DlB,EAAQne,UAAU4C,QAAU,WACxB,GAAI9C,KAAKmC,OAAOO,eAAe,CAACtC,EAAMid,IAAQ,CAC1C,IAAImC,GAAY,EAAOC,GAAQ,EAY/B,OAXAzf,KAAKmC,OAAOa,kBAAiB,SAAUC,GACnC,OAAIwc,GAASxc,IAAO7C,GAChBof,GAAY,GACL,IAEXC,EAAQxc,IAAOoa,GACR,MAEPmC,GACAxf,KAAKmC,OAAOoN,QAAQ,IAEjB,EAEX,OAAO,GAEX8O,EAAQne,UAAU2e,QAAU,WACxB,IAAe5b,EAAXyc,EAAQ,EAKZ,OAJI1f,KAAKmC,OAAOmN,aAAetO,IAC3B0e,EAAQ,GAEZzc,EAAKjD,KAAKmC,OAAOmN,SAASoQ,GACtBzc,GAAM4Z,GAAM5Z,GAAM6Z,IAClB9c,KAAKmC,OAAOoN,QAAQmQ,EAAQ,GAC5B1f,KAAKmC,OAAOa,kBAAiB,SAAUC,GACnC,OAAOA,GAAM4Z,GAAM5Z,GAAM6Z,GAAgB,IAAV4C,GAAezc,IAAOjC,MAElD,IAIfqd,EAAQne,UAAUyf,SAAW,SAAUP,GACnC,IAAInc,EAAKjD,KAAKmC,OAAOmN,WACrB,OAAQrM,GACJ,KAAK1C,EACL,KAAKC,EACL,KAAKF,EAMD,OALAN,KAAKmC,OAAOoN,QAAQ,GACpB6P,EAAOQ,KAAKxI,OAAOyI,aAAa5c,IAC5BA,IAAO1C,GAAQP,KAAKmC,OAAOC,cAAc9B,IACzC8e,EAAOQ,KAAK,OAET,EAEf,OAAO,GAEXvB,EAAQne,UAAU4f,QAAU,SAAUV,EAAQW,GAC1C,IAAI9c,EAAKjD,KAAKmC,OAAOmN,WACrB,GAAIrM,IAAOua,EAAM,CACbxd,KAAKmC,OAAOoN,QAAQ,GACpBtM,EAAKjD,KAAKmC,OAAOmN,WACjB,IAAI0Q,EAAc,EAClB,MAAOA,EAAc,IAAM/c,GAAM4Z,GAAM5Z,GAAM6Z,GAAM7Z,GAAMsZ,GAAMtZ,GAAMuZ,GAAMvZ,GAAMyZ,GAAMzZ,GAAM0Z,GACzF3c,KAAKmC,OAAOoN,QAAQ,GACpBtM,EAAKjD,KAAKmC,OAAOmN,WACjB0Q,IAEJ,GAAIA,EAAc,EAAG,CACjB,IACI,IAAIC,EAASC,SAASlgB,KAAKmC,OAAO0Z,UAAU7b,KAAKmC,OAAO+G,MAAQ8W,GAAc,IAC1EC,GACAb,EAAOQ,KAAKxI,OAAOyI,aAAaI,IAGxC,MAAOE,IAUP,OANIld,IAAO0a,GAAQ1a,IAAO2a,EACtB5d,KAAKmC,OAAOoN,QAAQ,GAGpBvP,KAAK2f,SAAS,KAEX,EAEX,GAAI1c,IAAO1C,GAAQ0C,IAAOzC,GAAQyC,IAAO3C,EAGrC,OAFAN,KAAKmC,OAAOoN,QAAQ,GACpB6P,EAAOQ,KAAKxI,OAAOyI,aAAa5c,KACzB,EAEN,GAAI8c,EACL,OAAO/f,KAAK2f,SAASP,GAG7B,OAAO,GAEXf,EAAQne,UAAUkgB,YAAc,SAAUC,EAAYjB,GAElD,IAAInc,EAAKjD,KAAKmC,OAAOmN,WACrB,OAAW,IAAPrM,GAAYA,IAAOod,GAAcpd,IAAOua,GAAQva,IAAO1C,GAAQ0C,IAAOzC,GAAQyC,IAAO3C,IACrFN,KAAKmC,OAAOoN,QAAQ,GACpB6P,EAAOQ,KAAKxI,OAAOyI,aAAa5c,KACzB,IAIfob,EAAQne,UAAU8e,QAAU,SAAUI,GAClC,GAAIpf,KAAKmC,OAAOmN,aAAeoO,GAAQ1d,KAAKmC,OAAOmN,aAAemO,EAAM,CACpE,IAAI4C,EAAargB,KAAKmC,OAAOga,WAC7BiD,EAAOQ,KAAKxI,OAAOyI,aAAaQ,IAChC,MAAOrgB,KAAKogB,YAAYC,EAAYjB,IAAWpf,KAAK8f,QAAQV,GAAQ,IAGpE,OAAIpf,KAAKmC,OAAOmN,aAAe+Q,GAC3BrgB,KAAKmC,OAAOga,WACZiD,EAAOQ,KAAKxI,OAAOyI,aAAaQ,IACzB5E,EAAUrE,QAGVqE,EAAUzE,UAGzB,OAAO,MAEXqH,EAAQne,UAAUogB,cAAgB,SAAUlB,GAExC,IAAInc,EAAKjD,KAAKmC,OAAOmN,WACrB,OAAW,IAAPrM,GAAYA,IAAOua,GAAQva,IAAOya,GAAQza,IAAOwa,GAAQxa,IAAOqa,GAAQra,IAAOsa,GAAQta,IAAO0a,GAAQ1a,IAAO2a,GAAQ3a,IAAO3C,GAAQ2C,IAAOzC,GAAQyC,IAAO1C,IAC1JP,KAAKmC,OAAOoN,QAAQ,GACpB6P,EAAOQ,KAAKxI,OAAOyI,aAAa5c,KACzB,IAIfob,EAAQne,UAAUse,gBAAkB,SAAUY,GAC1C,IAAIvV,GAAa,EACjB,MAAO7J,KAAKsgB,cAAclB,IAAWpf,KAAK8f,QAAQV,GAC9CvV,GAAa,EAEjB,OAAOA,GAEXwU,EAAQne,UAAUmf,YAAc,WAC5B,IAAInD,EAAIlc,KAAKmC,OAAOa,kBAAiB,SAAUC,GAC3C,OAAOA,IAAO0a,GAAQ1a,IAAO2a,GAAQ3a,IAAO3C,GAAQ2C,IAAOzC,GAAQyC,IAAO1C,KAE9E,OAAO2b,EAAI,GAEfmC,EAAQne,UAAU0e,MAAQ,SAAUQ,GAChC,IAAImB,GAAU,EACd,MAAOvgB,KAAKwgB,WAAWpB,IAAWpf,KAAK8f,QAAQV,GAC3CmB,GAAU,EAEd,OAAOA,GAEXlC,EAAQne,UAAUoC,MAAQ,SAAU8c,GAChC,IAAIlW,EAAMlJ,KAAKmC,OAAO+G,MAClBuX,EAAWzgB,KAAK0gB,OAAOtB,GAC3B,GAAIqB,GAAYzgB,KAAK0gB,OAAOtB,IACxB,GAAIpf,KAAK2gB,gBAAgBvB,IAAWpf,KAAK8f,QAAQV,GAAS,CACtD,MAAOpf,KAAKwgB,WAAWpB,IAAWpf,KAAK8f,QAAQV,IAG/C,OAAO,QAGV,GAAIpf,KAAK2gB,gBAAgBvB,IAAWpf,KAAK8f,QAAQV,GAAS,CAC3D,MAAOpf,KAAKwgB,WAAWpB,IAAWpf,KAAK8f,QAAQV,IAG/C,OAAO,EAGX,OADApf,KAAKmC,OAAOM,SAASyG,IACd,GAEXmV,EAAQne,UAAUygB,gBAAkB,SAAUvB,GAC1C,IAAInc,EAAKjD,KAAKmC,OAAOmN,WACrB,OAAIrM,IAAOka,GACPla,GAAMsZ,GAAMtZ,GAAMwZ,GAClBxZ,GAAMyZ,GAAMzZ,GAAM2Z,GAClB3Z,GAAM,KAAQA,GAAM,SACpBjD,KAAKmC,OAAOoN,QAAQ,GACpB6P,EAAOQ,KAAKxI,OAAOyI,aAAa5c,KACzB,IAIfob,EAAQne,UAAUwgB,OAAS,SAAUtB,GACjC,IAAInc,EAAKjD,KAAKmC,OAAOmN,WACrB,OAAIrM,IAAOia,IACPld,KAAKmC,OAAOoN,QAAQ,GACpB6P,EAAOQ,KAAKxI,OAAOyI,aAAa5c,KACzB,IAIfob,EAAQne,UAAUsgB,WAAa,SAAUpB,GACrC,IAAInc,EAAKjD,KAAKmC,OAAOmN,WACrB,OAAIrM,IAAOka,GACPla,IAAOia,GACPja,GAAMsZ,GAAMtZ,GAAMwZ,GAClBxZ,GAAMyZ,GAAMzZ,GAAM2Z,GAClB3Z,GAAM4Z,GAAM5Z,GAAM6Z,GAClB7Z,GAAM,KAAQA,GAAM,SACpBjD,KAAKmC,OAAOoN,QAAQ,GACpB6P,EAAOQ,KAAKxI,OAAOyI,aAAa5c,KACzB,IAIRob,EArYiB,I,kCC5L5B,2yEAKA,IAiBWuC,EAiFAC,EAlGPxhB,EAAwC,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,KAClEP,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASO,IAAOC,KAAKC,YAAcV,EADnCD,EAAcC,EAAGC,GAEjBD,EAAEW,UAAkB,OAANV,EAAaC,OAAOU,OAAOX,IAAMO,EAAGG,UAAYV,EAAEU,UAAW,IAAIH,IAV3C,GA8GrC,SAAS+gB,EAAgB9Z,EAAM9E,GAClC,IAAI6e,EAAY,KAChB,OAAK/Z,GAAQ9E,EAAS8E,EAAK9E,QAAUA,EAAS8E,EAAKga,IACxC,MAGXha,EAAKM,QAAO,SAAUN,GAClB,OAAqB,IAAjBA,EAAK9E,SAAkC,IAAjB8E,EAAKgI,QAG3BhI,EAAK9E,QAAUA,GAAU8E,EAAKga,KAAO9e,IAChC6e,EAGI/Z,EAAKgI,QAAU+R,EAAU/R,SAC9B+R,EAAY/Z,GAHZ+Z,EAAY/Z,GAKT,MAIR+Z,GAEJ,SAASE,EAAYja,EAAM9E,GAC9B,IAAI6e,EAAYD,EAAgB9Z,EAAM9E,GAClCgf,EAAO,GACX,MAAOH,EACHG,EAAKC,QAAQJ,GACbA,EAAYA,EAAUK,OAE1B,OAAOF,EAEJ,SAASG,EAAqBra,GACjC,IAAI+O,EAAO/O,EAAKsa,WAAWV,EAASjL,aAChC4L,EAAQxL,GAAQA,EAAKyL,WACzB,OAAID,GAASA,EAAME,SAASza,GACjB+O,EAEJ,MAlIX,SAAW6K,GACPA,EAASA,EAAS,aAAe,GAAK,YACtCA,EAASA,EAAS,cAAgB,GAAK,aACvCA,EAASA,EAAS,cAAgB,GAAK,aACvCA,EAASA,EAAS,WAAa,GAAK,UACpCA,EAASA,EAAS,YAAc,GAAK,WACrCA,EAASA,EAAS,kBAAoB,GAAK,iBAC3CA,EAASA,EAAS,yBAA2B,GAAK,wBAClDA,EAASA,EAAS,sBAAwB,GAAK,qBAC/CA,EAASA,EAAS,4BAA8B,GAAK,2BACrDA,EAASA,EAAS,6BAA+B,GAAK,4BACtDA,EAASA,EAAS,iCAAmC,IAAM,gCAC3DA,EAASA,EAAS,8CAAgD,IAAM,6CACxEA,EAASA,EAAS,QAAU,IAAM,OAClCA,EAASA,EAAS,oBAAsB,IAAM,mBAC9CA,EAASA,EAAS,iBAAmB,IAAM,gBAC3CA,EAASA,EAAS,sBAAwB,IAAM,qBAChDA,EAASA,EAAS,uBAAyB,IAAM,sBACjDA,EAASA,EAAS,kBAAoB,IAAM,iBAC5CA,EAASA,EAAS,qBAAuB,IAAM,oBAC/CA,EAASA,EAAS,eAAiB,IAAM,cACzCA,EAASA,EAAS,gBAAkB,IAAM,eAC1CA,EAASA,EAAS,YAAc,IAAM,WACtCA,EAASA,EAAS,cAAgB,IAAM,aACxCA,EAASA,EAAS,oBAAsB,IAAM,mBAC9CA,EAASA,EAAS,QAAU,IAAM,OAClCA,EAASA,EAAS,YAAc,IAAM,WACtCA,EAASA,EAAS,SAAW,IAAM,QACnCA,EAASA,EAAS,iBAAmB,IAAM,gBAC3CA,EAASA,EAAS,cAAgB,IAAM,aACxCA,EAASA,EAAS,gBAAkB,IAAM,eAC1CA,EAASA,EAAS,YAAc,IAAM,WACtCA,EAASA,EAAS,gBAAkB,IAAM,eAC1CA,EAASA,EAAS,iBAAmB,IAAM,gBAC3CA,EAASA,EAAS,oBAAsB,IAAM,mBAC9CA,EAASA,EAAS,kBAAoB,IAAM,iBAC5CA,EAASA,EAAS,gBAAkB,IAAM,eAC1CA,EAASA,EAAS,uBAAyB,IAAM,sBACjDA,EAASA,EAAS,QAAU,IAAM,OAClCA,EAASA,EAAS,iBAAmB,IAAM,gBAC3CA,EAASA,EAAS,oBAAsB,IAAM,mBAC9CA,EAASA,EAAS,oBAAsB,IAAM,mBAC9CA,EAASA,EAAS,uBAAyB,IAAM,sBACjDA,EAASA,EAAS,SAAW,IAAM,QACnCA,EAASA,EAAS,MAAQ,IAAM,KAChCA,EAASA,EAAS,QAAU,IAAM,OAClCA,EAASA,EAAS,OAAS,IAAM,MACjCA,EAASA,EAAS,QAAU,IAAM,OAClCA,EAASA,EAAS,SAAW,IAAM,QACnCA,EAASA,EAAS,gBAAkB,IAAM,eAC1CA,EAASA,EAAS,SAAW,IAAM,QACnCA,EAASA,EAAS,YAAc,IAAM,WACtCA,EAASA,EAAS,YAAc,IAAM,WACtCA,EAASA,EAAS,UAAY,IAAM,SACpCA,EAASA,EAAS,aAAe,IAAM,YACvCA,EAASA,EAAS,cAAgB,IAAM,aACxCA,EAASA,EAAS,uBAAyB,IAAM,sBACjDA,EAASA,EAAS,mBAAqB,IAAM,kBAC7CA,EAASA,EAAS,cAAgB,IAAM,aACxCA,EAASA,EAAS,qBAAuB,IAAM,oBAC/CA,EAASA,EAAS,oBAAsB,IAAM,mBAC9CA,EAASA,EAAS,oBAAsB,IAAM,mBAC9CA,EAASA,EAAS,YAAc,IAAM,WACtCA,EAASA,EAAS,YAAc,IAAM,WACtCA,EAASA,EAAS,eAAiB,IAAM,cACzCA,EAASA,EAAS,6BAA+B,IAAM,4BACvDA,EAASA,EAAS,qBAAuB,IAAM,oBAC/CA,EAASA,EAAS,aAAe,IAAM,YACvCA,EAASA,EAAS,YAAc,IAAM,WACtCA,EAASA,EAAS,qBAAuB,IAAM,oBAC/CA,EAASA,EAAS,mBAAqB,IAAM,kBAC7CA,EAASA,EAAS,YAAc,IAAM,WACtCA,EAASA,EAAS,UAAY,IAAM,SACpCA,EAASA,EAAS,iBAAmB,IAAM,gBAC3CA,EAASA,EAAS,OAAS,IAAM,MACjCA,EAASA,EAAS,uBAAyB,IAAM,sBACjDA,EAASA,EAAS,WAAa,IAAM,UACrCA,EAASA,EAAS,qBAAuB,IAAM,oBAC/CA,EAASA,EAAS,UAAY,IAAM,UA9ExC,CA+EGA,IAAaA,EAAW,KAE3B,SAAWC,GACPA,EAAcA,EAAc,SAAW,GAAK,QAC5CA,EAAcA,EAAc,QAAU,GAAK,OAC3CA,EAAcA,EAAc,YAAc,GAAK,WAC/CA,EAAcA,EAAc,YAAc,GAAK,WAC/CA,EAAcA,EAAc,YAAc,GAAK,WAC/CA,EAAcA,EAAc,WAAa,GAAK,UAC9CA,EAAcA,EAAc,UAAY,GAAK,SAC7CA,EAAcA,EAAc,WAAa,GAAK,UAC9CA,EAAcA,EAAc,qBAAuB,GAAK,oBAT5D,CAUGA,IAAkBA,EAAgB,KAyCrC,IAs/CWa,EAt/CPC,EAAsB,WACtB,SAASA,EAAKzf,EAAQsO,EAAKyB,QACR,IAAX/P,IAAqBA,GAAU,QACvB,IAARsO,IAAkBA,GAAO,GAC7BxQ,KAAKohB,OAAS,KACdphB,KAAKkC,OAASA,EACdlC,KAAKgP,OAASwB,EACVyB,IACAjS,KAAKiS,SAAWA,GAkNxB,OA/MAxS,OAAOmiB,eAAeD,EAAKzhB,UAAW,MAAO,CACzC2hB,IAAK,WAAc,OAAO7hB,KAAKkC,OAASlC,KAAKgP,QAC7C8S,YAAY,EACZC,cAAc,IAElBtiB,OAAOmiB,eAAeD,EAAKzhB,UAAW,OAAQ,CAC1C2hB,IAAK,WACD,OAAO7hB,KAAKiS,UAAY2O,EAASoB,WAErCC,IAAK,SAAU1R,GACXvQ,KAAKiS,SAAW1B,GAEpBuR,YAAY,EACZC,cAAc,IAElBJ,EAAKzhB,UAAUgiB,gBAAkB,WAC7B,IAAIlb,EAAOhH,KACX,MAAOgH,IAASA,EAAK8L,aACjB9L,EAAOA,EAAKoa,OAEhB,OAAIpa,EACOA,EAAK8L,aAET,WAAc,MAAO,YAEhC6O,EAAKzhB,UAAU2S,QAAU,WACrB,OAAO7S,KAAKkiB,iBAALliB,CAAuBA,KAAKkC,OAAQlC,KAAKgP,SAEpD2S,EAAKzhB,UAAUqX,QAAU,SAAU4K,GAC/B,OAAOniB,KAAKgP,SAAWmT,EAAInT,QAAUhP,KAAKkiB,iBAALliB,CAAuBA,KAAKkC,OAAQlC,KAAKgP,UAAYmT,GAE9FR,EAAKzhB,UAAUkiB,WAAa,SAAUD,GAClC,OAAOniB,KAAKgP,QAAUmT,EAAInT,QAAUhP,KAAKkiB,iBAALliB,CAAuBA,KAAKkC,OAAQigB,EAAInT,UAAYmT,GAE5FR,EAAKzhB,UAAUmiB,SAAW,SAAUF,GAChC,OAAOniB,KAAKgP,QAAUmT,EAAInT,QAAUhP,KAAKkiB,iBAALliB,CAAuBA,KAAKghB,IAAMmB,EAAInT,OAAQmT,EAAInT,UAAYmT,GAEtGR,EAAKzhB,UAAUoH,OAAS,SAAUgb,GAC9B,GAAIA,EAAQtiB,OAASA,KAAKuiB,SACtB,IAAK,IAAIlR,EAAK,EAAGkL,EAAKvc,KAAKuiB,SAAUlR,EAAKkL,EAAGvN,OAAQqC,IAAM,CACvD,IAAI3C,EAAQ6N,EAAGlL,GACf3C,EAAMpH,OAAOgb,KAIzBX,EAAKzhB,UAAUsiB,cAAgB,SAAUF,GACrCtiB,KAAKsH,OAAOgb,EAAQG,UAAUxZ,KAAKqZ,KAEvCX,EAAKzhB,UAAUwiB,WAAa,SAAU1b,EAAMmY,GAExC,QADc,IAAVA,IAAoBA,GAAS,GAC7BnY,EAAKoa,QAAUpa,EAAKoa,OAAOmB,SAAU,CACrC,IAAII,EAAM3b,EAAKoa,OAAOmB,SAASvQ,QAAQhL,GACnC2b,GAAO,GACP3b,EAAKoa,OAAOmB,SAASK,OAAOD,EAAK,GAGzC3b,EAAKoa,OAASphB,KACd,IAAIuiB,EAAWviB,KAAKuiB,SAUpB,OATKA,IACDA,EAAWviB,KAAKuiB,SAAW,KAEhB,IAAXpD,EACAoD,EAASK,OAAOzD,EAAO,EAAGnY,GAG1Bub,EAAS3C,KAAK5Y,GAEXA,GAEX2a,EAAKzhB,UAAU2iB,SAAW,SAAUzB,EAAQjC,GAKxC,YAJc,IAAVA,IAAoBA,GAAS,GAC7BiC,GACAA,EAAOsB,WAAW1iB,KAAMmf,GAErBnf,MAEX2hB,EAAKzhB,UAAU4iB,cAAgB,SAAUC,GACjC/iB,KAAKgjB,QACLD,EAAQnD,KAAK7d,MAAMghB,EAAS/iB,KAAKgjB,SAGzCrB,EAAKzhB,UAAUqS,SAAW,SAAU0Q,GAC3BjjB,KAAKgjB,SACNhjB,KAAKgjB,OAAS,IAElBhjB,KAAKgjB,OAAOpD,KAAKqD,IAErBtB,EAAKzhB,UAAUgjB,SAAW,SAAUC,GAChC,OAAOvjB,MAAMwjB,QAAQpjB,KAAKgjB,SAAWhjB,KAAKgjB,OAAOK,MAAK,SAAUzT,GAAK,OAAOA,EAAE0T,YAAcH,MAEhGxB,EAAKzhB,UAAUmW,YAAc,SAAUkN,GAEnC,YADkB,IAAdA,IAAwBA,GAAY,MACpCvjB,KAAKgjB,QAAUhjB,KAAKgjB,OAAOhU,OAAS,IAGjCuU,GAAa3jB,MAAMwjB,QAAQpjB,KAAKuiB,WAAaviB,KAAKuiB,SAASc,MAAK,SAAUlK,GAAK,OAAOA,EAAE9C,aAAY,OAE/GsL,EAAKzhB,UAAUsjB,QAAU,SAAUC,EAAOzc,EAAMmY,GAE5C,YADc,IAAVA,IAAoBA,GAAS,KAC7BnY,IACAA,EAAK6b,SAAS7iB,KAAMmf,GACpBnf,KAAKyjB,GAASzc,GACP,IAIf2a,EAAKzhB,UAAUgH,SAAW,SAAUF,GAChC,QAAIA,IACKhH,KAAKuiB,WACNviB,KAAKuiB,SAAW,IAEpBvb,EAAK6b,SAAS7iB,MACdA,KAAK0jB,sBAAsB1c,IACpB,IAIf2a,EAAKzhB,UAAUwjB,sBAAwB,SAAU1c,IACzCA,EAAK9E,OAASlC,KAAKkC,SAA2B,IAAjBlC,KAAKkC,UAClClC,KAAKkC,OAAS8E,EAAK9E,QAEvB,IAAIyhB,EAAU3c,EAAKga,KACd2C,EAAU3jB,KAAKghB,MAAyB,IAAjBhhB,KAAKgP,UAC7BhP,KAAKgP,OAAS2U,EAAU3jB,KAAKkC,SAGrCyf,EAAKzhB,UAAU0jB,YAAc,WACzB,QAAS5jB,KAAKuiB,UAAYviB,KAAKuiB,SAASvT,OAAS,GAErD2S,EAAKzhB,UAAU6O,YAAc,WACzB,OAAO/O,KAAKuiB,SAAWviB,KAAKuiB,SAASsB,MAAM,GAAK,IAEpDlC,EAAKzhB,UAAU4jB,SAAW,SAAU3E,GAChC,OAAInf,KAAKuiB,UAAYpD,EAAQnf,KAAKuiB,SAASvT,OAChChP,KAAKuiB,SAASpD,GAElB,MAEXwC,EAAKzhB,UAAU6jB,YAAc,SAAUC,GACnC,IAAK,IAAI3S,EAAK,EAAG4S,EAAUD,EAAO3S,EAAK4S,EAAQjV,OAAQqC,IAAM,CACzD,IAAIrK,EAAOid,EAAQ5S,GACnBrR,KAAKkH,SAASF,KAGtB2a,EAAKzhB,UAAUgkB,2BAA6B,SAAUhiB,GAClD,GAAIlC,KAAKuiB,SAEL,IADA,IAAI4B,EAAU,KACLvU,EAAI5P,KAAKuiB,SAASvT,OAAS,EAAGY,GAAK,EAAGA,IAG3C,GADAuU,EAAUnkB,KAAKuiB,SAAS3S,GACpBuU,EAAQjiB,QAAUA,EAClB,OAAOiiB,EAInB,OAAO,MAEXxC,EAAKzhB,UAAUkkB,kBAAoB,SAAUliB,EAAQmiB,GACjD,IAAIF,EAAUnkB,KAAKkkB,2BAA2BhiB,GAC9C,OAAIiiB,GAAWA,EAAQnD,KAAO9e,EACtBmiB,GACOF,EAAQC,kBAAkBliB,GAAQ,IAEtCiiB,EAEJ,MAEXxC,EAAKzhB,UAAUuhB,SAAW,SAAUV,GAChC,OAAO/gB,KAAKkC,QAAU6e,EAAU7e,QAAUlC,KAAKkC,OAASlC,KAAKgP,QAAU+R,EAAU7e,OAAS6e,EAAU/R,QAExG2S,EAAKzhB,UAAUokB,UAAY,WACvB,IAAIlF,EAASpf,KAAKohB,OAClB,MAAOhC,aAAkBmF,EACrBnF,EAASA,EAAOgC,OAEpB,OAAOhC,GAEXuC,EAAKzhB,UAAUohB,WAAa,SAAU/Q,GAClC,IAAI6O,EAASpf,KACb,MAAOof,GAAUA,EAAO7O,OAASA,EAC7B6O,EAASA,EAAOgC,OAEpB,OAAOhC,GAEXuC,EAAKzhB,UAAUskB,YAAc,WAEzB,IADA,IAAIC,EAAQ,GACHpT,EAAK,EAAGA,EAAKrP,UAAUgN,OAAQqC,IACpCoT,EAAMpT,GAAMrP,UAAUqP,GAE1B,IAAI+N,EAASpf,KACb,MAAOof,IAAWqF,EAAMpB,MAAK,SAAUqB,GAAK,OAAOtF,EAAO7O,OAASmU,KAC/DtF,EAASA,EAAOgC,OAEpB,OAAOhC,GAEXuC,EAAKzhB,UAAUykB,QAAU,SAAUC,EAAKrD,GAC/BvhB,KAAK6kB,UACN7kB,KAAK6kB,QAAU,IAEnB7kB,KAAK6kB,QAAQD,GAAOrD,GAExBI,EAAKzhB,UAAU4kB,QAAU,SAAUF,GAC/B,OAAK5kB,KAAK6kB,SAAY7kB,KAAK6kB,QAAQ/kB,eAAe8kB,GAG3C5kB,KAAK6kB,QAAQD,GAFT,MAIRjD,EA1Nc,GA6NrB4C,EAA0B,SAAUziB,GAEpC,SAASyiB,EAASnD,EAAQjC,QACR,IAAVA,IAAoBA,GAAS,GACjC,IAAIzV,EAAQ5H,EAAOe,KAAK7C,MAAO,GAAI,IAAMA,KAIzC,OAHA0J,EAAMmZ,SAASzB,EAAQjC,GACvBzV,EAAMxH,QAAU,EAChBwH,EAAMsF,QAAU,EACTtF,EAEX,OATArK,EAAUklB,EAAUziB,GASbyiB,EAVkB,CAW3B5C,GAEEjQ,EAA4B,SAAU5P,GAEtC,SAAS4P,EAAWxP,EAAQ8M,GACxB,IAAItF,EAAQ5H,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAEjD,OADA0J,EAAME,kBAAmB,EAClBF,EAYX,OAhBArK,EAAUqS,EAAY5P,GAMtBrC,OAAOmiB,eAAelQ,EAAWxR,UAAW,OAAQ,CAChD2hB,IAAK,WACD,OAAOjB,EAASlP,YAEpBoQ,YAAY,EACZC,cAAc,IAElBrQ,EAAWxR,UAAU6kB,sBAAwB,WACzC,OAAO/kB,KAAK4jB,eAETlS,EAjBoB,CAkB7BiQ,GAEEqD,EAA4B,SAAUljB,GAEtC,SAASkjB,EAAW9iB,EAAQ8M,GACxB,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAShD,OAXAX,EAAU2lB,EAAYljB,GAItBrC,OAAOmiB,eAAeoD,EAAW9kB,UAAW,OAAQ,CAChD2hB,IAAK,WACD,OAAOjB,EAASoE,YAEpBlD,YAAY,EACZC,cAAc,IAEXiD,EAZoB,CAa7BrD,GAEEsD,EAA8B,SAAUnjB,GAExC,SAASmjB,EAAa/iB,EAAQ8M,GAC1B,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAShD,OAXAX,EAAU4lB,EAAcnjB,GAIxBrC,OAAOmiB,eAAeqD,EAAa/kB,UAAW,OAAQ,CAClD2hB,IAAK,WACD,OAAOjB,EAASqE,cAEpBnD,YAAY,EACZC,cAAc,IAEXkD,EAZsB,CAa/BtD,GAEEuD,EAAiC,SAAUpjB,GAE3C,SAASojB,EAAgBhjB,EAAQ8M,GAC7B,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAQhD,OAVAX,EAAU6lB,EAAiBpjB,GAI3BojB,EAAgBhlB,UAAUilB,gBAAkB,WACxC,OAAOnlB,KAAKoW,cAEhB8O,EAAgBhlB,UAAU8V,gBAAkB,SAAUoP,GAClD,OAAOplB,KAAKwjB,QAAQ,eAAgB4B,IAEjCF,EAXyB,CAYlCvD,GAEE0D,EAAyB,SAAUvjB,GAEnC,SAASujB,EAAQnjB,EAAQ8M,GACrB,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAkBhD,OApBAX,EAAUgmB,EAASvjB,GAInBrC,OAAOmiB,eAAeyD,EAAQnlB,UAAW,OAAQ,CAC7C2hB,IAAK,WACD,OAAOjB,EAASlM,SAEpBoN,YAAY,EACZC,cAAc,IAElBsD,EAAQnlB,UAAU0L,aAAe,WAI7B,OAHK5L,KAAKmU,YACNnU,KAAKmU,UAAY,IAAIoQ,EAASvkB,OAE3BA,KAAKmU,WAEhBkR,EAAQnlB,UAAU0T,SAAW,WACzB,QAAS5T,KAAKohB,QAA4D,OAAlDphB,KAAKohB,OAAOE,WAAWV,EAASqE,eAErDI,EArBiB,CAsB1BH,GAEEI,EAA0B,SAAUxjB,GAEpC,SAASwjB,EAASpjB,EAAQ8M,GACtB,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAShD,OAXAX,EAAUimB,EAAUxjB,GAIpBrC,OAAOmiB,eAAe0D,EAASplB,UAAW,OAAQ,CAC9C2hB,IAAK,WACD,OAAOjB,EAAS0E,UAEpBxD,YAAY,EACZC,cAAc,IAEXuD,EAZkB,CAa3B3D,GAEE4D,EAAgC,SAAUzjB,GAE1C,SAASyjB,EAAerjB,EAAQ8M,GAC5B,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAShD,OAXAX,EAAUkmB,EAAgBzjB,GAI1BrC,OAAOmiB,eAAe2D,EAAerlB,UAAW,OAAQ,CACpD2hB,IAAK,WACD,OAAOjB,EAAS2E,gBAEpBzD,YAAY,EACZC,cAAc,IAEXwD,EAZwB,CAajC5D,GAEEtM,EAA6B,SAAUvT,GAEvC,SAASuT,EAAYnT,EAAQ8M,GACzB,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAkBhD,OApBAX,EAAUgW,EAAavT,GAIvBrC,OAAOmiB,eAAevM,EAAYnV,UAAW,OAAQ,CACjD2hB,IAAK,WACD,OAAOjB,EAASvL,aAEpByM,YAAY,EACZC,cAAc,IAElB1M,EAAYnV,UAAUkJ,cAAgB,SAAUpC,GAC5C,OAAOhH,KAAKwjB,QAAQ,aAAcxc,EAAM,IAE5CqO,EAAYnV,UAAUslB,cAAgB,WAClC,OAAOxlB,KAAK6O,YAEhBwG,EAAYnV,UAAUulB,QAAU,WAC5B,OAAOzlB,KAAK6O,WAAa7O,KAAK6O,WAAWgE,UAAY,IAElDwC,EArBqB,CAsB9BsM,GAEE+D,EAAqC,SAAU5jB,GAE/C,SAAS4jB,EAAoBxjB,EAAQ8M,GACjC,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAEhD,OAJAX,EAAUqmB,EAAqB5jB,GAIxB4jB,EAL6B,CAMtC/D,GAEErM,EAA2C,SAAUxT,GAErD,SAASwT,EAA0BpT,EAAQ8M,GACvC,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KA2BhD,OA7BAX,EAAUiW,EAA2BxT,GAIrCrC,OAAOmiB,eAAetM,EAA0BpV,UAAW,OAAQ,CAC/D2hB,IAAK,WACD,OAAOjB,EAAStL,2BAEpBwM,YAAY,EACZC,cAAc,IAElBzM,EAA0BpV,UAAUmL,YAAc,SAAUrE,GACxD,OAAOhH,KAAKwjB,QAAQ,WAAYxc,IAEpCsO,EAA0BpV,UAAUylB,YAAc,WAC9C,OAAO3lB,KAAK4lB,UAEhBtQ,EAA0BpV,UAAUgI,SAAW,SAAUqZ,GACrD,OAAOvhB,KAAKwjB,QAAQ,QAASjC,IAEjCjM,EAA0BpV,UAAUshB,SAAW,WAC3C,OAAOxhB,KAAKuhB,OAEhBjM,EAA0BpV,UAAUoW,eAAiB,SAAUiL,GAC3D,OAAOvhB,KAAKwjB,QAAQ,cAAejC,IAEvCjM,EAA0BpV,UAAU2lB,eAAiB,WACjD,OAAO7lB,KAAKmW,aAETb,EA9BmC,CA+B5CoQ,GAEEI,EAAmC,SAAUhkB,GAE7C,SAASgkB,EAAkB5jB,EAAQ8M,GAC/B,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAShD,OAXAX,EAAUymB,EAAmBhkB,GAI7BrC,OAAOmiB,eAAekE,EAAkB5lB,UAAW,OAAQ,CACvD2hB,IAAK,WACD,OAAOjB,EAASkF,mBAEpBhE,YAAY,EACZC,cAAc,IAEX+D,EAZ2B,CAapCZ,GAEEvP,EAA6B,SAAU7T,GAEvC,SAAS6T,EAAYzT,EAAQ8M,GACzB,IAAItF,EAAQ5H,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAEjD,OADA0J,EAAMkc,SAAW,KACVlc,EA+CX,OAnDArK,EAAUsW,EAAa7T,GAMvBrC,OAAOmiB,eAAejM,EAAYzV,UAAW,OAAQ,CACjD2hB,IAAK,WACD,OAAOjB,EAASjL,aAEpBmM,YAAY,EACZC,cAAc,IAElBpM,EAAYzV,UAAUmL,YAAc,SAAUrE,GAC1C,OAAOhH,KAAKwjB,QAAQ,WAAYxc,IAEpC2O,EAAYzV,UAAUylB,YAAc,WAChC,OAAO3lB,KAAK4lB,UAEhBjQ,EAAYzV,UAAU6lB,oBAAsB,WACxC,IAAIC,EAAehmB,KAAK4lB,SAAW5lB,KAAK4lB,SAASH,UAAY,UAC7D,GAAIzlB,KAAKohB,kBAAkB6D,GAAgBjlB,KAAKohB,OAAOkD,sBAAuB2B,EAAkB,CAC5F,IAAIC,EAAalmB,KAAKohB,OAAOkD,YAAYA,YACzC,GAAI4B,aAAsBvQ,EACtB,OAAOuQ,EAAWH,sBAAwBC,EAGlD,OAAOA,GAEXrQ,EAAYzV,UAAUimB,2BAA6B,WAC/C,IAAIH,EAAehmB,KAAK+lB,sBACxB,GAAIC,GAA2C,MAA3BA,EAAaI,OAAO,GAAY,CAChD,IAAIC,EAAkBL,EAAahU,QAAQ,IAAK,GAChD,IAAyB,IAArBqU,EACA,OAAOL,EAAanK,UAAUwK,EAAkB,GAGxD,OAAOL,GAEXrQ,EAAYzV,UAAUgI,SAAW,SAAUqZ,GACvC,OAAOvhB,KAAKwjB,QAAQ,QAASjC,IAEjC5L,EAAYzV,UAAUshB,SAAW,WAC7B,OAAOxhB,KAAKuhB,OAEhB5L,EAAYzV,UAAUuL,oBAAsB,SAAU8V,GAClD,OAAOvhB,KAAKwjB,QAAQ,mBAAoBjC,IAE5C5L,EAAYzV,UAAU0V,oBAAsB,WACxC,OAAO5V,KAAKsmB,kBAET3Q,EApDqB,CAqD9B+P,GAEEa,EAA0B,SAAUzkB,GAEpC,SAASykB,EAASrkB,EAAQ8M,GACtB,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAqBhD,OAvBAX,EAAUknB,EAAUzkB,GAIpBrC,OAAOmiB,eAAe2E,EAASrmB,UAAW,OAAQ,CAC9C2hB,IAAK,WACD,OAAOjB,EAAS2F,UAEpBzE,YAAY,EACZC,cAAc,IAElBwE,EAASrmB,UAAUkJ,cAAgB,SAAUmY,GACzC,OAAOvhB,KAAKwjB,QAAQ,aAAcjC,IAEtCgF,EAASrmB,UAAUslB,cAAgB,WAC/B,OAAOxlB,KAAK6O,YAEhB0X,EAASrmB,UAAUulB,QAAU,WACzB,OAAOzlB,KAAK6S,WAEhB0T,EAASrmB,UAAU0J,iBAAmB,WAClC,QAAS5J,KAAK6O,YAAc7O,KAAK6O,WAAWjF,kBAEzC2c,EAxBkB,CAyB3B5E,GAEE6E,EAA4B,SAAU1kB,GAEtC,SAAS0kB,EAAWtkB,EAAQ8M,GACxB,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAehD,OAjBAX,EAAUmnB,EAAY1kB,GAItBrC,OAAOmiB,eAAe4E,EAAWtmB,UAAW,OAAQ,CAChD2hB,IAAK,WACD,OAAOjB,EAAS4F,YAEpB1E,YAAY,EACZC,cAAc,IAElByE,EAAWtmB,UAAU+N,aAAe,WAIhC,OAHKjO,KAAKgC,YACNhC,KAAKgC,UAAY,IAAIuiB,EAASvkB,OAE3BA,KAAKgC,WAETwkB,EAlBoB,CAmB7B7E,GAEErU,EAA0B,SAAUxL,GAEpC,SAASwL,EAASpL,EAAQ8M,GACtB,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAkBhD,OApBAX,EAAUiO,EAAUxL,GAIpBrC,OAAOmiB,eAAetU,EAASpN,UAAW,OAAQ,CAC9C2hB,IAAK,WACD,OAAOjB,EAAStT,UAEpBwU,YAAY,EACZC,cAAc,IAElBzU,EAASpN,UAAUkJ,cAAgB,SAAUpC,GACzC,OAAOhH,KAAKwjB,QAAQ,aAAcxc,EAAM,IAE5CsG,EAASpN,UAAUslB,cAAgB,WAC/B,OAAOxlB,KAAK6O,YAEhBvB,EAASpN,UAAUulB,QAAU,WACzB,OAAOzlB,KAAK6O,WAAa7O,KAAK6O,WAAWgE,UAAY,IAElDvF,EArBkB,CAsB3BkZ,GAEEC,EAAmC,SAAU3kB,GAE7C,SAAS2kB,EAAkBvkB,EAAQ8M,GAC/B,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAwBhD,OA1BAX,EAAUonB,EAAmB3kB,GAI7BrC,OAAOmiB,eAAe6E,EAAkBvmB,UAAW,OAAQ,CACvD2hB,IAAK,WACD,OAAOjB,EAAS6F,mBAEpB3E,YAAY,EACZC,cAAc,IAElB0E,EAAkBvmB,UAAUkJ,cAAgB,SAAUpC,GAClD,OAAOhH,KAAKwjB,QAAQ,aAAcxc,EAAM,IAE5Cyf,EAAkBvmB,UAAUslB,cAAgB,WACxC,OAAOxlB,KAAK6O,YAEhB4X,EAAkBvmB,UAAUulB,QAAU,WAClC,OAAOzlB,KAAK6O,WAAa7O,KAAK6O,WAAWgE,UAAY,IAEzD4T,EAAkBvmB,UAAU0N,gBAAkB,SAAU5G,GACpD,OAAOhH,KAAKwjB,QAAQ,eAAgBxc,EAAM,IAE9Cyf,EAAkBvmB,UAAUwmB,gBAAkB,WAC1C,OAAO1mB,KAAK2mB,cAETF,EA3B2B,CA4BpC9E,GAEEiF,EAAkC,SAAU9kB,GAE5C,SAAS8kB,EAAiB1kB,EAAQ8M,GAC9B,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAwBhD,OA1BAX,EAAUunB,EAAkB9kB,GAI5BrC,OAAOmiB,eAAegF,EAAiB1mB,UAAW,OAAQ,CACtD2hB,IAAK,WACD,OAAOjB,EAASgG,kBAEpB9E,YAAY,EACZC,cAAc,IAElB6E,EAAiB1mB,UAAUkJ,cAAgB,SAAUpC,GACjD,OAAOhH,KAAKwjB,QAAQ,aAAcxc,EAAM,IAE5C4f,EAAiB1mB,UAAUslB,cAAgB,WACvC,OAAOxlB,KAAK6O,YAEhB+X,EAAiB1mB,UAAUulB,QAAU,WACjC,OAAOzlB,KAAK6O,WAAa7O,KAAK6O,WAAWgE,UAAY,IAEzD+T,EAAiB1mB,UAAUgI,SAAW,SAAUlB,GAC5C,OAAOhH,KAAKwjB,QAAQ,QAASxc,EAAM,IAEvC4f,EAAiB1mB,UAAUshB,SAAW,WAClC,OAAOxhB,KAAKuhB,OAETqF,EA3B0B,CA4BnCjF,GAEEkF,EAA6B,SAAU/kB,GAEvC,SAAS+kB,EAAY3kB,EAAQ8M,GACzB,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAehD,OAjBAX,EAAUwnB,EAAa/kB,GAIvBrC,OAAOmiB,eAAeiF,EAAY3mB,UAAW,OAAQ,CACjD2hB,IAAK,WACD,OAAOjB,EAAShM,IAEpBkN,YAAY,EACZC,cAAc,IAElB8E,EAAY3mB,UAAUgK,cAAgB,SAAUlD,GAC5C,OAAOhH,KAAKwjB,QAAQ,aAAcxc,EAAM,IAE5C6f,EAAY3mB,UAAU6M,cAAgB,SAAU+Z,GAC5C,OAAO9mB,KAAKwjB,QAAQ,aAAcsD,IAE/BD,EAlBqB,CAmB9B3B,GAEE6B,EAA8B,SAAUjlB,GAExC,SAASilB,EAAa7kB,EAAQ8M,GAC1B,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAYhD,OAdAX,EAAU0nB,EAAcjlB,GAIxBrC,OAAOmiB,eAAemF,EAAa7mB,UAAW,OAAQ,CAClD2hB,IAAK,WACD,OAAOjB,EAAS/L,KAEpBiN,YAAY,EACZC,cAAc,IAElBgF,EAAa7mB,UAAU2H,YAAc,SAAUb,GAC3C,OAAOhH,KAAKwjB,QAAQ,WAAYxc,EAAM,IAEnC+f,EAfsB,CAgB/B7B,GAEE8B,EAA+B,SAAUllB,GAEzC,SAASklB,EAAc9kB,EAAQ8M,GAC3B,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAehD,OAjBAX,EAAU2nB,EAAellB,GAIzBrC,OAAOmiB,eAAeoF,EAAc9mB,UAAW,OAAQ,CACnD2hB,IAAK,WACD,OAAOjB,EAAS9L,MAEpBgN,YAAY,EACZC,cAAc,IAElBiF,EAAc9mB,UAAUiN,aAAe,WAInC,OAHKnN,KAAKkN,YACNlN,KAAKkN,UAAY,IAAIqX,EAASvkB,OAE3BA,KAAKkN,WAET8Z,EAlBuB,CAmBhC9B,GAEE+B,EAAgC,SAAUnlB,GAE1C,SAASmlB,EAAe/kB,EAAQ8M,GAC5B,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAShD,OAXAX,EAAU4nB,EAAgBnlB,GAI1BrC,OAAOmiB,eAAeqF,EAAe/mB,UAAW,OAAQ,CACpD2hB,IAAK,WACD,OAAOjB,EAAS7L,OAEpB+M,YAAY,EACZC,cAAc,IAEXkF,EAZwB,CAajC/B,GAEEgC,EAA+B,SAAUplB,GAEzC,SAASolB,EAAchlB,EAAQ8M,GAC3B,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAShD,OAXAX,EAAU6nB,EAAeplB,GAIzBrC,OAAOmiB,eAAesF,EAAchnB,UAAW,OAAQ,CACnD2hB,IAAK,WACD,OAAOjB,EAASuG,MAEpBrF,YAAY,EACZC,cAAc,IAEXmF,EAZuB,CAahChC,GAEEjQ,EAAqC,SAAUnT,GAE/C,SAASmT,EAAoB/S,EAAQ8M,GACjC,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAwBhD,OA1BAX,EAAU4V,EAAqBnT,GAI/BrC,OAAOmiB,eAAe3M,EAAoB/U,UAAW,OAAQ,CACzD2hB,IAAK,WACD,OAAOjB,EAAS3L,qBAEpB6M,YAAY,EACZC,cAAc,IAElB9M,EAAoB/U,UAAUkJ,cAAgB,SAAUpC,GACpD,OAAOhH,KAAKwjB,QAAQ,aAAcxc,EAAM,IAE5CiO,EAAoB/U,UAAUslB,cAAgB,WAC1C,OAAOxlB,KAAK6O,YAEhBoG,EAAoB/U,UAAUulB,QAAU,WACpC,OAAOzlB,KAAK6O,WAAa7O,KAAK6O,WAAWgE,UAAY,IAEzDoC,EAAoB/U,UAAUqN,cAAgB,WAI1C,OAHKvN,KAAKonB,aACNpnB,KAAKonB,WAAa,IAAI7C,EAASvkB,OAE5BA,KAAKonB,YAETnS,EA3B6B,CA4BtCiQ,GAEE1Q,EAA0B,SAAU1S,GAEpC,SAAS0S,EAAStS,EAAQ8M,GACtB,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAShD,OAXAX,EAAUmV,EAAU1S,GAIpBrC,OAAOmiB,eAAepN,EAAStU,UAAW,OAAQ,CAC9C2hB,IAAK,WACD,OAAOjB,EAASpM,UAEpBsN,YAAY,EACZC,cAAc,IAEXvN,EAZkB,CAa3B0Q,GAEEmC,EAA0B,SAAUvlB,GAEpC,SAASulB,EAASnlB,EAAQ8M,GACtB,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAShD,OAXAX,EAAUgoB,EAAUvlB,GAIpBrC,OAAOmiB,eAAeyF,EAASnnB,UAAW,OAAQ,CAC9C2hB,IAAK,WACD,OAAOjB,EAASyG,UAEpBvF,YAAY,EACZC,cAAc,IAEXsF,EAZkB,CAa3BnC,GAEEe,EAAkC,SAAUnkB,GAE5C,SAASmkB,EAAiB/jB,EAAQ8M,GAC9B,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAShD,OAXAX,EAAU4mB,EAAkBnkB,GAI5BrC,OAAOmiB,eAAeqE,EAAiB/lB,UAAW,OAAQ,CACtD2hB,IAAK,WACD,OAAOjB,EAASqF,kBAEpBnE,YAAY,EACZC,cAAc,IAEXkE,EAZ0B,CAanCf,GAEE3Q,EAA0B,SAAUzS,GAEpC,SAASyS,EAASrS,EAAQ8M,GACtB,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAwBhD,OA1BAX,EAAUkV,EAAUzS,GAIpBrC,OAAOmiB,eAAerN,EAASrU,UAAW,OAAQ,CAC9C2hB,IAAK,WACD,OAAOjB,EAASrM,UAEpBuN,YAAY,EACZC,cAAc,IAElBxN,EAASrU,UAAUoX,WAAa,SAAU/F,GACtC,OAAOvR,KAAKwjB,QAAQ,UAAWjS,EAAS,IAE5CgD,EAASrU,UAAUonB,WAAa,WAC5B,OAAOtnB,KAAKuR,SAEhBgD,EAASrU,UAAUkJ,cAAgB,SAAUpC,GACzC,OAAOhH,KAAKwjB,QAAQ,aAAcxc,EAAM,IAE5CuN,EAASrU,UAAUslB,cAAgB,WAC/B,OAAOxlB,KAAK6O,YAEhB0F,EAASrU,UAAUulB,QAAU,WACzB,OAAOzlB,KAAK6O,WAAa7O,KAAK6O,WAAWgE,UAAY,IAElD0B,EA3BkB,CA4B3B2Q,GAEEqC,EAAkC,SAAUzlB,GAE5C,SAASylB,EAAiBrlB,EAAQ8M,GAC9B,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAShD,OAXAX,EAAUkoB,EAAkBzlB,GAI5BrC,OAAOmiB,eAAe2F,EAAiBrnB,UAAW,OAAQ,CACtD2hB,IAAK,WACD,OAAOjB,EAAS2G,kBAEpBzF,YAAY,EACZC,cAAc,IAEXwF,EAZ0B,CAanCrC,GAEE9P,EAAwB,SAAUtT,GAElC,SAASsT,EAAOlT,EAAQ8M,GACpB,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAgBhD,OAlBAX,EAAU+V,EAAQtT,GAIlBrC,OAAOmiB,eAAexM,EAAOlV,UAAW,OAAQ,CAC5C2hB,IAAK,WACD,OAAOjB,EAASxL,QAEpB0M,YAAY,EACZC,cAAc,IAElB3M,EAAOlV,UAAUwH,aAAe,SAAUV,GACtC,QAAIA,IACAA,EAAK6b,SAAS7iB,OACP,IAIRoV,EAnBgB,CAoBzBuM,GAEE/f,EAAqB,SAAUE,GAE/B,SAASF,IACL,OAAkB,OAAXE,GAAmBA,EAAOC,MAAM/B,KAAMgC,YAAchC,KAqB/D,OAvBAX,EAAUuC,EAAKE,GAIfrC,OAAOmiB,eAAehgB,EAAI1B,UAAW,OAAQ,CACzC2hB,IAAK,WACD,OAAOjB,EAAShf,KAEpBkgB,YAAY,EACZC,cAAc,IAElBngB,EAAI1B,UAAUqN,cAAgB,WAI1B,OAHKvN,KAAKonB,aACNpnB,KAAKonB,WAAa,IAAI7C,EAASvkB,OAE5BA,KAAKonB,YAEhBxlB,EAAI1B,UAAUkJ,cAAgB,SAAUpC,GACpC,OAAOhH,KAAKwjB,QAAQ,aAAcxc,EAAM,IAE5CpF,EAAI1B,UAAUslB,cAAgB,WAC1B,OAAOxlB,KAAK6O,YAETjN,EAxBa,CAyBtB+f,GAEE6F,EAAqC,SAAU1lB,GAE/C,SAAS0lB,IACL,OAAkB,OAAX1lB,GAAmBA,EAAOC,MAAM/B,KAAMgC,YAAchC,KAwB/D,OA1BAX,EAAUmoB,EAAqB1lB,GAI/BrC,OAAOmiB,eAAe4F,EAAoBtnB,UAAW,OAAQ,CACzD2hB,IAAK,WACD,OAAOjB,EAAS4G,qBAEpB1F,YAAY,EACZC,cAAc,IAElByF,EAAoBtnB,UAAUkJ,cAAgB,SAAUpC,GACpD,OAAOhH,KAAKwjB,QAAQ,aAAcxc,EAAM,IAE5CwgB,EAAoBtnB,UAAUslB,cAAgB,WAC1C,OAAOxlB,KAAK6O,YAEhB2Y,EAAoBtnB,UAAUulB,QAAU,WACpC,OAAOzlB,KAAK6O,WAAa7O,KAAK6O,WAAWgE,UAAY,IAEzD2U,EAAoBtnB,UAAUgI,SAAW,SAAUlB,GAC/C,OAAOhH,KAAKwjB,QAAQ,QAASxc,EAAM,IAEvCwgB,EAAoBtnB,UAAUshB,SAAW,WACrC,OAAOxhB,KAAKuhB,OAETiG,EA3B6B,CA4BtC7F,GAEEhgB,EAAyB,SAAUG,GAEnC,SAASH,IACL,OAAkB,OAAXG,GAAmBA,EAAOC,MAAM/B,KAAMgC,YAAchC,KAe/D,OAjBAX,EAAUsC,EAASG,GAInBrC,OAAOmiB,eAAejgB,EAAQzB,UAAW,OAAQ,CAC7C2hB,IAAK,WACD,OAAOjB,EAASjf,SAEpBmgB,YAAY,EACZC,cAAc,IAElBpgB,EAAQzB,UAAUkJ,cAAgB,SAAUpC,GACxC,OAAOhH,KAAKwjB,QAAQ,aAAcxc,EAAM,IAE5CrF,EAAQzB,UAAUslB,cAAgB,WAC9B,OAAOxlB,KAAK6O,YAETlN,EAlBiB,CAmB1BggB,GAEE8F,EAAmC,SAAU3lB,GAE7C,SAAS2lB,IACL,OAAkB,OAAX3lB,GAAmBA,EAAOC,MAAM/B,KAAMgC,YAAchC,KAe/D,OAjBAX,EAAUooB,EAAmB3lB,GAI7BrC,OAAOmiB,eAAe6F,EAAkBvnB,UAAW,OAAQ,CACvD2hB,IAAK,WACD,OAAOjB,EAAS6G,mBAEpB3F,YAAY,EACZC,cAAc,IAElB0F,EAAkBvnB,UAAUkJ,cAAgB,SAAUpC,GAClD,OAAOhH,KAAKwjB,QAAQ,aAAcxc,EAAM,IAE5CygB,EAAkBvnB,UAAUslB,cAAgB,WACxC,OAAOxlB,KAAK6O,YAET4Y,EAlB2B,CAmBpC9F,GAEEhN,EAA2B,SAAU7S,GAErC,SAAS6S,EAAUzS,EAAQ8M,GACvB,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAShD,OAXAX,EAAUsV,EAAW7S,GAIrBrC,OAAOmiB,eAAejN,EAAUzU,UAAW,OAAQ,CAC/C2hB,IAAK,WACD,OAAOjB,EAASjM,WAEpBmN,YAAY,EACZC,cAAc,IAEXpN,EAZmB,CAa5BgN,GAEElN,EAAuB,SAAU3S,GAEjC,SAAS2S,EAAMvS,EAAQ8M,GACnB,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAShD,OAXAX,EAAUoV,EAAO3S,GAIjBrC,OAAOmiB,eAAenN,EAAMvU,UAAW,OAAQ,CAC3C2hB,IAAK,WACD,OAAOjB,EAASnM,OAEpBqN,YAAY,EACZC,cAAc,IAEXtN,EAZe,CAaxByQ,GAEEwC,EAA0B,SAAU5lB,GAEpC,SAAS4lB,EAASxlB,EAAQ8M,GACtB,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAShD,OAXAX,EAAUqoB,EAAU5lB,GAIpBrC,OAAOmiB,eAAe8F,EAASxnB,UAAW,OAAQ,CAC9C2hB,IAAK,WACD,OAAOjB,EAAS8G,UAEpB5F,YAAY,EACZC,cAAc,IAEX2F,EAZkB,CAa3BxC,GAEEyC,EAA0B,SAAU7lB,GAEpC,SAAS6lB,EAASzlB,EAAQ8M,GACtB,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAShD,OAXAX,EAAUsoB,EAAU7lB,GAIpBrC,OAAOmiB,eAAe+F,EAASznB,UAAW,OAAQ,CAC9C2hB,IAAK,WACD,OAAOjB,EAAS+G,UAEpB7F,YAAY,EACZC,cAAc,IAEX4F,EAZkB,CAa3BzC,GAEE0C,EAA2B,SAAU9lB,GAErC,SAAS8lB,EAAU1lB,EAAQ8M,GACvB,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAQhD,OAVAX,EAAUuoB,EAAW9lB,GAIrB8lB,EAAU1nB,UAAU2nB,WAAa,WAI7B,OAHK7nB,KAAK8nB,UACN9nB,KAAK8nB,QAAU,IAAIvD,EAASvkB,OAEzBA,KAAK8nB,SAETF,EAXmB,CAY5BjG,GAEExM,EAA4B,SAAUrT,GAEtC,SAASqT,EAAWjT,EAAQ8M,GACxB,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAShD,OAXAX,EAAU8V,EAAYrT,GAItBrC,OAAOmiB,eAAezM,EAAWjV,UAAW,OAAQ,CAChD2hB,IAAK,WACD,OAAOjB,EAASzL,YAEpB2M,YAAY,EACZC,cAAc,IAEX5M,EAZoB,CAa7BwM,GAEEoG,EAAmC,SAAUjmB,GAE7C,SAASimB,EAAkB7lB,EAAQ8M,GAC/B,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAShD,OAXAX,EAAU0oB,EAAmBjmB,GAI7BrC,OAAOmiB,eAAemG,EAAkB7nB,UAAW,OAAQ,CACvD2hB,IAAK,WACD,OAAOjB,EAASmH,mBAEpBjG,YAAY,EACZC,cAAc,IAEXgG,EAZ2B,CAapCpG,GAEEqG,EAAsB,SAAUlmB,GAEhC,SAASkmB,EAAK9lB,EAAQ8M,GAClB,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAShD,OAXAX,EAAU2oB,EAAMlmB,GAIhBrC,OAAOmiB,eAAeoG,EAAK9nB,UAAW,OAAQ,CAC1C2hB,IAAK,WACD,OAAOjB,EAASoH,MAEpBlG,YAAY,EACZC,cAAc,IAEXiG,EAZc,CAavB9C,GAEE+C,EAAkC,SAAUnmB,GAE5C,SAASmmB,EAAiB/lB,EAAQ8M,GAC9B,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAShD,OAXAX,EAAU4oB,EAAkBnmB,GAI5BrC,OAAOmiB,eAAeqG,EAAiB/nB,UAAW,OAAQ,CACtD2hB,IAAK,WACD,OAAOjB,EAASqH,kBAEpBnG,YAAY,EACZC,cAAc,IAEXkG,EAZ0B,CAanC/C,GAEEgD,GAA4B,SAAUpmB,GAEtC,SAASomB,EAAWhmB,EAAQ8M,GACxB,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAShD,OAXAX,EAAU6oB,EAAYpmB,GAItBrC,OAAOmiB,eAAesG,EAAWhoB,UAAW,OAAQ,CAChD2hB,IAAK,WACD,OAAOjB,EAASsH,YAEpBpG,YAAY,EACZC,cAAc,IAEXmG,EAZoB,CAa7BvG,GAEEwG,GAAkC,SAAUrmB,GAE5C,SAASqmB,EAAiBjmB,EAAQ8M,GAC9B,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KA2BhD,OA7BAX,EAAU8oB,EAAkBrmB,GAI5BrC,OAAOmiB,eAAeuG,EAAiBjoB,UAAW,OAAQ,CACtD2hB,IAAK,WACD,OAAOjB,EAASuH,kBAEpBrG,YAAY,EACZC,cAAc,IAElBoG,EAAiBjoB,UAAUwa,QAAU,SAAU0N,GAC3C,OAAOpoB,KAAKwjB,QAAQ,OAAQ4E,IAEhCD,EAAiBjoB,UAAUmoB,QAAU,WACjC,OAAOroB,KAAKooB,MAEhBD,EAAiBjoB,UAAUya,SAAW,SAAU2N,GAC5C,OAAOtoB,KAAKwjB,QAAQ,QAAS8E,IAEjCH,EAAiBjoB,UAAUqoB,SAAW,WAClC,OAAOvoB,KAAKsoB,OAEhBH,EAAiBjoB,UAAU8Z,YAAc,SAAUuH,GAC/C,OAAOvhB,KAAKwjB,QAAQ,WAAYjC,IAEpC4G,EAAiBjoB,UAAUsoB,YAAc,WACrC,OAAOxoB,KAAK4a,UAETuN,EA9B0B,CA+BnCxG,GAEE8G,GAAsB,SAAU3mB,GAEhC,SAAS2mB,EAAKvmB,EAAQ8M,GAClB,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAqBhD,OAvBAX,EAAUopB,EAAM3mB,GAIhBrC,OAAOmiB,eAAe6G,EAAKvoB,UAAW,OAAQ,CAC1C2hB,IAAK,WACD,OAAOjB,EAAS6H,MAEpB3G,YAAY,EACZC,cAAc,IAElB0G,EAAKvoB,UAAU8Z,YAAc,SAAUuH,GACnC,OAAOvhB,KAAKwjB,QAAQ,WAAYjC,IAEpCkH,EAAKvoB,UAAUsoB,YAAc,WACzB,OAAOxoB,KAAK4a,UAEhB6N,EAAKvoB,UAAUgK,cAAgB,SAAUqX,GACrC,OAAOvhB,KAAKwjB,QAAQ,aAAcjC,IAEtCkH,EAAKvoB,UAAUwoB,cAAgB,WAC3B,OAAO1oB,KAAKuW,YAETkS,EAxBc,CAyBvB9G,GAEEgH,GAAmC,SAAU7mB,GAE7C,SAAS6mB,EAAkBzmB,EAAQ8M,GAC/B,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAiChD,OAnCAX,EAAUspB,EAAmB7mB,GAI7BrC,OAAOmiB,eAAe+G,EAAkBzoB,UAAW,OAAQ,CACvD2hB,IAAK,WACD,OAAOjB,EAAS+H,mBAEpB7G,YAAY,EACZC,cAAc,IAElB4G,EAAkBzoB,UAAU6Z,mBAAqB,SAAUwH,GACvD,OAAOvhB,KAAKwjB,QAAQ,kBAAmBjC,IAE3CoH,EAAkBzoB,UAAU0oB,mBAAqB,WAC7C,OAAO5oB,KAAK6oB,iBAEhBF,EAAkBzoB,UAAUkJ,cAAgB,SAAUmY,GAClD,OAAOvhB,KAAKwjB,QAAQ,aAAcjC,IAEtCoH,EAAkBzoB,UAAUslB,cAAgB,WACxC,OAAOxlB,KAAK6O,YAEhB8Z,EAAkBzoB,UAAU8Z,YAAc,SAAUY,GAChD,OAAO5a,KAAKwjB,QAAQ,WAAY5I,IAEpC+N,EAAkBzoB,UAAUsoB,YAAc,WACtC,OAAOxoB,KAAK4a,UAEhB+N,EAAkBzoB,UAAUgI,SAAW,SAAUqZ,GAC7C,OAAOvhB,KAAKwjB,QAAQ,QAASjC,IAEjCoH,EAAkBzoB,UAAUshB,SAAW,WACnC,OAAOxhB,KAAKuhB,OAEToH,EApC2B,CAqCpChH,GAiBEmH,IAf0B,SAAUhnB,GAEpC,SAAS4I,EAASxI,EAAQ8M,GACtB,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAFhDX,EAAUqL,EAAU5I,GAIpBrC,OAAOmiB,eAAelX,EAASxK,UAAW,OAAQ,CAC9C2hB,IAAK,WACD,OAAOjB,EAASlW,UAEpBoX,YAAY,EACZC,cAAc,IAVO,CAa3BJ,GAEiC,SAAU7f,GAEzC,SAASgnB,EAAc5mB,EAAQ8M,GAC3B,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAShD,OAXAX,EAAUypB,EAAehnB,GAIzBrC,OAAOmiB,eAAekH,EAAc5oB,UAAW,OAAQ,CACnD2hB,IAAK,WACD,OAAOjB,EAASkI,eAEpBhH,YAAY,EACZC,cAAc,IAEX+G,EAZuB,CAahCnH,IAEEoH,GAAO,IAAI1oB,WAAW,GAAIwc,GAAK,IAAIxc,WAAW,GAAIyc,GAAK,IAAIzc,WAAW,GACtE2oB,GAA8B,SAAUlnB,GAExC,SAASknB,EAAa9mB,EAAQ8M,GAC1B,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAyBhD,OA3BAX,EAAU2pB,EAAclnB,GAIxBrC,OAAOmiB,eAAeoH,EAAa9oB,UAAW,OAAQ,CAClD2hB,IAAK,WACD,OAAOjB,EAASoI,cAEpBlH,YAAY,EACZC,cAAc,IAElBiH,EAAa9oB,UAAUshB,SAAW,WAI9B,IAHA,IAEIyH,EAFAC,EAAMlpB,KAAK6S,UACXsW,EAAU,EAELvZ,EAAI,EAAGY,EAAM0Y,EAAIla,OAAQY,EAAIY,EAAKZ,IAAK,CAE5C,GADAqZ,EAAOC,EAAI7oB,WAAWuP,KAChBiN,IAAMoM,GAAQA,GAAQnM,IAAMmM,IAASF,IACvC,MAEJI,GAAW,EAEf,MAAO,CACH5H,MAAO2H,EAAIrN,UAAU,EAAGsN,GACxBC,KAAMD,EAAUD,EAAIla,OAASka,EAAIrN,UAAUsN,QAAWzY,IAGvDsY,EA5BsB,CA6B/BrH,GAEEpM,GAAqC,SAAUzT,GAE/C,SAASyT,EAAoBrT,EAAQ8M,GACjC,IAAItF,EAAQ5H,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAIjD,OAHA0J,EAAM2f,SAAW,KACjB3f,EAAM6X,MAAQ,KACd7X,EAAM8L,gBAAiB,EAChB9L,EAkCX,OAxCArK,EAAUkW,EAAqBzT,GAQ/BrC,OAAOmiB,eAAerM,EAAoBrV,UAAW,OAAQ,CACzD2hB,IAAK,WACD,OAAOjB,EAASrL,qBAEpBuM,YAAY,EACZC,cAAc,IAElBxM,EAAoBrV,UAAU2H,YAAc,SAAUb,GAClD,QAAIA,IACAA,EAAK6b,SAAS7iB,MACdA,KAAKqpB,SAAWriB,GACT,IAIfuO,EAAoBrV,UAAUopB,YAAc,WACxC,OAAOtpB,KAAKqpB,UAEhB9T,EAAoBrV,UAAUulB,QAAU,WACpC,OAAOzlB,KAAKqpB,SAAWrpB,KAAKqpB,SAAS5D,UAAY,IAErDlQ,EAAoBrV,UAAUgI,SAAW,SAAUlB,GAC/C,QAAIA,IACAA,EAAK6b,SAAS7iB,MACdA,KAAKuhB,MAAQva,GACN,IAIfuO,EAAoBrV,UAAUshB,SAAW,WACrC,OAAOxhB,KAAKuhB,OAEThM,EAzC6B,CA0CtCmQ,GAEE6D,GAA+B,SAAUznB,GAGzC,SAASynB,EAAcrnB,EAAQ8M,GAC3B,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAShD,OAZAX,EAAUkqB,EAAeznB,GAKzBrC,OAAOmiB,eAAe2H,EAAcrpB,UAAW,OAAQ,CACnD2hB,IAAK,WACD,OAAOjB,EAAS2I,eAEpBzH,YAAY,EACZC,cAAc,IAEXwH,EAbuB,CAchC5H,GAEErN,GAA0B,SAAUxS,GAEpC,SAASwS,EAASpS,EAAQ8M,GACtB,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAYhD,OAdAX,EAAUiV,EAAUxS,GAIpBrC,OAAOmiB,eAAetN,EAASpU,UAAW,OAAQ,CAC9C2hB,IAAK,WACD,OAAOjB,EAASxf,cAEpB0gB,YAAY,EACZC,cAAc,IAElBzN,EAASpU,UAAUulB,QAAU,WACzB,OAAOzlB,KAAK6S,WAETyB,EAfkB,CAgB3BqN,GAEEzM,GAAkC,SAAUpT,GAE5C,SAASoT,EAAiBhT,EAAQ8M,GAC9B,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAehD,OAjBAX,EAAU6V,EAAkBpT,GAI5BrC,OAAOmiB,eAAe1M,EAAiBhV,UAAW,OAAQ,CACtD2hB,IAAK,WACD,OAAOjB,EAAS1L,kBAEpB4M,YAAY,EACZC,cAAc,IAElB7M,EAAiBhV,UAAU0L,aAAe,WAItC,OAHK5L,KAAKmU,YACNnU,KAAKmU,UAAY,IAAIoQ,EAASvkB,OAE3BA,KAAKmU,WAETe,EAlB0B,CAmBnCyM,GAEElM,GAAgC,SAAU3T,GAE1C,SAAS2T,EAAevT,EAAQ8M,GAC5B,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAoChD,OAtCAX,EAAUoW,EAAgB3T,GAI1BrC,OAAOmiB,eAAenM,EAAevV,UAAW,OAAQ,CACpD2hB,IAAK,WACD,OAAOjB,EAASnL,gBAEpBqM,YAAY,EACZC,cAAc,IAElBtM,EAAevV,UAAUspB,cAAgB,WAIrC,OAHKxpB,KAAKypB,aACNzpB,KAAKypB,WAAa,IAAIlF,EAASvkB,OAE5BA,KAAKypB,YAEhBhU,EAAevV,UAAUkJ,cAAgB,SAAUpC,GAC/C,OAAOhH,KAAKwjB,QAAQ,aAAcxc,EAAM,IAE5CyO,EAAevV,UAAUslB,cAAgB,WACrC,OAAOxlB,KAAK6O,YAEhB4G,EAAevV,UAAUulB,QAAU,WAC/B,OAAOzlB,KAAK6O,WAAa7O,KAAK6O,WAAWgE,UAAY,IAEzD4C,EAAevV,UAAU+N,aAAe,WAIpC,OAHKjO,KAAKgC,YACNhC,KAAKgC,UAAY,IAAIuiB,EAASvkB,OAE3BA,KAAKgC,WAEhByT,EAAevV,UAAUkO,WAAa,SAAUpH,GAC5C,OAAOhH,KAAKwjB,QAAQ,UAAWxc,IAEnCyO,EAAevV,UAAUwV,WAAa,WAClC,OAAO1V,KAAKqC,SAEToT,EAvCwB,CAwCjCkM,GAEE3M,GAAkC,SAAUlT,GAE5C,SAASkT,EAAiB9S,EAAQ8M,GAC9B,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KA+BhD,OAjCAX,EAAU2V,EAAkBlT,GAI5BrC,OAAOmiB,eAAe5M,EAAiB9U,UAAW,OAAQ,CACtD2hB,IAAK,WACD,OAAOjB,EAAS5L,kBAEpB8M,YAAY,EACZC,cAAc,IAElB/M,EAAiB9U,UAAUkJ,cAAgB,SAAUpC,GACjD,OAAOhH,KAAKwjB,QAAQ,aAAcxc,EAAM,IAE5CgO,EAAiB9U,UAAUslB,cAAgB,WACvC,OAAOxlB,KAAK6O,YAEhBmG,EAAiB9U,UAAUulB,QAAU,WACjC,OAAOzlB,KAAK6O,WAAa7O,KAAK6O,WAAWgE,UAAY,IAEzDmC,EAAiB9U,UAAUqN,cAAgB,WAIvC,OAHKvN,KAAKonB,aACNpnB,KAAKonB,WAAa,IAAI7C,EAASvkB,OAE5BA,KAAKonB,YAEhBpS,EAAiB9U,UAAUwpB,SAAW,SAAU1iB,GAK5C,OAJIA,IACAA,EAAK6b,SAAS7iB,MACdA,KAAK2pB,MAAQ3iB,IAEV,GAEJgO,EAlC0B,CAmCnCkQ,GAEEngB,GAA+B,SAAUjD,GAEzC,SAASiD,EAAc7C,EAAQ8M,GAC3B,OAAOlN,EAAOe,KAAK7C,KAAMkC,EAAQ8M,IAAWhP,KAehD,OAjBAX,EAAU0F,EAAejD,GAIzBrC,OAAOmiB,eAAe7c,EAAc7E,UAAW,OAAQ,CACnD2hB,IAAK,WACD,OAAOjB,EAAS7b,eAEpB+c,YAAY,EACZC,cAAc,IAElBhd,EAAc7E,UAAU0pB,cAAgB,SAAUC,GAC9C7pB,KAAK6pB,WAAaA,GAEtB9kB,EAAc7E,UAAU4pB,cAAgB,WACpC,OAAO9pB,KAAK6pB,YAET9kB,EAlBuB,CAmBhCmgB,GAEE6E,GAA2B,SAAUjoB,GAErC,SAASioB,IACL,OAAkB,OAAXjoB,GAAmBA,EAAOC,MAAM/B,KAAMgC,YAAchC,KAe/D,OAjBAX,EAAU0qB,EAAWjoB,GAIrBrC,OAAOmiB,eAAemI,EAAU7pB,UAAW,OAAQ,CAC/C2hB,IAAK,WACD,OAAOjB,EAASmJ,WAEpBjI,YAAY,EACZC,cAAc,IAElBgI,EAAU7pB,UAAUyO,OAAS,SAAU3H,GACnC,OAAOhH,KAAKwjB,QAAQ,MAAOxc,EAAM,IAErC+iB,EAAU7pB,UAAUgI,SAAW,SAAUlB,GACrC,OAAOhH,KAAKwjB,QAAQ,QAASxc,EAAM,IAEhC+iB,EAlBmB,CAmB5BpI,GAEEqI,GAA2B,SAAUloB,GAErC,SAASkoB,IACL,OAAkB,OAAXloB,GAAmBA,EAAOC,MAAM/B,KAAMgC,YAAchC,KAQ/D,OAVAX,EAAU2qB,EAAWloB,GAIrBkoB,EAAU9pB,UAAU+pB,cAAgB,WAIhC,OAHKjqB,KAAKkqB,aACNlqB,KAAKkqB,WAAa,IAAI3F,EAASvkB,OAE5BA,KAAKkqB,YAETF,EAXmB,CAY5BrI,GAEEwI,GAAgC,SAAUroB,GAE1C,SAASqoB,IACL,OAAkB,OAAXroB,GAAmBA,EAAOC,MAAM/B,KAAMgC,YAAchC,KAK/D,OAPAX,EAAU8qB,EAAgBroB,GAI1BqoB,EAAejqB,UAAU2H,YAAc,SAAUb,GAC7C,OAAOhH,KAAKwjB,QAAQ,WAAYxc,IAE7BmjB,EARwB,CASjCxI,GAEEtY,GAAwB,SAAUvH,GAElC,SAASuH,IACL,OAAkB,OAAXvH,GAAmBA,EAAOC,MAAM/B,KAAMgC,YAAchC,KAe/D,OAjBAX,EAAUgK,EAAQvH,GAIlBrC,OAAOmiB,eAAevY,EAAOnJ,UAAW,OAAQ,CAC5C2hB,IAAK,WACD,OAAOjB,EAASvX,QAEpByY,YAAY,EACZC,cAAc,IAElB1Y,EAAOnJ,UAAUkJ,cAAgB,SAAUpC,GACvC,OAAOhH,KAAKwjB,QAAQ,aAAcxc,EAAM,IAE5CqC,EAAOnJ,UAAUslB,cAAgB,WAC7B,OAAOxlB,KAAK6O,YAETxF,EAlBgB,CAmBzBsY,IAGF,SAAWD,GACPA,EAAMA,EAAM,UAAY,GAAK,SAC7BA,EAAMA,EAAM,WAAa,GAAK,UAC9BA,EAAMA,EAAM,SAAW,GAAK,SAHhC,CAIGA,IAAUA,EAAQ,KACrB,IAAI0I,GAAwB,WACxB,SAASA,EAAOpjB,EAAMmc,EAAMkH,EAAOhnB,EAASnB,EAAQ8M,QACjC,IAAX9M,IAAqBA,EAAS8E,EAAK9E,aACxB,IAAX8M,IAAqBA,EAAShI,EAAKgI,QACvChP,KAAKgH,KAAOA,EACZhH,KAAKmjB,KAAOA,EACZnjB,KAAKqqB,MAAQA,EACbrqB,KAAKqD,QAAUA,GAAW8f,EAAK9f,QAC/BrD,KAAKkC,OAASA,EACdlC,KAAKgP,OAASA,EAoBlB,OAlBAob,EAAOlqB,UAAUojB,QAAU,WACvB,OAAOtjB,KAAKmjB,MAEhBiH,EAAOlqB,UAAUoqB,SAAW,WACxB,OAAOtqB,KAAKqqB,OAEhBD,EAAOlqB,UAAUqqB,UAAY,WACzB,OAAOvqB,KAAKkC,QAEhBkoB,EAAOlqB,UAAUsqB,UAAY,WACzB,OAAOxqB,KAAKgP,QAEhBob,EAAOlqB,UAAUuqB,QAAU,WACvB,OAAOzqB,KAAKgH,MAEhBojB,EAAOlqB,UAAUwqB,WAAa,WAC1B,OAAO1qB,KAAKqD,SAET+mB,EA7BgB,GAgMvBO,GAAqC,WACrC,SAASA,IACL3qB,KAAK4qB,QAAU,GAanB,OAXAD,EAAoBC,QAAU,SAAU5jB,GACpC,IAAIsb,EAAU,IAAIqI,EAElB,OADA3jB,EAAKwb,cAAcF,GACZA,EAAQsI,SAEnBD,EAAoBzqB,UAAUuiB,UAAY,SAAUzb,GAIhD,OAHIA,EAAKqP,eACLrP,EAAK8b,cAAc9iB,KAAK4qB,UAErB,GAEJD,EAf6B,I,kCCv1DxC,kGAKItrB,EAAwC,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,KAClEP,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASO,IAAOC,KAAKC,YAAcV,EADnCD,EAAcC,EAAGC,GAEjBD,EAAEW,UAAkB,OAANV,EAAaC,OAAOU,OAAOX,IAAMO,EAAGG,UAAYV,EAAEU,UAAW,IAAIH,IAV3C,GAsBxC8qB,EAA4B,SAAU/oB,GAEtC,SAAS+oB,IACL,OAAO/oB,EAAOe,KAAK7C,KAAM,IAAI,SAA8BA,KAwsB/D,OA1sBAX,EAAUwrB,EAAY/oB,GAItB+oB,EAAW3qB,UAAUgG,0BAA4B,SAAU0N,GAEvD,YADiB,IAAbA,IAAuBA,GAAW,GAClC5T,KAAKmG,KAAK,OAAUC,WACbpG,KAAK6G,6BACL7G,KAAK8qB,gBACLhpB,EAAO5B,UAAUyG,4BAA4B9D,KAAK7C,KAAM4T,GAE5D5T,KAAK+qB,6BACL/qB,KAAKgrB,2BACLhrB,KAAK6I,kBACL7I,KAAK4G,eAAc,IAE9BikB,EAAW3qB,UAAU4G,aAAe,WAChC,IAAK9G,KAAK+G,YAAY,aAAe/G,KAAK+G,YAAY,gBAClD,OAAO,KAEX,IAAIC,EAAOhH,KAAKG,OAAO,QAGvB,GAFAH,KAAKiH,eAEDjH,KAAKsH,OAAO,OAAU+E,cAAe,CACrC,IAAKrM,KAAKsH,OAAO,OAAUgB,OACvB,OAAOtI,KAAKqH,OAAOL,EAAM,OAAWhD,mBAAoB,CAAC,OAAUwD,YAEvE,GACI,IAAKxH,KAAKsH,OAAO,OAAUC,OACvB,YAECvH,KAAKsH,OAAO,OAAUgB,QAC/B,IAAKtI,KAAKsH,OAAO,OAAUmG,cACvB,OAAOzN,KAAKqH,OAAOL,EAAM,OAAWpC,yBAA0B,CAAC,OAAU4C,YAGjF,OAAKR,EAAKE,SAASlH,KAAKmH,qBAAwBH,EAAKE,SAASlH,KAAKoH,wBAG9DpH,KAAKmG,KAAK,OAAUqB,YAAexH,KAAKmG,KAAK,OAAUsB,MACxDT,EAAKU,aAAa1H,KAAK2H,wBAEpB3H,KAAKqH,OAAOL,IALRhH,KAAKqH,OAAOL,EAAM,OAAW9C,oBAAqB,CAAC,OAAUsD,aAO5EqjB,EAAW3qB,UAAU4qB,aAAe,WAChC,IAAK9qB,KAAK+G,YAAY,WAClB,OAAO,KAEX,IAAIC,EAAOhH,KAAKyK,WAAW,OAAewgB,QAE1C,OADAjrB,KAAKiH,eACAD,EAAKE,SAASlH,KAAKoH,uBAGnBpH,KAAKsH,OAAO,OAAUE,WAGpBxH,KAAKqH,OAAOL,GAFRhH,KAAKqH,OAAOL,EAAM,OAAWpD,mBAH7B5D,KAAKqH,OAAOL,EAAM,OAAW9B,wBAO5C2lB,EAAW3qB,UAAU+X,iBAAmB,SAAUC,GAC9C,IAAIlR,EAAOlF,EAAO5B,UAAU+X,iBAAiBpV,KAAK7C,KAAMkY,GACxD,IAAKlR,EAAM,CACP,IAAIuH,EAASvO,KAAKG,OAAO,QACzB,OAAIoO,EAAOrH,SAASlH,KAAK8H,kBACd9H,KAAKqH,OAAOkH,GAEhB,KAEX,OAAOvH,GAEX6jB,EAAW3qB,UAAU8X,uBAAyB,SAAUpE,GAEpD,YADiB,IAAbA,IAAuBA,GAAW,GAC/B5T,KAAKkL,iBAAiB0I,IACtB5T,KAAKiX,0BACLjX,KAAK+qB,6BACL/qB,KAAKgrB,2BACLhrB,KAAKkrB,8BACLlrB,KAAKkG,0BAA0B0N,IAE1CiX,EAAW3qB,UAAUyI,uBAAyB,WAC1C,OAAO3I,KAAK8I,eAAiB9I,KAAK8H,kBAEtC+iB,EAAW3qB,UAAU2G,0BAA4B,SAAUe,QACzC,IAAVA,IAAoBA,EAAQ,IAChC,IAAIZ,EAAOhH,KAAKG,OAAO,SACnBgJ,EAAOnJ,KAAKmJ,OAChB,IAAKnC,EAAKa,YAAY7H,KAAK8H,gBAAe,IACtC,OAAO,KAEX,IAAI9H,KAAKsH,OAAO,OAAUS,OActB,OADA/H,KAAKwJ,cAAcL,GACZ,KAVP,GAHInJ,KAAKgI,YACLhB,EAAKiB,cAAgBjI,KAAKgI,UAAU9F,QAEpC8E,EAAKkB,SAASlI,KAAKmrB,yBACnBnkB,EAAKwO,gBAAiB,OAErB,IAAKxO,EAAKkB,SAASlI,KAAKmI,cACzB,OAAOnI,KAAKqH,OAAOL,EAAM,OAAW3C,sBAAuB,GAAIuD,GAWvE,OATIZ,EAAKE,SAASlH,KAAKuL,cAMnBvL,KAAKmG,KAAK,OAAUqB,aACpBR,EAAKuB,kBAAoBvI,KAAKwI,MAAMtG,QAEjClC,KAAKqH,OAAOL,IAEvB6jB,EAAW3qB,UAAUirB,sBAAwB,WACzC,IAAIhiB,EAAOnJ,KAAKmJ,OAEhB,GAAInJ,KAAK2J,UAAU,MAAQ3J,KAAK2J,UAAU,KAAM,CAE5C,GADA3J,KAAKiH,eACAjH,KAAKsJ,kBAAmBtJ,KAAKsH,OAAO,OAAU+E,cAmB/C,OADArM,KAAKwJ,cAAcL,GACZ,KAlBP,IAAInC,EAAOhH,KAAKG,OAAO,QACvB,GAAI6G,EAAKuG,gBAAgBrG,SAASlH,KAAKorB,wBACnC,MAAOprB,KAAKsH,OAAO,OAAUC,QAAUvH,KAAKsH,OAAO,OAAUE,WAAY,CACrE,GAAIxH,KAAKmG,KAAK,OAAUsH,cACpB,MAECzG,EAAKuG,gBAAgBrG,SAASlH,KAAKorB,yBACpCprB,KAAKoS,UAAUpL,EAAM,OAAWhD,mBAAoB,GAAI,CAAC,OAAUyJ,eAI/E,IAAKzN,KAAKsH,OAAO,OAAUmG,cAEvB,OADAzN,KAAKwJ,cAAcL,GACZ,KAQnB,IAAKnJ,KAAKmG,KAAK,OAAUqF,QACrB,OAAO,KAEX,IAAInJ,EAAUrC,KAAKG,OAAO,QAE1B,OADAH,KAAK2L,WAAWtJ,EAASrC,KAAKqrB,0BAA0BpiB,KAAKjJ,OACtDA,KAAKqH,OAAOhF,IAEvBwoB,EAAW3qB,UAAUmrB,0BAA4B,WAC7C,OAAOrrB,KAAKgJ,6BAA+BhJ,KAAK4K,4BAEpDigB,EAAW3qB,UAAUorB,mBAAqB,SAAUtkB,GAChD,IAAKA,EAAKE,SAASlH,KAAKurB,qBACpB,OAAO,EAEX,IAAIC,GAAe,EACnB,MAAO,EAAM,CAIT,GAHIxrB,KAAKmG,KAAK,OAAU2Q,YACpB0U,GAAe,IAEdxkB,EAAKE,SAASlH,KAAKurB,qBACpB,MAEJC,GAAe,EAEnB,OAAQA,GAEZX,EAAW3qB,UAAUqrB,kBAAoB,WACrC,IAAIvkB,EAAOhH,KAAKG,OAAO,QACnBgJ,EAAOnJ,KAAKmJ,OAChB,OAAKnJ,KAAKsH,OAAO,OAAUwP,aAIrB9P,EAAKE,SAASlH,KAAK8H,gBAAe,GAAO,KAC3Cd,EAAKE,SAASlH,KAAKkX,8BACnBlX,KAAKsH,OAAO,OAAUyP,WAAc/W,KAAKsH,OAAO,OAAUyP,WACnD/P,GANPhH,KAAKwJ,cAAcL,GACZ,OAUf0hB,EAAW3qB,UAAU4H,eAAiB,SAAU2jB,EAAaC,QACrC,IAAhBD,IAA0BA,GAAc,QACvB,IAAjBC,IAA2BA,GAAe,GAC9C,IAAIC,GAAuBF,GAAezrB,KAAK2J,UAAU,KACzD,IAAK3J,KAAK2J,UAAU,OAASgiB,IAAwB3rB,KAAKmG,KAAK,OAAUC,WACrE,OAAO,KAEX,IAAIY,EAAOhH,KAAKG,OAAO,SACnBgJ,EAAOnJ,KAAKmJ,OAChB,MAAOnJ,KAAKuJ,YAAY,OAAUkiB,GAAezrB,KAAKuJ,YAAY,KAC9D,GAAIvJ,KAAKsJ,gBAEL,OADAtJ,KAAKwJ,cAAcL,GACZ,KAGf,OAAKnJ,KAAKsH,OAAO,OAAUlB,YAAepG,KAAKsH,OAAO,OAAUgB,UAI3DojB,IAAgB1rB,KAAKmG,KAAK,OAAU2Q,WAChC9W,KAAKsrB,mBAAmBtkB,IAK1BA,GATHhH,KAAKwJ,cAAcL,GACZ,OAUf0hB,EAAW3qB,UAAU8J,WAAa,WAC9B,IAAIC,EAAOnI,EAAO5B,UAAU8J,WAAWnH,KAAK7C,MAC5C,OAAIiK,IAGJA,EAAOjK,KAAKG,OAAO,SACf8J,EAAKC,cAAclK,KAAK8H,mBACxBmC,EAAKC,cAAclK,KAAK4rB,kBACxB3hB,EAAKC,cAAclK,KAAKgrB,yBAAwB,IACzChrB,KAAKqH,OAAO4C,GAEhB,OAEX4gB,EAAW3qB,UAAU0rB,cAAgB,WACjC,GAAI5rB,KAAKmG,KAAK,OAAUqJ,oBACpBxP,KAAKmG,KAAK,OAAUsJ,sBAAuB,CAC3C,IAAIzI,EAAOhH,KAAKyK,WAAW,OAAeohB,cAE1C,OADA7rB,KAAKiH,eACEjH,KAAKqH,OAAOL,GAEvB,GAAIhH,KAAK2J,UAAU,KAAM,CACjB3C,EAAOhH,KAAKyK,WAAW,OAAeohB,cAE1C,OADA7rB,KAAKiH,eACDjH,KAAKsH,OAAO,OAAU8P,SAAWpX,KAAKsH,OAAO,OAAUkI,mBAChDxP,KAAKqH,OAAOL,GAGZhH,KAAKqH,OAAOL,EAAM,OAAWnD,cAG5C,OAAO,MAEXgnB,EAAW3qB,UAAUqK,eAAiB,WAClC,IAAIvD,EAAOhH,KAAK8rB,sBAChB,OAAI9kB,GAIOlF,EAAO5B,UAAUqK,eAAe1H,KAAK7C,OAGpD6qB,EAAW3qB,UAAU4rB,oBAAsB,WACvC,GAAI9rB,KAAK2J,UAAU,KAAM,CACrB,IAAI3C,EAAOhH,KAAKyK,WAAW,OAAeC,UAG1C,OAFA1K,KAAKiH,eACLjH,KAAKuJ,YAAY,KACVvC,EAEN,GAAIhH,KAAK2J,UAAU,KAAM,CACtB3C,EAAOhH,KAAKyK,WAAW,OAAeC,UAG1C,OAFA1K,KAAKiH,eACLjH,KAAKuJ,YAAY,KACVvC,EAEN,GAAIhH,KAAK2J,UAAU,KAAM,CACtB3C,EAAOhH,KAAKyK,WAAW,OAAeC,UAG1C,OAFA1K,KAAKiH,eACLjH,KAAKuJ,YAAY,KACVvC,EAEX,OAAO,MAEX6jB,EAAW3qB,UAAU0K,yBAA2B,WAC5C,OAAI5K,KAAKmG,KAAK,OAAUC,WACbpG,KAAK6K,kBACL7K,KAAK8K,aAAY,IACjB9K,KAAK8G,gBACL9G,KAAKiL,gBAAe,IACpBjL,KAAKkrB,8BACLlrB,KAAK6G,6BACL7G,KAAKiU,sBAETjU,KAAK+qB,6BACL/qB,KAAKkL,kBAAiB,IACtBlL,KAAKgrB,2BACLhrB,KAAK6I,kBACL7I,KAAK+rB,gBACLjqB,EAAO5B,UAAU0K,yBAAyB/H,KAAK7C,OAE1D6qB,EAAW3qB,UAAUsX,oBAAsB,WACvC,OAAOxX,KAAK8I,YAAY,CAAC,OAAoByL,YAAcvU,KAAK8H,kBAEpE+iB,EAAW3qB,UAAU6I,uBAAyB,WAC1C,OAAO/I,KAAKkrB,8BACLppB,EAAO5B,UAAU6I,uBAAuBlG,KAAK7C,OAExD6qB,EAAW3qB,UAAU6L,yBAA2B,WAC5C,OAAO/L,KAAKoK,4BAA8BtI,EAAO5B,UAAU6L,yBAAyBlJ,KAAK7C,OAE7F6qB,EAAW3qB,UAAUgU,eAAiB,SAAUN,GAE5C,IAAI5M,EAAOhH,KAAKG,OAAO,SACnB0J,GAAa,EACb+J,IAEA/J,EAAa7C,EAAKE,SAASlH,KAAKiW,qBAEpC,MAAOjP,EAAKE,SAASlH,KAAK6L,wBAAyB,CAC/ChC,GAAa,EACb,IAAIV,EAAOnJ,KAAKmJ,OAChB,GAAInC,EAAKE,SAASlH,KAAKgsB,gBAAkBhsB,KAAKmG,KAAK,OAAUqF,QACzD,MAEJxL,KAAKwJ,cAAcL,GACnBnC,EAAKE,SAASlH,KAAKiW,oBAEvB,OAAOpM,EAAa7J,KAAKqH,OAAOL,GAAQ,MAE5C6jB,EAAW3qB,UAAUkK,yBAA2B,WAC5C,GAAIpK,KAAK2J,UAAU,KAAM,CACrB,IAAI3C,EAAOhH,KAAKyK,WAAW,OAAewB,oBAC1CjM,KAAKiH,eACL,OAAQjH,KAAKsJ,kBAAoBtJ,KAAKuJ,YAAY,MAAQvJ,KAAKsH,OAAO,OAAUyC,MAAQ/J,KAAKsH,OAAO,OAAU4E,YAAclF,EAAKE,SAASlH,KAAK8I,gBAAkB9I,KAAKuJ,YAAY,OAGlL,OAAOvJ,KAAKqH,OAAOL,GAEvB,OAAO,MAEX6jB,EAAW3qB,UAAUsZ,oBAAsB,WACvC,IAAKxZ,KAAKisB,wBACN,OAAO,KAEX,IAAIjlB,EAAOhH,KAAKyK,WAAW,OAAeyhB,uBACtCriB,EAAa7J,KAAKmsB,yBAAyBnlB,GAC/C,OAAO6C,EAAa7J,KAAKqH,OAAOL,GAAQ,MAE5C6jB,EAAW3qB,UAAUgX,yBAA2B,SAAUkV,QACrC,IAAbA,IAAuBA,GAAW,GACtC,IAAIC,EAAgB,UACpB,IAAKrsB,KAAKisB,0BAA4BjsB,KAAKqI,WAAWrI,KAAKwI,MAAM+H,KAAM8b,GACnE,OAAO,KAEX,IAAIljB,EAAOnJ,KAAKmJ,OACZnC,EAAOhH,KAAKG,OAAO,QACvB6G,EAAK4C,iBAAmB5J,KAAKuJ,YAAY,MAAQvJ,KAAKuJ,YAAY,KAClE,IAAI+iB,GAAa,EAiBjB,OANQA,EAVHF,EASGplB,EAAK4C,iBACQ5C,EAAKE,SAASlH,KAAK8I,eAGnB9B,EAAKE,SAASlH,KAAKyR,aAAa4a,IAZ7CrlB,EAAK4C,iBACQ5J,KAAKmsB,yBAAyBnlB,GAG9BhH,KAAKmsB,yBAAyBnlB,EAAMqlB,GAWpDC,GAIAF,GAAapsB,KAAKsJ,kBACnBtJ,KAAKuJ,YAAY,KACZvJ,KAAKsJ,iBACNtJ,KAAK8L,YAAY,MAGlB9L,KAAKqH,OAAOL,KATfhH,KAAKwJ,cAAcL,GACZ,OAUf0hB,EAAW3qB,UAAU+rB,sBAAwB,WACzC,OAAOjsB,KAAKmG,KAAK,OAAUmC,QACvBtI,KAAK2J,UAAU,MACf3J,KAAK2J,UAAU,MACf3J,KAAK2J,UAAU,MAEvBkhB,EAAW3qB,UAAUisB,yBAA2B,SAAUnlB,EAAMulB,GAC5D,IAAI7iB,EAAQ1J,KACR6J,GAAa,EACbC,EAAsB,WACtB,IAAIZ,EAAMQ,EAAMP,OAChB,OAAIO,EAAMH,YAAY,OACbG,EAAMJ,iBACPI,EAAMH,YAAY,KAElBG,EAAMJ,kBACNI,EAAMF,cAAcN,GACb,MAGRQ,EAAMhB,uBAEbpB,EAASilB,EACT,WAAc,OAAO7iB,EAAM8H,aAAa+a,IACxC,WAAc,OAAO7iB,EAAMpC,OAAO,OAAUgB,QAChD,MAAOhB,KACHN,EAAKE,SAASlH,KAAK0I,uBACf1I,KAAKiR,IAAInH,IAEb,GADAD,GAAa,EACT7J,KAAKsJ,gBACL,MAGR,OAAOO,GAEXghB,EAAW3qB,UAAUwI,oBAAsB,WAGvC,IAAIS,EAAOnJ,KAAKmJ,OAChB,GAAInJ,KAAK2J,UAAU,MAAQ3J,KAAK2J,UAAU,KAAM,CAC5C,IAAI3C,EAAOhH,KAAKyK,WAAW,OAAe8e,eAE1C,OADAvpB,KAAKiH,eACDjH,KAAKsJ,kBAAoBtJ,KAAKsH,OAAO,OAAUkE,SAC/CxL,KAAKwJ,cAAcL,GACZ,MAENnC,EAAKE,SAASlH,KAAK8I,eAGnB9I,KAAKsH,OAAO,OAAUgD,QAGpBtK,KAAKqH,OAAOL,GAFRhH,KAAKqH,OAAOL,EAAM,OAAWxC,oBAH7BxE,KAAKqH,OAAOL,EAAM,OAAWhD,oBAO5C,OAAO,MAEX6mB,EAAW3qB,UAAU6qB,0BAA4B,WAC7C,IAAI5hB,EAAOnJ,KAAKmJ,OACZnC,EAAOhH,KAAKG,OAAO,QACvB,IAAK6G,EAAKoC,cAAcpJ,KAAKwsB,sCAAwCxsB,KAAKsH,OAAO,OAAU+E,cAEvF,OADArM,KAAKwJ,cAAcL,GACZ,KAEX,GAAInC,EAAKuG,gBAAgBrG,SAASlH,KAAKorB,wBACnC,MAAOprB,KAAKsH,OAAO,OAAUC,QAAUvH,KAAKsH,OAAO,OAAUE,WAAY,CACrE,GAAIxH,KAAKmG,KAAK,OAAUsH,cACpB,MAECzG,EAAKuG,gBAAgBrG,SAASlH,KAAKorB,yBACpCprB,KAAKoS,UAAUpL,EAAM,OAAWhD,mBAAoB,GAAI,CAAC,OAAUyJ,eAI/E,OAAKzN,KAAKsH,OAAO,OAAUmG,eAI3BzG,EAAK0iB,SAAS1pB,KAAKgsB,eACdhsB,KAAKmG,KAAK,OAAUqF,QAIlBxL,KAAK2L,WAAW3E,EAAMhH,KAAKysB,2BAA2BxjB,KAAKjJ,QAH9DA,KAAKwJ,cAAcL,GACZ,QANPnJ,KAAKwJ,cAAcL,GACZ,OASf0hB,EAAW3qB,UAAUusB,2BAA6B,WAC9C,OAAOzsB,KAAK+K,kBAAoB/K,KAAK4K,4BAEzCigB,EAAW3qB,UAAUssB,iCAAmC,WACpD,IAAI3d,EACJ,GAAI7O,KAAK2J,UAAU,MAAQ3J,KAAK2J,UAAU,MAGtC,GAFAkF,EAAa7O,KAAKG,OAAO,QACzBH,KAAKiH,eACDjH,KAAKsJ,kBAAoBuF,EAAW3H,SAASlH,KAAK8I,eAClD,OAAO,SAGV,KAAI9I,KAAKmG,KAAK,OAAUsT,MAKzB,OAAO,KAJP5K,EAAa7O,KAAKG,OAAO,QACzBH,KAAKiH,eAMT,OADA4H,EAAWpF,eAAiB,CAAC,OAAoBkE,OAC1C3N,KAAKqH,OAAOwH,IAEvBgc,EAAW3qB,UAAUkZ,aAAe,WAChC,IAAKpZ,KAAKmG,KAAK,OAAU4B,OACrB,OAAO,KAEX,IAAIoB,EAAOnJ,KAAKmJ,OACZnC,EAAOhH,KAAKG,OAAO,QAEvB,OADAH,KAAKiH,eACDjH,KAAK8L,YAAY,UACV9L,KAAK0sB,iBAAiB1lB,IAEjChH,KAAKwJ,cAAcL,GACZrH,EAAO5B,UAAUkZ,aAAavW,KAAK7C,QAE9C6qB,EAAW3qB,UAAU6rB,aAAe,WAChC,IAAK/rB,KAAK2J,UAAU,KAChB,OAAO,KAEX,IAAIR,EAAOnJ,KAAKmJ,OACZnC,EAAOhH,KAAKG,OAAO,QAEvB,OADAH,KAAKiH,gBACDjH,KAAKsJ,iBAAoBtJ,KAAKsH,OAAO,OAAUS,QAAW/H,KAAK8L,YAAY,UAIxE9L,KAAK0sB,iBAAiB1lB,IAHzBhH,KAAKwJ,cAAcL,GACZ,OAIf0hB,EAAW3qB,UAAUwsB,iBAAmB,SAAU1lB,GAC9C,IAAKhH,KAAKsH,OAAO,OAAU+E,cACvB,OAAOrM,KAAKqH,OAAOL,EAAM,OAAWrC,yBAExC,IAAIwP,EAAYnN,EAAK4E,eACrB,IAAKuI,EAAUjN,SAASlH,KAAKkU,gBAAe,IACxC,OAAOlU,KAAKqH,OAAOL,EAAM,OAAW/B,kBAExC,MAAOjF,KAAKsH,OAAO,OAAUC,OACzB,IAAK4M,EAAUjN,SAASlH,KAAKkU,gBAAe,IACxC,OAAOlU,KAAKqH,OAAOL,EAAM,OAAW/B,kBAG5C,OAAKjF,KAAKsH,OAAO,OAAUmG,cAGpBzN,KAAKqH,OAAOL,GAFRhH,KAAKqH,OAAOL,EAAM,OAAWpC,2BAI5CimB,EAAW3qB,UAAUgrB,2BAA6B,WAC9C,IAAKlrB,KAAKmG,KAAK,OAAUC,WACrB,OAAO,KAEX,IAAI+C,EAAOnJ,KAAKmJ,OACZnC,EAAOhH,KAAKG,OAAO,QACvB,OAAI6G,EAAKE,SAASlH,KAAK8H,gBAAe,MAAW9H,KAAKsJ,iBAAoBtJ,KAAKsH,OAAO,OAAU+E,cAI3FrM,KAAKsH,OAAO,OAAUmG,cAGpBzN,KAAKqH,OAAOL,GAFRhH,KAAKqH,OAAOL,EAAM,OAAWpC,2BAJpC5E,KAAKwJ,cAAcL,GACZ,OAOf0hB,EAAW3qB,UAAU8qB,wBAA0B,SAAU2B,QACtC,IAAXA,IAAqBA,GAAS,GAClC,IAAIxjB,EAAOnJ,KAAKmJ,OACZnC,EAAOhH,KAAKG,OAAO,QACnB0O,EAAa7O,KAAKwsB,mCACtB,MAAO3d,EAAY,CACf7O,KAAKuJ,YAAY,KACjB,IAAIqjB,EAAS5sB,KAAKwsB,mCAClB,IAAII,EAKA,MAJA5lB,EAAKwiB,gBAAgBtiB,SAAS2H,GAC9BA,EAAa+d,EAMrB,IAAK5lB,EAAKoC,cAAcyF,GAEpB,OADA7O,KAAKwJ,cAAcL,GACZ,KAEX,IAAI0jB,GAAe,EACnB,IAAK7sB,KAAKsJ,iBAAmBtJ,KAAKsH,OAAO,OAAU+E,cAAe,CAE9D,GADAwgB,GAAe,EACX7lB,EAAKiH,eAAe/G,SAASlH,KAAK8sB,uBAClC,MAAO9sB,KAAKsH,OAAO,OAAUC,QAAUvH,KAAKsH,OAAO,OAAUE,WAAY,CACrE,GAAIxH,KAAKmG,KAAK,OAAUsH,cACpB,MAEJ,IAAKzG,EAAKiH,eAAe/G,SAASlH,KAAK8sB,uBACnC,OAAO9sB,KAAKqH,OAAOL,EAAM,OAAWlD,oBAIhD,IAAK9D,KAAKsH,OAAO,OAAUmG,cACvB,OAAOzN,KAAKqH,OAAOL,EAAM,OAAWpC,0BAExCiK,EAAWpF,eAAiB,CAAC,OAAoBkE,YAGjDkB,EAAWpF,eAAiB,CAAC,OAAoBkE,MAAO,OAAoBof,MAUhF,OARI/sB,KAAKmG,KAAK,OAAU2Q,UACf6V,GACD3sB,KAAKsrB,mBAAmBtkB,GAI5BA,EAAKE,SAASlH,KAAKuL,cAElBshB,GAAiB7sB,KAAKmG,KAAK,OAAUqB,YAAexH,KAAKmG,KAAK,OAAUmE,SAAYtK,KAAKmG,KAAK,OAAUsB,KAItGzH,KAAKqH,OAAOL,IAHfhH,KAAKwJ,cAAcL,GACZ,OAIf0hB,EAAW3qB,UAAU4sB,oBAAsB,WAEvC,IAAI9lB,EAAOhH,KAAKG,OAAO,QACnB+I,EAAMlJ,KAAKmJ,OACXkF,EAAWrO,KAAK8H,iBASpB,OARIuG,IACKrO,KAAKsH,OAAO,OAAUS,OAIvBf,EAAKoC,cAAciF,GAHnBrO,KAAKwJ,cAAcN,IAMvBlC,EAAKkB,SAASlI,KAAKmrB,yBAA2BnrB,KAAKmI,YAAW,IACvDnI,KAAKqH,OAAOL,IAEvBhH,KAAKwJ,cAAcN,GACZ,OAEX2hB,EAAW3qB,UAAUkrB,qBAAuB,WACxC,IAAIpkB,EAAOhH,KAAKG,OAAO,QAEvB,GAAIH,KAAK+G,YAAY,SAAU,CAC3B,IAAIimB,EAAWhtB,KAAKG,OAAO,QAE3B,OADAH,KAAKiH,eACAjH,KAAKsH,OAAO,SAGjBN,EAAKoC,cAAcpJ,KAAKqH,OAAO2lB,IACxBhtB,KAAKqH,OAAOL,IAHRhH,KAAKqH,OAAOL,EAAM,OAAWtD,YAAa,GAAI,CAAC,OAAU6D,MAAO,OAAUkG,eAMzF,GAAIzN,KAAKmG,KAAK,QAAuB,CACjC,IAAI8mB,EAAcjtB,KAAKG,OAAO,QAG9B,OAFAH,KAAKiH,eACLD,EAAKoC,cAAcpJ,KAAKqH,OAAO4lB,IACxBjtB,KAAKqH,OAAOL,GAEvB,IAAI6C,GAAa,EAMjB,OAJI7C,EAAKoC,cAAcpJ,KAAK8H,oBACxB9H,KAAKsH,OAAO,OAAUS,OACtB8B,GAAa,GAEZ7C,EAAK4G,gBAAgB5N,KAAKmrB,yBAA2BnrB,KAAKmI,YAAW,KAAW0B,EAG9E7J,KAAKqH,OAAOL,GAFR,MAIf6jB,EAAW3qB,UAAU8rB,YAAc,WAC/B,IAAKhsB,KAAKwK,UAAU,QAChB,OAAO,KAEX,IAAIxD,EAAOhH,KAAKG,OAAO,QAGvB,GAFAH,KAAKiH,eACLD,EAAKkmB,UAAYltB,KAAK8L,YAAY,QAC7B9E,EAAKijB,gBAAgB/iB,SAASlH,KAAKmtB,wBACpC,OAAOntB,KAAKqH,OAAOL,EAAM,OAAWxD,mBAExC,MAAOxD,KAAK8L,YAAY,QAAU9L,KAAKsH,OAAO,OAAUC,OACpD,IAAKP,EAAKijB,gBAAgB/iB,SAASlH,KAAKmtB,wBACpC,OAAOntB,KAAKqH,OAAOL,EAAM,OAAWxD,mBAG5C,OAAOxD,KAAKqH,OAAOL,IAEvB6jB,EAAW3qB,UAAUitB,qBAAuB,WACxC,IAAKntB,KAAKmG,KAAK,OAAUkG,cACrB,OAAO,KAEX,IAAIrF,EAAOhH,KAAKG,OAAO,QAKvB,OAJAH,KAAKiH,eACAD,EAAKE,SAASlH,KAAKmI,cAGnBnI,KAAKsH,OAAO,OAAUmG,cAGpBzN,KAAKqH,OAAOL,GAFRhH,KAAKqH,OAAOL,EAAM,OAAWpC,2BAI5CimB,EAAW3qB,UAAU2I,eAAiB,WAClC,IAAIK,EAAMlJ,KAAKmJ,OACXnC,EAAOhH,KAAKG,OAAO,QACvB,IAAK6G,EAAKoC,cAAcpJ,KAAKwb,4BACzB,OAAO,KAEX,GAAIxb,KAAKsJ,kBAAoBtJ,KAAKsH,OAAO,OAAU+E,cAE/C,OADArM,KAAKwJ,cAAcN,GACZ,KAEX,GAAIlC,EAAKiH,eAAe/G,SAASlH,KAAK8sB,uBAClC,MAAO9sB,KAAKsH,OAAO,OAAUC,QAAUvH,KAAKsH,OAAO,OAAUE,WAAY,CACrE,GAAIxH,KAAKmG,KAAK,OAAUsH,cACpB,MAEJ,IAAKzG,EAAKiH,eAAe/G,SAASlH,KAAK8sB,uBACnC,OAAO9sB,KAAKqH,OAAOL,EAAM,OAAWlD,oBAIhD,OAAK9D,KAAKsH,OAAO,OAAUmG,cAGpBzN,KAAKqH,OAAOL,GAFRhH,KAAKqH,OAAOL,EAAM,OAAWpC,2BAI5CimB,EAAW3qB,UAAUsb,yBAA2B,WAC5C,GAAIxb,KAAK2J,UAAU,KAAM,CACrB,IAAI3C,EAAOhH,KAAKG,OAAO,QAGvB,OAFA6G,EAAKyC,eAAiB,CAAC,OAAoB6D,UAC3CtN,KAAKiH,eACEjH,KAAKqH,OAAOL,GAEvB,OAAOlF,EAAO5B,UAAUsb,yBAAyB3Y,KAAK7C,OAE1D6qB,EAAW3qB,UAAUoO,kBAAoB,WACrC,IAAIpF,EAAMlJ,KAAKmJ,OACXnC,EAAOlF,EAAO5B,UAAUoO,kBAAkBzL,KAAK7C,MACnD,IAAKgH,IAAShH,KAAKmG,KAAK,OAAUsH,cAAe,CAC7CzN,KAAKwJ,cAAcN,GACnB,IAAIkkB,EAASptB,KAAKG,OAAO,QAEzB,OADAitB,EAAOlmB,SAASlH,KAAKiN,oBACdjN,KAAKqH,OAAO+lB,GAEvB,OAAOpmB,GAEJ6jB,EA3sBoB,CA4sB7B,S,kCCvuBF,8DAKIxrB,EAAwC,WACxC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,KAClEP,EAAcC,EAAGC,IAE5B,OAAO,SAAUD,EAAGC,GAEhB,SAASO,IAAOC,KAAKC,YAAcV,EADnCD,EAAcC,EAAGC,GAEjBD,EAAEW,UAAkB,OAANV,EAAaC,OAAOU,OAAOX,IAAMO,EAAGG,UAAYV,EAAEU,UAAW,IAAIH,IAV3C,GAexCstB,EAAuB,WACvB,SAASA,EAAMnrB,EAAQ8M,GACnBhP,KAAKkC,OAASA,EACdlC,KAAKgP,OAASA,EACdhP,KAAKstB,QAAU,GACfttB,KAAKohB,OAAS,KACdphB,KAAKuiB,SAAW,GA8CpB,OA5CA8K,EAAMntB,UAAUgH,SAAW,SAAUqmB,GACjCvtB,KAAKuiB,SAAS3C,KAAK2N,GACnBA,EAAMC,UAAUxtB,OAEpBqtB,EAAMntB,UAAUstB,UAAY,SAAUD,GAClCvtB,KAAKohB,OAASmM,GAElBF,EAAMntB,UAAUutB,UAAY,SAAUvrB,EAAQ8M,GAE1C,YADe,IAAXA,IAAqBA,EAAS,GAC9BhP,KAAKkC,QAAUA,GAAUlC,KAAKkC,OAASlC,KAAKgP,OAAS9M,EAAS8M,GAAUhP,KAAKkC,SAAWA,GAAUlC,KAAKgP,SAAWA,EAC3GhP,KAAK0tB,YAAYxrB,EAAQ8M,GAE7B,MAEXqe,EAAMntB,UAAUwtB,YAAc,SAAUxrB,EAAQ8M,QAC7B,IAAXA,IAAqBA,EAAS,GAElC,IAAIgS,EAAM9e,EAAS8M,EACf2T,EAAM,eAAU3iB,KAAKuiB,UAAU,SAAU5S,GAAK,OAAOA,EAAEzN,OAAS8e,KACpE,GAAY,IAAR2B,EAEA,OAAO3iB,KAEX,IAAI2tB,EAAM3tB,KAAKuiB,SAASI,EAAM,GAC9B,OAAIgL,EAAIzrB,QAAUA,GAAUyrB,EAAIzrB,OAASyrB,EAAI3e,QAAU9M,EAAS8M,EACrD2e,EAAID,YAAYxrB,EAAQ8M,GAE5BhP,MAEXqtB,EAAMntB,UAAU0tB,UAAY,SAAUC,GAClC7tB,KAAKstB,QAAQ1N,KAAKiO,IAEtBR,EAAMntB,UAAU4tB,UAAY,SAAUC,EAAMxd,GACxC,IAAK,IAAI4O,EAAQ,EAAGA,EAAQnf,KAAKstB,QAAQte,OAAQmQ,IAAS,CACtD,IAAI0O,EAAS7tB,KAAKstB,QAAQnO,GAC1B,GAAI0O,EAAOE,OAASA,GAAQF,EAAOtd,OAASA,EACxC,OAAOsd,EAGf,OAAO,MAEXR,EAAMntB,UAAU8tB,WAAa,WACzB,OAAOhuB,KAAKstB,SAETD,EApDe,GAuDtBY,EAA6B,SAAUnsB,GAEvC,SAASmsB,IACL,OAAOnsB,EAAOe,KAAK7C,KAAM,EAAGkuB,OAAOC,YAAcnuB,KAErD,OAJAX,EAAU4uB,EAAansB,GAIhBmsB,EALqB,CAM9BZ,GAEEe,EAAwB,WACxB,SAASA,EAAOL,EAAMxM,EAAOva,EAAMuJ,GAC/BvQ,KAAK+tB,KAAOA,EACZ/tB,KAAKuhB,MAAQA,EACbvhB,KAAKgH,KAAOA,EACZhH,KAAKuQ,KAAOA,EAEhB,OAAO6d,EAPgB,GAUvBC,EAA8B,WAC9B,SAASA,EAAad,GAClBvtB,KAAKutB,MAAQA,EAkHjB,OAhHAc,EAAanuB,UAAU0tB,UAAY,SAAU5mB,EAAM+mB,EAAMxM,EAAOhR,GAC5D,IAAqB,IAAjBvJ,EAAK9E,OAAe,CACpB,IAAIiiB,EAAUnkB,KAAKutB,MAAME,UAAUzmB,EAAK9E,OAAQ8E,EAAKgI,QACjDmV,GACAA,EAAQyJ,UAAU,IAAIQ,EAAOL,EAAMxM,EAAOva,EAAMuJ,MAI5D8d,EAAanuB,UAAUouB,SAAW,SAAUtnB,GACxC,IAAqB,IAAjBA,EAAK9E,OAAe,CACpB,IAAIiiB,EAAUnkB,KAAKutB,MAAME,UAAUzmB,EAAK9E,OAAQ8E,EAAKgI,QACrD,GAAImV,IAAYA,EAAQjiB,SAAW8E,EAAK9E,QAAUiiB,EAAQnV,SAAWhI,EAAKgI,QAAS,CAC/E,IAAIuf,EAAW,IAAIlB,EAAMrmB,EAAK9E,OAAQ8E,EAAKgI,QAE3C,OADAmV,EAAQjd,SAASqnB,GACVA,EAEX,OAAOpK,EAEX,OAAO,MAEXkK,EAAanuB,UAAUsuB,sBAAwB,SAAUC,EAAWznB,EAAM+mB,EAAMxM,EAAOhR,GACnF,GAAIke,IAAmC,IAAtBA,EAAUvsB,OAAe,CACtC,IAAIiiB,EAAUnkB,KAAKsuB,SAASG,GACxBtK,GACAA,EAAQyJ,UAAU,IAAIQ,EAAOL,EAAMxM,EAAOva,EAAMuJ,MAI5D8d,EAAanuB,UAAUuiB,UAAY,SAAUzb,GACzC,OAAQA,EAAKuJ,MACT,KAAK,OAAegE,SAEhB,OADAvU,KAAK4tB,UAAU5mB,EAAMA,EAAKye,eAAW,EAAQ,OAAoBlR,WAC1D,EACX,KAAK,OAAee,0BAChB,OAAOtV,KAAK0uB,mCAAmC1nB,GACnD,KAAK,OAAeuO,oBAChB,OAAOvV,KAAK2uB,6BAA6B3nB,GAC7C,KAAK,OAAe0N,QAChB,OAAO1U,KAAK4uB,aAAa5nB,GAC7B,KAAK,OAAegO,iBAEhB,OADAhV,KAAK4tB,UAAU5mB,EAAMA,EAAKye,eAAW,EAAQ,OAAoB9X,QAC1D,EACX,KAAK,OAAesH,oBAEhB,OADAjV,KAAK4tB,UAAU5mB,EAAMA,EAAKye,eAAW,EAAQ,OAAoBnY,WAC1D,EACX,KAAK,OAAemZ,kBAChB,OAAOzmB,KAAK6uB,2BAA2B7nB,GAE3C,KAAK,OAAeie,aAEhB,OADAjlB,KAAKsuB,SAAStnB,IACP,EACX,KAAK,OAAe6N,IAChB,IAAIia,EAAU9nB,EACVynB,EAAYK,EAAQ3J,kBAIxB,OAHIsJ,GAAaK,EAAQzF,UACrBrpB,KAAKwuB,sBAAsBC,EAAWK,EAAQzF,SAAUyF,EAAQzF,SAAS5D,eAAW,EAAQ,OAAoBnR,WAE7G,EACX,KAAK,OAAeQ,KAChB,IAAIia,EAAW/nB,EACXgoB,EAAcD,EAAS5J,kBAC3B,GAAI6J,EAEA,IADA,IAAI9hB,EAAY6hB,EAAS5hB,eAAe4B,cAC/BsC,EAAK,EAAG4d,EAAc/hB,EAAWmE,EAAK4d,EAAYjgB,OAAQqC,IAAM,CACrE,IAAIgY,EAAW4F,EAAY5d,GAC3BrR,KAAKwuB,sBAAsBQ,EAAa3F,EAAUA,EAAS5D,eAAW,EAAQ,OAAoBnR,UAG1G,OAAO,EAGf,OAAO,GAEX+Z,EAAanuB,UAAU0uB,aAAe,SAAU5nB,GAC5C,IAAImd,EAAUnkB,KAAKutB,MAAME,UAAUzmB,EAAK9E,OAAQ8E,EAAKgI,QACrD,GAAImV,EACA,IAAK,IAAI9S,EAAK,EAAGkL,EAAKvV,EAAK4E,eAAemD,cAAesC,EAAKkL,EAAGvN,OAAQqC,IAAM,CAC3E,IAAI3C,EAAQ6N,EAAGlL,GACX3C,aAAiB,SACkB,IAA/BA,EAAMK,cAAcC,QACpBmV,EAAQyJ,UAAU,IAAIQ,EAAO1f,EAAMoV,SAAS,GAAGjR,eAAW,EAAQnE,EAAO,OAAoBqe,OAK7G,OAAO,GAEXsB,EAAanuB,UAAUyuB,6BAA+B,SAAU3nB,GAC5D,IAAIua,EAAQva,EAAKwa,WAAaxa,EAAKwa,WAAW3O,eAAY,EAE1D,OADA7S,KAAK4tB,UAAU5mB,EAAMA,EAAKye,UAAWlE,EAAO,OAAoBjN,WACzD,GAEX+Z,EAAanuB,UAAU2uB,2BAA6B,SAAU7nB,GAE1D,IAAIynB,EAAYznB,EAAKsd,YAAYa,kBACjC,GAAIsJ,EAAW,CACX,IAAIS,EAAYloB,EAAK0f,kBACjBnF,EAAQ2N,EAAYA,EAAUrc,eAAY,EAC9C7S,KAAKwuB,sBAAsBC,EAAWznB,EAAMA,EAAKye,UAAWlE,EAAO,OAAoBjN,UAE3F,OAAO,GAEX+Z,EAAanuB,UAAUwuB,mCAAqC,SAAU1nB,GAClE,IAAIua,EAAQva,EAAKwa,WAAaxa,EAAKwa,WAAW3O,UAAY,GAE1D,OADA7S,KAAKmvB,eAAenoB,EAAK2e,cAAe3e,EAAK2e,cAAcF,UAAWlE,EAAO,OAAoBjN,WAC1F,GAEX+Z,EAAanuB,UAAUivB,eAAiB,SAAUnoB,EAAM+mB,EAAMxM,EAAOhR,IAC5C,IAAjBvJ,EAAK9E,QACLlC,KAAKutB,MAAMK,UAAU,IAAIQ,EAAOL,EAAMxM,EAAOva,EAAMuJ,KAGpD8d,EApHsB,GAuH7Be,EAAyB,WACzB,SAASA,EAAQpoB,GACbhH,KAAKqvB,OAAS,IAAIpB,EAClBjnB,EAAKwb,cAAc,IAAI6L,EAAaruB,KAAKqvB,SAyH7C,OAvHAD,EAAQlvB,UAAUovB,oBAAsB,SAAUptB,EAAQqtB,GACtD,IAAIhC,EAAQvtB,KAAKqvB,OAAO5B,UAAUvrB,EAAQ,GACtCkd,EAAS,GACToQ,EAAQ,GACZ,MAAOjC,EAAO,CAEV,IADA,IAAID,EAAUC,EAAMS,aACXpe,EAAI,EAAGA,EAAI0d,EAAQte,OAAQY,IAAK,CACrC,IAAIie,EAASP,EAAQ1d,GACjBie,EAAOtd,OAASgf,GAAkBC,EAAM3B,EAAOE,QAC/C3O,EAAOQ,KAAKiO,GACZ2B,EAAM3B,EAAOE,OAAQ,GAG7BR,EAAQA,EAAMnM,OAElB,OAAOhC,GAEXgQ,EAAQlvB,UAAUuvB,mBAAqB,SAAUzoB,EAAMyC,GACnD,IAAIglB,EAAYznB,EAIhB,GAHIA,EAAKoa,kBAAkB,QAA2Bpa,EAAKoa,OAAOkD,sBAAuB,SACrFmK,EAAYznB,EAAKoa,OAAOkD,YAAYa,mBAEpCne,EAAKoa,kBAAkB,QAA0Bpa,EAAKoa,OAAOkD,sBAAuB,OAAgB,CACpG,IAAIoL,EAAS1oB,EAAKoa,OAAOkD,YAAYkB,gBACrC,GAAIkK,EAAQ,CACR,IAAIC,EAAiB3vB,KAAKyvB,mBAAmBC,EAAQ,CAAC,OAAoBpiB,WACtEqiB,IACAlB,EAAYkB,EAAe3oB,KAAKme,oBAI5C,IAAKsJ,EACD,OAAO,KAEX,IAAIV,EAAO/mB,EAAK6L,UACZ0a,EAAQvtB,KAAKqvB,OAAO5B,UAAUgB,EAAUvsB,OAAQusB,EAAUzf,QAC9D,MAAOue,EAAO,CACV,IAAK,IAAIpO,EAAQ,EAAGA,EAAQ1V,EAAeuF,OAAQmQ,IAAS,CACxD,IAAI5O,EAAO9G,EAAe0V,GACtB0O,EAASN,EAAMO,UAAUC,EAAMxd,GACnC,GAAIsd,EACA,OAAOA,EAGfN,EAAQA,EAAMnM,OAElB,OAAO,MAEXgO,EAAQlvB,UAAU0vB,uBAAyB,SAAU5oB,GACjD,GAAIA,aAAgB,OAAkB,CAClC,IAAIyC,EAAiBzC,EAAKyC,eAC1B,GAAIA,EACA,OAAOA,EAGP,GAAIzC,EAAK4C,iBACL,MAAO,CAAC,OAAoB0K,UAGhC,IAAIyB,EAAO,QAA2B/O,GACtC,GAAI+O,EAAM,CACN,IAAIiQ,EAAejQ,EAAKoQ,6BACxB,IAAsB,cAAjBH,GAAiD,mBAAjBA,IAC9BjQ,EAAKyL,YAAczL,EAAKyL,WAAWtf,SAAW8E,EAAK9E,OACtD,MAAO,CAAC,OAAoBqS,gBAKvC,GAAIvN,aAAgB,QACrB,MAAO,CAAC,OAAoBsN,UAEhC,IAAIub,EAAW7oB,EAAKwd,YAAY,OAAec,SAAU,OAAepQ,kBACxE,OAAI2a,EACO,CAAC,OAAoB9C,MAEzB,MAEXqC,EAAQlvB,UAAU4vB,mBAAqB,SAAU9oB,GAC7C,IAAKA,EACD,OAAO,KAEX,MAAOA,EAAKuJ,OAAS,OAAegZ,cAChCviB,EAAOA,EAAKsd,YAEhB,IAAI7a,EAAiBzJ,KAAK4vB,uBAAuB5oB,GACjD,OAAIyC,EACOzJ,KAAKyvB,mBAAmBzoB,EAAMyC,GAElC,MAEX2lB,EAAQlvB,UAAU6vB,cAAgB,SAAU/oB,EAAM6mB,GAC9C,IAAK7mB,EACD,OAAO,EAEX,MAAOA,EAAKuJ,OAAS,OAAegZ,cAChCviB,EAAOA,EAAKsd,YAEhB,IAAKtd,EAAKuQ,QAAQsW,EAAOE,MACrB,OAAO,EAEX,IAAItkB,EAAiBzJ,KAAK4vB,uBAAuB5oB,GACjD,IAAKyC,IAA2D,IAAzCA,EAAeuI,QAAQ6b,EAAOtd,MACjD,OAAO,EAEX,IAAIyf,EAAahwB,KAAKyvB,mBAAmBzoB,EAAMyC,GAC/C,OAAOumB,IAAenC,GAE1BuB,EAAQlvB,UAAU+vB,WAAa,SAAUlC,EAAMxd,EAAMrO,GACjD,IAAIqrB,EAAQvtB,KAAKqvB,OAAO5B,UAAUvrB,GAClC,MAAOqrB,EAAO,CACV,IAAIM,EAASN,EAAMO,UAAUC,EAAMxd,GACnC,GAAIsd,EACA,OAAOA,EAEXN,EAAQA,EAAMnM,OAElB,OAAO,MAEJgO,EA5HiB","file":"js/chunk-11bbe540.64175afb.js","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { TokenType, Scanner } from './cssScanner.js';\nvar _FSL = '/'.charCodeAt(0);\nvar _NWL = '\\n'.charCodeAt(0);\nvar _CAR = '\\r'.charCodeAt(0);\nvar _LFD = '\\f'.charCodeAt(0);\nvar _DLR = '$'.charCodeAt(0);\nvar _HSH = '#'.charCodeAt(0);\nvar _CUL = '{'.charCodeAt(0);\nvar _EQS = '='.charCodeAt(0);\nvar _BNG = '!'.charCodeAt(0);\nvar _LAN = '<'.charCodeAt(0);\nvar _RAN = '>'.charCodeAt(0);\nvar _DOT = '.'.charCodeAt(0);\nvar _ATS = '@'.charCodeAt(0);\nvar customTokenValue = TokenType.CustomToken;\nexport var VariableName = customTokenValue++;\nexport var InterpolationFunction = customTokenValue++;\nexport var Default = customTokenValue++;\nexport var EqualsOperator = customTokenValue++;\nexport var NotEqualsOperator = customTokenValue++;\nexport var GreaterEqualsOperator = customTokenValue++;\nexport var SmallerEqualsOperator = customTokenValue++;\nexport var Ellipsis = customTokenValue++;\nexport var Module = customTokenValue++;\nexport var Forward = customTokenValue++;\nexport var Use = customTokenValue++;\nvar SCSSScanner = /** @class */ (function (_super) {\n    __extends(SCSSScanner, _super);\n    function SCSSScanner() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SCSSScanner.prototype.scanNext = function (offset) {\n        // scss variable\n        if (this.stream.advanceIfChar(_DLR)) {\n            var content = ['$'];\n            if (this.ident(content)) {\n                return this.finishToken(offset, VariableName, content.join(''));\n            }\n            else {\n                this.stream.goBackTo(offset);\n            }\n        }\n        // scss: interpolation function #{..})\n        if (this.stream.advanceIfChars([_HSH, _CUL])) {\n            return this.finishToken(offset, InterpolationFunction);\n        }\n        // operator ==\n        if (this.stream.advanceIfChars([_EQS, _EQS])) {\n            return this.finishToken(offset, EqualsOperator);\n        }\n        // operator !=\n        if (this.stream.advanceIfChars([_BNG, _EQS])) {\n            return this.finishToken(offset, NotEqualsOperator);\n        }\n        // operators <, <=\n        if (this.stream.advanceIfChar(_LAN)) {\n            if (this.stream.advanceIfChar(_EQS)) {\n                return this.finishToken(offset, SmallerEqualsOperator);\n            }\n            return this.finishToken(offset, TokenType.Delim);\n        }\n        // ooperators >, >=\n        if (this.stream.advanceIfChar(_RAN)) {\n            if (this.stream.advanceIfChar(_EQS)) {\n                return this.finishToken(offset, GreaterEqualsOperator);\n            }\n            return this.finishToken(offset, TokenType.Delim);\n        }\n        // ellipis\n        if (this.stream.advanceIfChars([_DOT, _DOT, _DOT])) {\n            return this.finishToken(offset, Ellipsis);\n        }\n        // module loaders, @forward and @use\n        if (this.stream.advanceIfChar(_ATS)) {\n            var content = ['@'];\n            if (this.ident(content)) {\n                var keywordText = content.join('');\n                if (keywordText === '@forward') {\n                    return this.finishToken(offset, Forward, keywordText);\n                }\n                else if (keywordText === '@use') {\n                    return this.finishToken(offset, Use, keywordText);\n                }\n            }\n            this.stream.goBackTo(offset);\n        }\n        return _super.prototype.scanNext.call(this, offset);\n    };\n    SCSSScanner.prototype.comment = function () {\n        if (_super.prototype.comment.call(this)) {\n            return true;\n        }\n        if (!this.inURL && this.stream.advanceIfChars([_FSL, _FSL])) {\n            this.stream.advanceWhileChar(function (ch) {\n                switch (ch) {\n                    case _NWL:\n                    case _CAR:\n                    case _LFD:\n                        return false;\n                    default:\n                        return true;\n                }\n            });\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    return SCSSScanner;\n}(Scanner));\nexport { SCSSScanner };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as nls from './../../../fillers/vscode-nls.js';\nvar localize = nls.loadMessageBundle();\nvar CSSIssueType = /** @class */ (function () {\n    function CSSIssueType(id, message) {\n        this.id = id;\n        this.message = message;\n    }\n    return CSSIssueType;\n}());\nexport { CSSIssueType };\nexport var ParseError = {\n    NumberExpected: new CSSIssueType('css-numberexpected', localize('expected.number', \"number expected\")),\n    ConditionExpected: new CSSIssueType('css-conditionexpected', localize('expected.condt', \"condition expected\")),\n    RuleOrSelectorExpected: new CSSIssueType('css-ruleorselectorexpected', localize('expected.ruleorselector', \"at-rule or selector expected\")),\n    DotExpected: new CSSIssueType('css-dotexpected', localize('expected.dot', \"dot expected\")),\n    ColonExpected: new CSSIssueType('css-colonexpected', localize('expected.colon', \"colon expected\")),\n    SemiColonExpected: new CSSIssueType('css-semicolonexpected', localize('expected.semicolon', \"semi-colon expected\")),\n    TermExpected: new CSSIssueType('css-termexpected', localize('expected.term', \"term expected\")),\n    ExpressionExpected: new CSSIssueType('css-expressionexpected', localize('expected.expression', \"expression expected\")),\n    OperatorExpected: new CSSIssueType('css-operatorexpected', localize('expected.operator', \"operator expected\")),\n    IdentifierExpected: new CSSIssueType('css-identifierexpected', localize('expected.ident', \"identifier expected\")),\n    PercentageExpected: new CSSIssueType('css-percentageexpected', localize('expected.percentage', \"percentage expected\")),\n    URIOrStringExpected: new CSSIssueType('css-uriorstringexpected', localize('expected.uriorstring', \"uri or string expected\")),\n    URIExpected: new CSSIssueType('css-uriexpected', localize('expected.uri', \"URI expected\")),\n    VariableNameExpected: new CSSIssueType('css-varnameexpected', localize('expected.varname', \"variable name expected\")),\n    VariableValueExpected: new CSSIssueType('css-varvalueexpected', localize('expected.varvalue', \"variable value expected\")),\n    PropertyValueExpected: new CSSIssueType('css-propertyvalueexpected', localize('expected.propvalue', \"property value expected\")),\n    LeftCurlyExpected: new CSSIssueType('css-lcurlyexpected', localize('expected.lcurly', \"{ expected\")),\n    RightCurlyExpected: new CSSIssueType('css-rcurlyexpected', localize('expected.rcurly', \"} expected\")),\n    LeftSquareBracketExpected: new CSSIssueType('css-rbracketexpected', localize('expected.lsquare', \"[ expected\")),\n    RightSquareBracketExpected: new CSSIssueType('css-lbracketexpected', localize('expected.rsquare', \"] expected\")),\n    LeftParenthesisExpected: new CSSIssueType('css-lparentexpected', localize('expected.lparen', \"( expected\")),\n    RightParenthesisExpected: new CSSIssueType('css-rparentexpected', localize('expected.rparent', \") expected\")),\n    CommaExpected: new CSSIssueType('css-commaexpected', localize('expected.comma', \"comma expected\")),\n    PageDirectiveOrDeclarationExpected: new CSSIssueType('css-pagedirordeclexpected', localize('expected.pagedirordecl', \"page directive or declaraton expected\")),\n    UnknownAtRule: new CSSIssueType('css-unknownatrule', localize('unknown.atrule', \"at-rule unknown\")),\n    UnknownKeyword: new CSSIssueType('css-unknownkeyword', localize('unknown.keyword', \"unknown keyword\")),\n    SelectorExpected: new CSSIssueType('css-selectorexpected', localize('expected.selector', \"selector expected\")),\n    StringLiteralExpected: new CSSIssueType('css-stringliteralexpected', localize('expected.stringliteral', \"string literal expected\")),\n    WhitespaceExpected: new CSSIssueType('css-whitespaceexpected', localize('expected.whitespace', \"whitespace expected\")),\n    MediaQueryExpected: new CSSIssueType('css-mediaqueryexpected', localize('expected.mediaquery', \"media query expected\")),\n    IdentifierOrWildcardExpected: new CSSIssueType('css-idorwildcardexpected', localize('expected.idorwildcard', \"identifier or wildcard expected\")),\n    WildcardExpected: new CSSIssueType('css-wildcardexpected', localize('expected.wildcard', \"wildcard expected\")),\n    IdentifierOrVariableExpected: new CSSIssueType('css-idorvarexpected', localize('expected.idorvar', \"identifier or variable expected\")),\n};\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as nls from './../../../fillers/vscode-nls.js';\nvar localize = nls.loadMessageBundle();\nvar SCSSIssueType = /** @class */ (function () {\n    function SCSSIssueType(id, message) {\n        this.id = id;\n        this.message = message;\n    }\n    return SCSSIssueType;\n}());\nexport { SCSSIssueType };\nexport var SCSSParseError = {\n    FromExpected: new SCSSIssueType('scss-fromexpected', localize('expected.from', \"'from' expected\")),\n    ThroughOrToExpected: new SCSSIssueType('scss-throughexpected', localize('expected.through', \"'through' or 'to' expected\")),\n    InExpected: new SCSSIssueType('scss-fromexpected', localize('expected.in', \"'in' expected\")),\n};\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as scssScanner from './scssScanner.js';\nimport { TokenType } from './cssScanner.js';\nimport * as cssParser from './cssParser.js';\nimport * as nodes from './cssNodes.js';\nimport { SCSSParseError } from './scssErrors.js';\nimport { ParseError } from './cssErrors.js';\n/// <summary>\n/// A parser for scss\n/// http://sass-lang.com/documentation/file.SASS_REFERENCE.html\n/// </summary>\nvar SCSSParser = /** @class */ (function (_super) {\n    __extends(SCSSParser, _super);\n    function SCSSParser() {\n        return _super.call(this, new scssScanner.SCSSScanner()) || this;\n    }\n    SCSSParser.prototype._parseStylesheetStart = function () {\n        return this._parseForward()\n            || this._parseUse()\n            || _super.prototype._parseStylesheetStart.call(this);\n    };\n    SCSSParser.prototype._parseStylesheetStatement = function () {\n        if (this.peek(TokenType.AtKeyword)) {\n            return this._parseWarnAndDebug()\n                || this._parseControlStatement()\n                || this._parseMixinDeclaration()\n                || this._parseMixinContent()\n                || this._parseMixinReference() // @include\n                || this._parseFunctionDeclaration()\n                || _super.prototype._parseStylesheetAtStatement.call(this);\n        }\n        return this._parseRuleset(true) || this._parseVariableDeclaration();\n    };\n    SCSSParser.prototype._parseImport = function () {\n        if (!this.peekKeyword('@import')) {\n            return null;\n        }\n        var node = this.create(nodes.Import);\n        this.consumeToken();\n        if (!node.addChild(this._parseURILiteral()) && !node.addChild(this._parseStringLiteral())) {\n            return this.finish(node, ParseError.URIOrStringExpected);\n        }\n        while (this.accept(TokenType.Comma)) {\n            if (!node.addChild(this._parseURILiteral()) && !node.addChild(this._parseStringLiteral())) {\n                return this.finish(node, ParseError.URIOrStringExpected);\n            }\n        }\n        if (!this.peek(TokenType.SemiColon) && !this.peek(TokenType.EOF)) {\n            node.setMedialist(this._parseMediaQueryList());\n        }\n        return this.finish(node);\n    };\n    // scss variables: $font-size: 12px;\n    SCSSParser.prototype._parseVariableDeclaration = function (panic) {\n        if (panic === void 0) { panic = []; }\n        if (!this.peek(scssScanner.VariableName)) {\n            return null;\n        }\n        var node = this.create(nodes.VariableDeclaration);\n        if (!node.setVariable(this._parseVariable())) {\n            return null;\n        }\n        if (!this.accept(TokenType.Colon)) {\n            return this.finish(node, ParseError.ColonExpected);\n        }\n        if (this.prevToken) {\n            node.colonPosition = this.prevToken.offset;\n        }\n        if (!node.setValue(this._parseExpr())) {\n            return this.finish(node, ParseError.VariableValueExpected, [], panic);\n        }\n        while (this.accept(TokenType.Exclamation)) {\n            if (!this.peekRegExp(TokenType.Ident, /^(default|global)$/)) {\n                return this.finish(node, ParseError.UnknownKeyword);\n            }\n            this.consumeToken();\n        }\n        if (this.peek(TokenType.SemiColon)) {\n            node.semicolonPosition = this.token.offset; // not part of the declaration, but useful information for code assist\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseMediaContentStart = function () {\n        return this._parseInterpolation();\n    };\n    SCSSParser.prototype._parseMediaFeatureName = function () {\n        return this._parseModuleMember()\n            || this._parseFunction() // function before ident\n            || this._parseIdent()\n            || this._parseVariable();\n    };\n    SCSSParser.prototype._parseKeyframeSelector = function () {\n        return this._tryParseKeyframeSelector()\n            || this._parseControlStatement(this._parseKeyframeSelector.bind(this))\n            || this._parseVariableDeclaration()\n            || this._parseMixinContent();\n    };\n    SCSSParser.prototype._parseVariable = function () {\n        if (!this.peek(scssScanner.VariableName)) {\n            return null;\n        }\n        var node = this.create(nodes.Variable);\n        this.consumeToken();\n        return node;\n    };\n    SCSSParser.prototype._parseModuleMember = function () {\n        var pos = this.mark();\n        var node = this.create(nodes.Module);\n        if (!node.setIdentifier(this._parseIdent([nodes.ReferenceType.Module]))) {\n            return null;\n        }\n        if (this.hasWhitespace()\n            || !this.acceptDelim('.')\n            || this.hasWhitespace()) {\n            this.restoreAtMark(pos);\n            return null;\n        }\n        if (!node.addChild(this._parseVariable() || this._parseFunction())) {\n            return this.finish(node, ParseError.IdentifierOrVariableExpected);\n        }\n        return node;\n    };\n    SCSSParser.prototype._parseIdent = function (referenceTypes) {\n        var _this = this;\n        if (!this.peek(TokenType.Ident) && !this.peek(scssScanner.InterpolationFunction) && !this.peekDelim('-')) {\n            return null;\n        }\n        var node = this.create(nodes.Identifier);\n        node.referenceTypes = referenceTypes;\n        node.isCustomProperty = this.peekRegExp(TokenType.Ident, /^--/);\n        var hasContent = false;\n        var indentInterpolation = function () {\n            var pos = _this.mark();\n            if (_this.acceptDelim('-')) {\n                if (!_this.hasWhitespace()) {\n                    _this.acceptDelim('-');\n                }\n                if (_this.hasWhitespace()) {\n                    _this.restoreAtMark(pos);\n                    return null;\n                }\n            }\n            return _this._parseInterpolation();\n        };\n        while (this.accept(TokenType.Ident) || node.addChild(indentInterpolation()) || (hasContent && (this.acceptDelim('-') || this.accept(TokenType.Num)))) {\n            hasContent = true;\n            if (this.hasWhitespace()) {\n                break;\n            }\n        }\n        return hasContent ? this.finish(node) : null;\n    };\n    SCSSParser.prototype._parseTerm = function () {\n        var term = this.create(nodes.Term);\n        if (term.setExpression(this._parseModuleMember())) {\n            return this.finish(term);\n        }\n        var superTerm = _super.prototype._parseTerm.call(this);\n        if (superTerm) {\n            return superTerm;\n        }\n        if (term.setExpression(this._parseVariable())\n            || term.setExpression(this._parseSelectorCombinator())\n            || term.setExpression(this._tryParsePrio())) {\n            return this.finish(term);\n        }\n        return null;\n    };\n    SCSSParser.prototype._parseInterpolation = function () {\n        if (this.peek(scssScanner.InterpolationFunction)) {\n            var node = this.create(nodes.Interpolation);\n            this.consumeToken();\n            if (!node.addChild(this._parseExpr()) && !this._parseSelectorCombinator()) {\n                if (this.accept(TokenType.CurlyR)) {\n                    return this.finish(node);\n                }\n                return this.finish(node, ParseError.ExpressionExpected);\n            }\n            if (!this.accept(TokenType.CurlyR)) {\n                return this.finish(node, ParseError.RightCurlyExpected);\n            }\n            return this.finish(node);\n        }\n        return null;\n    };\n    SCSSParser.prototype._parseOperator = function () {\n        if (this.peek(scssScanner.EqualsOperator) || this.peek(scssScanner.NotEqualsOperator)\n            || this.peek(scssScanner.GreaterEqualsOperator) || this.peek(scssScanner.SmallerEqualsOperator)\n            || this.peekDelim('>') || this.peekDelim('<')\n            || this.peekIdent('and') || this.peekIdent('or')\n            || this.peekDelim('%')) {\n            var node = this.createNode(nodes.NodeType.Operator);\n            this.consumeToken();\n            return this.finish(node);\n        }\n        return _super.prototype._parseOperator.call(this);\n    };\n    SCSSParser.prototype._parseUnaryOperator = function () {\n        if (this.peekIdent('not')) {\n            var node = this.create(nodes.Node);\n            this.consumeToken();\n            return this.finish(node);\n        }\n        return _super.prototype._parseUnaryOperator.call(this);\n    };\n    SCSSParser.prototype._parseRuleSetDeclaration = function () {\n        if (this.peek(TokenType.AtKeyword)) {\n            return this._parseKeyframe() // nested @keyframe\n                || this._parseImport() // nested @import\n                || this._parseMedia(true) // nested @media\n                || this._parseFontFace() // nested @font-face\n                || this._parseWarnAndDebug() // @warn, @debug and @error statements\n                || this._parseControlStatement() // @if, @while, @for, @each\n                || this._parseFunctionDeclaration() // @function\n                || this._parseExtends() // @extends\n                || this._parseMixinReference() // @include\n                || this._parseMixinContent() // @content\n                || this._parseMixinDeclaration() // nested @mixin\n                || this._parseRuleset(true) // @at-rule\n                || this._parseSupports(true); // @supports\n        }\n        return this._parseVariableDeclaration() // variable declaration\n            || this._tryParseRuleset(true) // nested ruleset\n            || _super.prototype._parseRuleSetDeclaration.call(this); // try css ruleset declaration as last so in the error case, the ast will contain a declaration\n    };\n    SCSSParser.prototype._parseDeclaration = function (resyncStopTokens) {\n        var node = this.create(nodes.Declaration);\n        if (!node.setProperty(this._parseProperty())) {\n            return null;\n        }\n        if (!this.accept(TokenType.Colon)) {\n            return this.finish(node, ParseError.ColonExpected, [TokenType.Colon], resyncStopTokens);\n        }\n        if (this.prevToken) {\n            node.colonPosition = this.prevToken.offset;\n        }\n        var hasContent = false;\n        if (node.setValue(this._parseExpr())) {\n            hasContent = true;\n            node.addChild(this._parsePrio());\n        }\n        if (this.peek(TokenType.CurlyL)) {\n            node.setNestedProperties(this._parseNestedProperties());\n        }\n        else {\n            if (!hasContent) {\n                return this.finish(node, ParseError.PropertyValueExpected);\n            }\n        }\n        if (this.peek(TokenType.SemiColon)) {\n            node.semicolonPosition = this.token.offset; // not part of the declaration, but useful information for code assist\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseNestedProperties = function () {\n        var node = this.create(nodes.NestedProperties);\n        return this._parseBody(node, this._parseDeclaration.bind(this));\n    };\n    SCSSParser.prototype._parseExtends = function () {\n        if (this.peekKeyword('@extend')) {\n            var node = this.create(nodes.ExtendsReference);\n            this.consumeToken();\n            if (!node.getSelectors().addChild(this._parseSimpleSelector())) {\n                return this.finish(node, ParseError.SelectorExpected);\n            }\n            while (this.accept(TokenType.Comma)) {\n                node.getSelectors().addChild(this._parseSimpleSelector());\n            }\n            if (this.accept(TokenType.Exclamation)) {\n                if (!this.acceptIdent('optional')) {\n                    return this.finish(node, ParseError.UnknownKeyword);\n                }\n            }\n            return this.finish(node);\n        }\n        return null;\n    };\n    SCSSParser.prototype._parseSimpleSelectorBody = function () {\n        return this._parseSelectorCombinator() || this._parseSelectorPlaceholder() || _super.prototype._parseSimpleSelectorBody.call(this);\n    };\n    SCSSParser.prototype._parseSelectorCombinator = function () {\n        if (this.peekDelim('&')) {\n            var node = this.createNode(nodes.NodeType.SelectorCombinator);\n            this.consumeToken();\n            while (!this.hasWhitespace() && (this.acceptDelim('-') || this.accept(TokenType.Num) || this.accept(TokenType.Dimension) || node.addChild(this._parseIdent()) || this.acceptDelim('&'))) {\n                //  support &-foo-1\n            }\n            return this.finish(node);\n        }\n        return null;\n    };\n    SCSSParser.prototype._parseSelectorPlaceholder = function () {\n        if (this.peekDelim('%')) {\n            var node = this.createNode(nodes.NodeType.SelectorPlaceholder);\n            this.consumeToken();\n            this._parseIdent();\n            return this.finish(node);\n        }\n        else if (this.peekKeyword('@at-root')) {\n            var node = this.createNode(nodes.NodeType.SelectorPlaceholder);\n            this.consumeToken();\n            return this.finish(node);\n        }\n        return null;\n    };\n    SCSSParser.prototype._parseElementName = function () {\n        var pos = this.mark();\n        var node = _super.prototype._parseElementName.call(this);\n        if (node && !this.hasWhitespace() && this.peek(TokenType.ParenthesisL)) { // for #49589\n            this.restoreAtMark(pos);\n            return null;\n        }\n        return node;\n    };\n    SCSSParser.prototype._tryParsePseudoIdentifier = function () {\n        return this._parseInterpolation() || _super.prototype._tryParsePseudoIdentifier.call(this); // for #49589\n    };\n    SCSSParser.prototype._parseWarnAndDebug = function () {\n        if (!this.peekKeyword('@debug')\n            && !this.peekKeyword('@warn')\n            && !this.peekKeyword('@error')) {\n            return null;\n        }\n        var node = this.createNode(nodes.NodeType.Debug);\n        this.consumeToken(); // @debug, @warn or @error\n        node.addChild(this._parseExpr()); // optional\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseControlStatement = function (parseStatement) {\n        if (parseStatement === void 0) { parseStatement = this._parseRuleSetDeclaration.bind(this); }\n        if (!this.peek(TokenType.AtKeyword)) {\n            return null;\n        }\n        return this._parseIfStatement(parseStatement) || this._parseForStatement(parseStatement)\n            || this._parseEachStatement(parseStatement) || this._parseWhileStatement(parseStatement);\n    };\n    SCSSParser.prototype._parseIfStatement = function (parseStatement) {\n        if (!this.peekKeyword('@if')) {\n            return null;\n        }\n        return this._internalParseIfStatement(parseStatement);\n    };\n    SCSSParser.prototype._internalParseIfStatement = function (parseStatement) {\n        var node = this.create(nodes.IfStatement);\n        this.consumeToken(); // @if or if\n        if (!node.setExpression(this._parseExpr(true))) {\n            return this.finish(node, ParseError.ExpressionExpected);\n        }\n        this._parseBody(node, parseStatement);\n        if (this.acceptKeyword('@else')) {\n            if (this.peekIdent('if')) {\n                node.setElseClause(this._internalParseIfStatement(parseStatement));\n            }\n            else if (this.peek(TokenType.CurlyL)) {\n                var elseNode = this.create(nodes.ElseStatement);\n                this._parseBody(elseNode, parseStatement);\n                node.setElseClause(elseNode);\n            }\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseForStatement = function (parseStatement) {\n        if (!this.peekKeyword('@for')) {\n            return null;\n        }\n        var node = this.create(nodes.ForStatement);\n        this.consumeToken(); // @for\n        if (!node.setVariable(this._parseVariable())) {\n            return this.finish(node, ParseError.VariableNameExpected, [TokenType.CurlyR]);\n        }\n        if (!this.acceptIdent('from')) {\n            return this.finish(node, SCSSParseError.FromExpected, [TokenType.CurlyR]);\n        }\n        if (!node.addChild(this._parseBinaryExpr())) {\n            return this.finish(node, ParseError.ExpressionExpected, [TokenType.CurlyR]);\n        }\n        if (!this.acceptIdent('to') && !this.acceptIdent('through')) {\n            return this.finish(node, SCSSParseError.ThroughOrToExpected, [TokenType.CurlyR]);\n        }\n        if (!node.addChild(this._parseBinaryExpr())) {\n            return this.finish(node, ParseError.ExpressionExpected, [TokenType.CurlyR]);\n        }\n        return this._parseBody(node, parseStatement);\n    };\n    SCSSParser.prototype._parseEachStatement = function (parseStatement) {\n        if (!this.peekKeyword('@each')) {\n            return null;\n        }\n        var node = this.create(nodes.EachStatement);\n        this.consumeToken(); // @each\n        var variables = node.getVariables();\n        if (!variables.addChild(this._parseVariable())) {\n            return this.finish(node, ParseError.VariableNameExpected, [TokenType.CurlyR]);\n        }\n        while (this.accept(TokenType.Comma)) {\n            if (!variables.addChild(this._parseVariable())) {\n                return this.finish(node, ParseError.VariableNameExpected, [TokenType.CurlyR]);\n            }\n        }\n        this.finish(variables);\n        if (!this.acceptIdent('in')) {\n            return this.finish(node, SCSSParseError.InExpected, [TokenType.CurlyR]);\n        }\n        if (!node.addChild(this._parseExpr())) {\n            return this.finish(node, ParseError.ExpressionExpected, [TokenType.CurlyR]);\n        }\n        return this._parseBody(node, parseStatement);\n    };\n    SCSSParser.prototype._parseWhileStatement = function (parseStatement) {\n        if (!this.peekKeyword('@while')) {\n            return null;\n        }\n        var node = this.create(nodes.WhileStatement);\n        this.consumeToken(); // @while\n        if (!node.addChild(this._parseBinaryExpr())) {\n            return this.finish(node, ParseError.ExpressionExpected, [TokenType.CurlyR]);\n        }\n        return this._parseBody(node, parseStatement);\n    };\n    SCSSParser.prototype._parseFunctionBodyDeclaration = function () {\n        return this._parseVariableDeclaration() || this._parseReturnStatement() || this._parseWarnAndDebug()\n            || this._parseControlStatement(this._parseFunctionBodyDeclaration.bind(this));\n    };\n    SCSSParser.prototype._parseFunctionDeclaration = function () {\n        if (!this.peekKeyword('@function')) {\n            return null;\n        }\n        var node = this.create(nodes.FunctionDeclaration);\n        this.consumeToken(); // @function\n        if (!node.setIdentifier(this._parseIdent([nodes.ReferenceType.Function]))) {\n            return this.finish(node, ParseError.IdentifierExpected, [TokenType.CurlyR]);\n        }\n        if (!this.accept(TokenType.ParenthesisL)) {\n            return this.finish(node, ParseError.LeftParenthesisExpected, [TokenType.CurlyR]);\n        }\n        if (node.getParameters().addChild(this._parseParameterDeclaration())) {\n            while (this.accept(TokenType.Comma)) {\n                if (this.peek(TokenType.ParenthesisR)) {\n                    break;\n                }\n                if (!node.getParameters().addChild(this._parseParameterDeclaration())) {\n                    return this.finish(node, ParseError.VariableNameExpected);\n                }\n            }\n        }\n        if (!this.accept(TokenType.ParenthesisR)) {\n            return this.finish(node, ParseError.RightParenthesisExpected, [TokenType.CurlyR]);\n        }\n        return this._parseBody(node, this._parseFunctionBodyDeclaration.bind(this));\n    };\n    SCSSParser.prototype._parseReturnStatement = function () {\n        if (!this.peekKeyword('@return')) {\n            return null;\n        }\n        var node = this.createNode(nodes.NodeType.ReturnStatement);\n        this.consumeToken(); // @function\n        if (!node.addChild(this._parseExpr())) {\n            return this.finish(node, ParseError.ExpressionExpected);\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseMixinDeclaration = function () {\n        if (!this.peekKeyword('@mixin')) {\n            return null;\n        }\n        var node = this.create(nodes.MixinDeclaration);\n        this.consumeToken();\n        if (!node.setIdentifier(this._parseIdent([nodes.ReferenceType.Mixin]))) {\n            return this.finish(node, ParseError.IdentifierExpected, [TokenType.CurlyR]);\n        }\n        if (this.accept(TokenType.ParenthesisL)) {\n            if (node.getParameters().addChild(this._parseParameterDeclaration())) {\n                while (this.accept(TokenType.Comma)) {\n                    if (this.peek(TokenType.ParenthesisR)) {\n                        break;\n                    }\n                    if (!node.getParameters().addChild(this._parseParameterDeclaration())) {\n                        return this.finish(node, ParseError.VariableNameExpected);\n                    }\n                }\n            }\n            if (!this.accept(TokenType.ParenthesisR)) {\n                return this.finish(node, ParseError.RightParenthesisExpected, [TokenType.CurlyR]);\n            }\n        }\n        return this._parseBody(node, this._parseRuleSetDeclaration.bind(this));\n    };\n    SCSSParser.prototype._parseParameterDeclaration = function () {\n        var node = this.create(nodes.FunctionParameter);\n        if (!node.setIdentifier(this._parseVariable())) {\n            return null;\n        }\n        if (this.accept(scssScanner.Ellipsis)) {\n            // ok\n        }\n        if (this.accept(TokenType.Colon)) {\n            if (!node.setDefaultValue(this._parseExpr(true))) {\n                return this.finish(node, ParseError.VariableValueExpected, [], [TokenType.Comma, TokenType.ParenthesisR]);\n            }\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseMixinContent = function () {\n        if (!this.peekKeyword('@content')) {\n            return null;\n        }\n        var node = this.createNode(nodes.NodeType.MixinContent);\n        this.consumeToken();\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseMixinReference = function () {\n        if (!this.peekKeyword('@include')) {\n            return null;\n        }\n        var node = this.create(nodes.MixinReference);\n        this.consumeToken();\n        // Could be module or mixin identifier, set as mixin as default.\n        var firstIdent = this._parseIdent([nodes.ReferenceType.Mixin]);\n        if (!node.setIdentifier(firstIdent)) {\n            return this.finish(node, ParseError.IdentifierExpected, [TokenType.CurlyR]);\n        }\n        // Is a module accessor.\n        if (!this.hasWhitespace() && this.acceptDelim('.') && !this.hasWhitespace()) {\n            var secondIdent = this._parseIdent([nodes.ReferenceType.Mixin]);\n            if (!secondIdent) {\n                return this.finish(node, ParseError.IdentifierExpected, [TokenType.CurlyR]);\n            }\n            var moduleToken = this.create(nodes.Module);\n            // Re-purpose first matched ident as identifier for module token.\n            firstIdent.referenceTypes = [nodes.ReferenceType.Module];\n            moduleToken.setIdentifier(firstIdent);\n            // Override identifier with second ident.\n            node.setIdentifier(secondIdent);\n            node.addChild(moduleToken);\n        }\n        if (this.accept(TokenType.ParenthesisL)) {\n            if (node.getArguments().addChild(this._parseFunctionArgument())) {\n                while (this.accept(TokenType.Comma)) {\n                    if (this.peek(TokenType.ParenthesisR)) {\n                        break;\n                    }\n                    if (!node.getArguments().addChild(this._parseFunctionArgument())) {\n                        return this.finish(node, ParseError.ExpressionExpected);\n                    }\n                }\n            }\n            if (!this.accept(TokenType.ParenthesisR)) {\n                return this.finish(node, ParseError.RightParenthesisExpected);\n            }\n        }\n        if (this.peek(TokenType.CurlyL)) {\n            var content = this.create(nodes.BodyDeclaration);\n            this._parseBody(content, this._parseMixinReferenceBodyStatement.bind(this));\n            node.setContent(content);\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseMixinReferenceBodyStatement = function () {\n        return this._tryParseKeyframeSelector() || this._parseRuleSetDeclaration();\n    };\n    SCSSParser.prototype._parseFunctionArgument = function () {\n        // [variableName ':'] expression | variableName '...'\n        var node = this.create(nodes.FunctionArgument);\n        var pos = this.mark();\n        var argument = this._parseVariable();\n        if (argument) {\n            if (!this.accept(TokenType.Colon)) {\n                if (this.accept(scssScanner.Ellipsis)) { // optional\n                    node.setValue(argument);\n                    return this.finish(node);\n                }\n                else {\n                    this.restoreAtMark(pos);\n                }\n            }\n            else {\n                node.setIdentifier(argument);\n            }\n        }\n        if (node.setValue(this._parseExpr(true))) {\n            this.accept(scssScanner.Ellipsis); // #43746\n            node.addChild(this._parsePrio()); // #9859\n            return this.finish(node);\n        }\n        return null;\n    };\n    SCSSParser.prototype._parseURLArgument = function () {\n        var pos = this.mark();\n        var node = _super.prototype._parseURLArgument.call(this);\n        if (!node || !this.peek(TokenType.ParenthesisR)) {\n            this.restoreAtMark(pos);\n            var node_1 = this.create(nodes.Node);\n            node_1.addChild(this._parseBinaryExpr());\n            return this.finish(node_1);\n        }\n        return node;\n    };\n    SCSSParser.prototype._parseOperation = function () {\n        if (!this.peek(TokenType.ParenthesisL)) {\n            return null;\n        }\n        var node = this.create(nodes.Node);\n        this.consumeToken();\n        while (node.addChild(this._parseListElement())) {\n            this.accept(TokenType.Comma); // optional\n        }\n        if (!this.accept(TokenType.ParenthesisR)) {\n            return this.finish(node, ParseError.RightParenthesisExpected);\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseListElement = function () {\n        var node = this.create(nodes.ListEntry);\n        var child = this._parseBinaryExpr();\n        if (!child) {\n            return null;\n        }\n        if (this.accept(TokenType.Colon)) {\n            node.setKey(child);\n            if (!node.setValue(this._parseBinaryExpr())) {\n                return this.finish(node, ParseError.ExpressionExpected);\n            }\n        }\n        else {\n            node.setValue(child);\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseUse = function () {\n        if (!this.peek(scssScanner.Use)) {\n            return null;\n        }\n        var node = this.create(nodes.Use);\n        this.consumeToken();\n        if (!node.addChild(this._parseStringLiteral())) {\n            return this.finish(node, ParseError.StringLiteralExpected);\n        }\n        if (!this.peek(TokenType.SemiColon) && !this.peek(TokenType.EOF)) {\n            if (!this.peekRegExp(TokenType.Ident, /as|with/)) {\n                return this.finish(node, ParseError.UnknownKeyword);\n            }\n            if (this.acceptIdent('as') &&\n                (!node.setIdentifier(this._parseIdent([nodes.ReferenceType.Module])) && !this.acceptDelim('*'))) {\n                return this.finish(node, ParseError.IdentifierOrWildcardExpected);\n            }\n            if (this.acceptIdent('with')) {\n                if (!this.accept(TokenType.ParenthesisL)) {\n                    return this.finish(node, ParseError.LeftParenthesisExpected, [TokenType.ParenthesisR]);\n                }\n                // First variable statement, no comma.\n                if (!node.getParameters().addChild(this._parseModuleConfigDeclaration())) {\n                    return this.finish(node, ParseError.VariableNameExpected);\n                }\n                while (this.accept(TokenType.Comma)) {\n                    if (this.peek(TokenType.ParenthesisR)) {\n                        break;\n                    }\n                    if (!node.getParameters().addChild(this._parseModuleConfigDeclaration())) {\n                        return this.finish(node, ParseError.VariableNameExpected);\n                    }\n                }\n                if (!this.accept(TokenType.ParenthesisR)) {\n                    return this.finish(node, ParseError.RightParenthesisExpected);\n                }\n            }\n        }\n        if (!this.accept(TokenType.SemiColon) && !this.accept(TokenType.EOF)) {\n            return this.finish(node, ParseError.SemiColonExpected);\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseModuleConfigDeclaration = function () {\n        var node = this.create(nodes.ModuleConfiguration);\n        if (!node.setIdentifier(this._parseVariable())) {\n            return null;\n        }\n        if (!this.accept(TokenType.Colon) || !node.setValue(this._parseExpr(true))) {\n            return this.finish(node, ParseError.VariableValueExpected, [], [TokenType.Comma, TokenType.ParenthesisR]);\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseForward = function () {\n        if (!this.peek(scssScanner.Forward)) {\n            return null;\n        }\n        var node = this.create(nodes.Forward);\n        this.consumeToken();\n        if (!node.addChild(this._parseStringLiteral())) {\n            return this.finish(node, ParseError.StringLiteralExpected);\n        }\n        if (!this.peek(TokenType.SemiColon) && !this.peek(TokenType.EOF)) {\n            if (!this.peekRegExp(TokenType.Ident, /as|hide|show/)) {\n                return this.finish(node, ParseError.UnknownKeyword);\n            }\n            if (this.acceptIdent('as')) {\n                var identifier = this._parseIdent([nodes.ReferenceType.Forward]);\n                if (!node.setIdentifier(identifier)) {\n                    return this.finish(node, ParseError.IdentifierExpected);\n                }\n                // Wildcard must be the next character after the identifier string.\n                if (this.hasWhitespace() || !this.acceptDelim('*')) {\n                    return this.finish(node, ParseError.WildcardExpected);\n                }\n            }\n            if (this.peekIdent('hide') || this.peekIdent('show')) {\n                if (!node.addChild(this._parseForwardVisibility())) {\n                    return this.finish(node, ParseError.IdentifierOrVariableExpected);\n                }\n            }\n        }\n        if (!this.accept(TokenType.SemiColon) && !this.accept(TokenType.EOF)) {\n            return this.finish(node, ParseError.SemiColonExpected);\n        }\n        return this.finish(node);\n    };\n    SCSSParser.prototype._parseForwardVisibility = function () {\n        var node = this.create(nodes.ForwardVisibility);\n        // Assume to be \"hide\" or \"show\".\n        node.setIdentifier(this._parseIdent());\n        while (node.addChild(this._parseVariable() || this._parseIdent())) {\n            // Consume all variables and idents ahead.\n        }\n        // More than just identifier \n        return node.getChildren().length > 1 ? node : null;\n    };\n    return SCSSParser;\n}(cssParser.Parser));\nexport { SCSSParser };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as scanner from './cssScanner.js';\nvar _FSL = '/'.charCodeAt(0);\nvar _NWL = '\\n'.charCodeAt(0);\nvar _CAR = '\\r'.charCodeAt(0);\nvar _LFD = '\\f'.charCodeAt(0);\nvar _TIC = '`'.charCodeAt(0);\nvar _DOT = '.'.charCodeAt(0);\nvar customTokenValue = scanner.TokenType.CustomToken;\nexport var Ellipsis = customTokenValue++;\nvar LESSScanner = /** @class */ (function (_super) {\n    __extends(LESSScanner, _super);\n    function LESSScanner() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LESSScanner.prototype.scanNext = function (offset) {\n        // LESS: escaped JavaScript code `const a = \"dddd\"`\n        var tokenType = this.escapedJavaScript();\n        if (tokenType !== null) {\n            return this.finishToken(offset, tokenType);\n        }\n        if (this.stream.advanceIfChars([_DOT, _DOT, _DOT])) {\n            return this.finishToken(offset, Ellipsis);\n        }\n        return _super.prototype.scanNext.call(this, offset);\n    };\n    LESSScanner.prototype.comment = function () {\n        if (_super.prototype.comment.call(this)) {\n            return true;\n        }\n        if (!this.inURL && this.stream.advanceIfChars([_FSL, _FSL])) {\n            this.stream.advanceWhileChar(function (ch) {\n                switch (ch) {\n                    case _NWL:\n                    case _CAR:\n                    case _LFD:\n                        return false;\n                    default:\n                        return true;\n                }\n            });\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    LESSScanner.prototype.escapedJavaScript = function () {\n        var ch = this.stream.peekChar();\n        if (ch === _TIC) {\n            this.stream.advance(1);\n            this.stream.advanceWhileChar(function (ch) { return ch !== _TIC; });\n            return this.stream.advanceIfChar(_TIC) ? scanner.TokenType.EscapedJavaScript : scanner.TokenType.BadEscapedJavaScript;\n        }\n        return null;\n    };\n    return LESSScanner;\n}(scanner.Scanner));\nexport { LESSScanner };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { TokenType, Scanner } from './cssScanner.js';\nimport * as nodes from './cssNodes.js';\nimport { ParseError } from './cssErrors.js';\nimport * as languageFacts from '../languageFacts/facts.js';\nimport { isDefined } from '../utils/objects.js';\n/// <summary>\n/// A parser for the css core specification. See for reference:\n/// https://www.w3.org/TR/CSS21/grammar.html\n/// http://www.w3.org/TR/CSS21/syndata.html#tokenization\n/// </summary>\nvar Parser = /** @class */ (function () {\n    function Parser(scnr) {\n        if (scnr === void 0) { scnr = new Scanner(); }\n        this.keyframeRegex = /^@(\\-(webkit|ms|moz|o)\\-)?keyframes$/i;\n        this.scanner = scnr;\n        this.token = { type: TokenType.EOF, offset: -1, len: 0, text: '' };\n        this.prevToken = undefined;\n    }\n    Parser.prototype.peekIdent = function (text) {\n        return TokenType.Ident === this.token.type && text.length === this.token.text.length && text === this.token.text.toLowerCase();\n    };\n    Parser.prototype.peekKeyword = function (text) {\n        return TokenType.AtKeyword === this.token.type && text.length === this.token.text.length && text === this.token.text.toLowerCase();\n    };\n    Parser.prototype.peekDelim = function (text) {\n        return TokenType.Delim === this.token.type && text === this.token.text;\n    };\n    Parser.prototype.peek = function (type) {\n        return type === this.token.type;\n    };\n    Parser.prototype.peekRegExp = function (type, regEx) {\n        if (type !== this.token.type) {\n            return false;\n        }\n        return regEx.test(this.token.text);\n    };\n    Parser.prototype.hasWhitespace = function () {\n        return !!this.prevToken && (this.prevToken.offset + this.prevToken.len !== this.token.offset);\n    };\n    Parser.prototype.consumeToken = function () {\n        this.prevToken = this.token;\n        this.token = this.scanner.scan();\n    };\n    Parser.prototype.mark = function () {\n        return {\n            prev: this.prevToken,\n            curr: this.token,\n            pos: this.scanner.pos()\n        };\n    };\n    Parser.prototype.restoreAtMark = function (mark) {\n        this.prevToken = mark.prev;\n        this.token = mark.curr;\n        this.scanner.goBackTo(mark.pos);\n    };\n    Parser.prototype.try = function (func) {\n        var pos = this.mark();\n        var node = func();\n        if (!node) {\n            this.restoreAtMark(pos);\n            return null;\n        }\n        return node;\n    };\n    Parser.prototype.acceptOneKeyword = function (keywords) {\n        if (TokenType.AtKeyword === this.token.type) {\n            for (var _i = 0, keywords_1 = keywords; _i < keywords_1.length; _i++) {\n                var keyword = keywords_1[_i];\n                if (keyword.length === this.token.text.length && keyword === this.token.text.toLowerCase()) {\n                    this.consumeToken();\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    Parser.prototype.accept = function (type) {\n        if (type === this.token.type) {\n            this.consumeToken();\n            return true;\n        }\n        return false;\n    };\n    Parser.prototype.acceptIdent = function (text) {\n        if (this.peekIdent(text)) {\n            this.consumeToken();\n            return true;\n        }\n        return false;\n    };\n    Parser.prototype.acceptKeyword = function (text) {\n        if (this.peekKeyword(text)) {\n            this.consumeToken();\n            return true;\n        }\n        return false;\n    };\n    Parser.prototype.acceptDelim = function (text) {\n        if (this.peekDelim(text)) {\n            this.consumeToken();\n            return true;\n        }\n        return false;\n    };\n    Parser.prototype.acceptRegexp = function (regEx) {\n        if (regEx.test(this.token.text)) {\n            this.consumeToken();\n            return true;\n        }\n        return false;\n    };\n    Parser.prototype._parseRegexp = function (regEx) {\n        var node = this.createNode(nodes.NodeType.Identifier);\n        do { } while (this.acceptRegexp(regEx));\n        return this.finish(node);\n    };\n    Parser.prototype.acceptUnquotedString = function () {\n        var pos = this.scanner.pos();\n        this.scanner.goBackTo(this.token.offset);\n        var unquoted = this.scanner.scanUnquotedString();\n        if (unquoted) {\n            this.token = unquoted;\n            this.consumeToken();\n            return true;\n        }\n        this.scanner.goBackTo(pos);\n        return false;\n    };\n    Parser.prototype.resync = function (resyncTokens, resyncStopTokens) {\n        while (true) {\n            if (resyncTokens && resyncTokens.indexOf(this.token.type) !== -1) {\n                this.consumeToken();\n                return true;\n            }\n            else if (resyncStopTokens && resyncStopTokens.indexOf(this.token.type) !== -1) {\n                return true;\n            }\n            else {\n                if (this.token.type === TokenType.EOF) {\n                    return false;\n                }\n                this.token = this.scanner.scan();\n            }\n        }\n    };\n    Parser.prototype.createNode = function (nodeType) {\n        return new nodes.Node(this.token.offset, this.token.len, nodeType);\n    };\n    Parser.prototype.create = function (ctor) {\n        return new ctor(this.token.offset, this.token.len);\n    };\n    Parser.prototype.finish = function (node, error, resyncTokens, resyncStopTokens) {\n        // parseNumeric misuses error for boolean flagging (however the real error mustn't be a false)\n        // + nodelist offsets mustn't be modified, because there is a offset hack in rulesets for smartselection\n        if (!(node instanceof nodes.Nodelist)) {\n            if (error) {\n                this.markError(node, error, resyncTokens, resyncStopTokens);\n            }\n            // set the node end position\n            if (this.prevToken) {\n                // length with more elements belonging together\n                var prevEnd = this.prevToken.offset + this.prevToken.len;\n                node.length = prevEnd > node.offset ? prevEnd - node.offset : 0; // offset is taken from current token, end from previous: Use 0 for empty nodes\n            }\n        }\n        return node;\n    };\n    Parser.prototype.markError = function (node, error, resyncTokens, resyncStopTokens) {\n        if (this.token !== this.lastErrorToken) { // do not report twice on the same token\n            node.addIssue(new nodes.Marker(node, error, nodes.Level.Error, undefined, this.token.offset, this.token.len));\n            this.lastErrorToken = this.token;\n        }\n        if (resyncTokens || resyncStopTokens) {\n            this.resync(resyncTokens, resyncStopTokens);\n        }\n    };\n    Parser.prototype.parseStylesheet = function (textDocument) {\n        var versionId = textDocument.version;\n        var text = textDocument.getText();\n        var textProvider = function (offset, length) {\n            if (textDocument.version !== versionId) {\n                throw new Error('Underlying model has changed, AST is no longer valid');\n            }\n            return text.substr(offset, length);\n        };\n        return this.internalParse(text, this._parseStylesheet, textProvider);\n    };\n    Parser.prototype.internalParse = function (input, parseFunc, textProvider) {\n        this.scanner.setSource(input);\n        this.token = this.scanner.scan();\n        var node = parseFunc.bind(this)();\n        if (node) {\n            if (textProvider) {\n                node.textProvider = textProvider;\n            }\n            else {\n                node.textProvider = function (offset, length) { return input.substr(offset, length); };\n            }\n        }\n        return node;\n    };\n    Parser.prototype._parseStylesheet = function () {\n        var node = this.create(nodes.Stylesheet);\n        while (node.addChild(this._parseStylesheetStart())) {\n            // Parse statements only valid at the beginning of stylesheets.\n        }\n        var inRecovery = false;\n        do {\n            var hasMatch = false;\n            do {\n                hasMatch = false;\n                var statement = this._parseStylesheetStatement();\n                if (statement) {\n                    node.addChild(statement);\n                    hasMatch = true;\n                    inRecovery = false;\n                    if (!this.peek(TokenType.EOF) && this._needsSemicolonAfter(statement) && !this.accept(TokenType.SemiColon)) {\n                        this.markError(node, ParseError.SemiColonExpected);\n                    }\n                }\n                while (this.accept(TokenType.SemiColon) || this.accept(TokenType.CDO) || this.accept(TokenType.CDC)) {\n                    // accept empty statements\n                    hasMatch = true;\n                    inRecovery = false;\n                }\n            } while (hasMatch);\n            if (this.peek(TokenType.EOF)) {\n                break;\n            }\n            if (!inRecovery) {\n                if (this.peek(TokenType.AtKeyword)) {\n                    this.markError(node, ParseError.UnknownAtRule);\n                }\n                else {\n                    this.markError(node, ParseError.RuleOrSelectorExpected);\n                }\n                inRecovery = true;\n            }\n            this.consumeToken();\n        } while (!this.peek(TokenType.EOF));\n        return this.finish(node);\n    };\n    Parser.prototype._parseStylesheetStart = function () {\n        return this._parseCharset();\n    };\n    Parser.prototype._parseStylesheetStatement = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        if (this.peek(TokenType.AtKeyword)) {\n            return this._parseStylesheetAtStatement(isNested);\n        }\n        return this._parseRuleset(isNested);\n    };\n    Parser.prototype._parseStylesheetAtStatement = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        return this._parseImport()\n            || this._parseMedia(isNested)\n            || this._parsePage()\n            || this._parseFontFace()\n            || this._parseKeyframe()\n            || this._parseSupports(isNested)\n            || this._parseViewPort()\n            || this._parseNamespace()\n            || this._parseDocument()\n            || this._parseUnknownAtRule();\n    };\n    Parser.prototype._tryParseRuleset = function (isNested) {\n        var mark = this.mark();\n        if (this._parseSelector(isNested)) {\n            while (this.accept(TokenType.Comma) && this._parseSelector(isNested)) {\n                // loop\n            }\n            if (this.accept(TokenType.CurlyL)) {\n                this.restoreAtMark(mark);\n                return this._parseRuleset(isNested);\n            }\n        }\n        this.restoreAtMark(mark);\n        return null;\n    };\n    Parser.prototype._parseRuleset = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        var node = this.create(nodes.RuleSet);\n        var selectors = node.getSelectors();\n        if (!selectors.addChild(this._parseSelector(isNested))) {\n            return null;\n        }\n        while (this.accept(TokenType.Comma)) {\n            if (!selectors.addChild(this._parseSelector(isNested))) {\n                return this.finish(node, ParseError.SelectorExpected);\n            }\n        }\n        return this._parseBody(node, this._parseRuleSetDeclaration.bind(this));\n    };\n    Parser.prototype._parseRuleSetDeclaration = function () {\n        // https://www.w3.org/TR/css-syntax-3/#consume-a-list-of-declarations0\n        return this._parseAtApply()\n            || this._tryParseCustomPropertyDeclaration()\n            || this._parseDeclaration()\n            || this._parseUnknownAtRule();\n    };\n    /**\n     * Parses declarations like:\n     *   @apply --my-theme;\n     *\n     * Follows https://tabatkins.github.io/specs/css-apply-rule/#using\n     */\n    Parser.prototype._parseAtApply = function () {\n        if (!this.peekKeyword('@apply')) {\n            return null;\n        }\n        var node = this.create(nodes.AtApplyRule);\n        this.consumeToken();\n        if (!node.setIdentifier(this._parseIdent([nodes.ReferenceType.Variable]))) {\n            return this.finish(node, ParseError.IdentifierExpected);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._needsSemicolonAfter = function (node) {\n        switch (node.type) {\n            case nodes.NodeType.Keyframe:\n            case nodes.NodeType.ViewPort:\n            case nodes.NodeType.Media:\n            case nodes.NodeType.Ruleset:\n            case nodes.NodeType.Namespace:\n            case nodes.NodeType.If:\n            case nodes.NodeType.For:\n            case nodes.NodeType.Each:\n            case nodes.NodeType.While:\n            case nodes.NodeType.MixinDeclaration:\n            case nodes.NodeType.FunctionDeclaration:\n                return false;\n            case nodes.NodeType.ExtendsReference:\n            case nodes.NodeType.MixinContent:\n            case nodes.NodeType.ReturnStatement:\n            case nodes.NodeType.MediaQuery:\n            case nodes.NodeType.Debug:\n            case nodes.NodeType.Import:\n            case nodes.NodeType.AtApplyRule:\n            case nodes.NodeType.CustomPropertyDeclaration:\n                return true;\n            case nodes.NodeType.VariableDeclaration:\n                return node.needsSemicolon;\n            case nodes.NodeType.MixinReference:\n                return !node.getContent();\n            case nodes.NodeType.Declaration:\n                return !node.getNestedProperties();\n        }\n        return false;\n    };\n    Parser.prototype._parseDeclarations = function (parseDeclaration) {\n        var node = this.create(nodes.Declarations);\n        if (!this.accept(TokenType.CurlyL)) {\n            return null;\n        }\n        var decl = parseDeclaration();\n        while (node.addChild(decl)) {\n            if (this.peek(TokenType.CurlyR)) {\n                break;\n            }\n            if (this._needsSemicolonAfter(decl) && !this.accept(TokenType.SemiColon)) {\n                return this.finish(node, ParseError.SemiColonExpected, [TokenType.SemiColon, TokenType.CurlyR]);\n            }\n            // We accepted semicolon token. Link it to declaration.\n            if (decl && this.prevToken && this.prevToken.type === TokenType.SemiColon) {\n                decl.semicolonPosition = this.prevToken.offset;\n            }\n            while (this.accept(TokenType.SemiColon)) {\n                // accept empty statements\n            }\n            decl = parseDeclaration();\n        }\n        if (!this.accept(TokenType.CurlyR)) {\n            return this.finish(node, ParseError.RightCurlyExpected, [TokenType.CurlyR, TokenType.SemiColon]);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseBody = function (node, parseDeclaration) {\n        if (!node.setDeclarations(this._parseDeclarations(parseDeclaration))) {\n            return this.finish(node, ParseError.LeftCurlyExpected, [TokenType.CurlyR, TokenType.SemiColon]);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseSelector = function (isNested) {\n        var node = this.create(nodes.Selector);\n        var hasContent = false;\n        if (isNested) {\n            // nested selectors can start with a combinator\n            hasContent = node.addChild(this._parseCombinator());\n        }\n        while (node.addChild(this._parseSimpleSelector())) {\n            hasContent = true;\n            node.addChild(this._parseCombinator()); // optional\n        }\n        return hasContent ? this.finish(node) : null;\n    };\n    Parser.prototype._parseDeclaration = function (resyncStopTokens) {\n        var node = this.create(nodes.Declaration);\n        if (!node.setProperty(this._parseProperty())) {\n            return null;\n        }\n        if (!this.accept(TokenType.Colon)) {\n            var stopTokens = resyncStopTokens ? __spreadArrays(resyncStopTokens, [TokenType.SemiColon]) : [TokenType.SemiColon];\n            return this.finish(node, ParseError.ColonExpected, [TokenType.Colon], stopTokens);\n        }\n        if (this.prevToken) {\n            node.colonPosition = this.prevToken.offset;\n        }\n        if (!node.setValue(this._parseExpr())) {\n            return this.finish(node, ParseError.PropertyValueExpected);\n        }\n        node.addChild(this._parsePrio());\n        if (this.peek(TokenType.SemiColon)) {\n            node.semicolonPosition = this.token.offset; // not part of the declaration, but useful information for code assist\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._tryParseCustomPropertyDeclaration = function () {\n        if (!this.peekRegExp(TokenType.Ident, /^--/)) {\n            return null;\n        }\n        var node = this.create(nodes.CustomPropertyDeclaration);\n        if (!node.setProperty(this._parseProperty())) {\n            return null;\n        }\n        if (!this.accept(TokenType.Colon)) {\n            return this.finish(node, ParseError.ColonExpected, [TokenType.Colon]);\n        }\n        if (this.prevToken) {\n            node.colonPosition = this.prevToken.offset;\n        }\n        var mark = this.mark();\n        if (this.peek(TokenType.CurlyL)) {\n            // try to parse it as nested declaration\n            var propertySet = this.create(nodes.CustomPropertySet);\n            var declarations = this._parseDeclarations(this._parseRuleSetDeclaration.bind(this));\n            if (propertySet.setDeclarations(declarations) && !declarations.isErroneous(true)) {\n                propertySet.addChild(this._parsePrio());\n                if (this.peek(TokenType.SemiColon)) {\n                    this.finish(propertySet);\n                    node.setPropertySet(propertySet);\n                    node.semicolonPosition = this.token.offset; // not part of the declaration, but useful information for code assist\n                    return this.finish(node);\n                }\n            }\n            this.restoreAtMark(mark);\n        }\n        // try tp parse as expression\n        var expression = this._parseExpr();\n        if (expression && !expression.isErroneous(true)) {\n            this._parsePrio();\n            if (this.peek(TokenType.SemiColon)) {\n                node.setValue(expression);\n                node.semicolonPosition = this.token.offset; // not part of the declaration, but useful information for code assist\n                return this.finish(node);\n            }\n        }\n        this.restoreAtMark(mark);\n        node.addChild(this._parseCustomPropertyValue());\n        node.addChild(this._parsePrio());\n        if (isDefined(node.colonPosition) && this.token.offset === node.colonPosition + 1) {\n            return this.finish(node, ParseError.PropertyValueExpected);\n        }\n        return this.finish(node);\n    };\n    /**\n     * Parse custom property values.\n     *\n     * Based on https://www.w3.org/TR/css-variables/#syntax\n     *\n     * This code is somewhat unusual, as the allowed syntax is incredibly broad,\n     * parsing almost any sequence of tokens, save for a small set of exceptions.\n     * Unbalanced delimitors, invalid tokens, and declaration\n     * terminators like semicolons and !important directives (when not inside\n     * of delimitors).\n     */\n    Parser.prototype._parseCustomPropertyValue = function () {\n        var node = this.create(nodes.Node);\n        var isTopLevel = function () { return curlyDepth === 0 && parensDepth === 0 && bracketsDepth === 0; };\n        var curlyDepth = 0;\n        var parensDepth = 0;\n        var bracketsDepth = 0;\n        done: while (true) {\n            switch (this.token.type) {\n                case TokenType.SemiColon:\n                    // A semicolon only ends things if we're not inside a delimitor.\n                    if (isTopLevel()) {\n                        break done;\n                    }\n                    break;\n                case TokenType.Exclamation:\n                    // An exclamation ends the value if we're not inside delims.\n                    if (isTopLevel()) {\n                        break done;\n                    }\n                    break;\n                case TokenType.CurlyL:\n                    curlyDepth++;\n                    break;\n                case TokenType.CurlyR:\n                    curlyDepth--;\n                    if (curlyDepth < 0) {\n                        // The property value has been terminated without a semicolon, and\n                        // this is the last declaration in the ruleset.\n                        if (parensDepth === 0 && bracketsDepth === 0) {\n                            break done;\n                        }\n                        return this.finish(node, ParseError.LeftCurlyExpected);\n                    }\n                    break;\n                case TokenType.ParenthesisL:\n                    parensDepth++;\n                    break;\n                case TokenType.ParenthesisR:\n                    parensDepth--;\n                    if (parensDepth < 0) {\n                        return this.finish(node, ParseError.LeftParenthesisExpected);\n                    }\n                    break;\n                case TokenType.BracketL:\n                    bracketsDepth++;\n                    break;\n                case TokenType.BracketR:\n                    bracketsDepth--;\n                    if (bracketsDepth < 0) {\n                        return this.finish(node, ParseError.LeftSquareBracketExpected);\n                    }\n                    break;\n                case TokenType.BadString: // fall through\n                    break done;\n                case TokenType.EOF:\n                    // We shouldn't have reached the end of input, something is\n                    // unterminated.\n                    var error = ParseError.RightCurlyExpected;\n                    if (bracketsDepth > 0) {\n                        error = ParseError.RightSquareBracketExpected;\n                    }\n                    else if (parensDepth > 0) {\n                        error = ParseError.RightParenthesisExpected;\n                    }\n                    return this.finish(node, error);\n            }\n            this.consumeToken();\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._tryToParseDeclaration = function () {\n        var mark = this.mark();\n        if (this._parseProperty() && this.accept(TokenType.Colon)) {\n            // looks like a declaration, go ahead\n            this.restoreAtMark(mark);\n            return this._parseDeclaration();\n        }\n        this.restoreAtMark(mark);\n        return null;\n    };\n    Parser.prototype._parseProperty = function () {\n        var node = this.create(nodes.Property);\n        var mark = this.mark();\n        if (this.acceptDelim('*') || this.acceptDelim('_')) {\n            // support for  IE 5.x, 6 and 7 star hack: see http://en.wikipedia.org/wiki/CSS_filter#Star_hack\n            if (this.hasWhitespace()) {\n                this.restoreAtMark(mark);\n                return null;\n            }\n        }\n        if (node.setIdentifier(this._parsePropertyIdentifier())) {\n            return this.finish(node);\n        }\n        return null;\n    };\n    Parser.prototype._parsePropertyIdentifier = function () {\n        return this._parseIdent();\n    };\n    Parser.prototype._parseCharset = function () {\n        if (!this.peek(TokenType.Charset)) {\n            return null;\n        }\n        var node = this.create(nodes.Node);\n        this.consumeToken(); // charset\n        if (!this.accept(TokenType.String)) {\n            return this.finish(node, ParseError.IdentifierExpected);\n        }\n        if (!this.accept(TokenType.SemiColon)) {\n            return this.finish(node, ParseError.SemiColonExpected);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseImport = function () {\n        if (!this.peekKeyword('@import')) {\n            return null;\n        }\n        var node = this.create(nodes.Import);\n        this.consumeToken(); // @import\n        if (!node.addChild(this._parseURILiteral()) && !node.addChild(this._parseStringLiteral())) {\n            return this.finish(node, ParseError.URIOrStringExpected);\n        }\n        if (!this.peek(TokenType.SemiColon) && !this.peek(TokenType.EOF)) {\n            node.setMedialist(this._parseMediaQueryList());\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseNamespace = function () {\n        // http://www.w3.org/TR/css3-namespace/\n        // namespace  : NAMESPACE_SYM S* [IDENT S*]? [STRING|URI] S* ';' S*\n        if (!this.peekKeyword('@namespace')) {\n            return null;\n        }\n        var node = this.create(nodes.Namespace);\n        this.consumeToken(); // @namespace\n        if (!node.addChild(this._parseURILiteral())) { // url literal also starts with ident\n            node.addChild(this._parseIdent()); // optional prefix\n            if (!node.addChild(this._parseURILiteral()) && !node.addChild(this._parseStringLiteral())) {\n                return this.finish(node, ParseError.URIExpected, [TokenType.SemiColon]);\n            }\n        }\n        if (!this.accept(TokenType.SemiColon)) {\n            return this.finish(node, ParseError.SemiColonExpected);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseFontFace = function () {\n        if (!this.peekKeyword('@font-face')) {\n            return null;\n        }\n        var node = this.create(nodes.FontFace);\n        this.consumeToken(); // @font-face\n        return this._parseBody(node, this._parseRuleSetDeclaration.bind(this));\n    };\n    Parser.prototype._parseViewPort = function () {\n        if (!this.peekKeyword('@-ms-viewport') &&\n            !this.peekKeyword('@-o-viewport') &&\n            !this.peekKeyword('@viewport')) {\n            return null;\n        }\n        var node = this.create(nodes.ViewPort);\n        this.consumeToken(); // @-ms-viewport\n        return this._parseBody(node, this._parseRuleSetDeclaration.bind(this));\n    };\n    Parser.prototype._parseKeyframe = function () {\n        if (!this.peekRegExp(TokenType.AtKeyword, this.keyframeRegex)) {\n            return null;\n        }\n        var node = this.create(nodes.Keyframe);\n        var atNode = this.create(nodes.Node);\n        this.consumeToken(); // atkeyword\n        node.setKeyword(this.finish(atNode));\n        if (atNode.matches('@-ms-keyframes')) { // -ms-keyframes never existed\n            this.markError(atNode, ParseError.UnknownKeyword);\n        }\n        if (!node.setIdentifier(this._parseKeyframeIdent())) {\n            return this.finish(node, ParseError.IdentifierExpected, [TokenType.CurlyR]);\n        }\n        return this._parseBody(node, this._parseKeyframeSelector.bind(this));\n    };\n    Parser.prototype._parseKeyframeIdent = function () {\n        return this._parseIdent([nodes.ReferenceType.Keyframe]);\n    };\n    Parser.prototype._parseKeyframeSelector = function () {\n        var node = this.create(nodes.KeyframeSelector);\n        if (!node.addChild(this._parseIdent()) && !this.accept(TokenType.Percentage)) {\n            return null;\n        }\n        while (this.accept(TokenType.Comma)) {\n            if (!node.addChild(this._parseIdent()) && !this.accept(TokenType.Percentage)) {\n                return this.finish(node, ParseError.PercentageExpected);\n            }\n        }\n        return this._parseBody(node, this._parseRuleSetDeclaration.bind(this));\n    };\n    Parser.prototype._tryParseKeyframeSelector = function () {\n        var node = this.create(nodes.KeyframeSelector);\n        var pos = this.mark();\n        if (!node.addChild(this._parseIdent()) && !this.accept(TokenType.Percentage)) {\n            return null;\n        }\n        while (this.accept(TokenType.Comma)) {\n            if (!node.addChild(this._parseIdent()) && !this.accept(TokenType.Percentage)) {\n                this.restoreAtMark(pos);\n                return null;\n            }\n        }\n        if (!this.peek(TokenType.CurlyL)) {\n            this.restoreAtMark(pos);\n            return null;\n        }\n        return this._parseBody(node, this._parseRuleSetDeclaration.bind(this));\n    };\n    Parser.prototype._parseSupports = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        // SUPPORTS_SYM S* supports_condition '{' S* ruleset* '}' S*\n        if (!this.peekKeyword('@supports')) {\n            return null;\n        }\n        var node = this.create(nodes.Supports);\n        this.consumeToken(); // @supports\n        node.addChild(this._parseSupportsCondition());\n        return this._parseBody(node, this._parseSupportsDeclaration.bind(this, isNested));\n    };\n    Parser.prototype._parseSupportsDeclaration = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        if (isNested) {\n            // if nested, the body can contain rulesets, but also declarations\n            return this._tryParseRuleset(true)\n                || this._tryToParseDeclaration()\n                || this._parseStylesheetStatement(true);\n        }\n        return this._parseStylesheetStatement(false);\n    };\n    Parser.prototype._parseSupportsCondition = function () {\n        // supports_condition : supports_negation | supports_conjunction | supports_disjunction | supports_condition_in_parens ;\n        // supports_condition_in_parens: ( '(' S* supports_condition S* ')' ) | supports_declaration_condition | general_enclosed ;\n        // supports_negation: NOT S+ supports_condition_in_parens ;\n        // supports_conjunction: supports_condition_in_parens ( S+ AND S+ supports_condition_in_parens )+;\n        // supports_disjunction: supports_condition_in_parens ( S+ OR S+ supports_condition_in_parens )+;\n        // supports_declaration_condition: '(' S* declaration ')';\n        // general_enclosed: ( FUNCTION | '(' ) ( any | unused )* ')' ;\n        var node = this.create(nodes.SupportsCondition);\n        if (this.acceptIdent('not')) {\n            node.addChild(this._parseSupportsConditionInParens());\n        }\n        else {\n            node.addChild(this._parseSupportsConditionInParens());\n            if (this.peekRegExp(TokenType.Ident, /^(and|or)$/i)) {\n                var text = this.token.text.toLowerCase();\n                while (this.acceptIdent(text)) {\n                    node.addChild(this._parseSupportsConditionInParens());\n                }\n            }\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseSupportsConditionInParens = function () {\n        var node = this.create(nodes.SupportsCondition);\n        if (this.accept(TokenType.ParenthesisL)) {\n            if (this.prevToken) {\n                node.lParent = this.prevToken.offset;\n            }\n            if (!node.addChild(this._tryToParseDeclaration())) {\n                if (!this._parseSupportsCondition()) {\n                    return this.finish(node, ParseError.ConditionExpected);\n                }\n            }\n            if (!this.accept(TokenType.ParenthesisR)) {\n                return this.finish(node, ParseError.RightParenthesisExpected, [TokenType.ParenthesisR], []);\n            }\n            if (this.prevToken) {\n                node.rParent = this.prevToken.offset;\n            }\n            return this.finish(node);\n        }\n        else if (this.peek(TokenType.Ident)) {\n            var pos = this.mark();\n            this.consumeToken();\n            if (!this.hasWhitespace() && this.accept(TokenType.ParenthesisL)) {\n                var openParentCount = 1;\n                while (this.token.type !== TokenType.EOF && openParentCount !== 0) {\n                    if (this.token.type === TokenType.ParenthesisL) {\n                        openParentCount++;\n                    }\n                    else if (this.token.type === TokenType.ParenthesisR) {\n                        openParentCount--;\n                    }\n                    this.consumeToken();\n                }\n                return this.finish(node);\n            }\n            else {\n                this.restoreAtMark(pos);\n            }\n        }\n        return this.finish(node, ParseError.LeftParenthesisExpected, [], [TokenType.ParenthesisL]);\n    };\n    Parser.prototype._parseMediaDeclaration = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        if (isNested) {\n            // if nested, the body can contain rulesets, but also declarations\n            return this._tryParseRuleset(true)\n                || this._tryToParseDeclaration()\n                || this._parseStylesheetStatement(true);\n        }\n        return this._parseStylesheetStatement(false);\n    };\n    Parser.prototype._parseMedia = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        // MEDIA_SYM S* media_query_list '{' S* ruleset* '}' S*\n        // media_query_list : S* [media_query [ ',' S* media_query ]* ]?\n        if (!this.peekKeyword('@media')) {\n            return null;\n        }\n        var node = this.create(nodes.Media);\n        this.consumeToken(); // @media\n        if (!node.addChild(this._parseMediaQueryList())) {\n            return this.finish(node, ParseError.MediaQueryExpected);\n        }\n        return this._parseBody(node, this._parseMediaDeclaration.bind(this, isNested));\n    };\n    Parser.prototype._parseMediaQueryList = function () {\n        var node = this.create(nodes.Medialist);\n        if (!node.addChild(this._parseMediaQuery([TokenType.CurlyL]))) {\n            return this.finish(node, ParseError.MediaQueryExpected);\n        }\n        while (this.accept(TokenType.Comma)) {\n            if (!node.addChild(this._parseMediaQuery([TokenType.CurlyL]))) {\n                return this.finish(node, ParseError.MediaQueryExpected);\n            }\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseMediaQuery = function (resyncStopToken) {\n        // http://www.w3.org/TR/css3-mediaqueries/\n        // media_query : [ONLY | NOT]? S* IDENT S* [ AND S* expression ]* | expression [ AND S* expression ]*\n        // expression : '(' S* IDENT S* [ ':' S* expr ]? ')' S*\n        var node = this.create(nodes.MediaQuery);\n        var parseExpression = true;\n        var hasContent = false;\n        if (!this.peek(TokenType.ParenthesisL)) {\n            if (this.acceptIdent('only') || this.acceptIdent('not')) {\n                // optional\n            }\n            if (!node.addChild(this._parseIdent())) {\n                return null;\n            }\n            hasContent = true;\n            parseExpression = this.acceptIdent('and');\n        }\n        while (parseExpression) {\n            // Allow short-circuting for other language constructs.\n            if (node.addChild(this._parseMediaContentStart())) {\n                parseExpression = this.acceptIdent('and');\n                continue;\n            }\n            if (!this.accept(TokenType.ParenthesisL)) {\n                if (hasContent) {\n                    return this.finish(node, ParseError.LeftParenthesisExpected, [], resyncStopToken);\n                }\n                return null;\n            }\n            if (!node.addChild(this._parseMediaFeatureName())) {\n                return this.finish(node, ParseError.IdentifierExpected, [], resyncStopToken);\n            }\n            if (this.accept(TokenType.Colon)) {\n                if (!node.addChild(this._parseExpr())) {\n                    return this.finish(node, ParseError.TermExpected, [], resyncStopToken);\n                }\n            }\n            if (!this.accept(TokenType.ParenthesisR)) {\n                return this.finish(node, ParseError.RightParenthesisExpected, [], resyncStopToken);\n            }\n            parseExpression = this.acceptIdent('and');\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseMediaContentStart = function () {\n        return null;\n    };\n    Parser.prototype._parseMediaFeatureName = function () {\n        return this._parseIdent();\n    };\n    Parser.prototype._parseMedium = function () {\n        var node = this.create(nodes.Node);\n        if (node.addChild(this._parseIdent())) {\n            return this.finish(node);\n        }\n        else {\n            return null;\n        }\n    };\n    Parser.prototype._parsePageDeclaration = function () {\n        return this._parsePageMarginBox() || this._parseRuleSetDeclaration();\n    };\n    Parser.prototype._parsePage = function () {\n        // http://www.w3.org/TR/css3-page/\n        // page_rule : PAGE_SYM S* page_selector_list '{' S* page_body '}' S*\n        // page_body :  /* Can be empty */ declaration? [ ';' S* page_body ]? | page_margin_box page_body\n        if (!this.peekKeyword('@page')) {\n            return null;\n        }\n        var node = this.create(nodes.Page);\n        this.consumeToken();\n        if (node.addChild(this._parsePageSelector())) {\n            while (this.accept(TokenType.Comma)) {\n                if (!node.addChild(this._parsePageSelector())) {\n                    return this.finish(node, ParseError.IdentifierExpected);\n                }\n            }\n        }\n        return this._parseBody(node, this._parsePageDeclaration.bind(this));\n    };\n    Parser.prototype._parsePageMarginBox = function () {\n        // page_margin_box :  margin_sym S* '{' S* declaration? [ ';' S* declaration? ]* '}' S*\n        if (!this.peek(TokenType.AtKeyword)) {\n            return null;\n        }\n        var node = this.create(nodes.PageBoxMarginBox);\n        if (!this.acceptOneKeyword(languageFacts.pageBoxDirectives)) {\n            this.markError(node, ParseError.UnknownAtRule, [], [TokenType.CurlyL]);\n        }\n        return this._parseBody(node, this._parseRuleSetDeclaration.bind(this));\n    };\n    Parser.prototype._parsePageSelector = function () {\n        // page_selector : pseudo_page+ | IDENT pseudo_page*\n        // pseudo_page :  ':' [ \"left\" | \"right\" | \"first\" | \"blank\" ];\n        if (!this.peek(TokenType.Ident) && !this.peek(TokenType.Colon)) {\n            return null;\n        }\n        var node = this.create(nodes.Node);\n        node.addChild(this._parseIdent()); // optional ident\n        if (this.accept(TokenType.Colon)) {\n            if (!node.addChild(this._parseIdent())) { // optional ident\n                return this.finish(node, ParseError.IdentifierExpected);\n            }\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseDocument = function () {\n        // -moz-document is experimental but has been pushed to css4\n        if (!this.peekKeyword('@-moz-document')) {\n            return null;\n        }\n        var node = this.create(nodes.Document);\n        this.consumeToken(); // @-moz-document\n        this.resync([], [TokenType.CurlyL]); // ignore all the rules\n        return this._parseBody(node, this._parseStylesheetStatement.bind(this));\n    };\n    // https://www.w3.org/TR/css-syntax-3/#consume-an-at-rule\n    Parser.prototype._parseUnknownAtRule = function () {\n        if (!this.peek(TokenType.AtKeyword)) {\n            return null;\n        }\n        var node = this.create(nodes.UnknownAtRule);\n        node.addChild(this._parseUnknownAtRuleName());\n        var isTopLevel = function () { return curlyDepth === 0 && parensDepth === 0 && bracketsDepth === 0; };\n        var curlyLCount = 0;\n        var curlyDepth = 0;\n        var parensDepth = 0;\n        var bracketsDepth = 0;\n        done: while (true) {\n            switch (this.token.type) {\n                case TokenType.SemiColon:\n                    if (isTopLevel()) {\n                        break done;\n                    }\n                    break;\n                case TokenType.EOF:\n                    if (curlyDepth > 0) {\n                        return this.finish(node, ParseError.RightCurlyExpected);\n                    }\n                    else if (bracketsDepth > 0) {\n                        return this.finish(node, ParseError.RightSquareBracketExpected);\n                    }\n                    else if (parensDepth > 0) {\n                        return this.finish(node, ParseError.RightParenthesisExpected);\n                    }\n                    else {\n                        return this.finish(node);\n                    }\n                case TokenType.CurlyL:\n                    curlyLCount++;\n                    curlyDepth++;\n                    break;\n                case TokenType.CurlyR:\n                    curlyDepth--;\n                    // End of at-rule, consume CurlyR and return node\n                    if (curlyLCount > 0 && curlyDepth === 0) {\n                        this.consumeToken();\n                        if (bracketsDepth > 0) {\n                            return this.finish(node, ParseError.RightSquareBracketExpected);\n                        }\n                        else if (parensDepth > 0) {\n                            return this.finish(node, ParseError.RightParenthesisExpected);\n                        }\n                        break done;\n                    }\n                    if (curlyDepth < 0) {\n                        // The property value has been terminated without a semicolon, and\n                        // this is the last declaration in the ruleset.\n                        if (parensDepth === 0 && bracketsDepth === 0) {\n                            break done;\n                        }\n                        return this.finish(node, ParseError.LeftCurlyExpected);\n                    }\n                    break;\n                case TokenType.ParenthesisL:\n                    parensDepth++;\n                    break;\n                case TokenType.ParenthesisR:\n                    parensDepth--;\n                    if (parensDepth < 0) {\n                        return this.finish(node, ParseError.LeftParenthesisExpected);\n                    }\n                    break;\n                case TokenType.BracketL:\n                    bracketsDepth++;\n                    break;\n                case TokenType.BracketR:\n                    bracketsDepth--;\n                    if (bracketsDepth < 0) {\n                        return this.finish(node, ParseError.LeftSquareBracketExpected);\n                    }\n                    break;\n            }\n            this.consumeToken();\n        }\n        return node;\n    };\n    Parser.prototype._parseUnknownAtRuleName = function () {\n        var node = this.create(nodes.Node);\n        if (this.accept(TokenType.AtKeyword)) {\n            return this.finish(node);\n        }\n        return node;\n    };\n    Parser.prototype._parseOperator = function () {\n        // these are operators for binary expressions\n        if (this.peekDelim('/') ||\n            this.peekDelim('*') ||\n            this.peekDelim('+') ||\n            this.peekDelim('-') ||\n            this.peek(TokenType.Dashmatch) ||\n            this.peek(TokenType.Includes) ||\n            this.peek(TokenType.SubstringOperator) ||\n            this.peek(TokenType.PrefixOperator) ||\n            this.peek(TokenType.SuffixOperator) ||\n            this.peekDelim('=')) { // doesn't stick to the standard here\n            var node = this.createNode(nodes.NodeType.Operator);\n            this.consumeToken();\n            return this.finish(node);\n        }\n        else {\n            return null;\n        }\n    };\n    Parser.prototype._parseUnaryOperator = function () {\n        if (!this.peekDelim('+') && !this.peekDelim('-')) {\n            return null;\n        }\n        var node = this.create(nodes.Node);\n        this.consumeToken();\n        return this.finish(node);\n    };\n    Parser.prototype._parseCombinator = function () {\n        if (this.peekDelim('>')) {\n            var node = this.create(nodes.Node);\n            this.consumeToken();\n            var mark = this.mark();\n            if (!this.hasWhitespace() && this.acceptDelim('>')) {\n                if (!this.hasWhitespace() && this.acceptDelim('>')) {\n                    node.type = nodes.NodeType.SelectorCombinatorShadowPiercingDescendant;\n                    return this.finish(node);\n                }\n                this.restoreAtMark(mark);\n            }\n            node.type = nodes.NodeType.SelectorCombinatorParent;\n            return this.finish(node);\n        }\n        else if (this.peekDelim('+')) {\n            var node = this.create(nodes.Node);\n            this.consumeToken();\n            node.type = nodes.NodeType.SelectorCombinatorSibling;\n            return this.finish(node);\n        }\n        else if (this.peekDelim('~')) {\n            var node = this.create(nodes.Node);\n            this.consumeToken();\n            node.type = nodes.NodeType.SelectorCombinatorAllSiblings;\n            return this.finish(node);\n        }\n        else if (this.peekDelim('/')) {\n            var node = this.create(nodes.Node);\n            this.consumeToken();\n            var mark = this.mark();\n            if (!this.hasWhitespace() && this.acceptIdent('deep') && !this.hasWhitespace() && this.acceptDelim('/')) {\n                node.type = nodes.NodeType.SelectorCombinatorShadowPiercingDescendant;\n                return this.finish(node);\n            }\n            this.restoreAtMark(mark);\n        }\n        return null;\n    };\n    Parser.prototype._parseSimpleSelector = function () {\n        // simple_selector\n        //  : element_name [ HASH | class | attrib | pseudo ]* | [ HASH | class | attrib | pseudo ]+ ;\n        var node = this.create(nodes.SimpleSelector);\n        var c = 0;\n        if (node.addChild(this._parseElementName())) {\n            c++;\n        }\n        while ((c === 0 || !this.hasWhitespace()) && node.addChild(this._parseSimpleSelectorBody())) {\n            c++;\n        }\n        return c > 0 ? this.finish(node) : null;\n    };\n    Parser.prototype._parseSimpleSelectorBody = function () {\n        return this._parsePseudo() || this._parseHash() || this._parseClass() || this._parseAttrib();\n    };\n    Parser.prototype._parseSelectorIdent = function () {\n        return this._parseIdent();\n    };\n    Parser.prototype._parseHash = function () {\n        if (!this.peek(TokenType.Hash) && !this.peekDelim('#')) {\n            return null;\n        }\n        var node = this.createNode(nodes.NodeType.IdentifierSelector);\n        if (this.acceptDelim('#')) {\n            if (this.hasWhitespace() || !node.addChild(this._parseSelectorIdent())) {\n                return this.finish(node, ParseError.IdentifierExpected);\n            }\n        }\n        else {\n            this.consumeToken(); // TokenType.Hash\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseClass = function () {\n        // class: '.' IDENT ;\n        if (!this.peekDelim('.')) {\n            return null;\n        }\n        var node = this.createNode(nodes.NodeType.ClassSelector);\n        this.consumeToken(); // '.'\n        if (this.hasWhitespace() || !node.addChild(this._parseSelectorIdent())) {\n            return this.finish(node, ParseError.IdentifierExpected);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseElementName = function () {\n        // element_name: (ns? '|')? IDENT | '*';\n        var pos = this.mark();\n        var node = this.createNode(nodes.NodeType.ElementNameSelector);\n        node.addChild(this._parseNamespacePrefix());\n        if (!node.addChild(this._parseSelectorIdent()) && !this.acceptDelim('*')) {\n            this.restoreAtMark(pos);\n            return null;\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseNamespacePrefix = function () {\n        var pos = this.mark();\n        var node = this.createNode(nodes.NodeType.NamespacePrefix);\n        if (!node.addChild(this._parseIdent()) && !this.acceptDelim('*')) {\n            // ns is optional\n        }\n        if (!this.acceptDelim('|')) {\n            this.restoreAtMark(pos);\n            return null;\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseAttrib = function () {\n        // attrib : '[' S* IDENT S* [ [ '=' | INCLUDES | DASHMATCH ] S*   [ IDENT | STRING ] S* ]? ']'\n        if (!this.peek(TokenType.BracketL)) {\n            return null;\n        }\n        var node = this.create(nodes.AttributeSelector);\n        this.consumeToken(); // BracketL\n        // Optional attrib namespace\n        node.setNamespacePrefix(this._parseNamespacePrefix());\n        if (!node.setIdentifier(this._parseIdent())) {\n            return this.finish(node, ParseError.IdentifierExpected);\n        }\n        if (node.setOperator(this._parseOperator())) {\n            node.setValue(this._parseBinaryExpr());\n            this.acceptIdent('i'); // case insensitive matching\n        }\n        if (!this.accept(TokenType.BracketR)) {\n            return this.finish(node, ParseError.RightSquareBracketExpected);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parsePseudo = function () {\n        var _this = this;\n        // pseudo: ':' [ IDENT | FUNCTION S* [IDENT S*]? ')' ]\n        var node = this._tryParsePseudoIdentifier();\n        if (node) {\n            if (!this.hasWhitespace() && this.accept(TokenType.ParenthesisL)) {\n                var tryAsSelector = function () {\n                    var selectors = _this.create(nodes.Node);\n                    if (!selectors.addChild(_this._parseSelector(false))) {\n                        return null;\n                    }\n                    while (_this.accept(TokenType.Comma) && selectors.addChild(_this._parseSelector(false))) {\n                        // loop\n                    }\n                    if (_this.peek(TokenType.ParenthesisR)) {\n                        return _this.finish(selectors);\n                    }\n                    return null;\n                };\n                node.addChild(this.try(tryAsSelector) || this._parseBinaryExpr());\n                if (!this.accept(TokenType.ParenthesisR)) {\n                    return this.finish(node, ParseError.RightParenthesisExpected);\n                }\n            }\n            return this.finish(node);\n        }\n        return null;\n    };\n    Parser.prototype._tryParsePseudoIdentifier = function () {\n        if (!this.peek(TokenType.Colon)) {\n            return null;\n        }\n        var pos = this.mark();\n        var node = this.createNode(nodes.NodeType.PseudoSelector);\n        this.consumeToken(); // Colon\n        if (this.hasWhitespace()) {\n            this.restoreAtMark(pos);\n            return null;\n        }\n        // optional, support ::\n        if (this.accept(TokenType.Colon) && this.hasWhitespace()) {\n            this.markError(node, ParseError.IdentifierExpected);\n        }\n        if (!node.addChild(this._parseIdent())) {\n            this.markError(node, ParseError.IdentifierExpected);\n        }\n        return node;\n    };\n    Parser.prototype._tryParsePrio = function () {\n        var mark = this.mark();\n        var prio = this._parsePrio();\n        if (prio) {\n            return prio;\n        }\n        this.restoreAtMark(mark);\n        return null;\n    };\n    Parser.prototype._parsePrio = function () {\n        if (!this.peek(TokenType.Exclamation)) {\n            return null;\n        }\n        var node = this.createNode(nodes.NodeType.Prio);\n        if (this.accept(TokenType.Exclamation) && this.acceptIdent('important')) {\n            return this.finish(node);\n        }\n        return null;\n    };\n    Parser.prototype._parseExpr = function (stopOnComma) {\n        if (stopOnComma === void 0) { stopOnComma = false; }\n        var node = this.create(nodes.Expression);\n        if (!node.addChild(this._parseBinaryExpr())) {\n            return null;\n        }\n        while (true) {\n            if (this.peek(TokenType.Comma)) { // optional\n                if (stopOnComma) {\n                    return this.finish(node);\n                }\n                this.consumeToken();\n            }\n            if (!node.addChild(this._parseBinaryExpr())) {\n                break;\n            }\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseNamedLine = function () {\n        // https://www.w3.org/TR/css-grid-1/#named-lines\n        if (!this.peek(TokenType.BracketL)) {\n            return null;\n        }\n        var node = this.createNode(nodes.NodeType.GridLine);\n        this.consumeToken();\n        while (node.addChild(this._parseIdent())) {\n            // repeat\n        }\n        if (!this.accept(TokenType.BracketR)) {\n            return this.finish(node, ParseError.RightSquareBracketExpected);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseBinaryExpr = function (preparsedLeft, preparsedOper) {\n        var node = this.create(nodes.BinaryExpression);\n        if (!node.setLeft((preparsedLeft || this._parseTerm()))) {\n            return null;\n        }\n        if (!node.setOperator(preparsedOper || this._parseOperator())) {\n            return this.finish(node);\n        }\n        if (!node.setRight(this._parseTerm())) {\n            return this.finish(node, ParseError.TermExpected);\n        }\n        // things needed for multiple binary expressions\n        node = this.finish(node);\n        var operator = this._parseOperator();\n        if (operator) {\n            node = this._parseBinaryExpr(node, operator);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseTerm = function () {\n        var node = this.create(nodes.Term);\n        node.setOperator(this._parseUnaryOperator()); // optional\n        if (node.setExpression(this._parseURILiteral()) || // url before function\n            node.setExpression(this._parseFunction()) || // function before ident\n            node.setExpression(this._parseIdent()) ||\n            node.setExpression(this._parseStringLiteral()) ||\n            node.setExpression(this._parseNumeric()) ||\n            node.setExpression(this._parseHexColor()) ||\n            node.setExpression(this._parseOperation()) ||\n            node.setExpression(this._parseNamedLine())) {\n            return this.finish(node);\n        }\n        return null;\n    };\n    Parser.prototype._parseOperation = function () {\n        if (!this.peek(TokenType.ParenthesisL)) {\n            return null;\n        }\n        var node = this.create(nodes.Node);\n        this.consumeToken(); // ParenthesisL\n        node.addChild(this._parseExpr());\n        if (!this.accept(TokenType.ParenthesisR)) {\n            return this.finish(node, ParseError.RightParenthesisExpected);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseNumeric = function () {\n        if (this.peek(TokenType.Num) ||\n            this.peek(TokenType.Percentage) ||\n            this.peek(TokenType.Resolution) ||\n            this.peek(TokenType.Length) ||\n            this.peek(TokenType.EMS) ||\n            this.peek(TokenType.EXS) ||\n            this.peek(TokenType.Angle) ||\n            this.peek(TokenType.Time) ||\n            this.peek(TokenType.Dimension) ||\n            this.peek(TokenType.Freq)) {\n            var node = this.create(nodes.NumericValue);\n            this.consumeToken();\n            return this.finish(node);\n        }\n        return null;\n    };\n    Parser.prototype._parseStringLiteral = function () {\n        if (!this.peek(TokenType.String) && !this.peek(TokenType.BadString)) {\n            return null;\n        }\n        var node = this.createNode(nodes.NodeType.StringLiteral);\n        this.consumeToken();\n        return this.finish(node);\n    };\n    Parser.prototype._parseURILiteral = function () {\n        if (!this.peekRegExp(TokenType.Ident, /^url(-prefix)?$/i)) {\n            return null;\n        }\n        var pos = this.mark();\n        var node = this.createNode(nodes.NodeType.URILiteral);\n        this.accept(TokenType.Ident);\n        if (this.hasWhitespace() || !this.peek(TokenType.ParenthesisL)) {\n            this.restoreAtMark(pos);\n            return null;\n        }\n        this.scanner.inURL = true;\n        this.consumeToken(); // consume ()\n        node.addChild(this._parseURLArgument()); // argument is optional\n        this.scanner.inURL = false;\n        if (!this.accept(TokenType.ParenthesisR)) {\n            return this.finish(node, ParseError.RightParenthesisExpected);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseURLArgument = function () {\n        var node = this.create(nodes.Node);\n        if (!this.accept(TokenType.String) && !this.accept(TokenType.BadString) && !this.acceptUnquotedString()) {\n            return null;\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseIdent = function (referenceTypes) {\n        if (!this.peek(TokenType.Ident)) {\n            return null;\n        }\n        var node = this.create(nodes.Identifier);\n        if (referenceTypes) {\n            node.referenceTypes = referenceTypes;\n        }\n        node.isCustomProperty = this.peekRegExp(TokenType.Ident, /^--/);\n        this.consumeToken();\n        return this.finish(node);\n    };\n    Parser.prototype._parseFunction = function () {\n        var pos = this.mark();\n        var node = this.create(nodes.Function);\n        if (!node.setIdentifier(this._parseFunctionIdentifier())) {\n            return null;\n        }\n        if (this.hasWhitespace() || !this.accept(TokenType.ParenthesisL)) {\n            this.restoreAtMark(pos);\n            return null;\n        }\n        if (node.getArguments().addChild(this._parseFunctionArgument())) {\n            while (this.accept(TokenType.Comma)) {\n                if (this.peek(TokenType.ParenthesisR)) {\n                    break;\n                }\n                if (!node.getArguments().addChild(this._parseFunctionArgument())) {\n                    this.markError(node, ParseError.ExpressionExpected);\n                }\n            }\n        }\n        if (!this.accept(TokenType.ParenthesisR)) {\n            return this.finish(node, ParseError.RightParenthesisExpected);\n        }\n        return this.finish(node);\n    };\n    Parser.prototype._parseFunctionIdentifier = function () {\n        if (!this.peek(TokenType.Ident)) {\n            return null;\n        }\n        var node = this.create(nodes.Identifier);\n        node.referenceTypes = [nodes.ReferenceType.Function];\n        if (this.acceptIdent('progid')) {\n            // support for IE7 specific filters: 'progid:DXImageTransform.Microsoft.MotionBlur(strength=13, direction=310)'\n            if (this.accept(TokenType.Colon)) {\n                while (this.accept(TokenType.Ident) && this.acceptDelim('.')) {\n                    // loop\n                }\n            }\n            return this.finish(node);\n        }\n        this.consumeToken();\n        return this.finish(node);\n    };\n    Parser.prototype._parseFunctionArgument = function () {\n        var node = this.create(nodes.FunctionArgument);\n        if (node.setValue(this._parseExpr(true))) {\n            return this.finish(node);\n        }\n        return null;\n    };\n    Parser.prototype._parseHexColor = function () {\n        if (this.peekRegExp(TokenType.Hash, /^#([A-Fa-f0-9]{3}|[A-Fa-f0-9]{4}|[A-Fa-f0-9]{6}|[A-Fa-f0-9]{8})$/g)) {\n            var node = this.create(nodes.HexColorValue);\n            this.consumeToken();\n            return this.finish(node);\n        }\n        else {\n            return null;\n        }\n    };\n    return Parser;\n}());\nexport { Parser };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nexport var TokenType;\n(function (TokenType) {\n    TokenType[TokenType[\"Ident\"] = 0] = \"Ident\";\n    TokenType[TokenType[\"AtKeyword\"] = 1] = \"AtKeyword\";\n    TokenType[TokenType[\"String\"] = 2] = \"String\";\n    TokenType[TokenType[\"BadString\"] = 3] = \"BadString\";\n    TokenType[TokenType[\"UnquotedString\"] = 4] = \"UnquotedString\";\n    TokenType[TokenType[\"Hash\"] = 5] = \"Hash\";\n    TokenType[TokenType[\"Num\"] = 6] = \"Num\";\n    TokenType[TokenType[\"Percentage\"] = 7] = \"Percentage\";\n    TokenType[TokenType[\"Dimension\"] = 8] = \"Dimension\";\n    TokenType[TokenType[\"UnicodeRange\"] = 9] = \"UnicodeRange\";\n    TokenType[TokenType[\"CDO\"] = 10] = \"CDO\";\n    TokenType[TokenType[\"CDC\"] = 11] = \"CDC\";\n    TokenType[TokenType[\"Colon\"] = 12] = \"Colon\";\n    TokenType[TokenType[\"SemiColon\"] = 13] = \"SemiColon\";\n    TokenType[TokenType[\"CurlyL\"] = 14] = \"CurlyL\";\n    TokenType[TokenType[\"CurlyR\"] = 15] = \"CurlyR\";\n    TokenType[TokenType[\"ParenthesisL\"] = 16] = \"ParenthesisL\";\n    TokenType[TokenType[\"ParenthesisR\"] = 17] = \"ParenthesisR\";\n    TokenType[TokenType[\"BracketL\"] = 18] = \"BracketL\";\n    TokenType[TokenType[\"BracketR\"] = 19] = \"BracketR\";\n    TokenType[TokenType[\"Whitespace\"] = 20] = \"Whitespace\";\n    TokenType[TokenType[\"Includes\"] = 21] = \"Includes\";\n    TokenType[TokenType[\"Dashmatch\"] = 22] = \"Dashmatch\";\n    TokenType[TokenType[\"SubstringOperator\"] = 23] = \"SubstringOperator\";\n    TokenType[TokenType[\"PrefixOperator\"] = 24] = \"PrefixOperator\";\n    TokenType[TokenType[\"SuffixOperator\"] = 25] = \"SuffixOperator\";\n    TokenType[TokenType[\"Delim\"] = 26] = \"Delim\";\n    TokenType[TokenType[\"EMS\"] = 27] = \"EMS\";\n    TokenType[TokenType[\"EXS\"] = 28] = \"EXS\";\n    TokenType[TokenType[\"Length\"] = 29] = \"Length\";\n    TokenType[TokenType[\"Angle\"] = 30] = \"Angle\";\n    TokenType[TokenType[\"Time\"] = 31] = \"Time\";\n    TokenType[TokenType[\"Freq\"] = 32] = \"Freq\";\n    TokenType[TokenType[\"Exclamation\"] = 33] = \"Exclamation\";\n    TokenType[TokenType[\"Resolution\"] = 34] = \"Resolution\";\n    TokenType[TokenType[\"Comma\"] = 35] = \"Comma\";\n    TokenType[TokenType[\"Charset\"] = 36] = \"Charset\";\n    TokenType[TokenType[\"EscapedJavaScript\"] = 37] = \"EscapedJavaScript\";\n    TokenType[TokenType[\"BadEscapedJavaScript\"] = 38] = \"BadEscapedJavaScript\";\n    TokenType[TokenType[\"Comment\"] = 39] = \"Comment\";\n    TokenType[TokenType[\"SingleLineComment\"] = 40] = \"SingleLineComment\";\n    TokenType[TokenType[\"EOF\"] = 41] = \"EOF\";\n    TokenType[TokenType[\"CustomToken\"] = 42] = \"CustomToken\";\n})(TokenType || (TokenType = {}));\nvar MultiLineStream = /** @class */ (function () {\n    function MultiLineStream(source) {\n        this.source = source;\n        this.len = source.length;\n        this.position = 0;\n    }\n    MultiLineStream.prototype.substring = function (from, to) {\n        if (to === void 0) { to = this.position; }\n        return this.source.substring(from, to);\n    };\n    MultiLineStream.prototype.eos = function () {\n        return this.len <= this.position;\n    };\n    MultiLineStream.prototype.pos = function () {\n        return this.position;\n    };\n    MultiLineStream.prototype.goBackTo = function (pos) {\n        this.position = pos;\n    };\n    MultiLineStream.prototype.goBack = function (n) {\n        this.position -= n;\n    };\n    MultiLineStream.prototype.advance = function (n) {\n        this.position += n;\n    };\n    MultiLineStream.prototype.nextChar = function () {\n        return this.source.charCodeAt(this.position++) || 0;\n    };\n    MultiLineStream.prototype.peekChar = function (n) {\n        if (n === void 0) { n = 0; }\n        return this.source.charCodeAt(this.position + n) || 0;\n    };\n    MultiLineStream.prototype.lookbackChar = function (n) {\n        if (n === void 0) { n = 0; }\n        return this.source.charCodeAt(this.position - n) || 0;\n    };\n    MultiLineStream.prototype.advanceIfChar = function (ch) {\n        if (ch === this.source.charCodeAt(this.position)) {\n            this.position++;\n            return true;\n        }\n        return false;\n    };\n    MultiLineStream.prototype.advanceIfChars = function (ch) {\n        if (this.position + ch.length > this.source.length) {\n            return false;\n        }\n        var i = 0;\n        for (; i < ch.length; i++) {\n            if (this.source.charCodeAt(this.position + i) !== ch[i]) {\n                return false;\n            }\n        }\n        this.advance(i);\n        return true;\n    };\n    MultiLineStream.prototype.advanceWhileChar = function (condition) {\n        var posNow = this.position;\n        while (this.position < this.len && condition(this.source.charCodeAt(this.position))) {\n            this.position++;\n        }\n        return this.position - posNow;\n    };\n    return MultiLineStream;\n}());\nexport { MultiLineStream };\nvar _a = 'a'.charCodeAt(0);\nvar _f = 'f'.charCodeAt(0);\nvar _z = 'z'.charCodeAt(0);\nvar _A = 'A'.charCodeAt(0);\nvar _F = 'F'.charCodeAt(0);\nvar _Z = 'Z'.charCodeAt(0);\nvar _0 = '0'.charCodeAt(0);\nvar _9 = '9'.charCodeAt(0);\nvar _TLD = '~'.charCodeAt(0);\nvar _HAT = '^'.charCodeAt(0);\nvar _EQS = '='.charCodeAt(0);\nvar _PIP = '|'.charCodeAt(0);\nvar _MIN = '-'.charCodeAt(0);\nvar _USC = '_'.charCodeAt(0);\nvar _PRC = '%'.charCodeAt(0);\nvar _MUL = '*'.charCodeAt(0);\nvar _LPA = '('.charCodeAt(0);\nvar _RPA = ')'.charCodeAt(0);\nvar _LAN = '<'.charCodeAt(0);\nvar _RAN = '>'.charCodeAt(0);\nvar _ATS = '@'.charCodeAt(0);\nvar _HSH = '#'.charCodeAt(0);\nvar _DLR = '$'.charCodeAt(0);\nvar _BSL = '\\\\'.charCodeAt(0);\nvar _FSL = '/'.charCodeAt(0);\nvar _NWL = '\\n'.charCodeAt(0);\nvar _CAR = '\\r'.charCodeAt(0);\nvar _LFD = '\\f'.charCodeAt(0);\nvar _DQO = '\"'.charCodeAt(0);\nvar _SQO = '\\''.charCodeAt(0);\nvar _WSP = ' '.charCodeAt(0);\nvar _TAB = '\\t'.charCodeAt(0);\nvar _SEM = ';'.charCodeAt(0);\nvar _COL = ':'.charCodeAt(0);\nvar _CUL = '{'.charCodeAt(0);\nvar _CUR = '}'.charCodeAt(0);\nvar _BRL = '['.charCodeAt(0);\nvar _BRR = ']'.charCodeAt(0);\nvar _CMA = ','.charCodeAt(0);\nvar _DOT = '.'.charCodeAt(0);\nvar _BNG = '!'.charCodeAt(0);\nvar staticTokenTable = {};\nstaticTokenTable[_SEM] = TokenType.SemiColon;\nstaticTokenTable[_COL] = TokenType.Colon;\nstaticTokenTable[_CUL] = TokenType.CurlyL;\nstaticTokenTable[_CUR] = TokenType.CurlyR;\nstaticTokenTable[_BRR] = TokenType.BracketR;\nstaticTokenTable[_BRL] = TokenType.BracketL;\nstaticTokenTable[_LPA] = TokenType.ParenthesisL;\nstaticTokenTable[_RPA] = TokenType.ParenthesisR;\nstaticTokenTable[_CMA] = TokenType.Comma;\nvar staticUnitTable = {};\nstaticUnitTable['em'] = TokenType.EMS;\nstaticUnitTable['ex'] = TokenType.EXS;\nstaticUnitTable['px'] = TokenType.Length;\nstaticUnitTable['cm'] = TokenType.Length;\nstaticUnitTable['mm'] = TokenType.Length;\nstaticUnitTable['in'] = TokenType.Length;\nstaticUnitTable['pt'] = TokenType.Length;\nstaticUnitTable['pc'] = TokenType.Length;\nstaticUnitTable['deg'] = TokenType.Angle;\nstaticUnitTable['rad'] = TokenType.Angle;\nstaticUnitTable['grad'] = TokenType.Angle;\nstaticUnitTable['ms'] = TokenType.Time;\nstaticUnitTable['s'] = TokenType.Time;\nstaticUnitTable['hz'] = TokenType.Freq;\nstaticUnitTable['khz'] = TokenType.Freq;\nstaticUnitTable['%'] = TokenType.Percentage;\nstaticUnitTable['fr'] = TokenType.Percentage;\nstaticUnitTable['dpi'] = TokenType.Resolution;\nstaticUnitTable['dpcm'] = TokenType.Resolution;\nvar Scanner = /** @class */ (function () {\n    function Scanner() {\n        this.stream = new MultiLineStream('');\n        this.ignoreComment = true;\n        this.ignoreWhitespace = true;\n        this.inURL = false;\n    }\n    Scanner.prototype.setSource = function (input) {\n        this.stream = new MultiLineStream(input);\n    };\n    Scanner.prototype.finishToken = function (offset, type, text) {\n        return {\n            offset: offset,\n            len: this.stream.pos() - offset,\n            type: type,\n            text: text || this.stream.substring(offset)\n        };\n    };\n    Scanner.prototype.substring = function (offset, len) {\n        return this.stream.substring(offset, offset + len);\n    };\n    Scanner.prototype.pos = function () {\n        return this.stream.pos();\n    };\n    Scanner.prototype.goBackTo = function (pos) {\n        this.stream.goBackTo(pos);\n    };\n    Scanner.prototype.scanUnquotedString = function () {\n        var offset = this.stream.pos();\n        var content = [];\n        if (this._unquotedString(content)) {\n            return this.finishToken(offset, TokenType.UnquotedString, content.join(''));\n        }\n        return null;\n    };\n    Scanner.prototype.scan = function () {\n        // processes all whitespaces and comments\n        var triviaToken = this.trivia();\n        if (triviaToken !== null) {\n            return triviaToken;\n        }\n        var offset = this.stream.pos();\n        // End of file/input\n        if (this.stream.eos()) {\n            return this.finishToken(offset, TokenType.EOF);\n        }\n        return this.scanNext(offset);\n    };\n    Scanner.prototype.scanNext = function (offset) {\n        // CDO <!--\n        if (this.stream.advanceIfChars([_LAN, _BNG, _MIN, _MIN])) {\n            return this.finishToken(offset, TokenType.CDO);\n        }\n        // CDC -->\n        if (this.stream.advanceIfChars([_MIN, _MIN, _RAN])) {\n            return this.finishToken(offset, TokenType.CDC);\n        }\n        var content = [];\n        if (this.ident(content)) {\n            return this.finishToken(offset, TokenType.Ident, content.join(''));\n        }\n        // at-keyword\n        if (this.stream.advanceIfChar(_ATS)) {\n            content = ['@'];\n            if (this._name(content)) {\n                var keywordText = content.join('');\n                if (keywordText === '@charset') {\n                    return this.finishToken(offset, TokenType.Charset, keywordText);\n                }\n                return this.finishToken(offset, TokenType.AtKeyword, keywordText);\n            }\n            else {\n                return this.finishToken(offset, TokenType.Delim);\n            }\n        }\n        // hash\n        if (this.stream.advanceIfChar(_HSH)) {\n            content = ['#'];\n            if (this._name(content)) {\n                return this.finishToken(offset, TokenType.Hash, content.join(''));\n            }\n            else {\n                return this.finishToken(offset, TokenType.Delim);\n            }\n        }\n        // Important\n        if (this.stream.advanceIfChar(_BNG)) {\n            return this.finishToken(offset, TokenType.Exclamation);\n        }\n        // Numbers\n        if (this._number()) {\n            var pos = this.stream.pos();\n            content = [this.stream.substring(offset, pos)];\n            if (this.stream.advanceIfChar(_PRC)) {\n                // Percentage 43%\n                return this.finishToken(offset, TokenType.Percentage);\n            }\n            else if (this.ident(content)) {\n                var dim = this.stream.substring(pos).toLowerCase();\n                var tokenType_1 = staticUnitTable[dim];\n                if (typeof tokenType_1 !== 'undefined') {\n                    // Known dimension 43px\n                    return this.finishToken(offset, tokenType_1, content.join(''));\n                }\n                else {\n                    // Unknown dimension 43ft\n                    return this.finishToken(offset, TokenType.Dimension, content.join(''));\n                }\n            }\n            return this.finishToken(offset, TokenType.Num);\n        }\n        // String, BadString\n        content = [];\n        var tokenType = this._string(content);\n        if (tokenType !== null) {\n            return this.finishToken(offset, tokenType, content.join(''));\n        }\n        // single character tokens\n        tokenType = staticTokenTable[this.stream.peekChar()];\n        if (typeof tokenType !== 'undefined') {\n            this.stream.advance(1);\n            return this.finishToken(offset, tokenType);\n        }\n        // includes ~=\n        if (this.stream.peekChar(0) === _TLD && this.stream.peekChar(1) === _EQS) {\n            this.stream.advance(2);\n            return this.finishToken(offset, TokenType.Includes);\n        }\n        // DashMatch |=\n        if (this.stream.peekChar(0) === _PIP && this.stream.peekChar(1) === _EQS) {\n            this.stream.advance(2);\n            return this.finishToken(offset, TokenType.Dashmatch);\n        }\n        // Substring operator *=\n        if (this.stream.peekChar(0) === _MUL && this.stream.peekChar(1) === _EQS) {\n            this.stream.advance(2);\n            return this.finishToken(offset, TokenType.SubstringOperator);\n        }\n        // Substring operator ^=\n        if (this.stream.peekChar(0) === _HAT && this.stream.peekChar(1) === _EQS) {\n            this.stream.advance(2);\n            return this.finishToken(offset, TokenType.PrefixOperator);\n        }\n        // Substring operator $=\n        if (this.stream.peekChar(0) === _DLR && this.stream.peekChar(1) === _EQS) {\n            this.stream.advance(2);\n            return this.finishToken(offset, TokenType.SuffixOperator);\n        }\n        // Delim\n        this.stream.nextChar();\n        return this.finishToken(offset, TokenType.Delim);\n    };\n    Scanner.prototype._matchWordAnyCase = function (characters) {\n        var index = 0;\n        this.stream.advanceWhileChar(function (ch) {\n            var result = characters[index] === ch || characters[index + 1] === ch;\n            if (result) {\n                index += 2;\n            }\n            return result;\n        });\n        if (index === characters.length) {\n            return true;\n        }\n        else {\n            this.stream.goBack(index / 2);\n            return false;\n        }\n    };\n    Scanner.prototype.trivia = function () {\n        while (true) {\n            var offset = this.stream.pos();\n            if (this._whitespace()) {\n                if (!this.ignoreWhitespace) {\n                    return this.finishToken(offset, TokenType.Whitespace);\n                }\n            }\n            else if (this.comment()) {\n                if (!this.ignoreComment) {\n                    return this.finishToken(offset, TokenType.Comment);\n                }\n            }\n            else {\n                return null;\n            }\n        }\n    };\n    Scanner.prototype.comment = function () {\n        if (this.stream.advanceIfChars([_FSL, _MUL])) {\n            var success_1 = false, hot_1 = false;\n            this.stream.advanceWhileChar(function (ch) {\n                if (hot_1 && ch === _FSL) {\n                    success_1 = true;\n                    return false;\n                }\n                hot_1 = ch === _MUL;\n                return true;\n            });\n            if (success_1) {\n                this.stream.advance(1);\n            }\n            return true;\n        }\n        return false;\n    };\n    Scanner.prototype._number = function () {\n        var npeek = 0, ch;\n        if (this.stream.peekChar() === _DOT) {\n            npeek = 1;\n        }\n        ch = this.stream.peekChar(npeek);\n        if (ch >= _0 && ch <= _9) {\n            this.stream.advance(npeek + 1);\n            this.stream.advanceWhileChar(function (ch) {\n                return ch >= _0 && ch <= _9 || npeek === 0 && ch === _DOT;\n            });\n            return true;\n        }\n        return false;\n    };\n    Scanner.prototype._newline = function (result) {\n        var ch = this.stream.peekChar();\n        switch (ch) {\n            case _CAR:\n            case _LFD:\n            case _NWL:\n                this.stream.advance(1);\n                result.push(String.fromCharCode(ch));\n                if (ch === _CAR && this.stream.advanceIfChar(_NWL)) {\n                    result.push('\\n');\n                }\n                return true;\n        }\n        return false;\n    };\n    Scanner.prototype._escape = function (result, includeNewLines) {\n        var ch = this.stream.peekChar();\n        if (ch === _BSL) {\n            this.stream.advance(1);\n            ch = this.stream.peekChar();\n            var hexNumCount = 0;\n            while (hexNumCount < 6 && (ch >= _0 && ch <= _9 || ch >= _a && ch <= _f || ch >= _A && ch <= _F)) {\n                this.stream.advance(1);\n                ch = this.stream.peekChar();\n                hexNumCount++;\n            }\n            if (hexNumCount > 0) {\n                try {\n                    var hexVal = parseInt(this.stream.substring(this.stream.pos() - hexNumCount), 16);\n                    if (hexVal) {\n                        result.push(String.fromCharCode(hexVal));\n                    }\n                }\n                catch (e) {\n                    // ignore\n                }\n                // optional whitespace or new line, not part of result text\n                if (ch === _WSP || ch === _TAB) {\n                    this.stream.advance(1);\n                }\n                else {\n                    this._newline([]);\n                }\n                return true;\n            }\n            if (ch !== _CAR && ch !== _LFD && ch !== _NWL) {\n                this.stream.advance(1);\n                result.push(String.fromCharCode(ch));\n                return true;\n            }\n            else if (includeNewLines) {\n                return this._newline(result);\n            }\n        }\n        return false;\n    };\n    Scanner.prototype._stringChar = function (closeQuote, result) {\n        // not closeQuote, not backslash, not newline\n        var ch = this.stream.peekChar();\n        if (ch !== 0 && ch !== closeQuote && ch !== _BSL && ch !== _CAR && ch !== _LFD && ch !== _NWL) {\n            this.stream.advance(1);\n            result.push(String.fromCharCode(ch));\n            return true;\n        }\n        return false;\n    };\n    Scanner.prototype._string = function (result) {\n        if (this.stream.peekChar() === _SQO || this.stream.peekChar() === _DQO) {\n            var closeQuote = this.stream.nextChar();\n            result.push(String.fromCharCode(closeQuote));\n            while (this._stringChar(closeQuote, result) || this._escape(result, true)) {\n                // loop\n            }\n            if (this.stream.peekChar() === closeQuote) {\n                this.stream.nextChar();\n                result.push(String.fromCharCode(closeQuote));\n                return TokenType.String;\n            }\n            else {\n                return TokenType.BadString;\n            }\n        }\n        return null;\n    };\n    Scanner.prototype._unquotedChar = function (result) {\n        // not closeQuote, not backslash, not newline\n        var ch = this.stream.peekChar();\n        if (ch !== 0 && ch !== _BSL && ch !== _SQO && ch !== _DQO && ch !== _LPA && ch !== _RPA && ch !== _WSP && ch !== _TAB && ch !== _NWL && ch !== _LFD && ch !== _CAR) {\n            this.stream.advance(1);\n            result.push(String.fromCharCode(ch));\n            return true;\n        }\n        return false;\n    };\n    Scanner.prototype._unquotedString = function (result) {\n        var hasContent = false;\n        while (this._unquotedChar(result) || this._escape(result)) {\n            hasContent = true;\n        }\n        return hasContent;\n    };\n    Scanner.prototype._whitespace = function () {\n        var n = this.stream.advanceWhileChar(function (ch) {\n            return ch === _WSP || ch === _TAB || ch === _NWL || ch === _LFD || ch === _CAR;\n        });\n        return n > 0;\n    };\n    Scanner.prototype._name = function (result) {\n        var matched = false;\n        while (this._identChar(result) || this._escape(result)) {\n            matched = true;\n        }\n        return matched;\n    };\n    Scanner.prototype.ident = function (result) {\n        var pos = this.stream.pos();\n        var hasMinus = this._minus(result);\n        if (hasMinus && this._minus(result) /* -- */) {\n            if (this._identFirstChar(result) || this._escape(result)) {\n                while (this._identChar(result) || this._escape(result)) {\n                    // loop\n                }\n                return true;\n            }\n        }\n        else if (this._identFirstChar(result) || this._escape(result)) {\n            while (this._identChar(result) || this._escape(result)) {\n                // loop\n            }\n            return true;\n        }\n        this.stream.goBackTo(pos);\n        return false;\n    };\n    Scanner.prototype._identFirstChar = function (result) {\n        var ch = this.stream.peekChar();\n        if (ch === _USC || // _\n            ch >= _a && ch <= _z || // a-z\n            ch >= _A && ch <= _Z || // A-Z\n            ch >= 0x80 && ch <= 0xFFFF) { // nonascii\n            this.stream.advance(1);\n            result.push(String.fromCharCode(ch));\n            return true;\n        }\n        return false;\n    };\n    Scanner.prototype._minus = function (result) {\n        var ch = this.stream.peekChar();\n        if (ch === _MIN) {\n            this.stream.advance(1);\n            result.push(String.fromCharCode(ch));\n            return true;\n        }\n        return false;\n    };\n    Scanner.prototype._identChar = function (result) {\n        var ch = this.stream.peekChar();\n        if (ch === _USC || // _\n            ch === _MIN || // -\n            ch >= _a && ch <= _z || // a-z\n            ch >= _A && ch <= _Z || // A-Z\n            ch >= _0 && ch <= _9 || // 0/9\n            ch >= 0x80 && ch <= 0xFFFF) { // nonascii\n            this.stream.advance(1);\n            result.push(String.fromCharCode(ch));\n            return true;\n        }\n        return false;\n    };\n    return Scanner;\n}());\nexport { Scanner };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/// <summary>\n/// Nodes for the css 2.1 specification. See for reference:\n/// http://www.w3.org/TR/CSS21/grammar.html#grammar\n/// </summary>\nexport var NodeType;\n(function (NodeType) {\n    NodeType[NodeType[\"Undefined\"] = 0] = \"Undefined\";\n    NodeType[NodeType[\"Identifier\"] = 1] = \"Identifier\";\n    NodeType[NodeType[\"Stylesheet\"] = 2] = \"Stylesheet\";\n    NodeType[NodeType[\"Ruleset\"] = 3] = \"Ruleset\";\n    NodeType[NodeType[\"Selector\"] = 4] = \"Selector\";\n    NodeType[NodeType[\"SimpleSelector\"] = 5] = \"SimpleSelector\";\n    NodeType[NodeType[\"SelectorInterpolation\"] = 6] = \"SelectorInterpolation\";\n    NodeType[NodeType[\"SelectorCombinator\"] = 7] = \"SelectorCombinator\";\n    NodeType[NodeType[\"SelectorCombinatorParent\"] = 8] = \"SelectorCombinatorParent\";\n    NodeType[NodeType[\"SelectorCombinatorSibling\"] = 9] = \"SelectorCombinatorSibling\";\n    NodeType[NodeType[\"SelectorCombinatorAllSiblings\"] = 10] = \"SelectorCombinatorAllSiblings\";\n    NodeType[NodeType[\"SelectorCombinatorShadowPiercingDescendant\"] = 11] = \"SelectorCombinatorShadowPiercingDescendant\";\n    NodeType[NodeType[\"Page\"] = 12] = \"Page\";\n    NodeType[NodeType[\"PageBoxMarginBox\"] = 13] = \"PageBoxMarginBox\";\n    NodeType[NodeType[\"ClassSelector\"] = 14] = \"ClassSelector\";\n    NodeType[NodeType[\"IdentifierSelector\"] = 15] = \"IdentifierSelector\";\n    NodeType[NodeType[\"ElementNameSelector\"] = 16] = \"ElementNameSelector\";\n    NodeType[NodeType[\"PseudoSelector\"] = 17] = \"PseudoSelector\";\n    NodeType[NodeType[\"AttributeSelector\"] = 18] = \"AttributeSelector\";\n    NodeType[NodeType[\"Declaration\"] = 19] = \"Declaration\";\n    NodeType[NodeType[\"Declarations\"] = 20] = \"Declarations\";\n    NodeType[NodeType[\"Property\"] = 21] = \"Property\";\n    NodeType[NodeType[\"Expression\"] = 22] = \"Expression\";\n    NodeType[NodeType[\"BinaryExpression\"] = 23] = \"BinaryExpression\";\n    NodeType[NodeType[\"Term\"] = 24] = \"Term\";\n    NodeType[NodeType[\"Operator\"] = 25] = \"Operator\";\n    NodeType[NodeType[\"Value\"] = 26] = \"Value\";\n    NodeType[NodeType[\"StringLiteral\"] = 27] = \"StringLiteral\";\n    NodeType[NodeType[\"URILiteral\"] = 28] = \"URILiteral\";\n    NodeType[NodeType[\"EscapedValue\"] = 29] = \"EscapedValue\";\n    NodeType[NodeType[\"Function\"] = 30] = \"Function\";\n    NodeType[NodeType[\"NumericValue\"] = 31] = \"NumericValue\";\n    NodeType[NodeType[\"HexColorValue\"] = 32] = \"HexColorValue\";\n    NodeType[NodeType[\"MixinDeclaration\"] = 33] = \"MixinDeclaration\";\n    NodeType[NodeType[\"MixinReference\"] = 34] = \"MixinReference\";\n    NodeType[NodeType[\"VariableName\"] = 35] = \"VariableName\";\n    NodeType[NodeType[\"VariableDeclaration\"] = 36] = \"VariableDeclaration\";\n    NodeType[NodeType[\"Prio\"] = 37] = \"Prio\";\n    NodeType[NodeType[\"Interpolation\"] = 38] = \"Interpolation\";\n    NodeType[NodeType[\"NestedProperties\"] = 39] = \"NestedProperties\";\n    NodeType[NodeType[\"ExtendsReference\"] = 40] = \"ExtendsReference\";\n    NodeType[NodeType[\"SelectorPlaceholder\"] = 41] = \"SelectorPlaceholder\";\n    NodeType[NodeType[\"Debug\"] = 42] = \"Debug\";\n    NodeType[NodeType[\"If\"] = 43] = \"If\";\n    NodeType[NodeType[\"Else\"] = 44] = \"Else\";\n    NodeType[NodeType[\"For\"] = 45] = \"For\";\n    NodeType[NodeType[\"Each\"] = 46] = \"Each\";\n    NodeType[NodeType[\"While\"] = 47] = \"While\";\n    NodeType[NodeType[\"MixinContent\"] = 48] = \"MixinContent\";\n    NodeType[NodeType[\"Media\"] = 49] = \"Media\";\n    NodeType[NodeType[\"Keyframe\"] = 50] = \"Keyframe\";\n    NodeType[NodeType[\"FontFace\"] = 51] = \"FontFace\";\n    NodeType[NodeType[\"Import\"] = 52] = \"Import\";\n    NodeType[NodeType[\"Namespace\"] = 53] = \"Namespace\";\n    NodeType[NodeType[\"Invocation\"] = 54] = \"Invocation\";\n    NodeType[NodeType[\"FunctionDeclaration\"] = 55] = \"FunctionDeclaration\";\n    NodeType[NodeType[\"ReturnStatement\"] = 56] = \"ReturnStatement\";\n    NodeType[NodeType[\"MediaQuery\"] = 57] = \"MediaQuery\";\n    NodeType[NodeType[\"FunctionParameter\"] = 58] = \"FunctionParameter\";\n    NodeType[NodeType[\"FunctionArgument\"] = 59] = \"FunctionArgument\";\n    NodeType[NodeType[\"KeyframeSelector\"] = 60] = \"KeyframeSelector\";\n    NodeType[NodeType[\"ViewPort\"] = 61] = \"ViewPort\";\n    NodeType[NodeType[\"Document\"] = 62] = \"Document\";\n    NodeType[NodeType[\"AtApplyRule\"] = 63] = \"AtApplyRule\";\n    NodeType[NodeType[\"CustomPropertyDeclaration\"] = 64] = \"CustomPropertyDeclaration\";\n    NodeType[NodeType[\"CustomPropertySet\"] = 65] = \"CustomPropertySet\";\n    NodeType[NodeType[\"ListEntry\"] = 66] = \"ListEntry\";\n    NodeType[NodeType[\"Supports\"] = 67] = \"Supports\";\n    NodeType[NodeType[\"SupportsCondition\"] = 68] = \"SupportsCondition\";\n    NodeType[NodeType[\"NamespacePrefix\"] = 69] = \"NamespacePrefix\";\n    NodeType[NodeType[\"GridLine\"] = 70] = \"GridLine\";\n    NodeType[NodeType[\"Plugin\"] = 71] = \"Plugin\";\n    NodeType[NodeType[\"UnknownAtRule\"] = 72] = \"UnknownAtRule\";\n    NodeType[NodeType[\"Use\"] = 73] = \"Use\";\n    NodeType[NodeType[\"ModuleConfiguration\"] = 74] = \"ModuleConfiguration\";\n    NodeType[NodeType[\"Forward\"] = 75] = \"Forward\";\n    NodeType[NodeType[\"ForwardVisibility\"] = 76] = \"ForwardVisibility\";\n    NodeType[NodeType[\"Module\"] = 77] = \"Module\";\n})(NodeType || (NodeType = {}));\nexport var ReferenceType;\n(function (ReferenceType) {\n    ReferenceType[ReferenceType[\"Mixin\"] = 0] = \"Mixin\";\n    ReferenceType[ReferenceType[\"Rule\"] = 1] = \"Rule\";\n    ReferenceType[ReferenceType[\"Variable\"] = 2] = \"Variable\";\n    ReferenceType[ReferenceType[\"Function\"] = 3] = \"Function\";\n    ReferenceType[ReferenceType[\"Keyframe\"] = 4] = \"Keyframe\";\n    ReferenceType[ReferenceType[\"Unknown\"] = 5] = \"Unknown\";\n    ReferenceType[ReferenceType[\"Module\"] = 6] = \"Module\";\n    ReferenceType[ReferenceType[\"Forward\"] = 7] = \"Forward\";\n    ReferenceType[ReferenceType[\"ForwardVisibility\"] = 8] = \"ForwardVisibility\";\n})(ReferenceType || (ReferenceType = {}));\nexport function getNodeAtOffset(node, offset) {\n    var candidate = null;\n    if (!node || offset < node.offset || offset > node.end) {\n        return null;\n    }\n    // Find the shortest node at the position\n    node.accept(function (node) {\n        if (node.offset === -1 && node.length === -1) {\n            return true;\n        }\n        if (node.offset <= offset && node.end >= offset) {\n            if (!candidate) {\n                candidate = node;\n            }\n            else if (node.length <= candidate.length) {\n                candidate = node;\n            }\n            return true;\n        }\n        return false;\n    });\n    return candidate;\n}\nexport function getNodePath(node, offset) {\n    var candidate = getNodeAtOffset(node, offset);\n    var path = [];\n    while (candidate) {\n        path.unshift(candidate);\n        candidate = candidate.parent;\n    }\n    return path;\n}\nexport function getParentDeclaration(node) {\n    var decl = node.findParent(NodeType.Declaration);\n    var value = decl && decl.getValue();\n    if (value && value.encloses(node)) {\n        return decl;\n    }\n    return null;\n}\nvar Node = /** @class */ (function () {\n    function Node(offset, len, nodeType) {\n        if (offset === void 0) { offset = -1; }\n        if (len === void 0) { len = -1; }\n        this.parent = null;\n        this.offset = offset;\n        this.length = len;\n        if (nodeType) {\n            this.nodeType = nodeType;\n        }\n    }\n    Object.defineProperty(Node.prototype, \"end\", {\n        get: function () { return this.offset + this.length; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"type\", {\n        get: function () {\n            return this.nodeType || NodeType.Undefined;\n        },\n        set: function (type) {\n            this.nodeType = type;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Node.prototype.getTextProvider = function () {\n        var node = this;\n        while (node && !node.textProvider) {\n            node = node.parent;\n        }\n        if (node) {\n            return node.textProvider;\n        }\n        return function () { return 'unknown'; };\n    };\n    Node.prototype.getText = function () {\n        return this.getTextProvider()(this.offset, this.length);\n    };\n    Node.prototype.matches = function (str) {\n        return this.length === str.length && this.getTextProvider()(this.offset, this.length) === str;\n    };\n    Node.prototype.startsWith = function (str) {\n        return this.length >= str.length && this.getTextProvider()(this.offset, str.length) === str;\n    };\n    Node.prototype.endsWith = function (str) {\n        return this.length >= str.length && this.getTextProvider()(this.end - str.length, str.length) === str;\n    };\n    Node.prototype.accept = function (visitor) {\n        if (visitor(this) && this.children) {\n            for (var _i = 0, _a = this.children; _i < _a.length; _i++) {\n                var child = _a[_i];\n                child.accept(visitor);\n            }\n        }\n    };\n    Node.prototype.acceptVisitor = function (visitor) {\n        this.accept(visitor.visitNode.bind(visitor));\n    };\n    Node.prototype.adoptChild = function (node, index) {\n        if (index === void 0) { index = -1; }\n        if (node.parent && node.parent.children) {\n            var idx = node.parent.children.indexOf(node);\n            if (idx >= 0) {\n                node.parent.children.splice(idx, 1);\n            }\n        }\n        node.parent = this;\n        var children = this.children;\n        if (!children) {\n            children = this.children = [];\n        }\n        if (index !== -1) {\n            children.splice(index, 0, node);\n        }\n        else {\n            children.push(node);\n        }\n        return node;\n    };\n    Node.prototype.attachTo = function (parent, index) {\n        if (index === void 0) { index = -1; }\n        if (parent) {\n            parent.adoptChild(this, index);\n        }\n        return this;\n    };\n    Node.prototype.collectIssues = function (results) {\n        if (this.issues) {\n            results.push.apply(results, this.issues);\n        }\n    };\n    Node.prototype.addIssue = function (issue) {\n        if (!this.issues) {\n            this.issues = [];\n        }\n        this.issues.push(issue);\n    };\n    Node.prototype.hasIssue = function (rule) {\n        return Array.isArray(this.issues) && this.issues.some(function (i) { return i.getRule() === rule; });\n    };\n    Node.prototype.isErroneous = function (recursive) {\n        if (recursive === void 0) { recursive = false; }\n        if (this.issues && this.issues.length > 0) {\n            return true;\n        }\n        return recursive && Array.isArray(this.children) && this.children.some(function (c) { return c.isErroneous(true); });\n    };\n    Node.prototype.setNode = function (field, node, index) {\n        if (index === void 0) { index = -1; }\n        if (node) {\n            node.attachTo(this, index);\n            this[field] = node;\n            return true;\n        }\n        return false;\n    };\n    Node.prototype.addChild = function (node) {\n        if (node) {\n            if (!this.children) {\n                this.children = [];\n            }\n            node.attachTo(this);\n            this.updateOffsetAndLength(node);\n            return true;\n        }\n        return false;\n    };\n    Node.prototype.updateOffsetAndLength = function (node) {\n        if (node.offset < this.offset || this.offset === -1) {\n            this.offset = node.offset;\n        }\n        var nodeEnd = node.end;\n        if ((nodeEnd > this.end) || this.length === -1) {\n            this.length = nodeEnd - this.offset;\n        }\n    };\n    Node.prototype.hasChildren = function () {\n        return !!this.children && this.children.length > 0;\n    };\n    Node.prototype.getChildren = function () {\n        return this.children ? this.children.slice(0) : [];\n    };\n    Node.prototype.getChild = function (index) {\n        if (this.children && index < this.children.length) {\n            return this.children[index];\n        }\n        return null;\n    };\n    Node.prototype.addChildren = function (nodes) {\n        for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n            var node = nodes_1[_i];\n            this.addChild(node);\n        }\n    };\n    Node.prototype.findFirstChildBeforeOffset = function (offset) {\n        if (this.children) {\n            var current = null;\n            for (var i = this.children.length - 1; i >= 0; i--) {\n                // iterate until we find a child that has a start offset smaller than the input offset\n                current = this.children[i];\n                if (current.offset <= offset) {\n                    return current;\n                }\n            }\n        }\n        return null;\n    };\n    Node.prototype.findChildAtOffset = function (offset, goDeep) {\n        var current = this.findFirstChildBeforeOffset(offset);\n        if (current && current.end >= offset) {\n            if (goDeep) {\n                return current.findChildAtOffset(offset, true) || current;\n            }\n            return current;\n        }\n        return null;\n    };\n    Node.prototype.encloses = function (candidate) {\n        return this.offset <= candidate.offset && this.offset + this.length >= candidate.offset + candidate.length;\n    };\n    Node.prototype.getParent = function () {\n        var result = this.parent;\n        while (result instanceof Nodelist) {\n            result = result.parent;\n        }\n        return result;\n    };\n    Node.prototype.findParent = function (type) {\n        var result = this;\n        while (result && result.type !== type) {\n            result = result.parent;\n        }\n        return result;\n    };\n    Node.prototype.findAParent = function () {\n        var types = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            types[_i] = arguments[_i];\n        }\n        var result = this;\n        while (result && !types.some(function (t) { return result.type === t; })) {\n            result = result.parent;\n        }\n        return result;\n    };\n    Node.prototype.setData = function (key, value) {\n        if (!this.options) {\n            this.options = {};\n        }\n        this.options[key] = value;\n    };\n    Node.prototype.getData = function (key) {\n        if (!this.options || !this.options.hasOwnProperty(key)) {\n            return null;\n        }\n        return this.options[key];\n    };\n    return Node;\n}());\nexport { Node };\nvar Nodelist = /** @class */ (function (_super) {\n    __extends(Nodelist, _super);\n    function Nodelist(parent, index) {\n        if (index === void 0) { index = -1; }\n        var _this = _super.call(this, -1, -1) || this;\n        _this.attachTo(parent, index);\n        _this.offset = -1;\n        _this.length = -1;\n        return _this;\n    }\n    return Nodelist;\n}(Node));\nexport { Nodelist };\nvar Identifier = /** @class */ (function (_super) {\n    __extends(Identifier, _super);\n    function Identifier(offset, length) {\n        var _this = _super.call(this, offset, length) || this;\n        _this.isCustomProperty = false;\n        return _this;\n    }\n    Object.defineProperty(Identifier.prototype, \"type\", {\n        get: function () {\n            return NodeType.Identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Identifier.prototype.containsInterpolation = function () {\n        return this.hasChildren();\n    };\n    return Identifier;\n}(Node));\nexport { Identifier };\nvar Stylesheet = /** @class */ (function (_super) {\n    __extends(Stylesheet, _super);\n    function Stylesheet(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Stylesheet.prototype, \"type\", {\n        get: function () {\n            return NodeType.Stylesheet;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Stylesheet;\n}(Node));\nexport { Stylesheet };\nvar Declarations = /** @class */ (function (_super) {\n    __extends(Declarations, _super);\n    function Declarations(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Declarations.prototype, \"type\", {\n        get: function () {\n            return NodeType.Declarations;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Declarations;\n}(Node));\nexport { Declarations };\nvar BodyDeclaration = /** @class */ (function (_super) {\n    __extends(BodyDeclaration, _super);\n    function BodyDeclaration(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    BodyDeclaration.prototype.getDeclarations = function () {\n        return this.declarations;\n    };\n    BodyDeclaration.prototype.setDeclarations = function (decls) {\n        return this.setNode('declarations', decls);\n    };\n    return BodyDeclaration;\n}(Node));\nexport { BodyDeclaration };\nvar RuleSet = /** @class */ (function (_super) {\n    __extends(RuleSet, _super);\n    function RuleSet(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(RuleSet.prototype, \"type\", {\n        get: function () {\n            return NodeType.Ruleset;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RuleSet.prototype.getSelectors = function () {\n        if (!this.selectors) {\n            this.selectors = new Nodelist(this);\n        }\n        return this.selectors;\n    };\n    RuleSet.prototype.isNested = function () {\n        return !!this.parent && this.parent.findParent(NodeType.Declarations) !== null;\n    };\n    return RuleSet;\n}(BodyDeclaration));\nexport { RuleSet };\nvar Selector = /** @class */ (function (_super) {\n    __extends(Selector, _super);\n    function Selector(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Selector.prototype, \"type\", {\n        get: function () {\n            return NodeType.Selector;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Selector;\n}(Node));\nexport { Selector };\nvar SimpleSelector = /** @class */ (function (_super) {\n    __extends(SimpleSelector, _super);\n    function SimpleSelector(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(SimpleSelector.prototype, \"type\", {\n        get: function () {\n            return NodeType.SimpleSelector;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return SimpleSelector;\n}(Node));\nexport { SimpleSelector };\nvar AtApplyRule = /** @class */ (function (_super) {\n    __extends(AtApplyRule, _super);\n    function AtApplyRule(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(AtApplyRule.prototype, \"type\", {\n        get: function () {\n            return NodeType.AtApplyRule;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AtApplyRule.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    AtApplyRule.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    AtApplyRule.prototype.getName = function () {\n        return this.identifier ? this.identifier.getText() : '';\n    };\n    return AtApplyRule;\n}(Node));\nexport { AtApplyRule };\nvar AbstractDeclaration = /** @class */ (function (_super) {\n    __extends(AbstractDeclaration, _super);\n    function AbstractDeclaration(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    return AbstractDeclaration;\n}(Node));\nexport { AbstractDeclaration };\nvar CustomPropertyDeclaration = /** @class */ (function (_super) {\n    __extends(CustomPropertyDeclaration, _super);\n    function CustomPropertyDeclaration(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(CustomPropertyDeclaration.prototype, \"type\", {\n        get: function () {\n            return NodeType.CustomPropertyDeclaration;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CustomPropertyDeclaration.prototype.setProperty = function (node) {\n        return this.setNode('property', node);\n    };\n    CustomPropertyDeclaration.prototype.getProperty = function () {\n        return this.property;\n    };\n    CustomPropertyDeclaration.prototype.setValue = function (value) {\n        return this.setNode('value', value);\n    };\n    CustomPropertyDeclaration.prototype.getValue = function () {\n        return this.value;\n    };\n    CustomPropertyDeclaration.prototype.setPropertySet = function (value) {\n        return this.setNode('propertySet', value);\n    };\n    CustomPropertyDeclaration.prototype.getPropertySet = function () {\n        return this.propertySet;\n    };\n    return CustomPropertyDeclaration;\n}(AbstractDeclaration));\nexport { CustomPropertyDeclaration };\nvar CustomPropertySet = /** @class */ (function (_super) {\n    __extends(CustomPropertySet, _super);\n    function CustomPropertySet(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(CustomPropertySet.prototype, \"type\", {\n        get: function () {\n            return NodeType.CustomPropertySet;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return CustomPropertySet;\n}(BodyDeclaration));\nexport { CustomPropertySet };\nvar Declaration = /** @class */ (function (_super) {\n    __extends(Declaration, _super);\n    function Declaration(offset, length) {\n        var _this = _super.call(this, offset, length) || this;\n        _this.property = null;\n        return _this;\n    }\n    Object.defineProperty(Declaration.prototype, \"type\", {\n        get: function () {\n            return NodeType.Declaration;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Declaration.prototype.setProperty = function (node) {\n        return this.setNode('property', node);\n    };\n    Declaration.prototype.getProperty = function () {\n        return this.property;\n    };\n    Declaration.prototype.getFullPropertyName = function () {\n        var propertyName = this.property ? this.property.getName() : 'unknown';\n        if (this.parent instanceof Declarations && this.parent.getParent() instanceof NestedProperties) {\n            var parentDecl = this.parent.getParent().getParent();\n            if (parentDecl instanceof Declaration) {\n                return parentDecl.getFullPropertyName() + propertyName;\n            }\n        }\n        return propertyName;\n    };\n    Declaration.prototype.getNonPrefixedPropertyName = function () {\n        var propertyName = this.getFullPropertyName();\n        if (propertyName && propertyName.charAt(0) === '-') {\n            var vendorPrefixEnd = propertyName.indexOf('-', 1);\n            if (vendorPrefixEnd !== -1) {\n                return propertyName.substring(vendorPrefixEnd + 1);\n            }\n        }\n        return propertyName;\n    };\n    Declaration.prototype.setValue = function (value) {\n        return this.setNode('value', value);\n    };\n    Declaration.prototype.getValue = function () {\n        return this.value;\n    };\n    Declaration.prototype.setNestedProperties = function (value) {\n        return this.setNode('nestedProperties', value);\n    };\n    Declaration.prototype.getNestedProperties = function () {\n        return this.nestedProperties;\n    };\n    return Declaration;\n}(AbstractDeclaration));\nexport { Declaration };\nvar Property = /** @class */ (function (_super) {\n    __extends(Property, _super);\n    function Property(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Property.prototype, \"type\", {\n        get: function () {\n            return NodeType.Property;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Property.prototype.setIdentifier = function (value) {\n        return this.setNode('identifier', value);\n    };\n    Property.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    Property.prototype.getName = function () {\n        return this.getText();\n    };\n    Property.prototype.isCustomProperty = function () {\n        return !!this.identifier && this.identifier.isCustomProperty;\n    };\n    return Property;\n}(Node));\nexport { Property };\nvar Invocation = /** @class */ (function (_super) {\n    __extends(Invocation, _super);\n    function Invocation(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Invocation.prototype, \"type\", {\n        get: function () {\n            return NodeType.Invocation;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Invocation.prototype.getArguments = function () {\n        if (!this.arguments) {\n            this.arguments = new Nodelist(this);\n        }\n        return this.arguments;\n    };\n    return Invocation;\n}(Node));\nexport { Invocation };\nvar Function = /** @class */ (function (_super) {\n    __extends(Function, _super);\n    function Function(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Function.prototype, \"type\", {\n        get: function () {\n            return NodeType.Function;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Function.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    Function.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    Function.prototype.getName = function () {\n        return this.identifier ? this.identifier.getText() : '';\n    };\n    return Function;\n}(Invocation));\nexport { Function };\nvar FunctionParameter = /** @class */ (function (_super) {\n    __extends(FunctionParameter, _super);\n    function FunctionParameter(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(FunctionParameter.prototype, \"type\", {\n        get: function () {\n            return NodeType.FunctionParameter;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FunctionParameter.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    FunctionParameter.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    FunctionParameter.prototype.getName = function () {\n        return this.identifier ? this.identifier.getText() : '';\n    };\n    FunctionParameter.prototype.setDefaultValue = function (node) {\n        return this.setNode('defaultValue', node, 0);\n    };\n    FunctionParameter.prototype.getDefaultValue = function () {\n        return this.defaultValue;\n    };\n    return FunctionParameter;\n}(Node));\nexport { FunctionParameter };\nvar FunctionArgument = /** @class */ (function (_super) {\n    __extends(FunctionArgument, _super);\n    function FunctionArgument(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(FunctionArgument.prototype, \"type\", {\n        get: function () {\n            return NodeType.FunctionArgument;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FunctionArgument.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    FunctionArgument.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    FunctionArgument.prototype.getName = function () {\n        return this.identifier ? this.identifier.getText() : '';\n    };\n    FunctionArgument.prototype.setValue = function (node) {\n        return this.setNode('value', node, 0);\n    };\n    FunctionArgument.prototype.getValue = function () {\n        return this.value;\n    };\n    return FunctionArgument;\n}(Node));\nexport { FunctionArgument };\nvar IfStatement = /** @class */ (function (_super) {\n    __extends(IfStatement, _super);\n    function IfStatement(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(IfStatement.prototype, \"type\", {\n        get: function () {\n            return NodeType.If;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    IfStatement.prototype.setExpression = function (node) {\n        return this.setNode('expression', node, 0);\n    };\n    IfStatement.prototype.setElseClause = function (elseClause) {\n        return this.setNode('elseClause', elseClause);\n    };\n    return IfStatement;\n}(BodyDeclaration));\nexport { IfStatement };\nvar ForStatement = /** @class */ (function (_super) {\n    __extends(ForStatement, _super);\n    function ForStatement(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(ForStatement.prototype, \"type\", {\n        get: function () {\n            return NodeType.For;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ForStatement.prototype.setVariable = function (node) {\n        return this.setNode('variable', node, 0);\n    };\n    return ForStatement;\n}(BodyDeclaration));\nexport { ForStatement };\nvar EachStatement = /** @class */ (function (_super) {\n    __extends(EachStatement, _super);\n    function EachStatement(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(EachStatement.prototype, \"type\", {\n        get: function () {\n            return NodeType.Each;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    EachStatement.prototype.getVariables = function () {\n        if (!this.variables) {\n            this.variables = new Nodelist(this);\n        }\n        return this.variables;\n    };\n    return EachStatement;\n}(BodyDeclaration));\nexport { EachStatement };\nvar WhileStatement = /** @class */ (function (_super) {\n    __extends(WhileStatement, _super);\n    function WhileStatement(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(WhileStatement.prototype, \"type\", {\n        get: function () {\n            return NodeType.While;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return WhileStatement;\n}(BodyDeclaration));\nexport { WhileStatement };\nvar ElseStatement = /** @class */ (function (_super) {\n    __extends(ElseStatement, _super);\n    function ElseStatement(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(ElseStatement.prototype, \"type\", {\n        get: function () {\n            return NodeType.Else;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ElseStatement;\n}(BodyDeclaration));\nexport { ElseStatement };\nvar FunctionDeclaration = /** @class */ (function (_super) {\n    __extends(FunctionDeclaration, _super);\n    function FunctionDeclaration(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(FunctionDeclaration.prototype, \"type\", {\n        get: function () {\n            return NodeType.FunctionDeclaration;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FunctionDeclaration.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    FunctionDeclaration.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    FunctionDeclaration.prototype.getName = function () {\n        return this.identifier ? this.identifier.getText() : '';\n    };\n    FunctionDeclaration.prototype.getParameters = function () {\n        if (!this.parameters) {\n            this.parameters = new Nodelist(this);\n        }\n        return this.parameters;\n    };\n    return FunctionDeclaration;\n}(BodyDeclaration));\nexport { FunctionDeclaration };\nvar ViewPort = /** @class */ (function (_super) {\n    __extends(ViewPort, _super);\n    function ViewPort(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(ViewPort.prototype, \"type\", {\n        get: function () {\n            return NodeType.ViewPort;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ViewPort;\n}(BodyDeclaration));\nexport { ViewPort };\nvar FontFace = /** @class */ (function (_super) {\n    __extends(FontFace, _super);\n    function FontFace(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(FontFace.prototype, \"type\", {\n        get: function () {\n            return NodeType.FontFace;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return FontFace;\n}(BodyDeclaration));\nexport { FontFace };\nvar NestedProperties = /** @class */ (function (_super) {\n    __extends(NestedProperties, _super);\n    function NestedProperties(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(NestedProperties.prototype, \"type\", {\n        get: function () {\n            return NodeType.NestedProperties;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return NestedProperties;\n}(BodyDeclaration));\nexport { NestedProperties };\nvar Keyframe = /** @class */ (function (_super) {\n    __extends(Keyframe, _super);\n    function Keyframe(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Keyframe.prototype, \"type\", {\n        get: function () {\n            return NodeType.Keyframe;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Keyframe.prototype.setKeyword = function (keyword) {\n        return this.setNode('keyword', keyword, 0);\n    };\n    Keyframe.prototype.getKeyword = function () {\n        return this.keyword;\n    };\n    Keyframe.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    Keyframe.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    Keyframe.prototype.getName = function () {\n        return this.identifier ? this.identifier.getText() : '';\n    };\n    return Keyframe;\n}(BodyDeclaration));\nexport { Keyframe };\nvar KeyframeSelector = /** @class */ (function (_super) {\n    __extends(KeyframeSelector, _super);\n    function KeyframeSelector(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(KeyframeSelector.prototype, \"type\", {\n        get: function () {\n            return NodeType.KeyframeSelector;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return KeyframeSelector;\n}(BodyDeclaration));\nexport { KeyframeSelector };\nvar Import = /** @class */ (function (_super) {\n    __extends(Import, _super);\n    function Import(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Import.prototype, \"type\", {\n        get: function () {\n            return NodeType.Import;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Import.prototype.setMedialist = function (node) {\n        if (node) {\n            node.attachTo(this);\n            return true;\n        }\n        return false;\n    };\n    return Import;\n}(Node));\nexport { Import };\nvar Use = /** @class */ (function (_super) {\n    __extends(Use, _super);\n    function Use() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(Use.prototype, \"type\", {\n        get: function () {\n            return NodeType.Use;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Use.prototype.getParameters = function () {\n        if (!this.parameters) {\n            this.parameters = new Nodelist(this);\n        }\n        return this.parameters;\n    };\n    Use.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    Use.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    return Use;\n}(Node));\nexport { Use };\nvar ModuleConfiguration = /** @class */ (function (_super) {\n    __extends(ModuleConfiguration, _super);\n    function ModuleConfiguration() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(ModuleConfiguration.prototype, \"type\", {\n        get: function () {\n            return NodeType.ModuleConfiguration;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ModuleConfiguration.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    ModuleConfiguration.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    ModuleConfiguration.prototype.getName = function () {\n        return this.identifier ? this.identifier.getText() : '';\n    };\n    ModuleConfiguration.prototype.setValue = function (node) {\n        return this.setNode('value', node, 0);\n    };\n    ModuleConfiguration.prototype.getValue = function () {\n        return this.value;\n    };\n    return ModuleConfiguration;\n}(Node));\nexport { ModuleConfiguration };\nvar Forward = /** @class */ (function (_super) {\n    __extends(Forward, _super);\n    function Forward() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(Forward.prototype, \"type\", {\n        get: function () {\n            return NodeType.Forward;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Forward.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    Forward.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    return Forward;\n}(Node));\nexport { Forward };\nvar ForwardVisibility = /** @class */ (function (_super) {\n    __extends(ForwardVisibility, _super);\n    function ForwardVisibility() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(ForwardVisibility.prototype, \"type\", {\n        get: function () {\n            return NodeType.ForwardVisibility;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ForwardVisibility.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    ForwardVisibility.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    return ForwardVisibility;\n}(Node));\nexport { ForwardVisibility };\nvar Namespace = /** @class */ (function (_super) {\n    __extends(Namespace, _super);\n    function Namespace(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Namespace.prototype, \"type\", {\n        get: function () {\n            return NodeType.Namespace;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Namespace;\n}(Node));\nexport { Namespace };\nvar Media = /** @class */ (function (_super) {\n    __extends(Media, _super);\n    function Media(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Media.prototype, \"type\", {\n        get: function () {\n            return NodeType.Media;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Media;\n}(BodyDeclaration));\nexport { Media };\nvar Supports = /** @class */ (function (_super) {\n    __extends(Supports, _super);\n    function Supports(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Supports.prototype, \"type\", {\n        get: function () {\n            return NodeType.Supports;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Supports;\n}(BodyDeclaration));\nexport { Supports };\nvar Document = /** @class */ (function (_super) {\n    __extends(Document, _super);\n    function Document(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Document.prototype, \"type\", {\n        get: function () {\n            return NodeType.Document;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Document;\n}(BodyDeclaration));\nexport { Document };\nvar Medialist = /** @class */ (function (_super) {\n    __extends(Medialist, _super);\n    function Medialist(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Medialist.prototype.getMediums = function () {\n        if (!this.mediums) {\n            this.mediums = new Nodelist(this);\n        }\n        return this.mediums;\n    };\n    return Medialist;\n}(Node));\nexport { Medialist };\nvar MediaQuery = /** @class */ (function (_super) {\n    __extends(MediaQuery, _super);\n    function MediaQuery(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(MediaQuery.prototype, \"type\", {\n        get: function () {\n            return NodeType.MediaQuery;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return MediaQuery;\n}(Node));\nexport { MediaQuery };\nvar SupportsCondition = /** @class */ (function (_super) {\n    __extends(SupportsCondition, _super);\n    function SupportsCondition(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(SupportsCondition.prototype, \"type\", {\n        get: function () {\n            return NodeType.SupportsCondition;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return SupportsCondition;\n}(Node));\nexport { SupportsCondition };\nvar Page = /** @class */ (function (_super) {\n    __extends(Page, _super);\n    function Page(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Page.prototype, \"type\", {\n        get: function () {\n            return NodeType.Page;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Page;\n}(BodyDeclaration));\nexport { Page };\nvar PageBoxMarginBox = /** @class */ (function (_super) {\n    __extends(PageBoxMarginBox, _super);\n    function PageBoxMarginBox(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(PageBoxMarginBox.prototype, \"type\", {\n        get: function () {\n            return NodeType.PageBoxMarginBox;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PageBoxMarginBox;\n}(BodyDeclaration));\nexport { PageBoxMarginBox };\nvar Expression = /** @class */ (function (_super) {\n    __extends(Expression, _super);\n    function Expression(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Expression.prototype, \"type\", {\n        get: function () {\n            return NodeType.Expression;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Expression;\n}(Node));\nexport { Expression };\nvar BinaryExpression = /** @class */ (function (_super) {\n    __extends(BinaryExpression, _super);\n    function BinaryExpression(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(BinaryExpression.prototype, \"type\", {\n        get: function () {\n            return NodeType.BinaryExpression;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BinaryExpression.prototype.setLeft = function (left) {\n        return this.setNode('left', left);\n    };\n    BinaryExpression.prototype.getLeft = function () {\n        return this.left;\n    };\n    BinaryExpression.prototype.setRight = function (right) {\n        return this.setNode('right', right);\n    };\n    BinaryExpression.prototype.getRight = function () {\n        return this.right;\n    };\n    BinaryExpression.prototype.setOperator = function (value) {\n        return this.setNode('operator', value);\n    };\n    BinaryExpression.prototype.getOperator = function () {\n        return this.operator;\n    };\n    return BinaryExpression;\n}(Node));\nexport { BinaryExpression };\nvar Term = /** @class */ (function (_super) {\n    __extends(Term, _super);\n    function Term(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Term.prototype, \"type\", {\n        get: function () {\n            return NodeType.Term;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Term.prototype.setOperator = function (value) {\n        return this.setNode('operator', value);\n    };\n    Term.prototype.getOperator = function () {\n        return this.operator;\n    };\n    Term.prototype.setExpression = function (value) {\n        return this.setNode('expression', value);\n    };\n    Term.prototype.getExpression = function () {\n        return this.expression;\n    };\n    return Term;\n}(Node));\nexport { Term };\nvar AttributeSelector = /** @class */ (function (_super) {\n    __extends(AttributeSelector, _super);\n    function AttributeSelector(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(AttributeSelector.prototype, \"type\", {\n        get: function () {\n            return NodeType.AttributeSelector;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AttributeSelector.prototype.setNamespacePrefix = function (value) {\n        return this.setNode('namespacePrefix', value);\n    };\n    AttributeSelector.prototype.getNamespacePrefix = function () {\n        return this.namespacePrefix;\n    };\n    AttributeSelector.prototype.setIdentifier = function (value) {\n        return this.setNode('identifier', value);\n    };\n    AttributeSelector.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    AttributeSelector.prototype.setOperator = function (operator) {\n        return this.setNode('operator', operator);\n    };\n    AttributeSelector.prototype.getOperator = function () {\n        return this.operator;\n    };\n    AttributeSelector.prototype.setValue = function (value) {\n        return this.setNode('value', value);\n    };\n    AttributeSelector.prototype.getValue = function () {\n        return this.value;\n    };\n    return AttributeSelector;\n}(Node));\nexport { AttributeSelector };\nvar Operator = /** @class */ (function (_super) {\n    __extends(Operator, _super);\n    function Operator(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Operator.prototype, \"type\", {\n        get: function () {\n            return NodeType.Operator;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Operator;\n}(Node));\nexport { Operator };\nvar HexColorValue = /** @class */ (function (_super) {\n    __extends(HexColorValue, _super);\n    function HexColorValue(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(HexColorValue.prototype, \"type\", {\n        get: function () {\n            return NodeType.HexColorValue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return HexColorValue;\n}(Node));\nexport { HexColorValue };\nvar _dot = '.'.charCodeAt(0), _0 = '0'.charCodeAt(0), _9 = '9'.charCodeAt(0);\nvar NumericValue = /** @class */ (function (_super) {\n    __extends(NumericValue, _super);\n    function NumericValue(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(NumericValue.prototype, \"type\", {\n        get: function () {\n            return NodeType.NumericValue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    NumericValue.prototype.getValue = function () {\n        var raw = this.getText();\n        var unitIdx = 0;\n        var code;\n        for (var i = 0, len = raw.length; i < len; i++) {\n            code = raw.charCodeAt(i);\n            if (!(_0 <= code && code <= _9 || code === _dot)) {\n                break;\n            }\n            unitIdx += 1;\n        }\n        return {\n            value: raw.substring(0, unitIdx),\n            unit: unitIdx < raw.length ? raw.substring(unitIdx) : undefined\n        };\n    };\n    return NumericValue;\n}(Node));\nexport { NumericValue };\nvar VariableDeclaration = /** @class */ (function (_super) {\n    __extends(VariableDeclaration, _super);\n    function VariableDeclaration(offset, length) {\n        var _this = _super.call(this, offset, length) || this;\n        _this.variable = null;\n        _this.value = null;\n        _this.needsSemicolon = true;\n        return _this;\n    }\n    Object.defineProperty(VariableDeclaration.prototype, \"type\", {\n        get: function () {\n            return NodeType.VariableDeclaration;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    VariableDeclaration.prototype.setVariable = function (node) {\n        if (node) {\n            node.attachTo(this);\n            this.variable = node;\n            return true;\n        }\n        return false;\n    };\n    VariableDeclaration.prototype.getVariable = function () {\n        return this.variable;\n    };\n    VariableDeclaration.prototype.getName = function () {\n        return this.variable ? this.variable.getName() : '';\n    };\n    VariableDeclaration.prototype.setValue = function (node) {\n        if (node) {\n            node.attachTo(this);\n            this.value = node;\n            return true;\n        }\n        return false;\n    };\n    VariableDeclaration.prototype.getValue = function () {\n        return this.value;\n    };\n    return VariableDeclaration;\n}(AbstractDeclaration));\nexport { VariableDeclaration };\nvar Interpolation = /** @class */ (function (_super) {\n    __extends(Interpolation, _super);\n    // private _interpolations: void; // workaround for https://github.com/Microsoft/TypeScript/issues/18276\n    function Interpolation(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Interpolation.prototype, \"type\", {\n        get: function () {\n            return NodeType.Interpolation;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Interpolation;\n}(Node));\nexport { Interpolation };\nvar Variable = /** @class */ (function (_super) {\n    __extends(Variable, _super);\n    function Variable(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(Variable.prototype, \"type\", {\n        get: function () {\n            return NodeType.VariableName;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Variable.prototype.getName = function () {\n        return this.getText();\n    };\n    return Variable;\n}(Node));\nexport { Variable };\nvar ExtendsReference = /** @class */ (function (_super) {\n    __extends(ExtendsReference, _super);\n    function ExtendsReference(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(ExtendsReference.prototype, \"type\", {\n        get: function () {\n            return NodeType.ExtendsReference;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ExtendsReference.prototype.getSelectors = function () {\n        if (!this.selectors) {\n            this.selectors = new Nodelist(this);\n        }\n        return this.selectors;\n    };\n    return ExtendsReference;\n}(Node));\nexport { ExtendsReference };\nvar MixinReference = /** @class */ (function (_super) {\n    __extends(MixinReference, _super);\n    function MixinReference(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(MixinReference.prototype, \"type\", {\n        get: function () {\n            return NodeType.MixinReference;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MixinReference.prototype.getNamespaces = function () {\n        if (!this.namespaces) {\n            this.namespaces = new Nodelist(this);\n        }\n        return this.namespaces;\n    };\n    MixinReference.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    MixinReference.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    MixinReference.prototype.getName = function () {\n        return this.identifier ? this.identifier.getText() : '';\n    };\n    MixinReference.prototype.getArguments = function () {\n        if (!this.arguments) {\n            this.arguments = new Nodelist(this);\n        }\n        return this.arguments;\n    };\n    MixinReference.prototype.setContent = function (node) {\n        return this.setNode('content', node);\n    };\n    MixinReference.prototype.getContent = function () {\n        return this.content;\n    };\n    return MixinReference;\n}(Node));\nexport { MixinReference };\nvar MixinDeclaration = /** @class */ (function (_super) {\n    __extends(MixinDeclaration, _super);\n    function MixinDeclaration(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(MixinDeclaration.prototype, \"type\", {\n        get: function () {\n            return NodeType.MixinDeclaration;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MixinDeclaration.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    MixinDeclaration.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    MixinDeclaration.prototype.getName = function () {\n        return this.identifier ? this.identifier.getText() : '';\n    };\n    MixinDeclaration.prototype.getParameters = function () {\n        if (!this.parameters) {\n            this.parameters = new Nodelist(this);\n        }\n        return this.parameters;\n    };\n    MixinDeclaration.prototype.setGuard = function (node) {\n        if (node) {\n            node.attachTo(this);\n            this.guard = node;\n        }\n        return false;\n    };\n    return MixinDeclaration;\n}(BodyDeclaration));\nexport { MixinDeclaration };\nvar UnknownAtRule = /** @class */ (function (_super) {\n    __extends(UnknownAtRule, _super);\n    function UnknownAtRule(offset, length) {\n        return _super.call(this, offset, length) || this;\n    }\n    Object.defineProperty(UnknownAtRule.prototype, \"type\", {\n        get: function () {\n            return NodeType.UnknownAtRule;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    UnknownAtRule.prototype.setAtRuleName = function (atRuleName) {\n        this.atRuleName = atRuleName;\n    };\n    UnknownAtRule.prototype.getAtRuleName = function () {\n        return this.atRuleName;\n    };\n    return UnknownAtRule;\n}(BodyDeclaration));\nexport { UnknownAtRule };\nvar ListEntry = /** @class */ (function (_super) {\n    __extends(ListEntry, _super);\n    function ListEntry() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(ListEntry.prototype, \"type\", {\n        get: function () {\n            return NodeType.ListEntry;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ListEntry.prototype.setKey = function (node) {\n        return this.setNode('key', node, 0);\n    };\n    ListEntry.prototype.setValue = function (node) {\n        return this.setNode('value', node, 1);\n    };\n    return ListEntry;\n}(Node));\nexport { ListEntry };\nvar LessGuard = /** @class */ (function (_super) {\n    __extends(LessGuard, _super);\n    function LessGuard() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LessGuard.prototype.getConditions = function () {\n        if (!this.conditions) {\n            this.conditions = new Nodelist(this);\n        }\n        return this.conditions;\n    };\n    return LessGuard;\n}(Node));\nexport { LessGuard };\nvar GuardCondition = /** @class */ (function (_super) {\n    __extends(GuardCondition, _super);\n    function GuardCondition() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GuardCondition.prototype.setVariable = function (node) {\n        return this.setNode('variable', node);\n    };\n    return GuardCondition;\n}(Node));\nexport { GuardCondition };\nvar Module = /** @class */ (function (_super) {\n    __extends(Module, _super);\n    function Module() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(Module.prototype, \"type\", {\n        get: function () {\n            return NodeType.Module;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Module.prototype.setIdentifier = function (node) {\n        return this.setNode('identifier', node, 0);\n    };\n    Module.prototype.getIdentifier = function () {\n        return this.identifier;\n    };\n    return Module;\n}(Node));\nexport { Module };\nexport var Level;\n(function (Level) {\n    Level[Level[\"Ignore\"] = 1] = \"Ignore\";\n    Level[Level[\"Warning\"] = 2] = \"Warning\";\n    Level[Level[\"Error\"] = 4] = \"Error\";\n})(Level || (Level = {}));\nvar Marker = /** @class */ (function () {\n    function Marker(node, rule, level, message, offset, length) {\n        if (offset === void 0) { offset = node.offset; }\n        if (length === void 0) { length = node.length; }\n        this.node = node;\n        this.rule = rule;\n        this.level = level;\n        this.message = message || rule.message;\n        this.offset = offset;\n        this.length = length;\n    }\n    Marker.prototype.getRule = function () {\n        return this.rule;\n    };\n    Marker.prototype.getLevel = function () {\n        return this.level;\n    };\n    Marker.prototype.getOffset = function () {\n        return this.offset;\n    };\n    Marker.prototype.getLength = function () {\n        return this.length;\n    };\n    Marker.prototype.getNode = function () {\n        return this.node;\n    };\n    Marker.prototype.getMessage = function () {\n        return this.message;\n    };\n    return Marker;\n}());\nexport { Marker };\n/*\nexport class DefaultVisitor implements IVisitor {\n\n    public visitNode(node:Node):boolean {\n        switch (node.type) {\n            case NodeType.Stylesheet:\n                return this.visitStylesheet(<Stylesheet> node);\n            case NodeType.FontFace:\n                return this.visitFontFace(<FontFace> node);\n            case NodeType.Ruleset:\n                return this.visitRuleSet(<RuleSet> node);\n            case NodeType.Selector:\n                return this.visitSelector(<Selector> node);\n            case NodeType.SimpleSelector:\n                return this.visitSimpleSelector(<SimpleSelector> node);\n            case NodeType.Declaration:\n                return this.visitDeclaration(<Declaration> node);\n            case NodeType.Function:\n                return this.visitFunction(<Function> node);\n            case NodeType.FunctionDeclaration:\n                return this.visitFunctionDeclaration(<FunctionDeclaration> node);\n            case NodeType.FunctionParameter:\n                return this.visitFunctionParameter(<FunctionParameter> node);\n            case NodeType.FunctionArgument:\n                return this.visitFunctionArgument(<FunctionArgument> node);\n            case NodeType.Term:\n                return this.visitTerm(<Term> node);\n            case NodeType.Declaration:\n                return this.visitExpression(<Expression> node);\n            case NodeType.NumericValue:\n                return this.visitNumericValue(<NumericValue> node);\n            case NodeType.Page:\n                return this.visitPage(<Page> node);\n            case NodeType.PageBoxMarginBox:\n                return this.visitPageBoxMarginBox(<PageBoxMarginBox> node);\n            case NodeType.Property:\n                return this.visitProperty(<Property> node);\n            case NodeType.NumericValue:\n                return this.visitNodelist(<Nodelist> node);\n            case NodeType.Import:\n                return this.visitImport(<Import> node);\n            case NodeType.Namespace:\n                return this.visitNamespace(<Namespace> node);\n            case NodeType.Keyframe:\n                return this.visitKeyframe(<Keyframe> node);\n            case NodeType.KeyframeSelector:\n                return this.visitKeyframeSelector(<KeyframeSelector> node);\n            case NodeType.MixinDeclaration:\n                return this.visitMixinDeclaration(<MixinDeclaration> node);\n            case NodeType.MixinReference:\n                return this.visitMixinReference(<MixinReference> node);\n            case NodeType.Variable:\n                return this.visitVariable(<Variable> node);\n            case NodeType.VariableDeclaration:\n                return this.visitVariableDeclaration(<VariableDeclaration> node);\n        }\n        return this.visitUnknownNode(node);\n    }\n\n    public visitFontFace(node:FontFace):boolean {\n        return true;\n    }\n\n    public visitKeyframe(node:Keyframe):boolean {\n        return true;\n    }\n\n    public visitKeyframeSelector(node:KeyframeSelector):boolean {\n        return true;\n    }\n\n    public visitStylesheet(node:Stylesheet):boolean {\n        return true;\n    }\n\n    public visitProperty(Node:Property):boolean {\n        return true;\n    }\n\n    public visitRuleSet(node:RuleSet):boolean {\n        return true;\n    }\n\n    public visitSelector(node:Selector):boolean {\n        return true;\n    }\n\n    public visitSimpleSelector(node:SimpleSelector):boolean {\n        return true;\n    }\n\n    public visitDeclaration(node:Declaration):boolean {\n        return true;\n    }\n\n    public visitFunction(node:Function):boolean {\n        return true;\n    }\n\n    public visitFunctionDeclaration(node:FunctionDeclaration):boolean {\n        return true;\n    }\n\n    public visitInvocation(node:Invocation):boolean {\n        return true;\n    }\n\n    public visitTerm(node:Term):boolean {\n        return true;\n    }\n\n    public visitImport(node:Import):boolean {\n        return true;\n    }\n\n    public visitNamespace(node:Namespace):boolean {\n        return true;\n    }\n\n    public visitExpression(node:Expression):boolean {\n        return true;\n    }\n\n    public visitNumericValue(node:NumericValue):boolean {\n        return true;\n    }\n\n    public visitPage(node:Page):boolean {\n        return true;\n    }\n\n    public visitPageBoxMarginBox(node:PageBoxMarginBox):boolean {\n        return true;\n    }\n\n    public visitNodelist(node:Nodelist):boolean {\n        return true;\n    }\n\n    public visitVariableDeclaration(node:VariableDeclaration):boolean {\n        return true;\n    }\n\n    public visitVariable(node:Variable):boolean {\n        return true;\n    }\n\n    public visitMixinDeclaration(node:MixinDeclaration):boolean {\n        return true;\n    }\n\n    public visitMixinReference(node:MixinReference):boolean {\n        return true;\n    }\n\n    public visitUnknownNode(node:Node):boolean {\n        return true;\n    }\n}\n*/\nvar ParseErrorCollector = /** @class */ (function () {\n    function ParseErrorCollector() {\n        this.entries = [];\n    }\n    ParseErrorCollector.entries = function (node) {\n        var visitor = new ParseErrorCollector();\n        node.acceptVisitor(visitor);\n        return visitor.entries;\n    };\n    ParseErrorCollector.prototype.visitNode = function (node) {\n        if (node.isErroneous()) {\n            node.collectIssues(this.entries);\n        }\n        return true;\n    };\n    return ParseErrorCollector;\n}());\nexport { ParseErrorCollector };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as lessScanner from './lessScanner.js';\nimport { TokenType } from './cssScanner.js';\nimport * as cssParser from './cssParser.js';\nimport * as nodes from './cssNodes.js';\nimport { ParseError } from './cssErrors.js';\n/// <summary>\n/// A parser for LESS\n/// http://lesscss.org/\n/// </summary>\nvar LESSParser = /** @class */ (function (_super) {\n    __extends(LESSParser, _super);\n    function LESSParser() {\n        return _super.call(this, new lessScanner.LESSScanner()) || this;\n    }\n    LESSParser.prototype._parseStylesheetStatement = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        if (this.peek(TokenType.AtKeyword)) {\n            return this._parseVariableDeclaration()\n                || this._parsePlugin()\n                || _super.prototype._parseStylesheetAtStatement.call(this, isNested);\n        }\n        return this._tryParseMixinDeclaration()\n            || this._tryParseMixinReference()\n            || this._parseFunction()\n            || this._parseRuleset(true);\n    };\n    LESSParser.prototype._parseImport = function () {\n        if (!this.peekKeyword('@import') && !this.peekKeyword('@import-once') /* deprecated in less 1.4.1 */) {\n            return null;\n        }\n        var node = this.create(nodes.Import);\n        this.consumeToken();\n        // less 1.4.1: @import (css) \"lib\"\n        if (this.accept(TokenType.ParenthesisL)) {\n            if (!this.accept(TokenType.Ident)) {\n                return this.finish(node, ParseError.IdentifierExpected, [TokenType.SemiColon]);\n            }\n            do {\n                if (!this.accept(TokenType.Comma)) {\n                    break;\n                }\n            } while (this.accept(TokenType.Ident));\n            if (!this.accept(TokenType.ParenthesisR)) {\n                return this.finish(node, ParseError.RightParenthesisExpected, [TokenType.SemiColon]);\n            }\n        }\n        if (!node.addChild(this._parseURILiteral()) && !node.addChild(this._parseStringLiteral())) {\n            return this.finish(node, ParseError.URIOrStringExpected, [TokenType.SemiColon]);\n        }\n        if (!this.peek(TokenType.SemiColon) && !this.peek(TokenType.EOF)) {\n            node.setMedialist(this._parseMediaQueryList());\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._parsePlugin = function () {\n        if (!this.peekKeyword('@plugin')) {\n            return null;\n        }\n        var node = this.createNode(nodes.NodeType.Plugin);\n        this.consumeToken(); // @import\n        if (!node.addChild(this._parseStringLiteral())) {\n            return this.finish(node, ParseError.StringLiteralExpected);\n        }\n        if (!this.accept(TokenType.SemiColon)) {\n            return this.finish(node, ParseError.SemiColonExpected);\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._parseMediaQuery = function (resyncStopToken) {\n        var node = _super.prototype._parseMediaQuery.call(this, resyncStopToken);\n        if (!node) {\n            var node_1 = this.create(nodes.MediaQuery);\n            if (node_1.addChild(this._parseVariable())) {\n                return this.finish(node_1);\n            }\n            return null;\n        }\n        return node;\n    };\n    LESSParser.prototype._parseMediaDeclaration = function (isNested) {\n        if (isNested === void 0) { isNested = false; }\n        return this._tryParseRuleset(isNested)\n            || this._tryToParseDeclaration()\n            || this._tryParseMixinDeclaration()\n            || this._tryParseMixinReference()\n            || this._parseDetachedRuleSetMixin()\n            || this._parseStylesheetStatement(isNested);\n    };\n    LESSParser.prototype._parseMediaFeatureName = function () {\n        return this._parseIdent() || this._parseVariable();\n    };\n    LESSParser.prototype._parseVariableDeclaration = function (panic) {\n        if (panic === void 0) { panic = []; }\n        var node = this.create(nodes.VariableDeclaration);\n        var mark = this.mark();\n        if (!node.setVariable(this._parseVariable(true))) {\n            return null;\n        }\n        if (this.accept(TokenType.Colon)) {\n            if (this.prevToken) {\n                node.colonPosition = this.prevToken.offset;\n            }\n            if (node.setValue(this._parseDetachedRuleSet())) {\n                node.needsSemicolon = false;\n            }\n            else if (!node.setValue(this._parseExpr())) {\n                return this.finish(node, ParseError.VariableValueExpected, [], panic);\n            }\n            node.addChild(this._parsePrio());\n        }\n        else {\n            this.restoreAtMark(mark);\n            return null; // at keyword, but no ':', not a variable declaration but some at keyword\n        }\n        if (this.peek(TokenType.SemiColon)) {\n            node.semicolonPosition = this.token.offset; // not part of the declaration, but useful information for code assist\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._parseDetachedRuleSet = function () {\n        var mark = this.mark();\n        // \"Anonymous mixin\" used in each() and possibly a generic type in the future\n        if (this.peekDelim('#') || this.peekDelim('.')) {\n            this.consumeToken();\n            if (!this.hasWhitespace() && this.accept(TokenType.ParenthesisL)) {\n                var node = this.create(nodes.MixinDeclaration);\n                if (node.getParameters().addChild(this._parseMixinParameter())) {\n                    while (this.accept(TokenType.Comma) || this.accept(TokenType.SemiColon)) {\n                        if (this.peek(TokenType.ParenthesisR)) {\n                            break;\n                        }\n                        if (!node.getParameters().addChild(this._parseMixinParameter())) {\n                            this.markError(node, ParseError.IdentifierExpected, [], [TokenType.ParenthesisR]);\n                        }\n                    }\n                }\n                if (!this.accept(TokenType.ParenthesisR)) {\n                    this.restoreAtMark(mark);\n                    return null;\n                }\n            }\n            else {\n                this.restoreAtMark(mark);\n                return null;\n            }\n        }\n        if (!this.peek(TokenType.CurlyL)) {\n            return null;\n        }\n        var content = this.create(nodes.BodyDeclaration);\n        this._parseBody(content, this._parseDetachedRuleSetBody.bind(this));\n        return this.finish(content);\n    };\n    LESSParser.prototype._parseDetachedRuleSetBody = function () {\n        return this._tryParseKeyframeSelector() || this._parseRuleSetDeclaration();\n    };\n    LESSParser.prototype._addLookupChildren = function (node) {\n        if (!node.addChild(this._parseLookupValue())) {\n            return false;\n        }\n        var expectsValue = false;\n        while (true) {\n            if (this.peek(TokenType.BracketL)) {\n                expectsValue = true;\n            }\n            if (!node.addChild(this._parseLookupValue())) {\n                break;\n            }\n            expectsValue = false;\n        }\n        return !expectsValue;\n    };\n    LESSParser.prototype._parseLookupValue = function () {\n        var node = this.create(nodes.Node);\n        var mark = this.mark();\n        if (!this.accept(TokenType.BracketL)) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        if (((node.addChild(this._parseVariable(false, true)) ||\n            node.addChild(this._parsePropertyIdentifier())) &&\n            this.accept(TokenType.BracketR)) || this.accept(TokenType.BracketR)) {\n            return node;\n        }\n        this.restoreAtMark(mark);\n        return null;\n    };\n    LESSParser.prototype._parseVariable = function (declaration, insideLookup) {\n        if (declaration === void 0) { declaration = false; }\n        if (insideLookup === void 0) { insideLookup = false; }\n        var isPropertyReference = !declaration && this.peekDelim('$');\n        if (!this.peekDelim('@') && !isPropertyReference && !this.peek(TokenType.AtKeyword)) {\n            return null;\n        }\n        var node = this.create(nodes.Variable);\n        var mark = this.mark();\n        while (this.acceptDelim('@') || (!declaration && this.acceptDelim('$'))) {\n            if (this.hasWhitespace()) {\n                this.restoreAtMark(mark);\n                return null;\n            }\n        }\n        if (!this.accept(TokenType.AtKeyword) && !this.accept(TokenType.Ident)) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        if (!insideLookup && this.peek(TokenType.BracketL)) {\n            if (!this._addLookupChildren(node)) {\n                this.restoreAtMark(mark);\n                return null;\n            }\n        }\n        return node;\n    };\n    LESSParser.prototype._parseTerm = function () {\n        var term = _super.prototype._parseTerm.call(this);\n        if (term) {\n            return term;\n        }\n        term = this.create(nodes.Term);\n        if (term.setExpression(this._parseVariable()) ||\n            term.setExpression(this._parseEscaped()) ||\n            term.setExpression(this._tryParseMixinReference(false))) {\n            return this.finish(term);\n        }\n        return null;\n    };\n    LESSParser.prototype._parseEscaped = function () {\n        if (this.peek(TokenType.EscapedJavaScript) ||\n            this.peek(TokenType.BadEscapedJavaScript)) {\n            var node = this.createNode(nodes.NodeType.EscapedValue);\n            this.consumeToken();\n            return this.finish(node);\n        }\n        if (this.peekDelim('~')) {\n            var node = this.createNode(nodes.NodeType.EscapedValue);\n            this.consumeToken();\n            if (this.accept(TokenType.String) || this.accept(TokenType.EscapedJavaScript)) {\n                return this.finish(node);\n            }\n            else {\n                return this.finish(node, ParseError.TermExpected);\n            }\n        }\n        return null;\n    };\n    LESSParser.prototype._parseOperator = function () {\n        var node = this._parseGuardOperator();\n        if (node) {\n            return node;\n        }\n        else {\n            return _super.prototype._parseOperator.call(this);\n        }\n    };\n    LESSParser.prototype._parseGuardOperator = function () {\n        if (this.peekDelim('>')) {\n            var node = this.createNode(nodes.NodeType.Operator);\n            this.consumeToken();\n            this.acceptDelim('=');\n            return node;\n        }\n        else if (this.peekDelim('=')) {\n            var node = this.createNode(nodes.NodeType.Operator);\n            this.consumeToken();\n            this.acceptDelim('<');\n            return node;\n        }\n        else if (this.peekDelim('<')) {\n            var node = this.createNode(nodes.NodeType.Operator);\n            this.consumeToken();\n            this.acceptDelim('=');\n            return node;\n        }\n        return null;\n    };\n    LESSParser.prototype._parseRuleSetDeclaration = function () {\n        if (this.peek(TokenType.AtKeyword)) {\n            return this._parseKeyframe()\n                || this._parseMedia(true)\n                || this._parseImport()\n                || this._parseSupports(true) // @supports\n                || this._parseDetachedRuleSetMixin() // less detached ruleset mixin\n                || this._parseVariableDeclaration() // Variable declarations\n                || this._parseUnknownAtRule();\n        }\n        return this._tryParseMixinDeclaration()\n            || this._tryParseRuleset(true) // nested ruleset\n            || this._tryParseMixinReference() // less mixin reference\n            || this._parseFunction()\n            || this._parseExtend() // less extend declaration\n            || _super.prototype._parseRuleSetDeclaration.call(this); // try css ruleset declaration as the last option\n    };\n    LESSParser.prototype._parseKeyframeIdent = function () {\n        return this._parseIdent([nodes.ReferenceType.Keyframe]) || this._parseVariable();\n    };\n    LESSParser.prototype._parseKeyframeSelector = function () {\n        return this._parseDetachedRuleSetMixin() // less detached ruleset mixin\n            || _super.prototype._parseKeyframeSelector.call(this);\n    };\n    LESSParser.prototype._parseSimpleSelectorBody = function () {\n        return this._parseSelectorCombinator() || _super.prototype._parseSimpleSelectorBody.call(this);\n    };\n    LESSParser.prototype._parseSelector = function (isNested) {\n        // CSS Guards\n        var node = this.create(nodes.Selector);\n        var hasContent = false;\n        if (isNested) {\n            // nested selectors can start with a combinator\n            hasContent = node.addChild(this._parseCombinator());\n        }\n        while (node.addChild(this._parseSimpleSelector())) {\n            hasContent = true;\n            var mark = this.mark();\n            if (node.addChild(this._parseGuard()) && this.peek(TokenType.CurlyL)) {\n                break;\n            }\n            this.restoreAtMark(mark);\n            node.addChild(this._parseCombinator()); // optional\n        }\n        return hasContent ? this.finish(node) : null;\n    };\n    LESSParser.prototype._parseSelectorCombinator = function () {\n        if (this.peekDelim('&')) {\n            var node = this.createNode(nodes.NodeType.SelectorCombinator);\n            this.consumeToken();\n            while (!this.hasWhitespace() && (this.acceptDelim('-') || this.accept(TokenType.Num) || this.accept(TokenType.Dimension) || node.addChild(this._parseIdent()) || this.acceptDelim('&'))) {\n                //  support &-foo\n            }\n            return this.finish(node);\n        }\n        return null;\n    };\n    LESSParser.prototype._parseSelectorIdent = function () {\n        if (!this.peekInterpolatedIdent()) {\n            return null;\n        }\n        var node = this.createNode(nodes.NodeType.SelectorInterpolation);\n        var hasContent = this._acceptInterpolatedIdent(node);\n        return hasContent ? this.finish(node) : null;\n    };\n    LESSParser.prototype._parsePropertyIdentifier = function (inLookup) {\n        if (inLookup === void 0) { inLookup = false; }\n        var propertyRegex = /^[\\w-]+/;\n        if (!this.peekInterpolatedIdent() && !this.peekRegExp(this.token.type, propertyRegex)) {\n            return null;\n        }\n        var mark = this.mark();\n        var node = this.create(nodes.Identifier);\n        node.isCustomProperty = this.acceptDelim('-') && this.acceptDelim('-');\n        var childAdded = false;\n        if (!inLookup) {\n            if (node.isCustomProperty) {\n                childAdded = this._acceptInterpolatedIdent(node);\n            }\n            else {\n                childAdded = this._acceptInterpolatedIdent(node, propertyRegex);\n            }\n        }\n        else {\n            if (node.isCustomProperty) {\n                childAdded = node.addChild(this._parseIdent());\n            }\n            else {\n                childAdded = node.addChild(this._parseRegexp(propertyRegex));\n            }\n        }\n        if (!childAdded) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        if (!inLookup && !this.hasWhitespace()) {\n            this.acceptDelim('+');\n            if (!this.hasWhitespace()) {\n                this.acceptIdent('_');\n            }\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype.peekInterpolatedIdent = function () {\n        return this.peek(TokenType.Ident) ||\n            this.peekDelim('@') ||\n            this.peekDelim('$') ||\n            this.peekDelim('-');\n    };\n    LESSParser.prototype._acceptInterpolatedIdent = function (node, identRegex) {\n        var _this = this;\n        var hasContent = false;\n        var indentInterpolation = function () {\n            var pos = _this.mark();\n            if (_this.acceptDelim('-')) {\n                if (!_this.hasWhitespace()) {\n                    _this.acceptDelim('-');\n                }\n                if (_this.hasWhitespace()) {\n                    _this.restoreAtMark(pos);\n                    return null;\n                }\n            }\n            return _this._parseInterpolation();\n        };\n        var accept = identRegex ?\n            function () { return _this.acceptRegexp(identRegex); } :\n            function () { return _this.accept(TokenType.Ident); };\n        while (accept() ||\n            node.addChild(this._parseInterpolation() ||\n                this.try(indentInterpolation))) {\n            hasContent = true;\n            if (this.hasWhitespace()) {\n                break;\n            }\n        }\n        return hasContent;\n    };\n    LESSParser.prototype._parseInterpolation = function () {\n        // @{name} Variable or\n        // ${name} Property\n        var mark = this.mark();\n        if (this.peekDelim('@') || this.peekDelim('$')) {\n            var node = this.createNode(nodes.NodeType.Interpolation);\n            this.consumeToken();\n            if (this.hasWhitespace() || !this.accept(TokenType.CurlyL)) {\n                this.restoreAtMark(mark);\n                return null;\n            }\n            if (!node.addChild(this._parseIdent())) {\n                return this.finish(node, ParseError.IdentifierExpected);\n            }\n            if (!this.accept(TokenType.CurlyR)) {\n                return this.finish(node, ParseError.RightCurlyExpected);\n            }\n            return this.finish(node);\n        }\n        return null;\n    };\n    LESSParser.prototype._tryParseMixinDeclaration = function () {\n        var mark = this.mark();\n        var node = this.create(nodes.MixinDeclaration);\n        if (!node.setIdentifier(this._parseMixinDeclarationIdentifier()) || !this.accept(TokenType.ParenthesisL)) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        if (node.getParameters().addChild(this._parseMixinParameter())) {\n            while (this.accept(TokenType.Comma) || this.accept(TokenType.SemiColon)) {\n                if (this.peek(TokenType.ParenthesisR)) {\n                    break;\n                }\n                if (!node.getParameters().addChild(this._parseMixinParameter())) {\n                    this.markError(node, ParseError.IdentifierExpected, [], [TokenType.ParenthesisR]);\n                }\n            }\n        }\n        if (!this.accept(TokenType.ParenthesisR)) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        node.setGuard(this._parseGuard());\n        if (!this.peek(TokenType.CurlyL)) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        return this._parseBody(node, this._parseMixInBodyDeclaration.bind(this));\n    };\n    LESSParser.prototype._parseMixInBodyDeclaration = function () {\n        return this._parseFontFace() || this._parseRuleSetDeclaration();\n    };\n    LESSParser.prototype._parseMixinDeclarationIdentifier = function () {\n        var identifier;\n        if (this.peekDelim('#') || this.peekDelim('.')) {\n            identifier = this.create(nodes.Identifier);\n            this.consumeToken(); // # or .\n            if (this.hasWhitespace() || !identifier.addChild(this._parseIdent())) {\n                return null;\n            }\n        }\n        else if (this.peek(TokenType.Hash)) {\n            identifier = this.create(nodes.Identifier);\n            this.consumeToken(); // TokenType.Hash\n        }\n        else {\n            return null;\n        }\n        identifier.referenceTypes = [nodes.ReferenceType.Mixin];\n        return this.finish(identifier);\n    };\n    LESSParser.prototype._parsePseudo = function () {\n        if (!this.peek(TokenType.Colon)) {\n            return null;\n        }\n        var mark = this.mark();\n        var node = this.create(nodes.ExtendsReference);\n        this.consumeToken(); // :\n        if (this.acceptIdent('extend')) {\n            return this._completeExtends(node);\n        }\n        this.restoreAtMark(mark);\n        return _super.prototype._parsePseudo.call(this);\n    };\n    LESSParser.prototype._parseExtend = function () {\n        if (!this.peekDelim('&')) {\n            return null;\n        }\n        var mark = this.mark();\n        var node = this.create(nodes.ExtendsReference);\n        this.consumeToken(); // &\n        if (this.hasWhitespace() || !this.accept(TokenType.Colon) || !this.acceptIdent('extend')) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        return this._completeExtends(node);\n    };\n    LESSParser.prototype._completeExtends = function (node) {\n        if (!this.accept(TokenType.ParenthesisL)) {\n            return this.finish(node, ParseError.LeftParenthesisExpected);\n        }\n        var selectors = node.getSelectors();\n        if (!selectors.addChild(this._parseSelector(true))) {\n            return this.finish(node, ParseError.SelectorExpected);\n        }\n        while (this.accept(TokenType.Comma)) {\n            if (!selectors.addChild(this._parseSelector(true))) {\n                return this.finish(node, ParseError.SelectorExpected);\n            }\n        }\n        if (!this.accept(TokenType.ParenthesisR)) {\n            return this.finish(node, ParseError.RightParenthesisExpected);\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._parseDetachedRuleSetMixin = function () {\n        if (!this.peek(TokenType.AtKeyword)) {\n            return null;\n        }\n        var mark = this.mark();\n        var node = this.create(nodes.MixinReference);\n        if (node.addChild(this._parseVariable(true)) && (this.hasWhitespace() || !this.accept(TokenType.ParenthesisL))) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        if (!this.accept(TokenType.ParenthesisR)) {\n            return this.finish(node, ParseError.RightParenthesisExpected);\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._tryParseMixinReference = function (atRoot) {\n        if (atRoot === void 0) { atRoot = true; }\n        var mark = this.mark();\n        var node = this.create(nodes.MixinReference);\n        var identifier = this._parseMixinDeclarationIdentifier();\n        while (identifier) {\n            this.acceptDelim('>');\n            var nextId = this._parseMixinDeclarationIdentifier();\n            if (nextId) {\n                node.getNamespaces().addChild(identifier);\n                identifier = nextId;\n            }\n            else {\n                break;\n            }\n        }\n        if (!node.setIdentifier(identifier)) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        var hasArguments = false;\n        if (!this.hasWhitespace() && this.accept(TokenType.ParenthesisL)) {\n            hasArguments = true;\n            if (node.getArguments().addChild(this._parseMixinArgument())) {\n                while (this.accept(TokenType.Comma) || this.accept(TokenType.SemiColon)) {\n                    if (this.peek(TokenType.ParenthesisR)) {\n                        break;\n                    }\n                    if (!node.getArguments().addChild(this._parseMixinArgument())) {\n                        return this.finish(node, ParseError.ExpressionExpected);\n                    }\n                }\n            }\n            if (!this.accept(TokenType.ParenthesisR)) {\n                return this.finish(node, ParseError.RightParenthesisExpected);\n            }\n            identifier.referenceTypes = [nodes.ReferenceType.Mixin];\n        }\n        else {\n            identifier.referenceTypes = [nodes.ReferenceType.Mixin, nodes.ReferenceType.Rule];\n        }\n        if (this.peek(TokenType.BracketL)) {\n            if (!atRoot) {\n                this._addLookupChildren(node);\n            }\n        }\n        else {\n            node.addChild(this._parsePrio());\n        }\n        if (!hasArguments && !this.peek(TokenType.SemiColon) && !this.peek(TokenType.CurlyR) && !this.peek(TokenType.EOF)) {\n            this.restoreAtMark(mark);\n            return null;\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._parseMixinArgument = function () {\n        // [variableName ':'] expression | variableName '...'\n        var node = this.create(nodes.FunctionArgument);\n        var pos = this.mark();\n        var argument = this._parseVariable();\n        if (argument) {\n            if (!this.accept(TokenType.Colon)) {\n                this.restoreAtMark(pos);\n            }\n            else {\n                node.setIdentifier(argument);\n            }\n        }\n        if (node.setValue(this._parseDetachedRuleSet() || this._parseExpr(true))) {\n            return this.finish(node);\n        }\n        this.restoreAtMark(pos);\n        return null;\n    };\n    LESSParser.prototype._parseMixinParameter = function () {\n        var node = this.create(nodes.FunctionParameter);\n        // special rest variable: @rest...\n        if (this.peekKeyword('@rest')) {\n            var restNode = this.create(nodes.Node);\n            this.consumeToken();\n            if (!this.accept(lessScanner.Ellipsis)) {\n                return this.finish(node, ParseError.DotExpected, [], [TokenType.Comma, TokenType.ParenthesisR]);\n            }\n            node.setIdentifier(this.finish(restNode));\n            return this.finish(node);\n        }\n        // special const args: ...\n        if (this.peek(lessScanner.Ellipsis)) {\n            var varargsNode = this.create(nodes.Node);\n            this.consumeToken();\n            node.setIdentifier(this.finish(varargsNode));\n            return this.finish(node);\n        }\n        var hasContent = false;\n        // default variable declaration: @param: 12 or @name\n        if (node.setIdentifier(this._parseVariable())) {\n            this.accept(TokenType.Colon);\n            hasContent = true;\n        }\n        if (!node.setDefaultValue(this._parseDetachedRuleSet() || this._parseExpr(true)) && !hasContent) {\n            return null;\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._parseGuard = function () {\n        if (!this.peekIdent('when')) {\n            return null;\n        }\n        var node = this.create(nodes.LessGuard);\n        this.consumeToken(); // when\n        node.isNegated = this.acceptIdent('not');\n        if (!node.getConditions().addChild(this._parseGuardCondition())) {\n            return this.finish(node, ParseError.ConditionExpected);\n        }\n        while (this.acceptIdent('and') || this.accept(TokenType.Comma)) {\n            if (!node.getConditions().addChild(this._parseGuardCondition())) {\n                return this.finish(node, ParseError.ConditionExpected);\n            }\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._parseGuardCondition = function () {\n        if (!this.peek(TokenType.ParenthesisL)) {\n            return null;\n        }\n        var node = this.create(nodes.GuardCondition);\n        this.consumeToken(); // ParenthesisL\n        if (!node.addChild(this._parseExpr())) {\n            // empty (?)\n        }\n        if (!this.accept(TokenType.ParenthesisR)) {\n            return this.finish(node, ParseError.RightParenthesisExpected);\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._parseFunction = function () {\n        var pos = this.mark();\n        var node = this.create(nodes.Function);\n        if (!node.setIdentifier(this._parseFunctionIdentifier())) {\n            return null;\n        }\n        if (this.hasWhitespace() || !this.accept(TokenType.ParenthesisL)) {\n            this.restoreAtMark(pos);\n            return null;\n        }\n        if (node.getArguments().addChild(this._parseMixinArgument())) {\n            while (this.accept(TokenType.Comma) || this.accept(TokenType.SemiColon)) {\n                if (this.peek(TokenType.ParenthesisR)) {\n                    break;\n                }\n                if (!node.getArguments().addChild(this._parseMixinArgument())) {\n                    return this.finish(node, ParseError.ExpressionExpected);\n                }\n            }\n        }\n        if (!this.accept(TokenType.ParenthesisR)) {\n            return this.finish(node, ParseError.RightParenthesisExpected);\n        }\n        return this.finish(node);\n    };\n    LESSParser.prototype._parseFunctionIdentifier = function () {\n        if (this.peekDelim('%')) {\n            var node = this.create(nodes.Identifier);\n            node.referenceTypes = [nodes.ReferenceType.Function];\n            this.consumeToken();\n            return this.finish(node);\n        }\n        return _super.prototype._parseFunctionIdentifier.call(this);\n    };\n    LESSParser.prototype._parseURLArgument = function () {\n        var pos = this.mark();\n        var node = _super.prototype._parseURLArgument.call(this);\n        if (!node || !this.peek(TokenType.ParenthesisR)) {\n            this.restoreAtMark(pos);\n            var node_2 = this.create(nodes.Node);\n            node_2.addChild(this._parseBinaryExpr());\n            return this.finish(node_2);\n        }\n        return node;\n    };\n    return LESSParser;\n}(cssParser.Parser));\nexport { LESSParser };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as nodes from './cssNodes.js';\nimport { findFirst } from '../utils/arrays.js';\nvar Scope = /** @class */ (function () {\n    function Scope(offset, length) {\n        this.offset = offset;\n        this.length = length;\n        this.symbols = [];\n        this.parent = null;\n        this.children = [];\n    }\n    Scope.prototype.addChild = function (scope) {\n        this.children.push(scope);\n        scope.setParent(this);\n    };\n    Scope.prototype.setParent = function (scope) {\n        this.parent = scope;\n    };\n    Scope.prototype.findScope = function (offset, length) {\n        if (length === void 0) { length = 0; }\n        if (this.offset <= offset && this.offset + this.length > offset + length || this.offset === offset && this.length === length) {\n            return this.findInScope(offset, length);\n        }\n        return null;\n    };\n    Scope.prototype.findInScope = function (offset, length) {\n        if (length === void 0) { length = 0; }\n        // find the first scope child that has an offset larger than offset + length\n        var end = offset + length;\n        var idx = findFirst(this.children, function (s) { return s.offset > end; });\n        if (idx === 0) {\n            // all scopes have offsets larger than our end\n            return this;\n        }\n        var res = this.children[idx - 1];\n        if (res.offset <= offset && res.offset + res.length >= offset + length) {\n            return res.findInScope(offset, length);\n        }\n        return this;\n    };\n    Scope.prototype.addSymbol = function (symbol) {\n        this.symbols.push(symbol);\n    };\n    Scope.prototype.getSymbol = function (name, type) {\n        for (var index = 0; index < this.symbols.length; index++) {\n            var symbol = this.symbols[index];\n            if (symbol.name === name && symbol.type === type) {\n                return symbol;\n            }\n        }\n        return null;\n    };\n    Scope.prototype.getSymbols = function () {\n        return this.symbols;\n    };\n    return Scope;\n}());\nexport { Scope };\nvar GlobalScope = /** @class */ (function (_super) {\n    __extends(GlobalScope, _super);\n    function GlobalScope() {\n        return _super.call(this, 0, Number.MAX_VALUE) || this;\n    }\n    return GlobalScope;\n}(Scope));\nexport { GlobalScope };\nvar Symbol = /** @class */ (function () {\n    function Symbol(name, value, node, type) {\n        this.name = name;\n        this.value = value;\n        this.node = node;\n        this.type = type;\n    }\n    return Symbol;\n}());\nexport { Symbol };\nvar ScopeBuilder = /** @class */ (function () {\n    function ScopeBuilder(scope) {\n        this.scope = scope;\n    }\n    ScopeBuilder.prototype.addSymbol = function (node, name, value, type) {\n        if (node.offset !== -1) {\n            var current = this.scope.findScope(node.offset, node.length);\n            if (current) {\n                current.addSymbol(new Symbol(name, value, node, type));\n            }\n        }\n    };\n    ScopeBuilder.prototype.addScope = function (node) {\n        if (node.offset !== -1) {\n            var current = this.scope.findScope(node.offset, node.length);\n            if (current && (current.offset !== node.offset || current.length !== node.length)) { // scope already known?\n                var newScope = new Scope(node.offset, node.length);\n                current.addChild(newScope);\n                return newScope;\n            }\n            return current;\n        }\n        return null;\n    };\n    ScopeBuilder.prototype.addSymbolToChildScope = function (scopeNode, node, name, value, type) {\n        if (scopeNode && scopeNode.offset !== -1) {\n            var current = this.addScope(scopeNode); // create the scope or gets the existing one\n            if (current) {\n                current.addSymbol(new Symbol(name, value, node, type));\n            }\n        }\n    };\n    ScopeBuilder.prototype.visitNode = function (node) {\n        switch (node.type) {\n            case nodes.NodeType.Keyframe:\n                this.addSymbol(node, node.getName(), void 0, nodes.ReferenceType.Keyframe);\n                return true;\n            case nodes.NodeType.CustomPropertyDeclaration:\n                return this.visitCustomPropertyDeclarationNode(node);\n            case nodes.NodeType.VariableDeclaration:\n                return this.visitVariableDeclarationNode(node);\n            case nodes.NodeType.Ruleset:\n                return this.visitRuleSet(node);\n            case nodes.NodeType.MixinDeclaration:\n                this.addSymbol(node, node.getName(), void 0, nodes.ReferenceType.Mixin);\n                return true;\n            case nodes.NodeType.FunctionDeclaration:\n                this.addSymbol(node, node.getName(), void 0, nodes.ReferenceType.Function);\n                return true;\n            case nodes.NodeType.FunctionParameter: {\n                return this.visitFunctionParameterNode(node);\n            }\n            case nodes.NodeType.Declarations:\n                this.addScope(node);\n                return true;\n            case nodes.NodeType.For:\n                var forNode = node;\n                var scopeNode = forNode.getDeclarations();\n                if (scopeNode && forNode.variable) {\n                    this.addSymbolToChildScope(scopeNode, forNode.variable, forNode.variable.getName(), void 0, nodes.ReferenceType.Variable);\n                }\n                return true;\n            case nodes.NodeType.Each: {\n                var eachNode = node;\n                var scopeNode_1 = eachNode.getDeclarations();\n                if (scopeNode_1) {\n                    var variables = eachNode.getVariables().getChildren();\n                    for (var _i = 0, variables_1 = variables; _i < variables_1.length; _i++) {\n                        var variable = variables_1[_i];\n                        this.addSymbolToChildScope(scopeNode_1, variable, variable.getName(), void 0, nodes.ReferenceType.Variable);\n                    }\n                }\n                return true;\n            }\n        }\n        return true;\n    };\n    ScopeBuilder.prototype.visitRuleSet = function (node) {\n        var current = this.scope.findScope(node.offset, node.length);\n        if (current) {\n            for (var _i = 0, _a = node.getSelectors().getChildren(); _i < _a.length; _i++) {\n                var child = _a[_i];\n                if (child instanceof nodes.Selector) {\n                    if (child.getChildren().length === 1) { // only selectors with a single element can be extended\n                        current.addSymbol(new Symbol(child.getChild(0).getText(), void 0, child, nodes.ReferenceType.Rule));\n                    }\n                }\n            }\n        }\n        return true;\n    };\n    ScopeBuilder.prototype.visitVariableDeclarationNode = function (node) {\n        var value = node.getValue() ? node.getValue().getText() : void 0;\n        this.addSymbol(node, node.getName(), value, nodes.ReferenceType.Variable);\n        return true;\n    };\n    ScopeBuilder.prototype.visitFunctionParameterNode = function (node) {\n        // parameters are part of the body scope\n        var scopeNode = node.getParent().getDeclarations();\n        if (scopeNode) {\n            var valueNode = node.getDefaultValue();\n            var value = valueNode ? valueNode.getText() : void 0;\n            this.addSymbolToChildScope(scopeNode, node, node.getName(), value, nodes.ReferenceType.Variable);\n        }\n        return true;\n    };\n    ScopeBuilder.prototype.visitCustomPropertyDeclarationNode = function (node) {\n        var value = node.getValue() ? node.getValue().getText() : '';\n        this.addCSSVariable(node.getProperty(), node.getProperty().getName(), value, nodes.ReferenceType.Variable);\n        return true;\n    };\n    ScopeBuilder.prototype.addCSSVariable = function (node, name, value, type) {\n        if (node.offset !== -1) {\n            this.scope.addSymbol(new Symbol(name, value, node, type));\n        }\n    };\n    return ScopeBuilder;\n}());\nexport { ScopeBuilder };\nvar Symbols = /** @class */ (function () {\n    function Symbols(node) {\n        this.global = new GlobalScope();\n        node.acceptVisitor(new ScopeBuilder(this.global));\n    }\n    Symbols.prototype.findSymbolsAtOffset = function (offset, referenceType) {\n        var scope = this.global.findScope(offset, 0);\n        var result = [];\n        var names = {};\n        while (scope) {\n            var symbols = scope.getSymbols();\n            for (var i = 0; i < symbols.length; i++) {\n                var symbol = symbols[i];\n                if (symbol.type === referenceType && !names[symbol.name]) {\n                    result.push(symbol);\n                    names[symbol.name] = true;\n                }\n            }\n            scope = scope.parent;\n        }\n        return result;\n    };\n    Symbols.prototype.internalFindSymbol = function (node, referenceTypes) {\n        var scopeNode = node;\n        if (node.parent instanceof nodes.FunctionParameter && node.parent.getParent() instanceof nodes.BodyDeclaration) {\n            scopeNode = node.parent.getParent().getDeclarations();\n        }\n        if (node.parent instanceof nodes.FunctionArgument && node.parent.getParent() instanceof nodes.Function) {\n            var funcId = node.parent.getParent().getIdentifier();\n            if (funcId) {\n                var functionSymbol = this.internalFindSymbol(funcId, [nodes.ReferenceType.Function]);\n                if (functionSymbol) {\n                    scopeNode = functionSymbol.node.getDeclarations();\n                }\n            }\n        }\n        if (!scopeNode) {\n            return null;\n        }\n        var name = node.getText();\n        var scope = this.global.findScope(scopeNode.offset, scopeNode.length);\n        while (scope) {\n            for (var index = 0; index < referenceTypes.length; index++) {\n                var type = referenceTypes[index];\n                var symbol = scope.getSymbol(name, type);\n                if (symbol) {\n                    return symbol;\n                }\n            }\n            scope = scope.parent;\n        }\n        return null;\n    };\n    Symbols.prototype.evaluateReferenceTypes = function (node) {\n        if (node instanceof nodes.Identifier) {\n            var referenceTypes = node.referenceTypes;\n            if (referenceTypes) {\n                return referenceTypes;\n            }\n            else {\n                if (node.isCustomProperty) {\n                    return [nodes.ReferenceType.Variable];\n                }\n                // are a reference to a keyframe?\n                var decl = nodes.getParentDeclaration(node);\n                if (decl) {\n                    var propertyName = decl.getNonPrefixedPropertyName();\n                    if ((propertyName === 'animation' || propertyName === 'animation-name')\n                        && decl.getValue() && decl.getValue().offset === node.offset) {\n                        return [nodes.ReferenceType.Keyframe];\n                    }\n                }\n            }\n        }\n        else if (node instanceof nodes.Variable) {\n            return [nodes.ReferenceType.Variable];\n        }\n        var selector = node.findAParent(nodes.NodeType.Selector, nodes.NodeType.ExtendsReference);\n        if (selector) {\n            return [nodes.ReferenceType.Rule];\n        }\n        return null;\n    };\n    Symbols.prototype.findSymbolFromNode = function (node) {\n        if (!node) {\n            return null;\n        }\n        while (node.type === nodes.NodeType.Interpolation) {\n            node = node.getParent();\n        }\n        var referenceTypes = this.evaluateReferenceTypes(node);\n        if (referenceTypes) {\n            return this.internalFindSymbol(node, referenceTypes);\n        }\n        return null;\n    };\n    Symbols.prototype.matchesSymbol = function (node, symbol) {\n        if (!node) {\n            return false;\n        }\n        while (node.type === nodes.NodeType.Interpolation) {\n            node = node.getParent();\n        }\n        if (!node.matches(symbol.name)) {\n            return false;\n        }\n        var referenceTypes = this.evaluateReferenceTypes(node);\n        if (!referenceTypes || referenceTypes.indexOf(symbol.type) === -1) {\n            return false;\n        }\n        var nodeSymbol = this.internalFindSymbol(node, referenceTypes);\n        return nodeSymbol === symbol;\n    };\n    Symbols.prototype.findSymbol = function (name, type, offset) {\n        var scope = this.global.findScope(offset);\n        while (scope) {\n            var symbol = scope.getSymbol(name, type);\n            if (symbol) {\n                return symbol;\n            }\n            scope = scope.parent;\n        }\n        return null;\n    };\n    return Symbols;\n}());\nexport { Symbols };\n"],"sourceRoot":""}