{"version":3,"sources":["webpack:///./node_modules/monaco-editor/esm/vs/language/html/workerManager.js","webpack:///./node_modules/monaco-editor/esm/vs/language/html/languageFeatures.js"],"names":["STOP_WHEN_IDLE_FOR","WorkerManager","defaults","_this","this","_defaults","_worker","_idleCheckInterval","setInterval","_checkIfIdle","_lastUsedTime","_configChangeListener","onDidChange","_stopWorker","prototype","dispose","_client","clearInterval","timePassedSinceLastUsed","Date","now","_getClient","monaco","editor","createWebWorker","moduleId","createData","languageSettings","options","languageId","label","getProxy","getLanguageServiceWorker","resources","_i","arguments","length","then","client","_","withSyncedResources","Uri","Range","DiagnosticsAdapter","_languageId","_disposables","_listener","Object","create","onModelAdd","model","handle","modeId","getModeId","uri","toString","onDidChangeContent","clearTimeout","setTimeout","_doValidate","onModelRemoved","setModelMarkers","uriStr","listener","push","onDidCreateModel","onWillDisposeModel","onDidChangeModelLanguage","event","getModels","forEach","key","d","resource","worker","doValidation","diagnostics","markers","map","toDiagnostics","getModel","undefined","err","console","error","toSeverity","lsSeverity","Error","MarkerSeverity","Warning","Information","Info","Hint","diag","code","String","severity","startLineNumber","range","start","line","startColumn","character","endLineNumber","end","endColumn","message","source","fromPosition","position","column","lineNumber","fromRange","getStartPosition","getEndPosition","toRange","toCompletionItemKind","kind","mItemKind","languages","CompletionItemKind","Text","Method","Function","Constructor","Field","Variable","Class","Interface","Module","Property","Unit","Value","Enum","Keyword","Snippet","Color","File","Reference","toTextEdit","textEdit","text","newText","CompletionAdapter","defineProperty","get","enumerable","configurable","provideCompletionItems","context","token","doComplete","info","wordInfo","getWordUntilPosition","wordRange","items","entry","item","insertText","sortText","filterText","documentation","detail","additionalTextEdits","insertTextFormat","insertTextRules","CompletionItemInsertTextRule","InsertAsSnippet","isIncomplete","suggestions","isMarkupContent","thing","toMarkdownString","value","replace","language","toMarkedStringArray","contents","Array","isArray","HoverAdapter","provideHover","doHover","toHighlighKind","mKind","DocumentHighlightKind","Read","Write","DocumentHighlightAdapter","provideDocumentHighlights","findDocumentHighlights","toSymbolKind","SymbolKind","Namespace","Package","Constant","Number","Boolean","DocumentSymbolAdapter","provideDocumentSymbols","findDocumentSymbols","name","containerName","tags","location","selectionRange","DocumentLinkAdapter","provideLinks","findDocumentLinks","links","url","target","fromFormattingOptions","tabSize","insertSpaces","DocumentFormattingEditProvider","provideDocumentFormattingEdits","format","edits","DocumentRangeFormattingEditProvider","provideDocumentRangeFormattingEdits","RenameAdapter","provideRenameEdits","newName","doRename","edit","toWorkspaceEdit","changes","resourceEdits","_uri","parse","_a","e","FoldingRangeAdapter","provideFoldingRanges","getFoldingRanges","ranges","result","startLine","endLine","toFoldingRangeKind","Comment","FoldingRangeKind","Imports","Region","SelectionRangeAdapter","provideSelectionRanges","positions","getSelectionRanges","selectionRanges","parent"],"mappings":"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","file":"js/chunk-6a4c41f6.3b8e22be.js","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nvar STOP_WHEN_IDLE_FOR = 2 * 60 * 1000; // 2min\r\nvar WorkerManager = /** @class */ (function () {\r\n    function WorkerManager(defaults) {\r\n        var _this = this;\r\n        this._defaults = defaults;\r\n        this._worker = null;\r\n        this._idleCheckInterval = setInterval(function () { return _this._checkIfIdle(); }, 30 * 1000);\r\n        this._lastUsedTime = 0;\r\n        this._configChangeListener = this._defaults.onDidChange(function () { return _this._stopWorker(); });\r\n    }\r\n    WorkerManager.prototype._stopWorker = function () {\r\n        if (this._worker) {\r\n            this._worker.dispose();\r\n            this._worker = null;\r\n        }\r\n        this._client = null;\r\n    };\r\n    WorkerManager.prototype.dispose = function () {\r\n        clearInterval(this._idleCheckInterval);\r\n        this._configChangeListener.dispose();\r\n        this._stopWorker();\r\n    };\r\n    WorkerManager.prototype._checkIfIdle = function () {\r\n        if (!this._worker) {\r\n            return;\r\n        }\r\n        var timePassedSinceLastUsed = Date.now() - this._lastUsedTime;\r\n        if (timePassedSinceLastUsed > STOP_WHEN_IDLE_FOR) {\r\n            this._stopWorker();\r\n        }\r\n    };\r\n    WorkerManager.prototype._getClient = function () {\r\n        this._lastUsedTime = Date.now();\r\n        if (!this._client) {\r\n            this._worker = monaco.editor.createWebWorker({\r\n                // module that exports the create() method and returns a `HTMLWorker` instance\r\n                moduleId: 'vs/language/html/htmlWorker',\r\n                // passed in to the create() method\r\n                createData: {\r\n                    languageSettings: this._defaults.options,\r\n                    languageId: this._defaults.languageId\r\n                },\r\n                label: this._defaults.languageId\r\n            });\r\n            this._client = this._worker.getProxy();\r\n        }\r\n        return this._client;\r\n    };\r\n    WorkerManager.prototype.getLanguageServiceWorker = function () {\r\n        var _this = this;\r\n        var resources = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            resources[_i] = arguments[_i];\r\n        }\r\n        var _client;\r\n        return this._getClient().then(function (client) {\r\n            _client = client;\r\n        }).then(function (_) {\r\n            return _this._worker.withSyncedResources(resources);\r\n        }).then(function (_) { return _client; });\r\n    };\r\n    return WorkerManager;\r\n}());\r\nexport { WorkerManager };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport * as htmlService from './_deps/vscode-html-languageservice/htmlLanguageService.js';\r\nvar Uri = monaco.Uri;\r\nvar Range = monaco.Range;\r\n// --- diagnostics --- ---\r\nvar DiagnosticsAdapter = /** @class */ (function () {\r\n    function DiagnosticsAdapter(_languageId, _worker, defaults) {\r\n        var _this = this;\r\n        this._languageId = _languageId;\r\n        this._worker = _worker;\r\n        this._disposables = [];\r\n        this._listener = Object.create(null);\r\n        var onModelAdd = function (model) {\r\n            var modeId = model.getModeId();\r\n            if (modeId !== _this._languageId) {\r\n                return;\r\n            }\r\n            var handle;\r\n            _this._listener[model.uri.toString()] = model.onDidChangeContent(function () {\r\n                clearTimeout(handle);\r\n                handle = setTimeout(function () { return _this._doValidate(model.uri, modeId); }, 500);\r\n            });\r\n            _this._doValidate(model.uri, modeId);\r\n        };\r\n        var onModelRemoved = function (model) {\r\n            monaco.editor.setModelMarkers(model, _this._languageId, []);\r\n            var uriStr = model.uri.toString();\r\n            var listener = _this._listener[uriStr];\r\n            if (listener) {\r\n                listener.dispose();\r\n                delete _this._listener[uriStr];\r\n            }\r\n        };\r\n        this._disposables.push(monaco.editor.onDidCreateModel(onModelAdd));\r\n        this._disposables.push(monaco.editor.onWillDisposeModel(function (model) {\r\n            onModelRemoved(model);\r\n        }));\r\n        this._disposables.push(monaco.editor.onDidChangeModelLanguage(function (event) {\r\n            onModelRemoved(event.model);\r\n            onModelAdd(event.model);\r\n        }));\r\n        this._disposables.push(defaults.onDidChange(function (_) {\r\n            monaco.editor.getModels().forEach(function (model) {\r\n                if (model.getModeId() === _this._languageId) {\r\n                    onModelRemoved(model);\r\n                    onModelAdd(model);\r\n                }\r\n            });\r\n        }));\r\n        this._disposables.push({\r\n            dispose: function () {\r\n                for (var key in _this._listener) {\r\n                    _this._listener[key].dispose();\r\n                }\r\n            }\r\n        });\r\n        monaco.editor.getModels().forEach(onModelAdd);\r\n    }\r\n    DiagnosticsAdapter.prototype.dispose = function () {\r\n        this._disposables.forEach(function (d) { return d && d.dispose(); });\r\n        this._disposables = [];\r\n    };\r\n    DiagnosticsAdapter.prototype._doValidate = function (resource, languageId) {\r\n        this._worker(resource).then(function (worker) {\r\n            return worker.doValidation(resource.toString()).then(function (diagnostics) {\r\n                var markers = diagnostics.map(function (d) { return toDiagnostics(resource, d); });\r\n                monaco.editor.setModelMarkers(monaco.editor.getModel(resource), languageId, markers);\r\n            });\r\n        }).then(undefined, function (err) {\r\n            console.error(err);\r\n        });\r\n    };\r\n    return DiagnosticsAdapter;\r\n}());\r\nexport { DiagnosticsAdapter };\r\nfunction toSeverity(lsSeverity) {\r\n    switch (lsSeverity) {\r\n        case htmlService.DiagnosticSeverity.Error: return monaco.MarkerSeverity.Error;\r\n        case htmlService.DiagnosticSeverity.Warning: return monaco.MarkerSeverity.Warning;\r\n        case htmlService.DiagnosticSeverity.Information: return monaco.MarkerSeverity.Info;\r\n        case htmlService.DiagnosticSeverity.Hint: return monaco.MarkerSeverity.Hint;\r\n        default:\r\n            return monaco.MarkerSeverity.Info;\r\n    }\r\n}\r\nfunction toDiagnostics(resource, diag) {\r\n    var code = typeof diag.code === 'number' ? String(diag.code) : diag.code;\r\n    return {\r\n        severity: toSeverity(diag.severity),\r\n        startLineNumber: diag.range.start.line + 1,\r\n        startColumn: diag.range.start.character + 1,\r\n        endLineNumber: diag.range.end.line + 1,\r\n        endColumn: diag.range.end.character + 1,\r\n        message: diag.message,\r\n        code: code,\r\n        source: diag.source\r\n    };\r\n}\r\n// --- completion ------\r\nfunction fromPosition(position) {\r\n    if (!position) {\r\n        return void 0;\r\n    }\r\n    return { character: position.column - 1, line: position.lineNumber - 1 };\r\n}\r\nfunction fromRange(range) {\r\n    if (!range) {\r\n        return void 0;\r\n    }\r\n    return { start: fromPosition(range.getStartPosition()), end: fromPosition(range.getEndPosition()) };\r\n}\r\nfunction toRange(range) {\r\n    if (!range) {\r\n        return void 0;\r\n    }\r\n    return new Range(range.start.line + 1, range.start.character + 1, range.end.line + 1, range.end.character + 1);\r\n}\r\nfunction toCompletionItemKind(kind) {\r\n    var mItemKind = monaco.languages.CompletionItemKind;\r\n    switch (kind) {\r\n        case htmlService.CompletionItemKind.Text: return mItemKind.Text;\r\n        case htmlService.CompletionItemKind.Method: return mItemKind.Method;\r\n        case htmlService.CompletionItemKind.Function: return mItemKind.Function;\r\n        case htmlService.CompletionItemKind.Constructor: return mItemKind.Constructor;\r\n        case htmlService.CompletionItemKind.Field: return mItemKind.Field;\r\n        case htmlService.CompletionItemKind.Variable: return mItemKind.Variable;\r\n        case htmlService.CompletionItemKind.Class: return mItemKind.Class;\r\n        case htmlService.CompletionItemKind.Interface: return mItemKind.Interface;\r\n        case htmlService.CompletionItemKind.Module: return mItemKind.Module;\r\n        case htmlService.CompletionItemKind.Property: return mItemKind.Property;\r\n        case htmlService.CompletionItemKind.Unit: return mItemKind.Unit;\r\n        case htmlService.CompletionItemKind.Value: return mItemKind.Value;\r\n        case htmlService.CompletionItemKind.Enum: return mItemKind.Enum;\r\n        case htmlService.CompletionItemKind.Keyword: return mItemKind.Keyword;\r\n        case htmlService.CompletionItemKind.Snippet: return mItemKind.Snippet;\r\n        case htmlService.CompletionItemKind.Color: return mItemKind.Color;\r\n        case htmlService.CompletionItemKind.File: return mItemKind.File;\r\n        case htmlService.CompletionItemKind.Reference: return mItemKind.Reference;\r\n    }\r\n    return mItemKind.Property;\r\n}\r\nfunction fromCompletionItemKind(kind) {\r\n    var mItemKind = monaco.languages.CompletionItemKind;\r\n    switch (kind) {\r\n        case mItemKind.Text: return htmlService.CompletionItemKind.Text;\r\n        case mItemKind.Method: return htmlService.CompletionItemKind.Method;\r\n        case mItemKind.Function: return htmlService.CompletionItemKind.Function;\r\n        case mItemKind.Constructor: return htmlService.CompletionItemKind.Constructor;\r\n        case mItemKind.Field: return htmlService.CompletionItemKind.Field;\r\n        case mItemKind.Variable: return htmlService.CompletionItemKind.Variable;\r\n        case mItemKind.Class: return htmlService.CompletionItemKind.Class;\r\n        case mItemKind.Interface: return htmlService.CompletionItemKind.Interface;\r\n        case mItemKind.Module: return htmlService.CompletionItemKind.Module;\r\n        case mItemKind.Property: return htmlService.CompletionItemKind.Property;\r\n        case mItemKind.Unit: return htmlService.CompletionItemKind.Unit;\r\n        case mItemKind.Value: return htmlService.CompletionItemKind.Value;\r\n        case mItemKind.Enum: return htmlService.CompletionItemKind.Enum;\r\n        case mItemKind.Keyword: return htmlService.CompletionItemKind.Keyword;\r\n        case mItemKind.Snippet: return htmlService.CompletionItemKind.Snippet;\r\n        case mItemKind.Color: return htmlService.CompletionItemKind.Color;\r\n        case mItemKind.File: return htmlService.CompletionItemKind.File;\r\n        case mItemKind.Reference: return htmlService.CompletionItemKind.Reference;\r\n    }\r\n    return htmlService.CompletionItemKind.Property;\r\n}\r\nfunction toTextEdit(textEdit) {\r\n    if (!textEdit) {\r\n        return void 0;\r\n    }\r\n    return {\r\n        range: toRange(textEdit.range),\r\n        text: textEdit.newText\r\n    };\r\n}\r\nvar CompletionAdapter = /** @class */ (function () {\r\n    function CompletionAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    Object.defineProperty(CompletionAdapter.prototype, \"triggerCharacters\", {\r\n        get: function () {\r\n            return ['.', ':', '<', '\"', '=', '/'];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CompletionAdapter.prototype.provideCompletionItems = function (model, position, context, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) {\r\n            return worker.doComplete(resource.toString(), fromPosition(position));\r\n        }).then(function (info) {\r\n            if (!info) {\r\n                return;\r\n            }\r\n            var wordInfo = model.getWordUntilPosition(position);\r\n            var wordRange = new Range(position.lineNumber, wordInfo.startColumn, position.lineNumber, wordInfo.endColumn);\r\n            var items = info.items.map(function (entry) {\r\n                var item = {\r\n                    label: entry.label,\r\n                    insertText: entry.insertText || entry.label,\r\n                    sortText: entry.sortText,\r\n                    filterText: entry.filterText,\r\n                    documentation: entry.documentation,\r\n                    detail: entry.detail,\r\n                    range: wordRange,\r\n                    kind: toCompletionItemKind(entry.kind),\r\n                };\r\n                if (entry.textEdit) {\r\n                    item.range = toRange(entry.textEdit.range);\r\n                    item.insertText = entry.textEdit.newText;\r\n                }\r\n                if (entry.additionalTextEdits) {\r\n                    item.additionalTextEdits = entry.additionalTextEdits.map(toTextEdit);\r\n                }\r\n                if (entry.insertTextFormat === htmlService.InsertTextFormat.Snippet) {\r\n                    item.insertTextRules = monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet;\r\n                }\r\n                return item;\r\n            });\r\n            return {\r\n                isIncomplete: info.isIncomplete,\r\n                suggestions: items\r\n            };\r\n        });\r\n    };\r\n    return CompletionAdapter;\r\n}());\r\nexport { CompletionAdapter };\r\n// --- hover ------\r\nfunction isMarkupContent(thing) {\r\n    return thing && typeof thing === 'object' && typeof thing.kind === 'string';\r\n}\r\nfunction toMarkdownString(entry) {\r\n    if (typeof entry === 'string') {\r\n        return {\r\n            value: entry\r\n        };\r\n    }\r\n    if (isMarkupContent(entry)) {\r\n        if (entry.kind === 'plaintext') {\r\n            return {\r\n                value: entry.value.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&')\r\n            };\r\n        }\r\n        return {\r\n            value: entry.value\r\n        };\r\n    }\r\n    return { value: '```' + entry.language + '\\n' + entry.value + '\\n```\\n' };\r\n}\r\nfunction toMarkedStringArray(contents) {\r\n    if (!contents) {\r\n        return void 0;\r\n    }\r\n    if (Array.isArray(contents)) {\r\n        return contents.map(toMarkdownString);\r\n    }\r\n    return [toMarkdownString(contents)];\r\n}\r\nvar HoverAdapter = /** @class */ (function () {\r\n    function HoverAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    HoverAdapter.prototype.provideHover = function (model, position, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) {\r\n            return worker.doHover(resource.toString(), fromPosition(position));\r\n        }).then(function (info) {\r\n            if (!info) {\r\n                return;\r\n            }\r\n            return {\r\n                range: toRange(info.range),\r\n                contents: toMarkedStringArray(info.contents)\r\n            };\r\n        });\r\n    };\r\n    return HoverAdapter;\r\n}());\r\nexport { HoverAdapter };\r\n// --- document highlights ------\r\nfunction toHighlighKind(kind) {\r\n    var mKind = monaco.languages.DocumentHighlightKind;\r\n    switch (kind) {\r\n        case htmlService.DocumentHighlightKind.Read: return mKind.Read;\r\n        case htmlService.DocumentHighlightKind.Write: return mKind.Write;\r\n        case htmlService.DocumentHighlightKind.Text: return mKind.Text;\r\n    }\r\n    return mKind.Text;\r\n}\r\nvar DocumentHighlightAdapter = /** @class */ (function () {\r\n    function DocumentHighlightAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    DocumentHighlightAdapter.prototype.provideDocumentHighlights = function (model, position, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) { return worker.findDocumentHighlights(resource.toString(), fromPosition(position)); }).then(function (items) {\r\n            if (!items) {\r\n                return;\r\n            }\r\n            return items.map(function (item) { return ({\r\n                range: toRange(item.range),\r\n                kind: toHighlighKind(item.kind)\r\n            }); });\r\n        });\r\n    };\r\n    return DocumentHighlightAdapter;\r\n}());\r\nexport { DocumentHighlightAdapter };\r\n// --- document symbols ------\r\nfunction toSymbolKind(kind) {\r\n    var mKind = monaco.languages.SymbolKind;\r\n    switch (kind) {\r\n        case htmlService.SymbolKind.File: return mKind.Array;\r\n        case htmlService.SymbolKind.Module: return mKind.Module;\r\n        case htmlService.SymbolKind.Namespace: return mKind.Namespace;\r\n        case htmlService.SymbolKind.Package: return mKind.Package;\r\n        case htmlService.SymbolKind.Class: return mKind.Class;\r\n        case htmlService.SymbolKind.Method: return mKind.Method;\r\n        case htmlService.SymbolKind.Property: return mKind.Property;\r\n        case htmlService.SymbolKind.Field: return mKind.Field;\r\n        case htmlService.SymbolKind.Constructor: return mKind.Constructor;\r\n        case htmlService.SymbolKind.Enum: return mKind.Enum;\r\n        case htmlService.SymbolKind.Interface: return mKind.Interface;\r\n        case htmlService.SymbolKind.Function: return mKind.Function;\r\n        case htmlService.SymbolKind.Variable: return mKind.Variable;\r\n        case htmlService.SymbolKind.Constant: return mKind.Constant;\r\n        case htmlService.SymbolKind.String: return mKind.String;\r\n        case htmlService.SymbolKind.Number: return mKind.Number;\r\n        case htmlService.SymbolKind.Boolean: return mKind.Boolean;\r\n        case htmlService.SymbolKind.Array: return mKind.Array;\r\n    }\r\n    return mKind.Function;\r\n}\r\nvar DocumentSymbolAdapter = /** @class */ (function () {\r\n    function DocumentSymbolAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    DocumentSymbolAdapter.prototype.provideDocumentSymbols = function (model, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) { return worker.findDocumentSymbols(resource.toString()); }).then(function (items) {\r\n            if (!items) {\r\n                return;\r\n            }\r\n            return items.map(function (item) { return ({\r\n                name: item.name,\r\n                detail: '',\r\n                containerName: item.containerName,\r\n                kind: toSymbolKind(item.kind),\r\n                tags: [],\r\n                range: toRange(item.location.range),\r\n                selectionRange: toRange(item.location.range)\r\n            }); });\r\n        });\r\n    };\r\n    return DocumentSymbolAdapter;\r\n}());\r\nexport { DocumentSymbolAdapter };\r\nvar DocumentLinkAdapter = /** @class */ (function () {\r\n    function DocumentLinkAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    DocumentLinkAdapter.prototype.provideLinks = function (model, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) { return worker.findDocumentLinks(resource.toString()); }).then(function (items) {\r\n            if (!items) {\r\n                return;\r\n            }\r\n            return {\r\n                links: items.map(function (item) { return ({\r\n                    range: toRange(item.range),\r\n                    url: item.target\r\n                }); })\r\n            };\r\n        });\r\n    };\r\n    return DocumentLinkAdapter;\r\n}());\r\nexport { DocumentLinkAdapter };\r\nfunction fromFormattingOptions(options) {\r\n    return {\r\n        tabSize: options.tabSize,\r\n        insertSpaces: options.insertSpaces\r\n    };\r\n}\r\nvar DocumentFormattingEditProvider = /** @class */ (function () {\r\n    function DocumentFormattingEditProvider(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    DocumentFormattingEditProvider.prototype.provideDocumentFormattingEdits = function (model, options, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) {\r\n            return worker.format(resource.toString(), null, fromFormattingOptions(options)).then(function (edits) {\r\n                if (!edits || edits.length === 0) {\r\n                    return;\r\n                }\r\n                return edits.map(toTextEdit);\r\n            });\r\n        });\r\n    };\r\n    return DocumentFormattingEditProvider;\r\n}());\r\nexport { DocumentFormattingEditProvider };\r\nvar DocumentRangeFormattingEditProvider = /** @class */ (function () {\r\n    function DocumentRangeFormattingEditProvider(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    DocumentRangeFormattingEditProvider.prototype.provideDocumentRangeFormattingEdits = function (model, range, options, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) {\r\n            return worker.format(resource.toString(), fromRange(range), fromFormattingOptions(options)).then(function (edits) {\r\n                if (!edits || edits.length === 0) {\r\n                    return;\r\n                }\r\n                return edits.map(toTextEdit);\r\n            });\r\n        });\r\n    };\r\n    return DocumentRangeFormattingEditProvider;\r\n}());\r\nexport { DocumentRangeFormattingEditProvider };\r\nvar RenameAdapter = /** @class */ (function () {\r\n    function RenameAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    RenameAdapter.prototype.provideRenameEdits = function (model, position, newName, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) {\r\n            return worker.doRename(resource.toString(), fromPosition(position), newName);\r\n        }).then(function (edit) {\r\n            return toWorkspaceEdit(edit);\r\n        });\r\n    };\r\n    return RenameAdapter;\r\n}());\r\nexport { RenameAdapter };\r\nfunction toWorkspaceEdit(edit) {\r\n    if (!edit || !edit.changes) {\r\n        return void 0;\r\n    }\r\n    var resourceEdits = [];\r\n    for (var uri in edit.changes) {\r\n        var _uri = Uri.parse(uri);\r\n        for (var _i = 0, _a = edit.changes[uri]; _i < _a.length; _i++) {\r\n            var e = _a[_i];\r\n            resourceEdits.push({\r\n                resource: _uri,\r\n                edit: {\r\n                    range: toRange(e.range),\r\n                    text: e.newText\r\n                }\r\n            });\r\n        }\r\n    }\r\n    return {\r\n        edits: resourceEdits\r\n    };\r\n}\r\nvar FoldingRangeAdapter = /** @class */ (function () {\r\n    function FoldingRangeAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    FoldingRangeAdapter.prototype.provideFoldingRanges = function (model, context, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) { return worker.getFoldingRanges(resource.toString(), context); }).then(function (ranges) {\r\n            if (!ranges) {\r\n                return;\r\n            }\r\n            return ranges.map(function (range) {\r\n                var result = {\r\n                    start: range.startLine + 1,\r\n                    end: range.endLine + 1\r\n                };\r\n                if (typeof range.kind !== 'undefined') {\r\n                    result.kind = toFoldingRangeKind(range.kind);\r\n                }\r\n                return result;\r\n            });\r\n        });\r\n    };\r\n    return FoldingRangeAdapter;\r\n}());\r\nexport { FoldingRangeAdapter };\r\nfunction toFoldingRangeKind(kind) {\r\n    switch (kind) {\r\n        case htmlService.FoldingRangeKind.Comment: return monaco.languages.FoldingRangeKind.Comment;\r\n        case htmlService.FoldingRangeKind.Imports: return monaco.languages.FoldingRangeKind.Imports;\r\n        case htmlService.FoldingRangeKind.Region: return monaco.languages.FoldingRangeKind.Region;\r\n    }\r\n}\r\nvar SelectionRangeAdapter = /** @class */ (function () {\r\n    function SelectionRangeAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    SelectionRangeAdapter.prototype.provideSelectionRanges = function (model, positions, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) { return worker.getSelectionRanges(resource.toString(), positions.map(fromPosition)); }).then(function (selectionRanges) {\r\n            if (!selectionRanges) {\r\n                return;\r\n            }\r\n            return selectionRanges.map(function (selectionRange) {\r\n                var result = [];\r\n                while (selectionRange) {\r\n                    result.push({ range: toRange(selectionRange.range) });\r\n                    selectionRange = selectionRange.parent;\r\n                }\r\n                return result;\r\n            });\r\n        });\r\n    };\r\n    return SelectionRangeAdapter;\r\n}());\r\nexport { SelectionRangeAdapter };\r\n"],"sourceRoot":""}