{"version":3,"sources":["webpack:///./node_modules/monaco-editor/esm/vs/language/json/workerManager.js","webpack:///./node_modules/monaco-editor/esm/vs/language/json/languageFeatures.js","webpack:///./node_modules/monaco-editor/esm/vs/language/json/tokenization.js","webpack:///./node_modules/monaco-editor/esm/vs/language/json/jsonMode.js"],"names":["STOP_WHEN_IDLE_FOR","WorkerManager","defaults","_this","this","_defaults","_worker","_idleCheckInterval","setInterval","_checkIfIdle","_lastUsedTime","_configChangeListener","onDidChange","_stopWorker","prototype","dispose","_client","clearInterval","timePassedSinceLastUsed","Date","now","_getClient","monaco","editor","createWebWorker","moduleId","label","languageId","createData","languageSettings","diagnosticsOptions","enableSchemaRequest","getProxy","getLanguageServiceWorker","resources","_i","arguments","length","then","client","_","withSyncedResources","Range","Uri","DiagnosticsAdapter","_languageId","_disposables","_listener","Object","create","onModelAdd","model","handle","modeId","getModeId","uri","toString","onDidChangeContent","clearTimeout","setTimeout","_doValidate","onModelRemoved","setModelMarkers","uriStr","listener","push","onDidCreateModel","onWillDisposeModel","_resetSchema","onDidChangeModelLanguage","event","getModels","forEach","key","d","resource","worker","resetSchema","doValidation","diagnostics","markers","map","toDiagnostics","getModel","undefined","err","console","error","toSeverity","lsSeverity","Error","MarkerSeverity","Warning","Information","Info","Hint","diag","code","String","severity","startLineNumber","range","start","line","startColumn","character","endLineNumber","end","endColumn","message","source","fromPosition","position","column","lineNumber","fromRange","toRange","toCompletionItemKind","kind","mItemKind","languages","CompletionItemKind","Text","Method","Function","Constructor","Field","Variable","Class","Interface","Module","Property","Unit","Value","Enum","Keyword","Snippet","Color","File","Reference","toTextEdit","textEdit","text","newText","CompletionAdapter","defineProperty","get","enumerable","configurable","provideCompletionItems","context","token","doComplete","info","wordInfo","getWordUntilPosition","wordRange","items","entry","item","insertText","sortText","filterText","documentation","detail","additionalTextEdits","insertTextFormat","insertTextRules","CompletionItemInsertTextRule","InsertAsSnippet","isIncomplete","suggestions","isMarkupContent","thing","toMarkdownString","value","replace","language","toMarkedStringArray","contents","Array","isArray","HoverAdapter","provideHover","doHover","toSymbolKind","mKind","SymbolKind","Namespace","Package","Constant","Number","Boolean","DocumentSymbolAdapter","provideDocumentSymbols","findDocumentSymbols","name","containerName","location","selectionRange","tags","fromFormattingOptions","options","tabSize","insertSpaces","DocumentFormattingEditProvider","provideDocumentFormattingEdits","format","edits","DocumentRangeFormattingEditProvider","provideDocumentRangeFormattingEdits","DocumentColorAdapter","provideDocumentColors","findDocumentColors","infos","color","provideColorPresentations","getColorPresentations","presentations","presentation","FoldingRangeAdapter","provideFoldingRanges","getFoldingRanges","ranges","result","startLine","endLine","toFoldingRangeKind","Comment","FoldingRangeKind","Imports","Region","SelectionRangeAdapter","provideSelectionRanges","positions","getSelectionRanges","selectionRanges","parent","createTokenizationSupport","supportComments","getInitialState","JSONState","tokenize","state","offsetDelta","stopAtOffset","TOKEN_DELIM_OBJECT","TOKEN_DELIM_ARRAY","TOKEN_DELIM_COLON","TOKEN_DELIM_COMMA","TOKEN_VALUE_BOOLEAN","TOKEN_VALUE_NULL","TOKEN_VALUE_STRING","TOKEN_VALUE_NUMBER","TOKEN_PROPERTY_NAME","TOKEN_COMMENT_BLOCK","TOKEN_COMMENT_LINE","scanError","lastWasColon","_state","clone","equals","other","getStateData","setStateData","comments","numberOfInsertedCharacters","adjustOffset","ret","scanner","tokens","endState","offset","getPosition","type","scan","substr","getTokenError","startIndex","scopes","setupMode","disposables","providers","uris","apply","registerProviders","modeConfiguration","disposeAll","documentFormattingEdits","registerDocumentFormattingEditProvider","documentRangeFormattingEdits","registerDocumentRangeFormattingEditProvider","completionItems","registerCompletionItemProvider","hovers","registerHoverProvider","documentSymbols","registerDocumentSymbolProvider","setTokensProvider","colors","registerColorProvider","foldingRanges","registerFoldingRangeProvider","registerSelectionRangeProvider","setLanguageConfiguration","richEditConfiguration","newDefaults","asDisposable","pop","wordPattern","lineComment","blockComment","brackets","autoClosingPairs","open","close","notIn"],"mappings":"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","file":"js/chunk-2d0c1ed0.b8335590.js","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nvar STOP_WHEN_IDLE_FOR = 2 * 60 * 1000; // 2min\r\nvar WorkerManager = /** @class */ (function () {\r\n    function WorkerManager(defaults) {\r\n        var _this = this;\r\n        this._defaults = defaults;\r\n        this._worker = null;\r\n        this._idleCheckInterval = setInterval(function () { return _this._checkIfIdle(); }, 30 * 1000);\r\n        this._lastUsedTime = 0;\r\n        this._configChangeListener = this._defaults.onDidChange(function () { return _this._stopWorker(); });\r\n    }\r\n    WorkerManager.prototype._stopWorker = function () {\r\n        if (this._worker) {\r\n            this._worker.dispose();\r\n            this._worker = null;\r\n        }\r\n        this._client = null;\r\n    };\r\n    WorkerManager.prototype.dispose = function () {\r\n        clearInterval(this._idleCheckInterval);\r\n        this._configChangeListener.dispose();\r\n        this._stopWorker();\r\n    };\r\n    WorkerManager.prototype._checkIfIdle = function () {\r\n        if (!this._worker) {\r\n            return;\r\n        }\r\n        var timePassedSinceLastUsed = Date.now() - this._lastUsedTime;\r\n        if (timePassedSinceLastUsed > STOP_WHEN_IDLE_FOR) {\r\n            this._stopWorker();\r\n        }\r\n    };\r\n    WorkerManager.prototype._getClient = function () {\r\n        this._lastUsedTime = Date.now();\r\n        if (!this._client) {\r\n            this._worker = monaco.editor.createWebWorker({\r\n                // module that exports the create() method and returns a `JSONWorker` instance\r\n                moduleId: 'vs/language/json/jsonWorker',\r\n                label: this._defaults.languageId,\r\n                // passed in to the create() method\r\n                createData: {\r\n                    languageSettings: this._defaults.diagnosticsOptions,\r\n                    languageId: this._defaults.languageId,\r\n                    enableSchemaRequest: this._defaults.diagnosticsOptions.enableSchemaRequest\r\n                }\r\n            });\r\n            this._client = this._worker.getProxy();\r\n        }\r\n        return this._client;\r\n    };\r\n    WorkerManager.prototype.getLanguageServiceWorker = function () {\r\n        var _this = this;\r\n        var resources = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            resources[_i] = arguments[_i];\r\n        }\r\n        var _client;\r\n        return this._getClient().then(function (client) {\r\n            _client = client;\r\n        }).then(function (_) {\r\n            return _this._worker.withSyncedResources(resources);\r\n        }).then(function (_) { return _client; });\r\n    };\r\n    return WorkerManager;\r\n}());\r\nexport { WorkerManager };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport * as jsonService from './_deps/vscode-json-languageservice/jsonLanguageService.js';\r\nvar Uri = monaco.Uri;\r\nvar Range = monaco.Range;\r\n// --- diagnostics --- ---\r\nvar DiagnosticsAdapter = /** @class */ (function () {\r\n    function DiagnosticsAdapter(_languageId, _worker, defaults) {\r\n        var _this = this;\r\n        this._languageId = _languageId;\r\n        this._worker = _worker;\r\n        this._disposables = [];\r\n        this._listener = Object.create(null);\r\n        var onModelAdd = function (model) {\r\n            var modeId = model.getModeId();\r\n            if (modeId !== _this._languageId) {\r\n                return;\r\n            }\r\n            var handle;\r\n            _this._listener[model.uri.toString()] = model.onDidChangeContent(function () {\r\n                clearTimeout(handle);\r\n                handle = setTimeout(function () { return _this._doValidate(model.uri, modeId); }, 500);\r\n            });\r\n            _this._doValidate(model.uri, modeId);\r\n        };\r\n        var onModelRemoved = function (model) {\r\n            monaco.editor.setModelMarkers(model, _this._languageId, []);\r\n            var uriStr = model.uri.toString();\r\n            var listener = _this._listener[uriStr];\r\n            if (listener) {\r\n                listener.dispose();\r\n                delete _this._listener[uriStr];\r\n            }\r\n        };\r\n        this._disposables.push(monaco.editor.onDidCreateModel(onModelAdd));\r\n        this._disposables.push(monaco.editor.onWillDisposeModel(function (model) {\r\n            onModelRemoved(model);\r\n            _this._resetSchema(model.uri);\r\n        }));\r\n        this._disposables.push(monaco.editor.onDidChangeModelLanguage(function (event) {\r\n            onModelRemoved(event.model);\r\n            onModelAdd(event.model);\r\n            _this._resetSchema(event.model.uri);\r\n        }));\r\n        this._disposables.push(defaults.onDidChange(function (_) {\r\n            monaco.editor.getModels().forEach(function (model) {\r\n                if (model.getModeId() === _this._languageId) {\r\n                    onModelRemoved(model);\r\n                    onModelAdd(model);\r\n                }\r\n            });\r\n        }));\r\n        this._disposables.push({\r\n            dispose: function () {\r\n                monaco.editor.getModels().forEach(onModelRemoved);\r\n                for (var key in _this._listener) {\r\n                    _this._listener[key].dispose();\r\n                }\r\n            }\r\n        });\r\n        monaco.editor.getModels().forEach(onModelAdd);\r\n    }\r\n    DiagnosticsAdapter.prototype.dispose = function () {\r\n        this._disposables.forEach(function (d) { return d && d.dispose(); });\r\n        this._disposables = [];\r\n    };\r\n    DiagnosticsAdapter.prototype._resetSchema = function (resource) {\r\n        this._worker().then(function (worker) {\r\n            worker.resetSchema(resource.toString());\r\n        });\r\n    };\r\n    DiagnosticsAdapter.prototype._doValidate = function (resource, languageId) {\r\n        this._worker(resource).then(function (worker) {\r\n            return worker.doValidation(resource.toString()).then(function (diagnostics) {\r\n                var markers = diagnostics.map(function (d) { return toDiagnostics(resource, d); });\r\n                var model = monaco.editor.getModel(resource);\r\n                if (model && model.getModeId() === languageId) {\r\n                    monaco.editor.setModelMarkers(model, languageId, markers);\r\n                }\r\n            });\r\n        }).then(undefined, function (err) {\r\n            console.error(err);\r\n        });\r\n    };\r\n    return DiagnosticsAdapter;\r\n}());\r\nexport { DiagnosticsAdapter };\r\nfunction toSeverity(lsSeverity) {\r\n    switch (lsSeverity) {\r\n        case jsonService.DiagnosticSeverity.Error: return monaco.MarkerSeverity.Error;\r\n        case jsonService.DiagnosticSeverity.Warning: return monaco.MarkerSeverity.Warning;\r\n        case jsonService.DiagnosticSeverity.Information: return monaco.MarkerSeverity.Info;\r\n        case jsonService.DiagnosticSeverity.Hint: return monaco.MarkerSeverity.Hint;\r\n        default:\r\n            return monaco.MarkerSeverity.Info;\r\n    }\r\n}\r\nfunction toDiagnostics(resource, diag) {\r\n    var code = typeof diag.code === 'number' ? String(diag.code) : diag.code;\r\n    return {\r\n        severity: toSeverity(diag.severity),\r\n        startLineNumber: diag.range.start.line + 1,\r\n        startColumn: diag.range.start.character + 1,\r\n        endLineNumber: diag.range.end.line + 1,\r\n        endColumn: diag.range.end.character + 1,\r\n        message: diag.message,\r\n        code: code,\r\n        source: diag.source\r\n    };\r\n}\r\n// --- completion ------\r\nfunction fromPosition(position) {\r\n    if (!position) {\r\n        return void 0;\r\n    }\r\n    return { character: position.column - 1, line: position.lineNumber - 1 };\r\n}\r\nfunction fromRange(range) {\r\n    if (!range) {\r\n        return void 0;\r\n    }\r\n    return { start: { line: range.startLineNumber - 1, character: range.startColumn - 1 }, end: { line: range.endLineNumber - 1, character: range.endColumn - 1 } };\r\n}\r\nfunction toRange(range) {\r\n    if (!range) {\r\n        return void 0;\r\n    }\r\n    return new Range(range.start.line + 1, range.start.character + 1, range.end.line + 1, range.end.character + 1);\r\n}\r\nfunction toCompletionItemKind(kind) {\r\n    var mItemKind = monaco.languages.CompletionItemKind;\r\n    switch (kind) {\r\n        case jsonService.CompletionItemKind.Text: return mItemKind.Text;\r\n        case jsonService.CompletionItemKind.Method: return mItemKind.Method;\r\n        case jsonService.CompletionItemKind.Function: return mItemKind.Function;\r\n        case jsonService.CompletionItemKind.Constructor: return mItemKind.Constructor;\r\n        case jsonService.CompletionItemKind.Field: return mItemKind.Field;\r\n        case jsonService.CompletionItemKind.Variable: return mItemKind.Variable;\r\n        case jsonService.CompletionItemKind.Class: return mItemKind.Class;\r\n        case jsonService.CompletionItemKind.Interface: return mItemKind.Interface;\r\n        case jsonService.CompletionItemKind.Module: return mItemKind.Module;\r\n        case jsonService.CompletionItemKind.Property: return mItemKind.Property;\r\n        case jsonService.CompletionItemKind.Unit: return mItemKind.Unit;\r\n        case jsonService.CompletionItemKind.Value: return mItemKind.Value;\r\n        case jsonService.CompletionItemKind.Enum: return mItemKind.Enum;\r\n        case jsonService.CompletionItemKind.Keyword: return mItemKind.Keyword;\r\n        case jsonService.CompletionItemKind.Snippet: return mItemKind.Snippet;\r\n        case jsonService.CompletionItemKind.Color: return mItemKind.Color;\r\n        case jsonService.CompletionItemKind.File: return mItemKind.File;\r\n        case jsonService.CompletionItemKind.Reference: return mItemKind.Reference;\r\n    }\r\n    return mItemKind.Property;\r\n}\r\nfunction fromCompletionItemKind(kind) {\r\n    var mItemKind = monaco.languages.CompletionItemKind;\r\n    switch (kind) {\r\n        case mItemKind.Text: return jsonService.CompletionItemKind.Text;\r\n        case mItemKind.Method: return jsonService.CompletionItemKind.Method;\r\n        case mItemKind.Function: return jsonService.CompletionItemKind.Function;\r\n        case mItemKind.Constructor: return jsonService.CompletionItemKind.Constructor;\r\n        case mItemKind.Field: return jsonService.CompletionItemKind.Field;\r\n        case mItemKind.Variable: return jsonService.CompletionItemKind.Variable;\r\n        case mItemKind.Class: return jsonService.CompletionItemKind.Class;\r\n        case mItemKind.Interface: return jsonService.CompletionItemKind.Interface;\r\n        case mItemKind.Module: return jsonService.CompletionItemKind.Module;\r\n        case mItemKind.Property: return jsonService.CompletionItemKind.Property;\r\n        case mItemKind.Unit: return jsonService.CompletionItemKind.Unit;\r\n        case mItemKind.Value: return jsonService.CompletionItemKind.Value;\r\n        case mItemKind.Enum: return jsonService.CompletionItemKind.Enum;\r\n        case mItemKind.Keyword: return jsonService.CompletionItemKind.Keyword;\r\n        case mItemKind.Snippet: return jsonService.CompletionItemKind.Snippet;\r\n        case mItemKind.Color: return jsonService.CompletionItemKind.Color;\r\n        case mItemKind.File: return jsonService.CompletionItemKind.File;\r\n        case mItemKind.Reference: return jsonService.CompletionItemKind.Reference;\r\n    }\r\n    return jsonService.CompletionItemKind.Property;\r\n}\r\nfunction toTextEdit(textEdit) {\r\n    if (!textEdit) {\r\n        return void 0;\r\n    }\r\n    return {\r\n        range: toRange(textEdit.range),\r\n        text: textEdit.newText\r\n    };\r\n}\r\nvar CompletionAdapter = /** @class */ (function () {\r\n    function CompletionAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    Object.defineProperty(CompletionAdapter.prototype, \"triggerCharacters\", {\r\n        get: function () {\r\n            return [' ', ':'];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CompletionAdapter.prototype.provideCompletionItems = function (model, position, context, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) {\r\n            return worker.doComplete(resource.toString(), fromPosition(position));\r\n        }).then(function (info) {\r\n            if (!info) {\r\n                return;\r\n            }\r\n            var wordInfo = model.getWordUntilPosition(position);\r\n            var wordRange = new Range(position.lineNumber, wordInfo.startColumn, position.lineNumber, wordInfo.endColumn);\r\n            var items = info.items.map(function (entry) {\r\n                var item = {\r\n                    label: entry.label,\r\n                    insertText: entry.insertText || entry.label,\r\n                    sortText: entry.sortText,\r\n                    filterText: entry.filterText,\r\n                    documentation: entry.documentation,\r\n                    detail: entry.detail,\r\n                    range: wordRange,\r\n                    kind: toCompletionItemKind(entry.kind),\r\n                };\r\n                if (entry.textEdit) {\r\n                    item.range = toRange(entry.textEdit.range);\r\n                    item.insertText = entry.textEdit.newText;\r\n                }\r\n                if (entry.additionalTextEdits) {\r\n                    item.additionalTextEdits = entry.additionalTextEdits.map(toTextEdit);\r\n                }\r\n                if (entry.insertTextFormat === jsonService.InsertTextFormat.Snippet) {\r\n                    item.insertTextRules = monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet;\r\n                }\r\n                return item;\r\n            });\r\n            return {\r\n                isIncomplete: info.isIncomplete,\r\n                suggestions: items\r\n            };\r\n        });\r\n    };\r\n    return CompletionAdapter;\r\n}());\r\nexport { CompletionAdapter };\r\nfunction isMarkupContent(thing) {\r\n    return thing && typeof thing === 'object' && typeof thing.kind === 'string';\r\n}\r\nfunction toMarkdownString(entry) {\r\n    if (typeof entry === 'string') {\r\n        return {\r\n            value: entry\r\n        };\r\n    }\r\n    if (isMarkupContent(entry)) {\r\n        if (entry.kind === 'plaintext') {\r\n            return {\r\n                value: entry.value.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&')\r\n            };\r\n        }\r\n        return {\r\n            value: entry.value\r\n        };\r\n    }\r\n    return { value: '```' + entry.language + '\\n' + entry.value + '\\n```\\n' };\r\n}\r\nfunction toMarkedStringArray(contents) {\r\n    if (!contents) {\r\n        return void 0;\r\n    }\r\n    if (Array.isArray(contents)) {\r\n        return contents.map(toMarkdownString);\r\n    }\r\n    return [toMarkdownString(contents)];\r\n}\r\n// --- hover ------\r\nvar HoverAdapter = /** @class */ (function () {\r\n    function HoverAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    HoverAdapter.prototype.provideHover = function (model, position, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) {\r\n            return worker.doHover(resource.toString(), fromPosition(position));\r\n        }).then(function (info) {\r\n            if (!info) {\r\n                return;\r\n            }\r\n            return {\r\n                range: toRange(info.range),\r\n                contents: toMarkedStringArray(info.contents)\r\n            };\r\n        });\r\n    };\r\n    return HoverAdapter;\r\n}());\r\nexport { HoverAdapter };\r\n// --- definition ------\r\nfunction toLocation(location) {\r\n    return {\r\n        uri: Uri.parse(location.uri),\r\n        range: toRange(location.range)\r\n    };\r\n}\r\n// --- document symbols ------\r\nfunction toSymbolKind(kind) {\r\n    var mKind = monaco.languages.SymbolKind;\r\n    switch (kind) {\r\n        case jsonService.SymbolKind.File: return mKind.Array;\r\n        case jsonService.SymbolKind.Module: return mKind.Module;\r\n        case jsonService.SymbolKind.Namespace: return mKind.Namespace;\r\n        case jsonService.SymbolKind.Package: return mKind.Package;\r\n        case jsonService.SymbolKind.Class: return mKind.Class;\r\n        case jsonService.SymbolKind.Method: return mKind.Method;\r\n        case jsonService.SymbolKind.Property: return mKind.Property;\r\n        case jsonService.SymbolKind.Field: return mKind.Field;\r\n        case jsonService.SymbolKind.Constructor: return mKind.Constructor;\r\n        case jsonService.SymbolKind.Enum: return mKind.Enum;\r\n        case jsonService.SymbolKind.Interface: return mKind.Interface;\r\n        case jsonService.SymbolKind.Function: return mKind.Function;\r\n        case jsonService.SymbolKind.Variable: return mKind.Variable;\r\n        case jsonService.SymbolKind.Constant: return mKind.Constant;\r\n        case jsonService.SymbolKind.String: return mKind.String;\r\n        case jsonService.SymbolKind.Number: return mKind.Number;\r\n        case jsonService.SymbolKind.Boolean: return mKind.Boolean;\r\n        case jsonService.SymbolKind.Array: return mKind.Array;\r\n    }\r\n    return mKind.Function;\r\n}\r\nvar DocumentSymbolAdapter = /** @class */ (function () {\r\n    function DocumentSymbolAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    DocumentSymbolAdapter.prototype.provideDocumentSymbols = function (model, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) { return worker.findDocumentSymbols(resource.toString()); }).then(function (items) {\r\n            if (!items) {\r\n                return;\r\n            }\r\n            return items.map(function (item) { return ({\r\n                name: item.name,\r\n                detail: '',\r\n                containerName: item.containerName,\r\n                kind: toSymbolKind(item.kind),\r\n                range: toRange(item.location.range),\r\n                selectionRange: toRange(item.location.range),\r\n                tags: []\r\n            }); });\r\n        });\r\n    };\r\n    return DocumentSymbolAdapter;\r\n}());\r\nexport { DocumentSymbolAdapter };\r\nfunction fromFormattingOptions(options) {\r\n    return {\r\n        tabSize: options.tabSize,\r\n        insertSpaces: options.insertSpaces\r\n    };\r\n}\r\nvar DocumentFormattingEditProvider = /** @class */ (function () {\r\n    function DocumentFormattingEditProvider(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    DocumentFormattingEditProvider.prototype.provideDocumentFormattingEdits = function (model, options, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) {\r\n            return worker.format(resource.toString(), null, fromFormattingOptions(options)).then(function (edits) {\r\n                if (!edits || edits.length === 0) {\r\n                    return;\r\n                }\r\n                return edits.map(toTextEdit);\r\n            });\r\n        });\r\n    };\r\n    return DocumentFormattingEditProvider;\r\n}());\r\nexport { DocumentFormattingEditProvider };\r\nvar DocumentRangeFormattingEditProvider = /** @class */ (function () {\r\n    function DocumentRangeFormattingEditProvider(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    DocumentRangeFormattingEditProvider.prototype.provideDocumentRangeFormattingEdits = function (model, range, options, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) {\r\n            return worker.format(resource.toString(), fromRange(range), fromFormattingOptions(options)).then(function (edits) {\r\n                if (!edits || edits.length === 0) {\r\n                    return;\r\n                }\r\n                return edits.map(toTextEdit);\r\n            });\r\n        });\r\n    };\r\n    return DocumentRangeFormattingEditProvider;\r\n}());\r\nexport { DocumentRangeFormattingEditProvider };\r\nvar DocumentColorAdapter = /** @class */ (function () {\r\n    function DocumentColorAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    DocumentColorAdapter.prototype.provideDocumentColors = function (model, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) { return worker.findDocumentColors(resource.toString()); }).then(function (infos) {\r\n            if (!infos) {\r\n                return;\r\n            }\r\n            return infos.map(function (item) { return ({\r\n                color: item.color,\r\n                range: toRange(item.range)\r\n            }); });\r\n        });\r\n    };\r\n    DocumentColorAdapter.prototype.provideColorPresentations = function (model, info, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) { return worker.getColorPresentations(resource.toString(), info.color, fromRange(info.range)); }).then(function (presentations) {\r\n            if (!presentations) {\r\n                return;\r\n            }\r\n            return presentations.map(function (presentation) {\r\n                var item = {\r\n                    label: presentation.label,\r\n                };\r\n                if (presentation.textEdit) {\r\n                    item.textEdit = toTextEdit(presentation.textEdit);\r\n                }\r\n                if (presentation.additionalTextEdits) {\r\n                    item.additionalTextEdits = presentation.additionalTextEdits.map(toTextEdit);\r\n                }\r\n                return item;\r\n            });\r\n        });\r\n    };\r\n    return DocumentColorAdapter;\r\n}());\r\nexport { DocumentColorAdapter };\r\nvar FoldingRangeAdapter = /** @class */ (function () {\r\n    function FoldingRangeAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    FoldingRangeAdapter.prototype.provideFoldingRanges = function (model, context, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) { return worker.getFoldingRanges(resource.toString(), context); }).then(function (ranges) {\r\n            if (!ranges) {\r\n                return;\r\n            }\r\n            return ranges.map(function (range) {\r\n                var result = {\r\n                    start: range.startLine + 1,\r\n                    end: range.endLine + 1\r\n                };\r\n                if (typeof range.kind !== 'undefined') {\r\n                    result.kind = toFoldingRangeKind(range.kind);\r\n                }\r\n                return result;\r\n            });\r\n        });\r\n    };\r\n    return FoldingRangeAdapter;\r\n}());\r\nexport { FoldingRangeAdapter };\r\nfunction toFoldingRangeKind(kind) {\r\n    switch (kind) {\r\n        case jsonService.FoldingRangeKind.Comment: return monaco.languages.FoldingRangeKind.Comment;\r\n        case jsonService.FoldingRangeKind.Imports: return monaco.languages.FoldingRangeKind.Imports;\r\n        case jsonService.FoldingRangeKind.Region: return monaco.languages.FoldingRangeKind.Region;\r\n    }\r\n    return void 0;\r\n}\r\nvar SelectionRangeAdapter = /** @class */ (function () {\r\n    function SelectionRangeAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    SelectionRangeAdapter.prototype.provideSelectionRanges = function (model, positions, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) { return worker.getSelectionRanges(resource.toString(), positions.map(fromPosition)); }).then(function (selectionRanges) {\r\n            if (!selectionRanges) {\r\n                return;\r\n            }\r\n            return selectionRanges.map(function (selectionRange) {\r\n                var result = [];\r\n                while (selectionRange) {\r\n                    result.push({ range: toRange(selectionRange.range) });\r\n                    selectionRange = selectionRange.parent;\r\n                }\r\n                return result;\r\n            });\r\n        });\r\n    };\r\n    return SelectionRangeAdapter;\r\n}());\r\nexport { SelectionRangeAdapter };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport * as json from './_deps/jsonc-parser/main.js';\r\nexport function createTokenizationSupport(supportComments) {\r\n    return {\r\n        getInitialState: function () { return new JSONState(null, null, false); },\r\n        tokenize: function (line, state, offsetDelta, stopAtOffset) { return tokenize(supportComments, line, state, offsetDelta, stopAtOffset); }\r\n    };\r\n}\r\nexport var TOKEN_DELIM_OBJECT = 'delimiter.bracket.json';\r\nexport var TOKEN_DELIM_ARRAY = 'delimiter.array.json';\r\nexport var TOKEN_DELIM_COLON = 'delimiter.colon.json';\r\nexport var TOKEN_DELIM_COMMA = 'delimiter.comma.json';\r\nexport var TOKEN_VALUE_BOOLEAN = 'keyword.json';\r\nexport var TOKEN_VALUE_NULL = 'keyword.json';\r\nexport var TOKEN_VALUE_STRING = 'string.value.json';\r\nexport var TOKEN_VALUE_NUMBER = 'number.json';\r\nexport var TOKEN_PROPERTY_NAME = 'string.key.json';\r\nexport var TOKEN_COMMENT_BLOCK = 'comment.block.json';\r\nexport var TOKEN_COMMENT_LINE = 'comment.line.json';\r\nvar JSONState = /** @class */ (function () {\r\n    function JSONState(state, scanError, lastWasColon) {\r\n        this._state = state;\r\n        this.scanError = scanError;\r\n        this.lastWasColon = lastWasColon;\r\n    }\r\n    JSONState.prototype.clone = function () {\r\n        return new JSONState(this._state, this.scanError, this.lastWasColon);\r\n    };\r\n    JSONState.prototype.equals = function (other) {\r\n        if (other === this) {\r\n            return true;\r\n        }\r\n        if (!other || !(other instanceof JSONState)) {\r\n            return false;\r\n        }\r\n        return this.scanError === other.scanError &&\r\n            this.lastWasColon === other.lastWasColon;\r\n    };\r\n    JSONState.prototype.getStateData = function () {\r\n        return this._state;\r\n    };\r\n    JSONState.prototype.setStateData = function (state) {\r\n        this._state = state;\r\n    };\r\n    return JSONState;\r\n}());\r\nfunction tokenize(comments, line, state, offsetDelta, stopAtOffset) {\r\n    if (offsetDelta === void 0) { offsetDelta = 0; }\r\n    // handle multiline strings and block comments\r\n    var numberOfInsertedCharacters = 0, adjustOffset = false;\r\n    switch (state.scanError) {\r\n        case 2 /* UnexpectedEndOfString */:\r\n            line = '\"' + line;\r\n            numberOfInsertedCharacters = 1;\r\n            break;\r\n        case 1 /* UnexpectedEndOfComment */:\r\n            line = '/*' + line;\r\n            numberOfInsertedCharacters = 2;\r\n            break;\r\n    }\r\n    var scanner = json.createScanner(line), kind, ret, lastWasColon = state.lastWasColon;\r\n    ret = {\r\n        tokens: [],\r\n        endState: state.clone()\r\n    };\r\n    while (true) {\r\n        var offset = offsetDelta + scanner.getPosition(), type = '';\r\n        kind = scanner.scan();\r\n        if (kind === 17 /* EOF */) {\r\n            break;\r\n        }\r\n        // Check that the scanner has advanced\r\n        if (offset === offsetDelta + scanner.getPosition()) {\r\n            throw new Error('Scanner did not advance, next 3 characters are: ' + line.substr(scanner.getPosition(), 3));\r\n        }\r\n        // In case we inserted /* or \" character, we need to\r\n        // adjust the offset of all tokens (except the first)\r\n        if (adjustOffset) {\r\n            offset -= numberOfInsertedCharacters;\r\n        }\r\n        adjustOffset = numberOfInsertedCharacters > 0;\r\n        // brackets and type\r\n        switch (kind) {\r\n            case 1 /* OpenBraceToken */:\r\n                type = TOKEN_DELIM_OBJECT;\r\n                lastWasColon = false;\r\n                break;\r\n            case 2 /* CloseBraceToken */:\r\n                type = TOKEN_DELIM_OBJECT;\r\n                lastWasColon = false;\r\n                break;\r\n            case 3 /* OpenBracketToken */:\r\n                type = TOKEN_DELIM_ARRAY;\r\n                lastWasColon = false;\r\n                break;\r\n            case 4 /* CloseBracketToken */:\r\n                type = TOKEN_DELIM_ARRAY;\r\n                lastWasColon = false;\r\n                break;\r\n            case 6 /* ColonToken */:\r\n                type = TOKEN_DELIM_COLON;\r\n                lastWasColon = true;\r\n                break;\r\n            case 5 /* CommaToken */:\r\n                type = TOKEN_DELIM_COMMA;\r\n                lastWasColon = false;\r\n                break;\r\n            case 8 /* TrueKeyword */:\r\n            case 9 /* FalseKeyword */:\r\n                type = TOKEN_VALUE_BOOLEAN;\r\n                lastWasColon = false;\r\n                break;\r\n            case 7 /* NullKeyword */:\r\n                type = TOKEN_VALUE_NULL;\r\n                lastWasColon = false;\r\n                break;\r\n            case 10 /* StringLiteral */:\r\n                type = lastWasColon ? TOKEN_VALUE_STRING : TOKEN_PROPERTY_NAME;\r\n                lastWasColon = false;\r\n                break;\r\n            case 11 /* NumericLiteral */:\r\n                type = TOKEN_VALUE_NUMBER;\r\n                lastWasColon = false;\r\n                break;\r\n        }\r\n        // comments, iff enabled\r\n        if (comments) {\r\n            switch (kind) {\r\n                case 12 /* LineCommentTrivia */:\r\n                    type = TOKEN_COMMENT_LINE;\r\n                    break;\r\n                case 13 /* BlockCommentTrivia */:\r\n                    type = TOKEN_COMMENT_BLOCK;\r\n                    break;\r\n            }\r\n        }\r\n        ret.endState = new JSONState(state.getStateData(), scanner.getTokenError(), lastWasColon);\r\n        ret.tokens.push({\r\n            startIndex: offset,\r\n            scopes: type\r\n        });\r\n    }\r\n    return ret;\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { WorkerManager } from './workerManager.js';\r\nimport * as languageFeatures from './languageFeatures.js';\r\nimport { createTokenizationSupport } from './tokenization.js';\r\nexport function setupMode(defaults) {\r\n    var disposables = [];\r\n    var providers = [];\r\n    var client = new WorkerManager(defaults);\r\n    disposables.push(client);\r\n    var worker = function () {\r\n        var uris = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            uris[_i] = arguments[_i];\r\n        }\r\n        return client.getLanguageServiceWorker.apply(client, uris);\r\n    };\r\n    function registerProviders() {\r\n        var languageId = defaults.languageId, modeConfiguration = defaults.modeConfiguration;\r\n        disposeAll(providers);\r\n        if (modeConfiguration.documentFormattingEdits) {\r\n            providers.push(monaco.languages.registerDocumentFormattingEditProvider(languageId, new languageFeatures.DocumentFormattingEditProvider(worker)));\r\n        }\r\n        if (modeConfiguration.documentRangeFormattingEdits) {\r\n            providers.push(monaco.languages.registerDocumentRangeFormattingEditProvider(languageId, new languageFeatures.DocumentRangeFormattingEditProvider(worker)));\r\n        }\r\n        if (modeConfiguration.completionItems) {\r\n            providers.push(monaco.languages.registerCompletionItemProvider(languageId, new languageFeatures.CompletionAdapter(worker)));\r\n        }\r\n        if (modeConfiguration.hovers) {\r\n            providers.push(monaco.languages.registerHoverProvider(languageId, new languageFeatures.HoverAdapter(worker)));\r\n        }\r\n        if (modeConfiguration.documentSymbols) {\r\n            providers.push(monaco.languages.registerDocumentSymbolProvider(languageId, new languageFeatures.DocumentSymbolAdapter(worker)));\r\n        }\r\n        if (modeConfiguration.tokens) {\r\n            providers.push(monaco.languages.setTokensProvider(languageId, createTokenizationSupport(true)));\r\n        }\r\n        if (modeConfiguration.colors) {\r\n            providers.push(monaco.languages.registerColorProvider(languageId, new languageFeatures.DocumentColorAdapter(worker)));\r\n        }\r\n        if (modeConfiguration.foldingRanges) {\r\n            providers.push(monaco.languages.registerFoldingRangeProvider(languageId, new languageFeatures.FoldingRangeAdapter(worker)));\r\n        }\r\n        if (modeConfiguration.diagnostics) {\r\n            providers.push(new languageFeatures.DiagnosticsAdapter(languageId, worker, defaults));\r\n        }\r\n        if (modeConfiguration.selectionRanges) {\r\n            providers.push(monaco.languages.registerSelectionRangeProvider(languageId, new languageFeatures.SelectionRangeAdapter(worker)));\r\n        }\r\n    }\r\n    registerProviders();\r\n    disposables.push(monaco.languages.setLanguageConfiguration(defaults.languageId, richEditConfiguration));\r\n    var modeConfiguration = defaults.modeConfiguration;\r\n    defaults.onDidChange(function (newDefaults) {\r\n        if (newDefaults.modeConfiguration !== modeConfiguration) {\r\n            modeConfiguration = newDefaults.modeConfiguration;\r\n            registerProviders();\r\n        }\r\n    });\r\n    disposables.push(asDisposable(providers));\r\n    return asDisposable(disposables);\r\n}\r\nfunction asDisposable(disposables) {\r\n    return { dispose: function () { return disposeAll(disposables); } };\r\n}\r\nfunction disposeAll(disposables) {\r\n    while (disposables.length) {\r\n        disposables.pop().dispose();\r\n    }\r\n}\r\nvar richEditConfiguration = {\r\n    wordPattern: /(-?\\d*\\.\\d\\w*)|([^\\[\\{\\]\\}\\:\\\"\\,\\s]+)/g,\r\n    comments: {\r\n        lineComment: '//',\r\n        blockComment: ['/*', '*/']\r\n    },\r\n    brackets: [\r\n        ['{', '}'],\r\n        ['[', ']']\r\n    ],\r\n    autoClosingPairs: [\r\n        { open: '{', close: '}', notIn: ['string'] },\r\n        { open: '[', close: ']', notIn: ['string'] },\r\n        { open: '\"', close: '\"', notIn: ['string'] }\r\n    ]\r\n};\r\n"],"sourceRoot":""}