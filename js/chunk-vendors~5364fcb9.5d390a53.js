(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~5364fcb9"],{"0632":function(e,t,n){},"43ad":function(e,t,n){"use strict";n.r(t),n.d(t,"rename",(function(){return z})),n.d(t,"RenameAction",(function(){return U}));var i=n("dff7"),o=n("fdcc"),r=n("4fc3"),a=n("b539"),s=n("b2cc"),c=n("c101"),u=(n("0632"),n("a666")),d=n("7061"),l=n("6a89"),p=n("303e"),h=n("b7d0"),f=n("6dec"),v=n("11f7"),b=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},_=function(e,t){return function(n,i){t(n,i,e)}},m=new r["d"]("renameInputVisible",!1),g=function(){function e(e,t,n,i,o){var r=this;this._editor=e,this._acceptKeybindings=t,this._themeService=n,this._keybindingService=i,this._disposables=new u["b"],this.allowEditorOverflow=!0,this._visibleContextKey=m.bindTo(o),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration((function(e){e.hasChanged(34)&&r._updateFont()}))),this._disposables.add(n.onThemeChange(this._updateStyles,this))}return e.prototype.dispose=function(){this._disposables.dispose(),this._editor.removeContentWidget(this)},e.prototype.getId=function(){return"__renameInputWidget"},e.prototype.getDomNode=function(){var e=this;if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",Object(i["a"])("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);var t=function(){var t,n,o=e._acceptKeybindings,r=o[0],a=o[1];e._keybindingService.lookupKeybinding(r),e._label.innerText=Object(i["a"])("label","{0} to Rename, {1} to Preview",null===(t=e._keybindingService.lookupKeybinding(r))||void 0===t?void 0:t.getLabel(),null===(n=e._keybindingService.lookupKeybinding(a))||void 0===n?void 0:n.getLabel())};t(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(t)),this._updateFont(),this._updateStyles(this._themeService.getTheme())}return this._domNode},e.prototype._updateStyles=function(e){var t,n,i,o;if(this._input&&this._domNode){var r=e.getColor(p["hc"]);this._domNode.style.backgroundColor=String(null!==(t=e.getColor(p["Q"]))&&void 0!==t?t:""),this._domNode.style.boxShadow=r?" 0 2px 8px "+r:"",this._domNode.style.color=String(null!==(n=e.getColor(p["bb"]))&&void 0!==n?n:""),this._input.style.backgroundColor=String(null!==(i=e.getColor(p["Z"]))&&void 0!==i?i:"");var a=e.getColor(p["ab"]);this._input.style.borderWidth=a?"1px":"0px",this._input.style.borderStyle=a?"solid":"none",this._input.style.borderColor=null!==(o=null===a||void 0===a?void 0:a.toString())&&void 0!==o?o:"none"}},e.prototype._updateFont=function(){if(this._input&&this._label){var e=this._editor.getOption(34);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize=e.fontSize+"px",this._label.style.fontSize=.8*e.fontSize+"px"}},e.prototype.getPosition=function(){return this._visible?{position:this._position,preference:[2,1]}:null},e.prototype.acceptInput=function(e){this._currentAcceptInput&&this._currentAcceptInput(e)},e.prototype.cancelInput=function(e){this._currentCancelInput&&this._currentCancelInput(e)},e.prototype.getInput=function(e,t,n,i,o){var r=this;Object(v["Y"])(this._domNode,"preview",o),this._position=new d["a"](e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",n.toString()),this._input.setAttribute("selectionEnd",i.toString()),this._input.size=Math.max(1.1*(e.endColumn-e.startColumn),20);var a=new u["b"];return new Promise((function(n){r._currentCancelInput=function(e){return r._currentAcceptInput=void 0,r._currentCancelInput=void 0,n(e),!0},r._currentAcceptInput=function(e){0!==r._input.value.trim().length&&r._input.value!==t?(r._currentAcceptInput=void 0,r._currentCancelInput=void 0,n({newName:r._input.value,wantsPreview:o&&e})):r.cancelInput(!0)};var i=function(){var t=r._editor.getPosition();t&&l["a"].containsPosition(e,t)||r.cancelInput(!0)};a.add(r._editor.onDidChangeCursorSelection(i)),a.add(r._editor.onDidBlurEditorWidget((function(){return r.cancelInput(!1)}))),r._show()})).finally((function(){a.dispose(),r._hide()}))},e.prototype._show=function(){var e=this;this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout((function(){e._input.focus(),e._input.setSelectionRange(parseInt(e._input.getAttribute("selectionStart")),parseInt(e._input.getAttribute("selectionEnd")))}),100)},e.prototype._hide=function(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)},e=b([_(2,h["c"]),_(3,f["a"]),_(4,r["c"])],e),e}(),y=n("b707"),w=n("3813"),S=n("351f"),C=n("bc04"),R=n("b0cd"),I=n("c7f5"),k=n("6d8e"),x=n("5717"),P=n("2504"),O=n("5fe7"),j=n("ef8e"),E=n("d3d7"),N=n("0a0f"),A=n("89cd"),W=n("0910"),D=n("7b4a"),F=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),L=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},M=function(e,t){return function(n,i){t(n,i,e)}},T=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function a(e){try{c(i.next(e))}catch(t){r(t)}}function s(e){try{c(i["throw"](e))}catch(t){r(t)}}function c(e){e.done?n(e.value):o(e.value).then(a,s)}c((i=i.apply(e,t||[])).next())}))},K=function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return c([e,t])}}function c(r){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},V=function(){function e(e,t){this.model=e,this.position=t,this._providers=y["v"].ordered(e)}return e.prototype.hasProvider=function(){return this._providers.length>0},e.prototype.resolveRenameLocation=function(e){return T(this,void 0,void 0,(function(){var t,n,i,o;return K(this,(function(r){switch(r.label){case 0:return t=this._providers[0],t?t.resolveRenameLocation?(i=j["n"],[4,t.resolveRenameLocation(this.model,this.position,e)]):[3,2]:[2,void 0];case 1:n=i.apply(void 0,[r.sent()]),r.label=2;case 2:return!n&&(o=this.model.getWordAtPosition(this.position),o)?[2,{range:new l["a"](this.position.lineNumber,o.startColumn,this.position.lineNumber,o.endColumn),text:o.word}]:[2,n]}}))}))},e.prototype.provideRenameEdits=function(e,t,n,o){return T(this,void 0,void 0,(function(){var r,a;return K(this,(function(s){switch(s.label){case 0:return r=this._providers[t],r?[4,r.provideRenameEdits(this.model,this.position,e,o)]:[2,{edits:[],rejectReason:n.join("\n")}];case 1:return a=s.sent(),a?a.rejectReason?[2,this.provideRenameEdits(e,t+1,n.concat(a.rejectReason),o)]:[2,a]:[2,this.provideRenameEdits(e,t+1,n.concat(i["a"]("no result","No result.")),o)]}}))}))},e}();function z(e,t,n){return T(this,void 0,void 0,(function(){return K(this,(function(i){return[2,new V(e,t).provideRenameEdits(n,0,[],P["a"].None)]}))}))}var J=function(){function e(e,t,n,i,o,r,a){var s=this;this.editor=e,this._instaService=t,this._notificationService=n,this._bulkEditService=i,this._progressService=o,this._logService=r,this._configService=a,this._dispoableStore=new u["b"],this._cts=new P["b"],this._renameInputField=this._dispoableStore.add(new O["b"]((function(){return s._dispoableStore.add(s._instaService.createInstance(g,s.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))})))}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){this._dispoableStore.dispose(),this._cts.dispose(!0)},e.prototype.run=function(){return T(this,void 0,void 0,(function(){var e,t,n,o,r,a,s,c,u,d,p,h=this;return K(this,(function(f){switch(f.label){case 0:if(this._cts.dispose(!0),!this.editor.hasModel())return[2,void 0];if(e=this.editor.getPosition(),t=new V(this.editor.getModel(),e),!t.hasProvider())return[2,void 0];this._cts=new C["b"](this.editor,5),f.label=1;case 1:return f.trys.push([1,3,,4]),o=t.resolveRenameLocation(this._cts.token),this._progressService.showWhile(o,250),[4,o];case 2:return n=f.sent(),[3,4];case 3:return r=f.sent(),S["a"].get(this.editor).showMessage(r||i["a"]("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),e),[2,void 0];case 4:return n?n.rejectReason?(S["a"].get(this.editor).showMessage(n.rejectReason,e),[2,void 0]):this._cts.token.isCancellationRequested?[2,void 0]:(a=this.editor.getSelection(),s=0,c=n.text.length,l["a"].isEmpty(a)||l["a"].spansMultipleLines(a)||!l["a"].containsRange(n.range,a)||(s=Math.max(0,a.startColumn-n.range.startColumn),c=Math.min(n.range.endColumn,a.endColumn)-n.range.startColumn),u=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),[4,this._renameInputField.getValue().getInput(n.range,n.text,s,c,u)]):[2,void 0];case 5:return d=f.sent(),"boolean"===typeof d?(d&&this.editor.focus(),[2,void 0]):(this.editor.focus(),p=Object(O["j"])(t.provideRenameEdits(d.newName,0,[],this._cts.token),this._cts.token).then((function(e){return T(h,void 0,void 0,(function(){var t=this;return K(this,(function(o){return e&&this.editor.hasModel()?e.rejectReason?(this._notificationService.info(e.rejectReason),[2]):(this._bulkEditService.apply(e,{editor:this.editor,showPreview:d.wantsPreview,label:i["a"]("label","Renaming '{0}'",null===n||void 0===n?void 0:n.text)}).then((function(e){e.ariaSummary&&Object(w["a"])(i["a"]("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",n.text,d.newName,e.ariaSummary))})).catch((function(e){t._notificationService.error(i["a"]("rename.failedApply","Rename failed to apply edits")),t._logService.error(e)})),[2]):[2]}))}))}),(function(e){h._notificationService.error(i["a"]("rename.failed","Rename failed to compute edits")),h._logService.error(e)})),this._progressService.showWhile(p,250),[2,p])}}))}))},e.prototype.acceptRenameInput=function(e){this._renameInputField.getValue().acceptInput(e)},e.prototype.cancelRenameInput=function(){this._renameInputField.getValue().cancelInput(!0)},e.ID="editor.contrib.renameController",e=L([M(1,N["a"]),M(2,R["a"]),M(3,I["a"]),M(4,a["a"]),M(5,E["a"]),M(6,D["a"])],e),e}(),U=function(e){function t(){return e.call(this,{id:"editor.action.rename",label:i["a"]("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:r["a"].and(c["a"].writable,c["a"].hasRenameProvider),kbOpts:{kbExpr:c["a"].editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})||this}return F(t,e),t.prototype.runCommand=function(t,n){var i=this,r=t.get(x["a"]),a=Array.isArray(n)&&n||[void 0,void 0],s=a[0],c=a[1];return k["a"].isUri(s)&&d["a"].isIPosition(c)?r.openCodeEditor({resource:s},r.getActiveCodeEditor()).then((function(e){e&&(e.setPosition(c),e.invokeWithinContext((function(t){return i.reportTelemetry(t,e),i.run(t,e)})))}),o["e"]):e.prototype.runCommand.call(this,t,n)},t.prototype.run=function(e,t){var n=J.get(t);return n?n.run():Promise.resolve()},t}(s["b"]);Object(s["h"])(J.ID,J),Object(s["f"])(U);var q=s["c"].bindToContribution(J.get);Object(s["g"])(new q({id:"acceptRenameInput",precondition:m,handler:function(e){return e.acceptRenameInput(!1)},kbOpts:{weight:199,kbExpr:c["a"].focus,primary:3}})),Object(s["g"])(new q({id:"acceptRenameInputWithPreview",precondition:r["a"].and(m,r["a"].has("config.editor.rename.enablePreview")),handler:function(e){return e.acceptRenameInput(!0)},kbOpts:{weight:199,kbExpr:c["a"].focus,primary:1027}})),Object(s["g"])(new q({id:"cancelRenameInput",precondition:m,handler:function(e){return e.cancelRenameInput()},kbOpts:{weight:199,kbExpr:c["a"].focus,primary:9,secondary:[1033]}})),Object(s["e"])("_executeDocumentRenameProvider",(function(e,t,n){var i=n.newName;if("string"!==typeof i)throw Object(o["b"])("newName");return z(e,t,i)})),A["a"].as(W["a"].Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:i["a"]("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}})}}]);
//# sourceMappingURL=chunk-vendors~5364fcb9.5d390a53.js.map