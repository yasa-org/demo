{"version":3,"sources":["webpack:///./node_modules/monaco-editor/esm/vs/base/common/uint.js","webpack:///./node_modules/monaco-editor/esm/vs/base/common/worker/simpleWorker.js","webpack:///./node_modules/monaco-editor/esm/vs/base/common/uri.js"],"names":["toUint8","v","toUint32","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","INITIALIZE","webWorkerWarningLogged","logOnceWebWorkerWarning","err","console","warn","message","SimpleWorkerProtocol","handler","_workerId","_handler","_lastSentReq","_pendingReplies","setWorkerId","workerId","sendMessage","method","args","_this","req","String","Promise","resolve","reject","_send","vsWorker","handleMessage","_handleMessage","msg","seq","replyMessage","reply","$isError","Error","name","stack","res","requestMessage","result","then","r","undefined","e","detail","transfer","m","i","length","ArrayBuffer","push","SimpleWorkerClient","_super","workerFactory","moduleId","host","call","lazyProxyReject","_worker","_register","_protocol","postMessage","apply","getId","loaderConfiguration","self","require","getConfig","requirejs","s","contexts","_","config","hostMethods","_onModuleLoaded","JSON","parse","stringify","proxyMethodRequest","_request","_lazyProxy","availableMethods","_onError","getProxyObject","error","info","SimpleWorkerServer","requestHandlerFactory","_requestHandlerFactory","_requestHandler","onmessage","initialize","loaderConfig","hostProxy","baseUrl","paths","vs","catchError","module","_a","_schemePattern","_singleSlashStart","_doubleSlashStart","_validateUri","ret","_strict","scheme","authority","path","query","fragment","test","_schemeFix","_referenceResolution","_slash","_empty","_regexp","URI","schemeOrData","isUri","thing","fsPath","with","toString","defineProperty","get","_makeFsPath","enumerable","configurable","change","_URI","value","match","exec","percentDecode","file","replace","idx","indexOf","substring","from","components","skipEncoding","_asFormatted","toJSON","revive","data","_formatted","external","_fsPath","_sep","_pathSepMarker","arguments","$mid","encodeTable","encodeURIComponentFast","uriComponent","allowSlash","nativeEncodePos","pos","code","charCodeAt","encodeURIComponent","charAt","substr","escaped","encodeURIComponentMinimal","uri","toLowerCase","encoder","userinfo","fromCharCode","decodeURIComponentGraceful","str","decodeURIComponent","_rEncodedAsHex"],"mappings":"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","file":"js/chunk-vendors~6230ea2a.403e2324.js","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nexport function toUint8(v) {\r\n    if (v < 0) {\r\n        return 0;\r\n    }\r\n    if (v > 255 /* MAX_UINT_8 */) {\r\n        return 255 /* MAX_UINT_8 */;\r\n    }\r\n    return v | 0;\r\n}\r\nexport function toUint32(v) {\r\n    if (v < 0) {\r\n        return 0;\r\n    }\r\n    if (v > 4294967295 /* MAX_UINT_32 */) {\r\n        return 4294967295 /* MAX_UINT_32 */;\r\n    }\r\n    return v | 0;\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { transformErrorForSerialization } from '../errors.js';\r\nimport { Disposable } from '../lifecycle.js';\r\nimport { isWeb } from '../platform.js';\r\nimport * as types from '../types.js';\r\nvar INITIALIZE = '$initialize';\r\nvar webWorkerWarningLogged = false;\r\nexport function logOnceWebWorkerWarning(err) {\r\n    if (!isWeb) {\r\n        // running tests\r\n        return;\r\n    }\r\n    if (!webWorkerWarningLogged) {\r\n        webWorkerWarningLogged = true;\r\n        console.warn('Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/Microsoft/monaco-editor#faq');\r\n    }\r\n    console.warn(err.message);\r\n}\r\nvar SimpleWorkerProtocol = /** @class */ (function () {\r\n    function SimpleWorkerProtocol(handler) {\r\n        this._workerId = -1;\r\n        this._handler = handler;\r\n        this._lastSentReq = 0;\r\n        this._pendingReplies = Object.create(null);\r\n    }\r\n    SimpleWorkerProtocol.prototype.setWorkerId = function (workerId) {\r\n        this._workerId = workerId;\r\n    };\r\n    SimpleWorkerProtocol.prototype.sendMessage = function (method, args) {\r\n        var _this = this;\r\n        var req = String(++this._lastSentReq);\r\n        return new Promise(function (resolve, reject) {\r\n            _this._pendingReplies[req] = {\r\n                resolve: resolve,\r\n                reject: reject\r\n            };\r\n            _this._send({\r\n                vsWorker: _this._workerId,\r\n                req: req,\r\n                method: method,\r\n                args: args\r\n            });\r\n        });\r\n    };\r\n    SimpleWorkerProtocol.prototype.handleMessage = function (message) {\r\n        if (!message || !message.vsWorker) {\r\n            return;\r\n        }\r\n        if (this._workerId !== -1 && message.vsWorker !== this._workerId) {\r\n            return;\r\n        }\r\n        this._handleMessage(message);\r\n    };\r\n    SimpleWorkerProtocol.prototype._handleMessage = function (msg) {\r\n        var _this = this;\r\n        if (msg.seq) {\r\n            var replyMessage = msg;\r\n            if (!this._pendingReplies[replyMessage.seq]) {\r\n                console.warn('Got reply to unknown seq');\r\n                return;\r\n            }\r\n            var reply = this._pendingReplies[replyMessage.seq];\r\n            delete this._pendingReplies[replyMessage.seq];\r\n            if (replyMessage.err) {\r\n                var err = replyMessage.err;\r\n                if (replyMessage.err.$isError) {\r\n                    err = new Error();\r\n                    err.name = replyMessage.err.name;\r\n                    err.message = replyMessage.err.message;\r\n                    err.stack = replyMessage.err.stack;\r\n                }\r\n                reply.reject(err);\r\n                return;\r\n            }\r\n            reply.resolve(replyMessage.res);\r\n            return;\r\n        }\r\n        var requestMessage = msg;\r\n        var req = requestMessage.req;\r\n        var result = this._handler.handleMessage(requestMessage.method, requestMessage.args);\r\n        result.then(function (r) {\r\n            _this._send({\r\n                vsWorker: _this._workerId,\r\n                seq: req,\r\n                res: r,\r\n                err: undefined\r\n            });\r\n        }, function (e) {\r\n            if (e.detail instanceof Error) {\r\n                // Loading errors have a detail property that points to the actual error\r\n                e.detail = transformErrorForSerialization(e.detail);\r\n            }\r\n            _this._send({\r\n                vsWorker: _this._workerId,\r\n                seq: req,\r\n                res: undefined,\r\n                err: transformErrorForSerialization(e)\r\n            });\r\n        });\r\n    };\r\n    SimpleWorkerProtocol.prototype._send = function (msg) {\r\n        var transfer = [];\r\n        if (msg.req) {\r\n            var m = msg;\r\n            for (var i = 0; i < m.args.length; i++) {\r\n                if (m.args[i] instanceof ArrayBuffer) {\r\n                    transfer.push(m.args[i]);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            var m = msg;\r\n            if (m.res instanceof ArrayBuffer) {\r\n                transfer.push(m.res);\r\n            }\r\n        }\r\n        this._handler.sendMessage(msg, transfer);\r\n    };\r\n    return SimpleWorkerProtocol;\r\n}());\r\n/**\r\n * Main thread side\r\n */\r\nvar SimpleWorkerClient = /** @class */ (function (_super) {\r\n    __extends(SimpleWorkerClient, _super);\r\n    function SimpleWorkerClient(workerFactory, moduleId, host) {\r\n        var _this = _super.call(this) || this;\r\n        var lazyProxyReject = null;\r\n        _this._worker = _this._register(workerFactory.create('vs/base/common/worker/simpleWorker', function (msg) {\r\n            _this._protocol.handleMessage(msg);\r\n        }, function (err) {\r\n            // in Firefox, web workers fail lazily :(\r\n            // we will reject the proxy\r\n            if (lazyProxyReject) {\r\n                lazyProxyReject(err);\r\n            }\r\n        }));\r\n        _this._protocol = new SimpleWorkerProtocol({\r\n            sendMessage: function (msg, transfer) {\r\n                _this._worker.postMessage(msg, transfer);\r\n            },\r\n            handleMessage: function (method, args) {\r\n                if (typeof host[method] !== 'function') {\r\n                    return Promise.reject(new Error('Missing method ' + method + ' on main thread host.'));\r\n                }\r\n                try {\r\n                    return Promise.resolve(host[method].apply(host, args));\r\n                }\r\n                catch (e) {\r\n                    return Promise.reject(e);\r\n                }\r\n            }\r\n        });\r\n        _this._protocol.setWorkerId(_this._worker.getId());\r\n        // Gather loader configuration\r\n        var loaderConfiguration = null;\r\n        if (typeof self.require !== 'undefined' && typeof self.require.getConfig === 'function') {\r\n            // Get the configuration from the Monaco AMD Loader\r\n            loaderConfiguration = self.require.getConfig();\r\n        }\r\n        else if (typeof self.requirejs !== 'undefined') {\r\n            // Get the configuration from requirejs\r\n            loaderConfiguration = self.requirejs.s.contexts._.config;\r\n        }\r\n        var hostMethods = types.getAllMethodNames(host);\r\n        // Send initialize message\r\n        _this._onModuleLoaded = _this._protocol.sendMessage(INITIALIZE, [\r\n            _this._worker.getId(),\r\n            JSON.parse(JSON.stringify(loaderConfiguration)),\r\n            moduleId,\r\n            hostMethods,\r\n        ]);\r\n        // Create proxy to loaded code\r\n        var proxyMethodRequest = function (method, args) {\r\n            return _this._request(method, args);\r\n        };\r\n        _this._lazyProxy = new Promise(function (resolve, reject) {\r\n            lazyProxyReject = reject;\r\n            _this._onModuleLoaded.then(function (availableMethods) {\r\n                resolve(types.createProxyObject(availableMethods, proxyMethodRequest));\r\n            }, function (e) {\r\n                reject(e);\r\n                _this._onError('Worker failed to load ' + moduleId, e);\r\n            });\r\n        });\r\n        return _this;\r\n    }\r\n    SimpleWorkerClient.prototype.getProxyObject = function () {\r\n        return this._lazyProxy;\r\n    };\r\n    SimpleWorkerClient.prototype._request = function (method, args) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this._onModuleLoaded.then(function () {\r\n                _this._protocol.sendMessage(method, args).then(resolve, reject);\r\n            }, reject);\r\n        });\r\n    };\r\n    SimpleWorkerClient.prototype._onError = function (message, error) {\r\n        console.error(message);\r\n        console.info(error);\r\n    };\r\n    return SimpleWorkerClient;\r\n}(Disposable));\r\nexport { SimpleWorkerClient };\r\n/**\r\n * Worker side\r\n */\r\nvar SimpleWorkerServer = /** @class */ (function () {\r\n    function SimpleWorkerServer(postMessage, requestHandlerFactory) {\r\n        var _this = this;\r\n        this._requestHandlerFactory = requestHandlerFactory;\r\n        this._requestHandler = null;\r\n        this._protocol = new SimpleWorkerProtocol({\r\n            sendMessage: function (msg, transfer) {\r\n                postMessage(msg, transfer);\r\n            },\r\n            handleMessage: function (method, args) { return _this._handleMessage(method, args); }\r\n        });\r\n    }\r\n    SimpleWorkerServer.prototype.onmessage = function (msg) {\r\n        this._protocol.handleMessage(msg);\r\n    };\r\n    SimpleWorkerServer.prototype._handleMessage = function (method, args) {\r\n        if (method === INITIALIZE) {\r\n            return this.initialize(args[0], args[1], args[2], args[3]);\r\n        }\r\n        if (!this._requestHandler || typeof this._requestHandler[method] !== 'function') {\r\n            return Promise.reject(new Error('Missing requestHandler or method: ' + method));\r\n        }\r\n        try {\r\n            return Promise.resolve(this._requestHandler[method].apply(this._requestHandler, args));\r\n        }\r\n        catch (e) {\r\n            return Promise.reject(e);\r\n        }\r\n    };\r\n    SimpleWorkerServer.prototype.initialize = function (workerId, loaderConfig, moduleId, hostMethods) {\r\n        var _this = this;\r\n        this._protocol.setWorkerId(workerId);\r\n        var proxyMethodRequest = function (method, args) {\r\n            return _this._protocol.sendMessage(method, args);\r\n        };\r\n        var hostProxy = types.createProxyObject(hostMethods, proxyMethodRequest);\r\n        if (this._requestHandlerFactory) {\r\n            // static request handler\r\n            this._requestHandler = this._requestHandlerFactory(hostProxy);\r\n            return Promise.resolve(types.getAllMethodNames(this._requestHandler));\r\n        }\r\n        if (loaderConfig) {\r\n            // Remove 'baseUrl', handling it is beyond scope for now\r\n            if (typeof loaderConfig.baseUrl !== 'undefined') {\r\n                delete loaderConfig['baseUrl'];\r\n            }\r\n            if (typeof loaderConfig.paths !== 'undefined') {\r\n                if (typeof loaderConfig.paths.vs !== 'undefined') {\r\n                    delete loaderConfig.paths['vs'];\r\n                }\r\n            }\r\n            // Since this is in a web worker, enable catching errors\r\n            loaderConfig.catchError = true;\r\n            self.require.config(loaderConfig);\r\n        }\r\n        return new Promise(function (resolve, reject) {\r\n            // Use the global require to be sure to get the global config\r\n            self.require([moduleId], function (module) {\r\n                _this._requestHandler = module.create(hostProxy);\r\n                if (!_this._requestHandler) {\r\n                    reject(new Error(\"No RequestHandler!\"));\r\n                    return;\r\n                }\r\n                resolve(types.getAllMethodNames(_this._requestHandler));\r\n            }, reject);\r\n        });\r\n    };\r\n    return SimpleWorkerServer;\r\n}());\r\nexport { SimpleWorkerServer };\r\n/**\r\n * Called on the worker side\r\n */\r\nexport function create(postMessage) {\r\n    return new SimpleWorkerServer(postMessage, null);\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar _a;\r\nimport { isWindows } from './platform.js';\r\nvar _schemePattern = /^\\w[\\w\\d+.-]*$/;\r\nvar _singleSlashStart = /^\\//;\r\nvar _doubleSlashStart = /^\\/\\//;\r\nfunction _validateUri(ret, _strict) {\r\n    // scheme, must be set\r\n    if (!ret.scheme && _strict) {\r\n        throw new Error(\"[UriError]: Scheme is missing: {scheme: \\\"\\\", authority: \\\"\" + ret.authority + \"\\\", path: \\\"\" + ret.path + \"\\\", query: \\\"\" + ret.query + \"\\\", fragment: \\\"\" + ret.fragment + \"\\\"}\");\r\n    }\r\n    // scheme, https://tools.ietf.org/html/rfc3986#section-3.1\r\n    // ALPHA *( ALPHA / DIGIT / \"+\" / \"-\" / \".\" )\r\n    if (ret.scheme && !_schemePattern.test(ret.scheme)) {\r\n        throw new Error('[UriError]: Scheme contains illegal characters.');\r\n    }\r\n    // path, http://tools.ietf.org/html/rfc3986#section-3.3\r\n    // If a URI contains an authority component, then the path component\r\n    // must either be empty or begin with a slash (\"/\") character.  If a URI\r\n    // does not contain an authority component, then the path cannot begin\r\n    // with two slash characters (\"//\").\r\n    if (ret.path) {\r\n        if (ret.authority) {\r\n            if (!_singleSlashStart.test(ret.path)) {\r\n                throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash (\"/\") character');\r\n            }\r\n        }\r\n        else {\r\n            if (_doubleSlashStart.test(ret.path)) {\r\n                throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters (\"//\")');\r\n            }\r\n        }\r\n    }\r\n}\r\n// for a while we allowed uris *without* schemes and this is the migration\r\n// for them, e.g. an uri without scheme and without strict-mode warns and falls\r\n// back to the file-scheme. that should cause the least carnage and still be a\r\n// clear warning\r\nfunction _schemeFix(scheme, _strict) {\r\n    if (!scheme && !_strict) {\r\n        return 'file';\r\n    }\r\n    return scheme;\r\n}\r\n// implements a bit of https://tools.ietf.org/html/rfc3986#section-5\r\nfunction _referenceResolution(scheme, path) {\r\n    // the slash-character is our 'default base' as we don't\r\n    // support constructing URIs relative to other URIs. This\r\n    // also means that we alter and potentially break paths.\r\n    // see https://tools.ietf.org/html/rfc3986#section-5.1.4\r\n    switch (scheme) {\r\n        case 'https':\r\n        case 'http':\r\n        case 'file':\r\n            if (!path) {\r\n                path = _slash;\r\n            }\r\n            else if (path[0] !== _slash) {\r\n                path = _slash + path;\r\n            }\r\n            break;\r\n    }\r\n    return path;\r\n}\r\nvar _empty = '';\r\nvar _slash = '/';\r\nvar _regexp = /^(([^:/?#]+?):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/;\r\n/**\r\n * Uniform Resource Identifier (URI) http://tools.ietf.org/html/rfc3986.\r\n * This class is a simple parser which creates the basic component parts\r\n * (http://tools.ietf.org/html/rfc3986#section-3) with minimal validation\r\n * and encoding.\r\n *\r\n *       foo://example.com:8042/over/there?name=ferret#nose\r\n *       \\_/   \\______________/\\_________/ \\_________/ \\__/\r\n *        |           |            |            |        |\r\n *     scheme     authority       path        query   fragment\r\n *        |   _____________________|__\r\n *       / \\ /                        \\\r\n *       urn:example:animal:ferret:nose\r\n */\r\nvar URI = /** @class */ (function () {\r\n    /**\r\n     * @internal\r\n     */\r\n    function URI(schemeOrData, authority, path, query, fragment, _strict) {\r\n        if (_strict === void 0) { _strict = false; }\r\n        if (typeof schemeOrData === 'object') {\r\n            this.scheme = schemeOrData.scheme || _empty;\r\n            this.authority = schemeOrData.authority || _empty;\r\n            this.path = schemeOrData.path || _empty;\r\n            this.query = schemeOrData.query || _empty;\r\n            this.fragment = schemeOrData.fragment || _empty;\r\n            // no validation because it's this URI\r\n            // that creates uri components.\r\n            // _validateUri(this);\r\n        }\r\n        else {\r\n            this.scheme = _schemeFix(schemeOrData, _strict);\r\n            this.authority = authority || _empty;\r\n            this.path = _referenceResolution(this.scheme, path || _empty);\r\n            this.query = query || _empty;\r\n            this.fragment = fragment || _empty;\r\n            _validateUri(this, _strict);\r\n        }\r\n    }\r\n    URI.isUri = function (thing) {\r\n        if (thing instanceof URI) {\r\n            return true;\r\n        }\r\n        if (!thing) {\r\n            return false;\r\n        }\r\n        return typeof thing.authority === 'string'\r\n            && typeof thing.fragment === 'string'\r\n            && typeof thing.path === 'string'\r\n            && typeof thing.query === 'string'\r\n            && typeof thing.scheme === 'string'\r\n            && typeof thing.fsPath === 'function'\r\n            && typeof thing.with === 'function'\r\n            && typeof thing.toString === 'function';\r\n    };\r\n    Object.defineProperty(URI.prototype, \"fsPath\", {\r\n        // ---- filesystem path -----------------------\r\n        /**\r\n         * Returns a string representing the corresponding file system path of this URI.\r\n         * Will handle UNC paths, normalizes windows drive letters to lower-case, and uses the\r\n         * platform specific path separator.\r\n         *\r\n         * * Will *not* validate the path for invalid characters and semantics.\r\n         * * Will *not* look at the scheme of this URI.\r\n         * * The result shall *not* be used for display purposes but for accessing a file on disk.\r\n         *\r\n         *\r\n         * The *difference* to `URI#path` is the use of the platform specific separator and the handling\r\n         * of UNC paths. See the below sample of a file-uri with an authority (UNC path).\r\n         *\r\n         * ```ts\r\n            const u = URI.parse('file://server/c$/folder/file.txt')\r\n            u.authority === 'server'\r\n            u.path === '/shares/c$/file.txt'\r\n            u.fsPath === '\\\\server\\c$\\folder\\file.txt'\r\n        ```\r\n         *\r\n         * Using `URI#path` to read a file (using fs-apis) would not be enough because parts of the path,\r\n         * namely the server name, would be missing. Therefore `URI#fsPath` exists - it's sugar to ease working\r\n         * with URIs that represent files on disk (`file` scheme).\r\n         */\r\n        get: function () {\r\n            // if (this.scheme !== 'file') {\r\n            // \tconsole.warn(`[UriError] calling fsPath with scheme ${this.scheme}`);\r\n            // }\r\n            return _makeFsPath(this);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    // ---- modify to new -------------------------\r\n    URI.prototype.with = function (change) {\r\n        if (!change) {\r\n            return this;\r\n        }\r\n        var scheme = change.scheme, authority = change.authority, path = change.path, query = change.query, fragment = change.fragment;\r\n        if (scheme === undefined) {\r\n            scheme = this.scheme;\r\n        }\r\n        else if (scheme === null) {\r\n            scheme = _empty;\r\n        }\r\n        if (authority === undefined) {\r\n            authority = this.authority;\r\n        }\r\n        else if (authority === null) {\r\n            authority = _empty;\r\n        }\r\n        if (path === undefined) {\r\n            path = this.path;\r\n        }\r\n        else if (path === null) {\r\n            path = _empty;\r\n        }\r\n        if (query === undefined) {\r\n            query = this.query;\r\n        }\r\n        else if (query === null) {\r\n            query = _empty;\r\n        }\r\n        if (fragment === undefined) {\r\n            fragment = this.fragment;\r\n        }\r\n        else if (fragment === null) {\r\n            fragment = _empty;\r\n        }\r\n        if (scheme === this.scheme\r\n            && authority === this.authority\r\n            && path === this.path\r\n            && query === this.query\r\n            && fragment === this.fragment) {\r\n            return this;\r\n        }\r\n        return new _URI(scheme, authority, path, query, fragment);\r\n    };\r\n    // ---- parse & validate ------------------------\r\n    /**\r\n     * Creates a new URI from a string, e.g. `http://www.msft.com/some/path`,\r\n     * `file:///usr/home`, or `scheme:with/path`.\r\n     *\r\n     * @param value A string which represents an URI (see `URI#toString`).\r\n     */\r\n    URI.parse = function (value, _strict) {\r\n        if (_strict === void 0) { _strict = false; }\r\n        var match = _regexp.exec(value);\r\n        if (!match) {\r\n            return new _URI(_empty, _empty, _empty, _empty, _empty);\r\n        }\r\n        return new _URI(match[2] || _empty, percentDecode(match[4] || _empty), percentDecode(match[5] || _empty), percentDecode(match[7] || _empty), percentDecode(match[9] || _empty), _strict);\r\n    };\r\n    /**\r\n     * Creates a new URI from a file system path, e.g. `c:\\my\\files`,\r\n     * `/usr/home`, or `\\\\server\\share\\some\\path`.\r\n     *\r\n     * The *difference* between `URI#parse` and `URI#file` is that the latter treats the argument\r\n     * as path, not as stringified-uri. E.g. `URI.file(path)` is **not the same as**\r\n     * `URI.parse('file://' + path)` because the path might contain characters that are\r\n     * interpreted (# and ?). See the following sample:\r\n     * ```ts\r\n    const good = URI.file('/coding/c#/project1');\r\n    good.scheme === 'file';\r\n    good.path === '/coding/c#/project1';\r\n    good.fragment === '';\r\n    const bad = URI.parse('file://' + '/coding/c#/project1');\r\n    bad.scheme === 'file';\r\n    bad.path === '/coding/c'; // path is now broken\r\n    bad.fragment === '/project1';\r\n    ```\r\n     *\r\n     * @param path A file system path (see `URI#fsPath`)\r\n     */\r\n    URI.file = function (path) {\r\n        var authority = _empty;\r\n        // normalize to fwd-slashes on windows,\r\n        // on other systems bwd-slashes are valid\r\n        // filename character, eg /f\\oo/ba\\r.txt\r\n        if (isWindows) {\r\n            path = path.replace(/\\\\/g, _slash);\r\n        }\r\n        // check for authority as used in UNC shares\r\n        // or use the path as given\r\n        if (path[0] === _slash && path[1] === _slash) {\r\n            var idx = path.indexOf(_slash, 2);\r\n            if (idx === -1) {\r\n                authority = path.substring(2);\r\n                path = _slash;\r\n            }\r\n            else {\r\n                authority = path.substring(2, idx);\r\n                path = path.substring(idx) || _slash;\r\n            }\r\n        }\r\n        return new _URI('file', authority, path, _empty, _empty);\r\n    };\r\n    URI.from = function (components) {\r\n        return new _URI(components.scheme, components.authority, components.path, components.query, components.fragment);\r\n    };\r\n    // ---- printing/externalize ---------------------------\r\n    /**\r\n     * Creates a string representation for this URI. It's guaranteed that calling\r\n     * `URI.parse` with the result of this function creates an URI which is equal\r\n     * to this URI.\r\n     *\r\n     * * The result shall *not* be used for display purposes but for externalization or transport.\r\n     * * The result will be encoded using the percentage encoding and encoding happens mostly\r\n     * ignore the scheme-specific encoding rules.\r\n     *\r\n     * @param skipEncoding Do not encode the result, default is `false`\r\n     */\r\n    URI.prototype.toString = function (skipEncoding) {\r\n        if (skipEncoding === void 0) { skipEncoding = false; }\r\n        return _asFormatted(this, skipEncoding);\r\n    };\r\n    URI.prototype.toJSON = function () {\r\n        return this;\r\n    };\r\n    URI.revive = function (data) {\r\n        if (!data) {\r\n            return data;\r\n        }\r\n        else if (data instanceof URI) {\r\n            return data;\r\n        }\r\n        else {\r\n            var result = new _URI(data);\r\n            result._formatted = data.external;\r\n            result._fsPath = data._sep === _pathSepMarker ? data.fsPath : null;\r\n            return result;\r\n        }\r\n    };\r\n    return URI;\r\n}());\r\nexport { URI };\r\nvar _pathSepMarker = isWindows ? 1 : undefined;\r\n// eslint-disable-next-line @typescript-eslint/class-name-casing\r\nvar _URI = /** @class */ (function (_super) {\r\n    __extends(_URI, _super);\r\n    function _URI() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this._formatted = null;\r\n        _this._fsPath = null;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(_URI.prototype, \"fsPath\", {\r\n        get: function () {\r\n            if (!this._fsPath) {\r\n                this._fsPath = _makeFsPath(this);\r\n            }\r\n            return this._fsPath;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    _URI.prototype.toString = function (skipEncoding) {\r\n        if (skipEncoding === void 0) { skipEncoding = false; }\r\n        if (!skipEncoding) {\r\n            if (!this._formatted) {\r\n                this._formatted = _asFormatted(this, false);\r\n            }\r\n            return this._formatted;\r\n        }\r\n        else {\r\n            // we don't cache that\r\n            return _asFormatted(this, true);\r\n        }\r\n    };\r\n    _URI.prototype.toJSON = function () {\r\n        var res = {\r\n            $mid: 1\r\n        };\r\n        // cached state\r\n        if (this._fsPath) {\r\n            res.fsPath = this._fsPath;\r\n            res._sep = _pathSepMarker;\r\n        }\r\n        if (this._formatted) {\r\n            res.external = this._formatted;\r\n        }\r\n        // uri components\r\n        if (this.path) {\r\n            res.path = this.path;\r\n        }\r\n        if (this.scheme) {\r\n            res.scheme = this.scheme;\r\n        }\r\n        if (this.authority) {\r\n            res.authority = this.authority;\r\n        }\r\n        if (this.query) {\r\n            res.query = this.query;\r\n        }\r\n        if (this.fragment) {\r\n            res.fragment = this.fragment;\r\n        }\r\n        return res;\r\n    };\r\n    return _URI;\r\n}(URI));\r\n// reserved characters: https://tools.ietf.org/html/rfc3986#section-2.2\r\nvar encodeTable = (_a = {},\r\n    _a[58 /* Colon */] = '%3A',\r\n    _a[47 /* Slash */] = '%2F',\r\n    _a[63 /* QuestionMark */] = '%3F',\r\n    _a[35 /* Hash */] = '%23',\r\n    _a[91 /* OpenSquareBracket */] = '%5B',\r\n    _a[93 /* CloseSquareBracket */] = '%5D',\r\n    _a[64 /* AtSign */] = '%40',\r\n    _a[33 /* ExclamationMark */] = '%21',\r\n    _a[36 /* DollarSign */] = '%24',\r\n    _a[38 /* Ampersand */] = '%26',\r\n    _a[39 /* SingleQuote */] = '%27',\r\n    _a[40 /* OpenParen */] = '%28',\r\n    _a[41 /* CloseParen */] = '%29',\r\n    _a[42 /* Asterisk */] = '%2A',\r\n    _a[43 /* Plus */] = '%2B',\r\n    _a[44 /* Comma */] = '%2C',\r\n    _a[59 /* Semicolon */] = '%3B',\r\n    _a[61 /* Equals */] = '%3D',\r\n    _a[32 /* Space */] = '%20',\r\n    _a);\r\nfunction encodeURIComponentFast(uriComponent, allowSlash) {\r\n    var res = undefined;\r\n    var nativeEncodePos = -1;\r\n    for (var pos = 0; pos < uriComponent.length; pos++) {\r\n        var code = uriComponent.charCodeAt(pos);\r\n        // unreserved characters: https://tools.ietf.org/html/rfc3986#section-2.3\r\n        if ((code >= 97 /* a */ && code <= 122 /* z */)\r\n            || (code >= 65 /* A */ && code <= 90 /* Z */)\r\n            || (code >= 48 /* Digit0 */ && code <= 57 /* Digit9 */)\r\n            || code === 45 /* Dash */\r\n            || code === 46 /* Period */\r\n            || code === 95 /* Underline */\r\n            || code === 126 /* Tilde */\r\n            || (allowSlash && code === 47 /* Slash */)) {\r\n            // check if we are delaying native encode\r\n            if (nativeEncodePos !== -1) {\r\n                res += encodeURIComponent(uriComponent.substring(nativeEncodePos, pos));\r\n                nativeEncodePos = -1;\r\n            }\r\n            // check if we write into a new string (by default we try to return the param)\r\n            if (res !== undefined) {\r\n                res += uriComponent.charAt(pos);\r\n            }\r\n        }\r\n        else {\r\n            // encoding needed, we need to allocate a new string\r\n            if (res === undefined) {\r\n                res = uriComponent.substr(0, pos);\r\n            }\r\n            // check with default table first\r\n            var escaped = encodeTable[code];\r\n            if (escaped !== undefined) {\r\n                // check if we are delaying native encode\r\n                if (nativeEncodePos !== -1) {\r\n                    res += encodeURIComponent(uriComponent.substring(nativeEncodePos, pos));\r\n                    nativeEncodePos = -1;\r\n                }\r\n                // append escaped variant to result\r\n                res += escaped;\r\n            }\r\n            else if (nativeEncodePos === -1) {\r\n                // use native encode only when needed\r\n                nativeEncodePos = pos;\r\n            }\r\n        }\r\n    }\r\n    if (nativeEncodePos !== -1) {\r\n        res += encodeURIComponent(uriComponent.substring(nativeEncodePos));\r\n    }\r\n    return res !== undefined ? res : uriComponent;\r\n}\r\nfunction encodeURIComponentMinimal(path) {\r\n    var res = undefined;\r\n    for (var pos = 0; pos < path.length; pos++) {\r\n        var code = path.charCodeAt(pos);\r\n        if (code === 35 /* Hash */ || code === 63 /* QuestionMark */) {\r\n            if (res === undefined) {\r\n                res = path.substr(0, pos);\r\n            }\r\n            res += encodeTable[code];\r\n        }\r\n        else {\r\n            if (res !== undefined) {\r\n                res += path[pos];\r\n            }\r\n        }\r\n    }\r\n    return res !== undefined ? res : path;\r\n}\r\n/**\r\n * Compute `fsPath` for the given uri\r\n */\r\nfunction _makeFsPath(uri) {\r\n    var value;\r\n    if (uri.authority && uri.path.length > 1 && uri.scheme === 'file') {\r\n        // unc path: file://shares/c$/far/boo\r\n        value = \"//\" + uri.authority + uri.path;\r\n    }\r\n    else if (uri.path.charCodeAt(0) === 47 /* Slash */\r\n        && (uri.path.charCodeAt(1) >= 65 /* A */ && uri.path.charCodeAt(1) <= 90 /* Z */ || uri.path.charCodeAt(1) >= 97 /* a */ && uri.path.charCodeAt(1) <= 122 /* z */)\r\n        && uri.path.charCodeAt(2) === 58 /* Colon */) {\r\n        // windows drive letter: file:///c:/far/boo\r\n        value = uri.path[1].toLowerCase() + uri.path.substr(2);\r\n    }\r\n    else {\r\n        // other path\r\n        value = uri.path;\r\n    }\r\n    if (isWindows) {\r\n        value = value.replace(/\\//g, '\\\\');\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * Create the external version of a uri\r\n */\r\nfunction _asFormatted(uri, skipEncoding) {\r\n    var encoder = !skipEncoding\r\n        ? encodeURIComponentFast\r\n        : encodeURIComponentMinimal;\r\n    var res = '';\r\n    var scheme = uri.scheme, authority = uri.authority, path = uri.path, query = uri.query, fragment = uri.fragment;\r\n    if (scheme) {\r\n        res += scheme;\r\n        res += ':';\r\n    }\r\n    if (authority || scheme === 'file') {\r\n        res += _slash;\r\n        res += _slash;\r\n    }\r\n    if (authority) {\r\n        var idx = authority.indexOf('@');\r\n        if (idx !== -1) {\r\n            // <user>@<auth>\r\n            var userinfo = authority.substr(0, idx);\r\n            authority = authority.substr(idx + 1);\r\n            idx = userinfo.indexOf(':');\r\n            if (idx === -1) {\r\n                res += encoder(userinfo, false);\r\n            }\r\n            else {\r\n                // <user>:<pass>@<auth>\r\n                res += encoder(userinfo.substr(0, idx), false);\r\n                res += ':';\r\n                res += encoder(userinfo.substr(idx + 1), false);\r\n            }\r\n            res += '@';\r\n        }\r\n        authority = authority.toLowerCase();\r\n        idx = authority.indexOf(':');\r\n        if (idx === -1) {\r\n            res += encoder(authority, false);\r\n        }\r\n        else {\r\n            // <auth>:<port>\r\n            res += encoder(authority.substr(0, idx), false);\r\n            res += authority.substr(idx);\r\n        }\r\n    }\r\n    if (path) {\r\n        // lower-case windows drive letters in /C:/fff or C:/fff\r\n        if (path.length >= 3 && path.charCodeAt(0) === 47 /* Slash */ && path.charCodeAt(2) === 58 /* Colon */) {\r\n            var code = path.charCodeAt(1);\r\n            if (code >= 65 /* A */ && code <= 90 /* Z */) {\r\n                path = \"/\" + String.fromCharCode(code + 32) + \":\" + path.substr(3); // \"/c:\".length === 3\r\n            }\r\n        }\r\n        else if (path.length >= 2 && path.charCodeAt(1) === 58 /* Colon */) {\r\n            var code = path.charCodeAt(0);\r\n            if (code >= 65 /* A */ && code <= 90 /* Z */) {\r\n                path = String.fromCharCode(code + 32) + \":\" + path.substr(2); // \"/c:\".length === 3\r\n            }\r\n        }\r\n        // encode the rest of the path\r\n        res += encoder(path, true);\r\n    }\r\n    if (query) {\r\n        res += '?';\r\n        res += encoder(query, false);\r\n    }\r\n    if (fragment) {\r\n        res += '#';\r\n        res += !skipEncoding ? encodeURIComponentFast(fragment, false) : fragment;\r\n    }\r\n    return res;\r\n}\r\n// --- decode\r\nfunction decodeURIComponentGraceful(str) {\r\n    try {\r\n        return decodeURIComponent(str);\r\n    }\r\n    catch (_a) {\r\n        if (str.length > 3) {\r\n            return str.substr(0, 3) + decodeURIComponentGraceful(str.substr(3));\r\n        }\r\n        else {\r\n            return str;\r\n        }\r\n    }\r\n}\r\nvar _rEncodedAsHex = /(%[0-9A-Za-z][0-9A-Za-z])+/g;\r\nfunction percentDecode(str) {\r\n    if (!str.match(_rEncodedAsHex)) {\r\n        return str;\r\n    }\r\n    return str.replace(_rEncodedAsHex, function (match) { return decodeURIComponentGraceful(match); });\r\n}\r\n"],"sourceRoot":""}